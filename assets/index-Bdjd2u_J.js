(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var DM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var r0={exports:{}},fd={};var _b;function N6(){if(_b)return fd;_b=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return fd.Fragment=e,fd.jsx=t,fd.jsxs=t,fd}var wb;function T6(){return wb||(wb=1,r0.exports=N6()),r0.exports}var N=T6(),i0={exports:{}},ln={};var xb;function C6(){if(xb)return ln;xb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function w(X){return X===null||typeof X!="object"?null:(X=A&&X[A]||X["@@iterator"],typeof X=="function"?X:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function j(X,P,z){this.props=X,this.context=P,this.refs=U,this.updater=z||M}j.prototype.isReactComponent={},j.prototype.setState=function(X,P){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,P,"setState")},j.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function te(){}te.prototype=j.prototype;function ce(X,P,z){this.props=X,this.context=P,this.refs=U,this.updater=z||M}var H=ce.prototype=new te;H.constructor=ce,V(H,j.prototype),H.isPureReactComponent=!0;var se=Array.isArray;function fe(){}var q={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function D(X,P,z){var K=z.ref;return{$$typeof:n,type:X,key:P,ref:K!==void 0?K:null,props:z}}function Y(X,P){return D(X.type,P,X.props)}function T(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function R(X){var P={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(z){return P[z]})}var L=/\/+/g;function he(X,P){return typeof X=="object"&&X!==null&&X.key!=null?R(""+X.key):P.toString(36)}function Ae(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(fe,fe):(X.status="pending",X.then(function(P){X.status==="pending"&&(X.status="fulfilled",X.value=P)},function(P){X.status==="pending"&&(X.status="rejected",X.reason=P)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ee(X,P,z,K,re){var de=typeof X;(de==="undefined"||de==="boolean")&&(X=null);var ye=!1;if(X===null)ye=!0;else switch(de){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(X.$$typeof){case n:case e:ye=!0;break;case g:return ye=X._init,ee(ye(X._payload),P,z,K,re)}}if(ye)return re=re(X),ye=K===""?"."+he(X,0):K,se(re)?(z="",ye!=null&&(z=ye.replace(L,"$&/")+"/"),ee(re,P,z,"",function(Ue){return Ue})):re!=null&&(T(re)&&(re=Y(re,z+(re.key==null||X&&X.key===re.key?"":(""+re.key).replace(L,"$&/")+"/")+ye)),P.push(re)),1;ye=0;var Ee=K===""?".":K+":";if(se(X))for(var Le=0;Le<X.length;Le++)K=X[Le],de=Ee+he(K,Le),ye+=ee(K,P,z,de,re);else if(Le=w(X),typeof Le=="function")for(X=Le.call(X),Le=0;!(K=X.next()).done;)K=K.value,de=Ee+he(K,Le++),ye+=ee(K,P,z,de,re);else if(de==="object"){if(typeof X.then=="function")return ee(Ae(X),P,z,K,re);throw P=String(X),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ye}function pe(X,P,z){if(X==null)return X;var K=[],re=0;return ee(X,K,"","",function(de){return P.call(z,de,re++)}),K}function ue(X){if(X._status===-1){var P=X._result;P=P(),P.then(function(z){(X._status===0||X._status===-1)&&(X._status=1,X._result=z)},function(z){(X._status===0||X._status===-1)&&(X._status=2,X._result=z)}),X._status===-1&&(X._status=0,X._result=P)}if(X._status===1)return X._result.default;throw X._result}var Ce=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},be={map:pe,forEach:function(X,P,z){pe(X,function(){P.apply(this,arguments)},z)},count:function(X){var P=0;return pe(X,function(){P++}),P},toArray:function(X){return pe(X,function(P){return P})||[]},only:function(X){if(!T(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return ln.Activity=b,ln.Children=be,ln.Component=j,ln.Fragment=t,ln.Profiler=a,ln.PureComponent=ce,ln.StrictMode=r,ln.Suspense=d,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ln.__COMPILER_RUNTIME={__proto__:null,c:function(X){return q.H.useMemoCache(X)}},ln.cache=function(X){return function(){return X.apply(null,arguments)}},ln.cacheSignal=function(){return null},ln.cloneElement=function(X,P,z){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var K=V({},X.props),re=X.key;if(P!=null)for(de in P.key!==void 0&&(re=""+P.key),P)!k.call(P,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&P.ref===void 0||(K[de]=P[de]);var de=arguments.length-2;if(de===1)K.children=z;else if(1<de){for(var ye=Array(de),Ee=0;Ee<de;Ee++)ye[Ee]=arguments[Ee+2];K.children=ye}return D(X.type,re,K)},ln.createContext=function(X){return X={$$typeof:c,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},ln.createElement=function(X,P,z){var K,re={},de=null;if(P!=null)for(K in P.key!==void 0&&(de=""+P.key),P)k.call(P,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(re[K]=P[K]);var ye=arguments.length-2;if(ye===1)re.children=z;else if(1<ye){for(var Ee=Array(ye),Le=0;Le<ye;Le++)Ee[Le]=arguments[Le+2];re.children=Ee}if(X&&X.defaultProps)for(K in ye=X.defaultProps,ye)re[K]===void 0&&(re[K]=ye[K]);return D(X,de,re)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(X){return{$$typeof:u,render:X}},ln.isValidElement=T,ln.lazy=function(X){return{$$typeof:g,_payload:{_status:-1,_result:X},_init:ue}},ln.memo=function(X,P){return{$$typeof:f,type:X,compare:P===void 0?null:P}},ln.startTransition=function(X){var P=q.T,z={};q.T=z;try{var K=X(),re=q.S;re!==null&&re(z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(fe,Ce)}catch(de){Ce(de)}finally{P!==null&&z.types!==null&&(P.types=z.types),q.T=P}},ln.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ln.use=function(X){return q.H.use(X)},ln.useActionState=function(X,P,z){return q.H.useActionState(X,P,z)},ln.useCallback=function(X,P){return q.H.useCallback(X,P)},ln.useContext=function(X){return q.H.useContext(X)},ln.useDebugValue=function(){},ln.useDeferredValue=function(X,P){return q.H.useDeferredValue(X,P)},ln.useEffect=function(X,P){return q.H.useEffect(X,P)},ln.useEffectEvent=function(X){return q.H.useEffectEvent(X)},ln.useId=function(){return q.H.useId()},ln.useImperativeHandle=function(X,P,z){return q.H.useImperativeHandle(X,P,z)},ln.useInsertionEffect=function(X,P){return q.H.useInsertionEffect(X,P)},ln.useLayoutEffect=function(X,P){return q.H.useLayoutEffect(X,P)},ln.useMemo=function(X,P){return q.H.useMemo(X,P)},ln.useOptimistic=function(X,P){return q.H.useOptimistic(X,P)},ln.useReducer=function(X,P,z){return q.H.useReducer(X,P,z)},ln.useRef=function(X){return q.H.useRef(X)},ln.useState=function(X){return q.H.useState(X)},ln.useSyncExternalStore=function(X,P,z){return q.H.useSyncExternalStore(X,P,z)},ln.useTransition=function(){return q.H.useTransition()},ln.version="19.2.4",ln}var Ab;function ey(){return Ab||(Ab=1,i0.exports=C6()),i0.exports}var Tt=ey();const Xe=Jx(Tt);var s0={exports:{}},dd={},a0={exports:{}},o0={};var Sb;function I6(){return Sb||(Sb=1,(function(n){function e(ee,pe){var ue=ee.length;ee.push(pe);e:for(;0<ue;){var Ce=ue-1>>>1,be=ee[Ce];if(0<a(be,pe))ee[Ce]=pe,ee[ue]=be,ue=Ce;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var pe=ee[0],ue=ee.pop();if(ue!==pe){ee[0]=ue;e:for(var Ce=0,be=ee.length,X=be>>>1;Ce<X;){var P=2*(Ce+1)-1,z=ee[P],K=P+1,re=ee[K];if(0>a(z,ue))K<be&&0>a(re,z)?(ee[Ce]=re,ee[K]=ue,Ce=K):(ee[Ce]=z,ee[P]=ue,Ce=P);else if(K<be&&0>a(re,ue))ee[Ce]=re,ee[K]=ue,Ce=K;else break e}}return pe}function a(ee,pe){var ue=ee.sortIndex-pe.sortIndex;return ue!==0?ue:ee.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var d=[],f=[],g=1,b=null,A=3,w=!1,M=!1,V=!1,U=!1,j=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function H(ee){for(var pe=t(f);pe!==null;){if(pe.callback===null)r(f);else if(pe.startTime<=ee)r(f),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(f)}}function se(ee){if(V=!1,H(ee),!M)if(t(d)!==null)M=!0,fe||(fe=!0,R());else{var pe=t(f);pe!==null&&Ae(se,pe.startTime-ee)}}var fe=!1,q=-1,k=5,D=-1;function Y(){return U?!0:!(n.unstable_now()-D<k)}function T(){if(U=!1,fe){var ee=n.unstable_now();D=ee;var pe=!0;try{e:{M=!1,V&&(V=!1,te(q),q=-1),w=!0;var ue=A;try{t:{for(H(ee),b=t(d);b!==null&&!(b.expirationTime>ee&&Y());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,A=b.priorityLevel;var be=Ce(b.expirationTime<=ee);if(ee=n.unstable_now(),typeof be=="function"){b.callback=be,H(ee),pe=!0;break t}b===t(d)&&r(d),H(ee)}else r(d);b=t(d)}if(b!==null)pe=!0;else{var X=t(f);X!==null&&Ae(se,X.startTime-ee),pe=!1}}break e}finally{b=null,A=ue,w=!1}pe=void 0}}finally{pe?R():fe=!1}}}var R;if(typeof ce=="function")R=function(){ce(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,he=L.port2;L.port1.onmessage=T,R=function(){he.postMessage(null)}}else R=function(){j(T,0)};function Ae(ee,pe){q=j(function(){ee(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var pe=3;break;default:pe=A}var ue=A;A=pe;try{return ee()}finally{A=ue}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(ee,pe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=A;A=ee;try{return pe()}finally{A=ue}},n.unstable_scheduleCallback=function(ee,pe,ue){var Ce=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ce+ue:Ce):ue=Ce,ee){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ue+be,ee={id:g++,callback:pe,priorityLevel:ee,startTime:ue,expirationTime:be,sortIndex:-1},ue>Ce?(ee.sortIndex=ue,e(f,ee),t(d)===null&&ee===t(f)&&(V?(te(q),q=-1):V=!0,Ae(se,ue-Ce))):(ee.sortIndex=be,e(d,ee),M||w||(M=!0,fe||(fe=!0,R()))),ee},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(ee){var pe=A;return function(){var ue=A;A=pe;try{return ee.apply(this,arguments)}finally{A=ue}}}})(o0)),o0}var Eb;function R6(){return Eb||(Eb=1,a0.exports=I6()),a0.exports}var l0={exports:{}},Ts={};var Nb;function L6(){if(Nb)return Ts;Nb=1;var n=ey();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ts.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ts.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},Ts.flushSync=function(d){var f=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=f,r.p=g,r.d.f()}},Ts.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Ts.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ts.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,b=u(g,f.crossOrigin),A=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:w}):g==="script"&&r.d.X(d,{crossOrigin:b,integrity:A,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ts.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Ts.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,b=u(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ts.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Ts.requestFormReset=function(d){r.d.r(d)},Ts.unstable_batchedUpdates=function(d,f){return d(f)},Ts.useFormState=function(d,f,g){return c.H.useFormState(d,f,g)},Ts.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ts.version="19.2.4",Ts}var Tb;function Zx(){if(Tb)return l0.exports;Tb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),l0.exports=L6(),l0.exports}var Cb;function k6(){if(Cb)return dd;Cb=1;var n=R6(),e=ey(),t=Zx();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function u(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return d(y),i;if(_===h)return d(y),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=_;else{for(var I=!1,$=y.child;$;){if($===l){I=!0,l=y,h=_;break}if($===h){I=!0,h=y,l=_;break}$=$.sibling}if(!I){for($=_.child;$;){if($===l){I=!0,l=_,h=y;break}if($===h){I=!0,h=_,l=y;break}$=$.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function he(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case j:return"Profiler";case U:return"StrictMode";case se:return"Suspense";case fe:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case ce:return i.displayName||"Context";case te:return(i._context.displayName||"Context")+".Consumer";case H:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return s=i.displayName||null,s!==null?s:he(i.type)||"Memo";case k:s=i._payload,i=i._init;try{return he(i(s))}catch{}}return null}var Ae=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ce=[],be=-1;function X(i){return{current:i}}function P(i){0>be||(i.current=Ce[be],Ce[be]=null,be--)}function z(i,s){be++,Ce[be]=i.current,i.current=s}var K=X(null),re=X(null),de=X(null),ye=X(null);function Ee(i,s){switch(z(de,s),z(re,i),z(K,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?q5(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=q5(s),i=H5(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}P(K),z(K,i)}function Le(){P(K),P(re),P(de)}function Ue(i){i.memoizedState!==null&&z(ye,i);var s=K.current,l=H5(s,i.type);s!==l&&(z(re,i),z(K,l))}function et(i){re.current===i&&(P(K),P(re)),ye.current===i&&(P(ye),ld._currentValue=ue)}var ot,ct;function yt(i){if(ot===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ot=s&&s[1]||"",ct=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+ct}var ne=!1;function lt(i,s){if(!i||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(Fe){var je=Fe}Reflect.construct(i,[],Je)}else{try{Je.call()}catch(Fe){je=Fe}i.call(Je.prototype)}}else{try{throw Error()}catch(Fe){je=Fe}(Je=i())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(Fe){if(Fe&&je&&typeof Fe.stack=="string")return[Fe.stack,je.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),I=_[0],$=_[1];if(I&&$){var me=I.split(`
`),Oe=$.split(`
`);for(y=h=0;h<me.length&&!me[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Oe.length&&!Oe[y].includes("DetermineComponentFrameRoot");)y++;if(h===me.length||y===Oe.length)for(h=me.length-1,y=Oe.length-1;1<=h&&0<=y&&me[h]!==Oe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(me[h]!==Oe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||me[h]!==Oe[y]){var Ye=`
`+me[h].replace(" at new "," at ");return i.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",i.displayName)),Ye}while(1<=h&&0<=y);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?yt(l):""}function $t(i,s){switch(i.tag){case 26:case 27:case 5:return yt(i.type);case 16:return yt("Lazy");case 13:return i.child!==s&&s!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return lt(i.type,!1);case 11:return lt(i.type.render,!1);case 1:return lt(i.type,!0);case 31:return yt("Activity");default:return""}}function Mt(i){try{var s="",l=null;do s+=$t(i,l),l=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Be=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,ie=n.unstable_cancelCallback,ge=n.unstable_shouldYield,Se=n.unstable_requestPaint,Ke=n.unstable_now,He=n.unstable_getCurrentPriorityLevel,Ve=n.unstable_ImmediatePriority,it=n.unstable_UserBlockingPriority,ft=n.unstable_NormalPriority,st=n.unstable_LowPriority,vt=n.unstable_IdlePriority,mt=n.log,fn=n.unstable_setDisableYieldValue,Zt=null,Pt=null;function Ft(i){if(typeof mt=="function"&&fn(i),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Zt,i)}catch{}}var Qt=Math.clz32?Math.clz32:St,Ot=Math.log,yn=Math.LN2;function St(i){return i>>>=0,i===0?32:31-(Ot(i)/yn|0)|0}var zt=256,Mn=262144,jt=4194304;function Ct(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ut(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,_=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var $=h&134217727;return $!==0?(h=$&~_,h!==0?y=Ct(h):(I&=$,I!==0?y=Ct(I):l||(l=$&~i,l!==0&&(y=Ct(l))))):($=h&~_,$!==0?y=Ct($):I!==0?y=Ct(I):l||(l=h&~i,l!==0&&(y=Ct(l)))),y===0?0:s!==0&&s!==y&&(s&_)===0&&(_=y&-y,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:y}function _n(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function An(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Ar(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function pt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sr(i,s,l,h,y,_){var I=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var $=i.entanglements,me=i.expirationTimes,Oe=i.hiddenUpdates;for(l=I&~l;0<l;){var Ye=31-Qt(l),Je=1<<Ye;$[Ye]=0,me[Ye]=-1;var je=Oe[Ye];if(je!==null)for(Oe[Ye]=null,Ye=0;Ye<je.length;Ye++){var Fe=je[Ye];Fe!==null&&(Fe.lane&=-536870913)}l&=~Je}h!==0&&Zr(i,h,0),_!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=_&~(I&~s))}function Zr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-Qt(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Zn(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Qt(l),y=1<<h;y&s|i[h]&s&&(i[h]|=s),l&=~y}}function er(i,s){var l=s&-s;return l=(l&42)!==0?1:Bn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Bn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Tn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Hr(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:db(i.type))}function Ri(i,s){var l=pe.p;try{return pe.p=i,s()}finally{pe.p=l}}var vi=Math.random().toString(36).slice(2),Gn="__reactFiber$"+vi,rr="__reactProps$"+vi,ei="__reactContainer$"+vi,Hi="__reactEvents$"+vi,_s="__reactListeners$"+vi,Va="__reactHandles$"+vi,js="__reactResources$"+vi,Gi="__reactMarker$"+vi;function _a(i){delete i[Gn],delete i[rr],delete i[Hi],delete i[_s],delete i[Va]}function ss(i){var s=i[Gn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[ei]||l[Gn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Q5(i);i!==null;){if(l=i[Gn])return l;i=Q5(i)}return s}i=l,l=i.parentNode}return null}function Li(i){if(i=i[Gn]||i[ei]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function as(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ws(i){var s=i[js];return s||(s=i[js]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Cr(i){i[Gi]=!0}var Bo=new Set,Yi={};function xs(i,s){Vs(i,s),Vs(i+"Capture",s)}function Vs(i,s){for(Yi[i]=s,i=0;i<s.length;i++)Bo.add(s[i])}var lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},qo={};function wl(i){return Be.call(qo,i)?!0:Be.call(zo,i)?!1:lo.test(i)?qo[i]=!0:(zo[i]=!0,!1)}function os(i,s,l){if(wl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function bi(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Mr(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function wa(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function As(i,s,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,_=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(I){l=""+I,_.call(this,I)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Cn(i){if(!i._valueTracker){var s=wa(i)?"checked":"value";i._valueTracker=As(i,s,""+i[s])}}function Fa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=wa(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Gr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var yr=/[\n"\\]/g;function jr(i){return i.replace(yr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function co(i,s,l,h,y,_,I,$){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),s!=null?I==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+vn(s)):i.value!==""+vn(s)&&(i.value=""+vn(s)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),s!=null?xl(i,I,vn(s)):l!=null?xl(i,I,vn(l)):h!=null&&i.removeAttribute("value"),y==null&&_!=null&&(i.defaultChecked=!!_),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+vn($):i.removeAttribute("name")}function cc(i,s,l,h,y,_,I,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Cn(i);return}l=l!=null?""+vn(l):"",s=s!=null?""+vn(s):l,$||s===i.value||(i.value=s),i.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=$?i.checked:!!h,i.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),Cn(i)}function xl(i,s,l){s==="number"&&Gr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ki(i,s,l,h){if(i=i.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=s.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+vn(l),s=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function Al(i,s,l){if(s!=null&&(s=""+vn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+vn(l):""}function xa(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ae(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=vn(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Cn(i)}function ci(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||Ua.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function El(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&l[y]!==h&&Sl(i,y,h)}else for(var _ in s)s.hasOwnProperty(_)&&Sl(i,_,s[_])}function Ho(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(i){return Aa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Fs(){}var Sa=null;function Ki(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ba=null,qt=null;function uo(i){var s=Li(i);if(s&&(i=s.stateNode)){var l=i[rr]||null;e:switch(i=s.stateNode,s.type){case"input":if(co(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var y=h[rr]||null;if(!y)throw Error(r(90));co(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&Fa(h)}break e;case"textarea":Al(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ki(i,!!l.multiple,s,!1)}}}var Yo=!1;function za(i,s,l){if(Yo)return i(s,l);Yo=!0;try{var h=i(s);return h}finally{if(Yo=!1,(Ba!==null||qt!==null)&&(Rp(),Ba&&(s=Ba,i=qt,qt=Ba=null,uo(s),i)))for(s=0;s<i.length;s++)uo(i[s])}}function ui(i,s){var l=i.stateNode;if(l===null)return null;var h=l[rr]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(ti)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{ho=!1}var ls=null,fo=null,Us=null;function Nl(){if(Us)return Us;var i,s=fo,l=s.length,h,y="value"in ls?ls.value:ls.textContent,_=y.length;for(i=0;i<l&&s[i]===y[i];i++);var I=l-i;for(h=1;h<=I&&s[l-h]===y[_-h];h++);return Us=y.slice(i,1<h?1-h:void 0)}function cs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ea(){return!0}function us(){return!1}function Yr(i){function s(l,h,y,_,I){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(l=i[$],this[$]=l?l(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ea:us,this.isPropagationStopped=us,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Yr(Ks),$s=b({},Ks,{view:0,detail:0}),qa=Yr($s),Xs,Qs,Ss,po=b({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ss&&(Ss&&i.type==="mousemove"?(Xs=i.screenX-Ss.screenX,Qs=i.screenY-Ss.screenY):Qs=Xs=0,Ss=i),Xs)},movementY:function(i){return"movementY"in i?i.movementY:Qs}}),Wo=Yr(po),hs=b({},po,{dataTransfer:0}),Js=Yr(hs),Tl=b({},$s,{relatedTarget:0}),Bs=Yr(Tl),Ko=b({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Yr(Ko),F=b({},Ks,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oe=Yr(F),ve=b({},Ks,{data:0}),Ne=Yr(ve),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function It(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=wt[i])?!!s[i]:!1}function Yt(){return It}var Ut=b({},$s,{key:function(i){if(i.key){var s=Ge[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=cs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yt,charCode:function(i){return i.type==="keypress"?cs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?cs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wn=Yr(Ut),ur=b({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tr=Yr(ur),m=b({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yt}),E=Yr(m),O=b({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Yr(O),Ie=b({},po,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Yr(Ie),at=b({},Ks,{newState:0,oldState:0}),nn=Yr(at),hr=[9,13,27,32],mn=ti&&"CompositionEvent"in window,Wn=null;ti&&"documentMode"in document&&(Wn=document.documentMode);var wi=ti&&"TextEvent"in window&&!Wn,Di=ti&&(!mn||Wn&&8<Wn&&11>=Wn),ir=" ",Pi=!1;function zs(i,s){switch(i){case"keyup":return hr.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ha(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ga=!1;function fs(i,s){switch(i){case"compositionend":return Ha(s);case"keypress":return s.which!==32?null:(Pi=!0,ir);case"textInput":return i=s.data,i===ir&&Pi?null:i;default:return null}}function mo(i,s){if(Ga)return i==="compositionend"||!mn&&zs(i,s)?(i=Nl(),Us=fo=ls=null,Ga=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Di&&s.locale!=="ko"?null:s.data;default:return null}}var uc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!uc[i.type]:s==="textarea"}function qs(i,s,l,h){Ba?qt?qt.push(h):qt=[h]:Ba=h,s=jp(s,"onChange"),0<s.length&&(l=new _i("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Na=null,go=null;function mu(i){j5(i,0)}function Ta(i){var s=as(i);if(Fa(s))return i}function $o(i,s){if(i==="change")return s}var Es=!1;if(ti){var ds;if(ti){var Ya="oninput"in document;if(!Ya){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Ya=typeof Wa.oninput=="function"}ds=Ya}else ds=!1;Es=ds&&(!document.documentMode||9<document.documentMode)}function yo(){Na&&(Na.detachEvent("onpropertychange",hc),go=Na=null)}function hc(i){if(i.propertyName==="value"&&Ta(go)){var s=[];qs(s,go,i,Ki(i)),za(mu,s)}}function fc(i,s,l){i==="focusin"?(yo(),Na=s,go=l,Na.attachEvent("onpropertychange",hc)):i==="focusout"&&yo()}function Wr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ta(go)}function eh(i,s){if(i==="click")return Ta(s)}function Ka(i,s){if(i==="input"||i==="change")return Ta(s)}function $a(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Oi=typeof Object.is=="function"?Object.is:$a;function vo(i,s){if(Oi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!Be.call(s,y)||!Oi(i[y],s[y]))return!1}return!0}function dc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pc(i,s){var l=dc(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dc(l)}}function bo(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?bo(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function _o(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Gr(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Gr(i.document)}return s}function Xa(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Cl=ti&&"documentMode"in document&&11>=document.documentMode,Hs=null,wo=null,$i=null,Zs=!1;function zn(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zs||Hs==null||Hs!==Gr(h)||(h=Hs,"selectionStart"in h&&Xa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$i&&vo($i,h)||($i=h,h=jp(wo,"onSelect"),0<h.length&&(s=new _i("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Hs)))}function Pn(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var fr={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},Kr={},Qa={};ti&&(Qa=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Ca(i){if(Kr[i])return Kr[i];if(!fr[i])return i;var s=fr[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Qa)return Kr[i]=s[l];return i}var Il=Ca("animationend"),gu=Ca("animationiteration"),Lf=Ca("animationstart"),ap=Ca("transitionrun"),op=Ca("transitionstart"),lp=Ca("transitioncancel"),kf=Ca("transitionend"),Df=new Map,Rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rl.push("scrollEnd");function ea(i,s){Df.set(i,s),xs(s,[i])}var yu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Gs=[],Ll=0,th=0;function vu(){for(var i=Ll,s=th=Ll=0;s<i;){var l=Gs[s];Gs[s++]=null;var h=Gs[s];Gs[s++]=null;var y=Gs[s];Gs[s++]=null;var _=Gs[s];if(Gs[s++]=null,h!==null&&y!==null){var I=h.pending;I===null?y.next=y:(y.next=I.next,I.next=y),h.pending=y}_!==0&&_u(l,y,_)}}function bu(i,s,l,h){Gs[Ll++]=i,Gs[Ll++]=s,Gs[Ll++]=l,Gs[Ll++]=h,th|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function nh(i,s,l,h){return bu(i,s,l,h),Xi(i)}function xo(i,s){return bu(i,null,null,s),Xi(i)}function _u(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(y=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,y&&s!==null&&(y=31-Qt(l),i=_.hiddenUpdates,h=i[y],h===null?i[y]=[s]:h.push(s),s.lane=l|536870912),_):null}function Xi(i){if(50<td)throw td=0,T1=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Mi={};function rh(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(i,s,l,h){return new rh(i,s,l,h)}function ih(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ta(i,s){var l=i.alternate;return l===null?(l=Qi(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function wu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function mc(i,s,l,h,y,_){var I=0;if(h=i,typeof i=="function")ih(i)&&(I=1);else if(typeof i=="string")I=p6(i,l,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Qi(31,l,s,y),i.elementType=D,i.lanes=_,i;case V:return Xo(l.children,y,_,s);case U:I=8,y|=24;break;case j:return i=Qi(12,l,s,y|2),i.elementType=j,i.lanes=_,i;case se:return i=Qi(13,l,s,y),i.elementType=se,i.lanes=_,i;case fe:return i=Qi(19,l,s,y),i.elementType=fe,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ce:I=10;break e;case te:I=9;break e;case H:I=11;break e;case q:I=14;break e;case k:I=16,h=null;break e}I=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Qi(I,l,s,y),s.elementType=i,s.type=h,s.lanes=_,s}function Xo(i,s,l,h){return i=Qi(7,i,h,s),i.lanes=l,i}function xu(i,s,l){return i=Qi(6,i,null,s),i.lanes=l,i}function sh(i){var s=Qi(18,null,null,0);return s.stateNode=i,s}function gc(i,s,l){return s=Qi(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ah=new WeakMap;function na(i,s){if(typeof i=="object"&&i!==null){var l=ah.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Mt(s)},ah.set(i,s),s)}return{value:i,source:s,stack:Mt(s)}}var yc=[],kl=0,oh=null,Au=0,ra=[],ia=0,Qo=null,sa=1,aa="";function Ys(i,s){yc[kl++]=Au,yc[kl++]=oh,oh=i,Au=s}function cp(i,s,l){ra[ia++]=sa,ra[ia++]=aa,ra[ia++]=Qo,Qo=i;var h=sa;i=aa;var y=32-Qt(h)-1;h&=~(1<<y),l+=1;var _=32-Qt(s)+y;if(30<_){var I=y-y%5;_=(h&(1<<I)-1).toString(32),h>>=I,y-=I,sa=1<<32-Qt(s)+y|l<<y|h,aa=_+i}else sa=1<<_|l<<y|h,aa=i}function Pf(i){i.return!==null&&(Ys(i,1),cp(i,1,0))}function lh(i){for(;i===oh;)oh=yc[--kl],yc[kl]=null,Au=yc[--kl],yc[kl]=null;for(;i===Qo;)Qo=ra[--ia],ra[ia]=null,aa=ra[--ia],ra[ia]=null,sa=ra[--ia],ra[ia]=null}function up(i,s){ra[ia++]=sa,ra[ia++]=aa,ra[ia++]=Qo,sa=s.id,aa=s.overflow,Qo=i}var ji=null,vr=null,Sn=!1,ps=null,Vr=!1,Ia=Error(r(519));function Jo(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(na(s,i)),Ia}function Of(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[Gn]=i,s[rr]=h,l){case"dialog":Nn("cancel",s),Nn("close",s);break;case"iframe":case"object":case"embed":Nn("load",s);break;case"video":case"audio":for(l=0;l<rd.length;l++)Nn(rd[l],s);break;case"source":Nn("error",s);break;case"img":case"image":case"link":Nn("error",s),Nn("load",s);break;case"details":Nn("toggle",s);break;case"input":Nn("invalid",s),cc(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Nn("invalid",s);break;case"textarea":Nn("invalid",s),xa(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||B5(s.textContent,l)?(h.popover!=null&&(Nn("beforetoggle",s),Nn("toggle",s)),h.onScroll!=null&&Nn("scroll",s),h.onScrollEnd!=null&&Nn("scrollend",s),h.onClick!=null&&(s.onclick=Fs),s=!0):s=!1,s||Jo(i,!0)}function Ao(i){for(ji=i.return;ji;)switch(ji.tag){case 5:case 31:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:ji=ji.return}}function Vi(i){if(i!==ji)return!1;if(!Sn)return Ao(i),Sn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||z1(i.type,i.memoizedProps)),l=!l),l&&vr&&Jo(i),Ao(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));vr=X5(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));vr=X5(i)}else s===27?(s=vr,kc(i.type)?(i=W1,W1=null,vr=i):vr=s):vr=ji?to(i.stateNode.nextSibling):null;return!0}function Dl(){vr=ji=null,Sn=!1}function Mf(){var i=ps;return i!==null&&(fa===null?fa=i:fa.push.apply(fa,i),ps=null),i}function vc(i){ps===null?ps=[i]:ps.push(i)}var ch=X(null),Zo=null,Ja=null;function el(i,s,l){z(ch,s._currentValue),s._currentValue=l}function oa(i){i._currentValue=ch.current,P(ch)}function bc(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Pl(i,s,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var _=y.dependencies;if(_!==null){var I=y.child;_=_.firstContext;e:for(;_!==null;){var $=_;_=y;for(var me=0;me<s.length;me++)if($.context===s[me]){_.lanes|=l,$=_.alternate,$!==null&&($.lanes|=l),bc(_.return,l,i),h||(I=null);break e}_=$.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=l,_=I.alternate,_!==null&&(_.lanes|=l),bc(I,l,i),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===i){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function tl(i,s,l,h){i=null;for(var y=s,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var $=y.type;Oi(y.pendingProps.value,I.value)||(i!==null?i.push($):i=[$])}}else if(y===ye.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(ld):i=[ld])}y=y.return}i!==null&&Pl(s,i,l,h),s.flags|=262144}function uh(i){for(i=i.firstContext;i!==null;){if(!Oi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function nl(i){Zo=i,Ja=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fi(i){return hp(Zo,i)}function hh(i,s){return Zo===null&&nl(i),hp(i,s)}function hp(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ja===null){if(i===null)throw Error(r(308));Ja=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ja=Ja.next=s;return l}var Yg=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Wg=n.unstable_scheduleCallback,Kg=n.unstable_NormalPriority,$r={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new Yg,data:new Map,refCount:0}}function Su(i){i.refCount--,i.refCount===0&&Wg(Kg,function(){i.controller.abort()})}var Eu=null,fh=0,p=0,v=null;function S(i,s){if(Eu===null){var l=Eu=[];fh=0,p=D1(),v={status:"pending",value:void 0,then:function(h){l.push(h)}}}return fh++,s.then(C,C),s}function C(){if(--fh===0&&Eu!==null){v!==null&&(v.status="fulfilled");var i=Eu;Eu=null,p=0,v=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function B(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var G=ee.S;ee.S=function(i,s){h5=Ke(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(i,s),G!==null&&G(i,s)};var W=X(null);function Q(){var i=W.current;return i!==null?i:_r.pooledCache}function Z(i,s){s===null?z(W,W.current):z(W,s.pool)}function le(){var i=Q();return i===null?null:{parent:$r._currentValue,pool:i}}var _e=Error(r(460)),De=Error(r(474)),ae=Error(r(542)),xe={then:function(){}};function Re(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qe(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Fs,Fs),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,rt(i),i;default:if(typeof s.status=="string")s.then(Fs,Fs);else{if(i=_r,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,rt(i),i}throw ze=s,_e}}function ke(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ze=l,_e):l}}var ze=null;function We(){if(ze===null)throw Error(r(459));var i=ze;return ze=null,i}function rt(i){if(i===_e||i===ae)throw Error(r(483))}var Ze=null,Rt=0;function bt(i){var s=Rt;return Rt+=1,Ze===null&&(Ze=[]),qe(Ze,i,s)}function rn(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Et(i,s){throw s.$$typeof===A?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function xn(i){function s(Te,we){if(i){var Pe=Te.deletions;Pe===null?(Te.deletions=[we],Te.flags|=16):Pe.push(we)}}function l(Te,we){if(!i)return null;for(;we!==null;)s(Te,we),we=we.sibling;return null}function h(Te){for(var we=new Map;Te!==null;)Te.key!==null?we.set(Te.key,Te):we.set(Te.index,Te),Te=Te.sibling;return we}function y(Te,we){return Te=ta(Te,we),Te.index=0,Te.sibling=null,Te}function _(Te,we,Pe){return Te.index=Pe,i?(Pe=Te.alternate,Pe!==null?(Pe=Pe.index,Pe<we?(Te.flags|=67108866,we):Pe):(Te.flags|=67108866,we)):(Te.flags|=1048576,we)}function I(Te){return i&&Te.alternate===null&&(Te.flags|=67108866),Te}function $(Te,we,Pe,$e){return we===null||we.tag!==6?(we=xu(Pe,Te.mode,$e),we.return=Te,we):(we=y(we,Pe),we.return=Te,we)}function me(Te,we,Pe,$e){var Kt=Pe.type;return Kt===V?Ye(Te,we,Pe.props.children,$e,Pe.key):we!==null&&(we.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===k&&ke(Kt)===we.type)?(we=y(we,Pe.props),rn(we,Pe),we.return=Te,we):(we=mc(Pe.type,Pe.key,Pe.props,null,Te.mode,$e),rn(we,Pe),we.return=Te,we)}function Oe(Te,we,Pe,$e){return we===null||we.tag!==4||we.stateNode.containerInfo!==Pe.containerInfo||we.stateNode.implementation!==Pe.implementation?(we=gc(Pe,Te.mode,$e),we.return=Te,we):(we=y(we,Pe.children||[]),we.return=Te,we)}function Ye(Te,we,Pe,$e,Kt){return we===null||we.tag!==7?(we=Xo(Pe,Te.mode,$e,Kt),we.return=Te,we):(we=y(we,Pe),we.return=Te,we)}function Je(Te,we,Pe){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=xu(""+we,Te.mode,Pe),we.return=Te,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case w:return Pe=mc(we.type,we.key,we.props,null,Te.mode,Pe),rn(Pe,we),Pe.return=Te,Pe;case M:return we=gc(we,Te.mode,Pe),we.return=Te,we;case k:return we=ke(we),Je(Te,we,Pe)}if(Ae(we)||R(we))return we=Xo(we,Te.mode,Pe,null),we.return=Te,we;if(typeof we.then=="function")return Je(Te,bt(we),Pe);if(we.$$typeof===ce)return Je(Te,hh(Te,we),Pe);Et(Te,we)}return null}function je(Te,we,Pe,$e){var Kt=we!==null?we.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Kt!==null?null:$(Te,we,""+Pe,$e);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case w:return Pe.key===Kt?me(Te,we,Pe,$e):null;case M:return Pe.key===Kt?Oe(Te,we,Pe,$e):null;case k:return Pe=ke(Pe),je(Te,we,Pe,$e)}if(Ae(Pe)||R(Pe))return Kt!==null?null:Ye(Te,we,Pe,$e,null);if(typeof Pe.then=="function")return je(Te,we,bt(Pe),$e);if(Pe.$$typeof===ce)return je(Te,we,hh(Te,Pe),$e);Et(Te,Pe)}return null}function Fe(Te,we,Pe,$e,Kt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Te=Te.get(Pe)||null,$(we,Te,""+$e,Kt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case w:return Te=Te.get($e.key===null?Pe:$e.key)||null,me(we,Te,$e,Kt);case M:return Te=Te.get($e.key===null?Pe:$e.key)||null,Oe(we,Te,$e,Kt);case k:return $e=ke($e),Fe(Te,we,Pe,$e,Kt)}if(Ae($e)||R($e))return Te=Te.get(Pe)||null,Ye(we,Te,$e,Kt,null);if(typeof $e.then=="function")return Fe(Te,we,Pe,bt($e),Kt);if($e.$$typeof===ce)return Fe(Te,we,Pe,hh(we,$e),Kt);Et(we,$e)}return null}function Nt(Te,we,Pe,$e){for(var Kt=null,Kn=null,Vt=we,pn=we=0,Rn=null;Vt!==null&&pn<Pe.length;pn++){Vt.index>pn?(Rn=Vt,Vt=null):Rn=Vt.sibling;var $n=je(Te,Vt,Pe[pn],$e);if($n===null){Vt===null&&(Vt=Rn);break}i&&Vt&&$n.alternate===null&&s(Te,Vt),we=_($n,we,pn),Kn===null?Kt=$n:Kn.sibling=$n,Kn=$n,Vt=Rn}if(pn===Pe.length)return l(Te,Vt),Sn&&Ys(Te,pn),Kt;if(Vt===null){for(;pn<Pe.length;pn++)Vt=Je(Te,Pe[pn],$e),Vt!==null&&(we=_(Vt,we,pn),Kn===null?Kt=Vt:Kn.sibling=Vt,Kn=Vt);return Sn&&Ys(Te,pn),Kt}for(Vt=h(Vt);pn<Pe.length;pn++)Rn=Fe(Vt,Te,pn,Pe[pn],$e),Rn!==null&&(i&&Rn.alternate!==null&&Vt.delete(Rn.key===null?pn:Rn.key),we=_(Rn,we,pn),Kn===null?Kt=Rn:Kn.sibling=Rn,Kn=Rn);return i&&Vt.forEach(function(jc){return s(Te,jc)}),Sn&&Ys(Te,pn),Kt}function Jt(Te,we,Pe,$e){if(Pe==null)throw Error(r(151));for(var Kt=null,Kn=null,Vt=we,pn=we=0,Rn=null,$n=Pe.next();Vt!==null&&!$n.done;pn++,$n=Pe.next()){Vt.index>pn?(Rn=Vt,Vt=null):Rn=Vt.sibling;var jc=je(Te,Vt,$n.value,$e);if(jc===null){Vt===null&&(Vt=Rn);break}i&&Vt&&jc.alternate===null&&s(Te,Vt),we=_(jc,we,pn),Kn===null?Kt=jc:Kn.sibling=jc,Kn=jc,Vt=Rn}if($n.done)return l(Te,Vt),Sn&&Ys(Te,pn),Kt;if(Vt===null){for(;!$n.done;pn++,$n=Pe.next())$n=Je(Te,$n.value,$e),$n!==null&&(we=_($n,we,pn),Kn===null?Kt=$n:Kn.sibling=$n,Kn=$n);return Sn&&Ys(Te,pn),Kt}for(Vt=h(Vt);!$n.done;pn++,$n=Pe.next())$n=Fe(Vt,Te,pn,$n.value,$e),$n!==null&&(i&&$n.alternate!==null&&Vt.delete($n.key===null?pn:$n.key),we=_($n,we,pn),Kn===null?Kt=$n:Kn.sibling=$n,Kn=$n);return i&&Vt.forEach(function(E6){return s(Te,E6)}),Sn&&Ys(Te,pn),Kt}function gr(Te,we,Pe,$e){if(typeof Pe=="object"&&Pe!==null&&Pe.type===V&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case w:e:{for(var Kt=Pe.key;we!==null;){if(we.key===Kt){if(Kt=Pe.type,Kt===V){if(we.tag===7){l(Te,we.sibling),$e=y(we,Pe.props.children),$e.return=Te,Te=$e;break e}}else if(we.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===k&&ke(Kt)===we.type){l(Te,we.sibling),$e=y(we,Pe.props),rn($e,Pe),$e.return=Te,Te=$e;break e}l(Te,we);break}else s(Te,we);we=we.sibling}Pe.type===V?($e=Xo(Pe.props.children,Te.mode,$e,Pe.key),$e.return=Te,Te=$e):($e=mc(Pe.type,Pe.key,Pe.props,null,Te.mode,$e),rn($e,Pe),$e.return=Te,Te=$e)}return I(Te);case M:e:{for(Kt=Pe.key;we!==null;){if(we.key===Kt)if(we.tag===4&&we.stateNode.containerInfo===Pe.containerInfo&&we.stateNode.implementation===Pe.implementation){l(Te,we.sibling),$e=y(we,Pe.children||[]),$e.return=Te,Te=$e;break e}else{l(Te,we);break}else s(Te,we);we=we.sibling}$e=gc(Pe,Te.mode,$e),$e.return=Te,Te=$e}return I(Te);case k:return Pe=ke(Pe),gr(Te,we,Pe,$e)}if(Ae(Pe))return Nt(Te,we,Pe,$e);if(R(Pe)){if(Kt=R(Pe),typeof Kt!="function")throw Error(r(150));return Pe=Kt.call(Pe),Jt(Te,we,Pe,$e)}if(typeof Pe.then=="function")return gr(Te,we,bt(Pe),$e);if(Pe.$$typeof===ce)return gr(Te,we,hh(Te,Pe),$e);Et(Te,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,we!==null&&we.tag===6?(l(Te,we.sibling),$e=y(we,Pe),$e.return=Te,Te=$e):(l(Te,we),$e=xu(Pe,Te.mode,$e),$e.return=Te,Te=$e),I(Te)):l(Te,we)}return function(Te,we,Pe,$e){try{Rt=0;var Kt=gr(Te,we,Pe,$e);return Ze=null,Kt}catch(Vt){if(Vt===_e||Vt===ae)throw Vt;var Kn=Qi(29,Vt,null,Te.mode);return Kn.lanes=$e,Kn.return=Te,Kn}}}var br=xn(!0),on=xn(!1),_t=!1;function ht(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Xt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hn(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Jn&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Xi(i),_u(i,null,l),s}return bu(i,h,s,l),Xi(i)}function Xn(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Zn(i,l)}}function hi(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?y=_=I:_=_.next=I,l=l.next}while(l!==null);_===null?y=_=s:_=_.next=s}else y=_=s;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Ui=!1;function dr(){if(Ui){var i=v;if(i!==null)throw i}}function ni(i,s,l,h){Ui=!1;var y=i.updateQueue;_t=!1;var _=y.firstBaseUpdate,I=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var me=$,Oe=me.next;me.next=null,I===null?_=Oe:I.next=Oe,I=me;var Ye=i.alternate;Ye!==null&&(Ye=Ye.updateQueue,$=Ye.lastBaseUpdate,$!==I&&($===null?Ye.firstBaseUpdate=Oe:$.next=Oe,Ye.lastBaseUpdate=me))}if(_!==null){var Je=y.baseState;I=0,Ye=Oe=me=null,$=_;do{var je=$.lane&-536870913,Fe=je!==$.lane;if(Fe?(In&je)===je:(h&je)===je){je!==0&&je===p&&(Ui=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Nt=i,Jt=$;je=s;var gr=l;switch(Jt.tag){case 1:if(Nt=Jt.payload,typeof Nt=="function"){Je=Nt.call(gr,Je,je);break e}Je=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Jt.payload,je=typeof Nt=="function"?Nt.call(gr,Je,je):Nt,je==null)break e;Je=b({},Je,je);break e;case 2:_t=!0}}je=$.callback,je!==null&&(i.flags|=64,Fe&&(i.flags|=8192),Fe=y.callbacks,Fe===null?y.callbacks=[je]:Fe.push(je))}else Fe={lane:je,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ye===null?(Oe=Ye=Fe,me=Je):Ye=Ye.next=Fe,I|=je;if($=$.next,$===null){if($=y.shared.pending,$===null)break;Fe=$,$=Fe.next,Fe.next=null,y.lastBaseUpdate=Fe,y.shared.pending=null}}while(!0);Ye===null&&(me=Je),y.baseState=me,y.firstBaseUpdate=Oe,y.lastBaseUpdate=Ye,_===null&&(y.shared.lanes=0),Tc|=I,i.lanes=I,i.memoizedState=Je}}function Ji(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function ri(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Ji(l[i],s)}var gn=X(null),jn=X(0);function Rr(i,s){i=Hl,z(jn,i),z(gn,s),Hl=i|s.baseLanes}function qn(){z(jn,Hl),z(gn,gn.current)}function fi(){Hl=jn.current,P(gn),P(jn)}var Lr=X(null),Vn=null;function Xr(i){var s=i.alternate;z(On,On.current&1),z(Lr,i),Vn===null&&(s===null||gn.current!==null||s.memoizedState!==null)&&(Vn=i)}function Qn(i){z(On,On.current),z(Lr,i),Vn===null&&(Vn=i)}function ii(i){i.tag===22?(z(On,On.current),z(Lr,i),Vn===null&&(Vn=i)):si()}function si(){z(On,On.current),z(Lr,Lr.current)}function sr(i){P(Lr),Vn===i&&(Vn=null),P(On)}var On=X(0);function Zi(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||G1(l)||Y1(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fr=0,Ht=null,Wt=null,Fn=null,Ns=!1,la=!1,ms=!1,ai=0,rl=0,il=null,dh=0;function pr(){throw Error(r(321))}function jf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Oi(i[l],s[l]))return!1;return!0}function Vf(i,s,l,h,y,_){return Fr=_,Ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=i===null||i.memoizedState===null?xv:n1,ms=!1,_=l(h,y),ms=!1,la&&(_=So(s,l,h,y)),ph(i),_}function ph(i){ee.H=Yf;var s=Wt!==null&&Wt.next!==null;if(Fr=0,Fn=Wt=Ht=null,Ns=!1,rl=0,il=null,s)throw Error(r(300));i===null||Ai||(i=i.dependencies,i!==null&&uh(i)&&(Ai=!0))}function So(i,s,l,h){Ht=i;var y=0;do{if(la&&(il=null),rl=0,la=!1,25<=y)throw Error(r(301));if(y+=1,Fn=Wt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ee.H=Av,_=s(l,h)}while(la);return _}function $g(){var i=ee.H,s=i.useState()[0];return s=typeof s.then=="function"?sl(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ht.flags|=1024),s}function Ff(){var i=ai!==0;return ai=0,i}function Uf(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function mh(i){if(Ns){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ns=!1}Fr=0,Fn=Wt=Ht=null,la=!1,rl=ai=0,il=null}function xi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Ht.memoizedState=Fn=i:Fn=Fn.next=i,Fn}function Ur(){if(Wt===null){var i=Ht.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=Fn===null?Ht.memoizedState:Fn.next;if(s!==null)Fn=s,Wt=i;else{if(i===null)throw Ht.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Fn===null?Ht.memoizedState=Fn=i:Fn=Fn.next=i}return Fn}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(i){var s=rl;return rl+=1,il===null&&(il=[]),i=qe(il,i,s),s=Ht,(Fn===null?s.memoizedState:Fn.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?xv:n1),i}function wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return sl(i);if(i.$$typeof===ce)return Fi(i)}throw Error(r(438,String(i)))}function Ol(i){var s=null,l=Ht.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=Ht.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Nu(),Ht.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=Y;return s.index++,l}function Za(i,s){return typeof s=="function"?s(i):s}function gh(i){var s=Ur();return xc(s,Wt,i)}function xc(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,_=h.pending;if(_!==null){if(y!==null){var I=y.next;y.next=_.next,_.next=I}s.baseQueue=y=_,h.pending=null}if(_=i.baseState,y===null)i.memoizedState=_;else{s=y.next;var $=I=null,me=null,Oe=s,Ye=!1;do{var Je=Oe.lane&-536870913;if(Je!==Oe.lane?(In&Je)===Je:(Fr&Je)===Je){var je=Oe.revertLane;if(je===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Je===p&&(Ye=!0);else if((Fr&je)===je){Oe=Oe.next,je===p&&(Ye=!0);continue}else Je={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},me===null?($=me=Je,I=_):me=me.next=Je,Ht.lanes|=je,Tc|=je;Je=Oe.action,ms&&l(_,Je),_=Oe.hasEagerState?Oe.eagerState:l(_,Je)}else je={lane:Je,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},me===null?($=me=je,I=_):me=me.next=je,Ht.lanes|=Je,Tc|=Je;Oe=Oe.next}while(Oe!==null&&Oe!==s);if(me===null?I=_:me.next=$,!Oi(_,i.memoizedState)&&(Ai=!0,Ye&&(l=v,l!==null)))throw l;i.memoizedState=_,i.baseState=I,i.baseQueue=me,h.lastRenderedState=_}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function yh(i){var s=Ur(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,_=s.memoizedState;if(y!==null){l.pending=null;var I=y=y.next;do _=i(_,I.action),I=I.next;while(I!==y);Oi(_,s.memoizedState)||(Ai=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function vh(i,s,l){var h=Ht,y=Ur(),_=Sn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var I=!Oi((Wt||y).memoizedState,l);if(I&&(y.memoizedState=l,Ai=!0),y=y.queue,Xg(zf.bind(null,h,y,i),[i]),y.getSnapshot!==s||I||Fn!==null&&Fn.memoizedState.tag&1){if(h.flags|=2048,jl(9,{destroy:void 0},Bf.bind(null,h,y,l,s),null),_r===null)throw Error(r(349));_||(Fr&127)!==0||Eo(h,s,l)}return l}function Eo(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ht.updateQueue,s===null?(s=Nu(),Ht.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Bf(i,s,l,h){s.value=l,s.getSnapshot=h,fp(s)&&qf(i)}function zf(i,s,l){return l(function(){fp(s)&&qf(i)})}function fp(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Oi(i,l)}catch{return!0}}function qf(i){var s=xo(i,2);s!==null&&da(s,i,2)}function al(i){var s=xi();if(typeof i=="function"){var l=i;if(i=l(),ms){Ft(!0);try{l()}finally{Ft(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:i},s}function dp(i,s,l,h){return i.baseState=l,xc(i,Wt,typeof h=="function"?h:Za)}function pp(i,s,l,h,y){if(vp(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};ee.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,mp(s,_)):(_.next=l.next,s.pending=l.next=_)}}function mp(i,s){var l=s.action,h=s.payload,y=i.state;if(s.isTransition){var _=ee.T,I={};ee.T=I;try{var $=l(y,h),me=ee.S;me!==null&&me(I,$),Hf(i,s,$)}catch(Oe){Ml(i,s,Oe)}finally{_!==null&&I.types!==null&&(_.types=I.types),ee.T=_}}else try{_=l(y,h),Hf(i,s,_)}catch(Oe){Ml(i,s,Oe)}}function Hf(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){gp(i,s,h)},function(h){return Ml(i,s,h)}):gp(i,s,l)}function gp(i,s,l){s.status="fulfilled",s.value=l,bh(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,mp(i,l)))}function Ml(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,bh(s),s=s.next;while(s!==h)}i.action=null}function bh(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Tu(i,s){return s}function eo(i,s){if(Sn){var l=_r.formState;if(l!==null){e:{var h=Ht;if(Sn){if(vr){t:{for(var y=vr,_=Vr;y.nodeType!==8;){if(!_){y=null;break t}if(y=to(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){vr=to(y.nextSibling),h=y.data==="F!";break e}}Jo(h)}h=!1}h&&(s=l[0])}}return l=xi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:s},l.queue=h,l=bv.bind(null,Ht,h),h.dispatch=l,h=al(!1),_=t1.bind(null,Ht,!1,h.queue),h=xi(),y={state:s,dispatch:null,action:i,pending:null},h.queue=y,l=pp.bind(null,Ht,y,_,l),y.dispatch=l,h.memoizedState=i,[s,l,!1]}function No(i){var s=Ur();return To(s,Wt,i)}function To(i,s,l){if(s=xc(i,s,Tu)[0],i=gh(Za)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=sl(s)}catch(I){throw I===_e?ae:I}else h=s;s=Ur();var y=s.queue,_=y.dispatch;return l!==s.memoizedState&&(Ht.flags|=2048,jl(9,{destroy:void 0},_h.bind(null,y,l),null)),[h,_,i]}function _h(i,s){i.action=s}function wh(i){var s=Ur(),l=Wt;if(l!==null)return To(s,l,i);Ur(),s=s.memoizedState,l=Ur();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function jl(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=Ht.updateQueue,s===null&&(s=Nu(),Ht.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function yp(){return Ur().memoizedState}function Ac(i,s,l,h){var y=xi();Ht.flags|=i,y.memoizedState=jl(1|s,{destroy:void 0},l,h===void 0?null:h)}function Sc(i,s,l,h){var y=Ur();h=h===void 0?null:h;var _=y.memoizedState.inst;Wt!==null&&h!==null&&jf(h,Wt.memoizedState.deps)?y.memoizedState=jl(s,_,l,h):(Ht.flags|=i,y.memoizedState=jl(1|s,_,l,h))}function sv(i,s){Ac(8390656,8,i,s)}function Xg(i,s){Sc(2048,8,i,s)}function bE(i){Ht.flags|=4;var s=Ht.updateQueue;if(s===null)s=Nu(),Ht.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function av(i){var s=Ur().memoizedState;return bE({ref:s,nextImpl:i}),function(){if((Jn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ov(i,s){return Sc(4,2,i,s)}function lv(i,s){return Sc(4,4,i,s)}function cv(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function uv(i,s,l){l=l!=null?l.concat([i]):null,Sc(4,4,cv.bind(null,s,i),l)}function Qg(){}function hv(i,s){var l=Ur();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&jf(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function fv(i,s){var l=Ur();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&jf(s,h[1]))return h[0];if(h=i(),ms){Ft(!0);try{i()}finally{Ft(!1)}}return l.memoizedState=[h,s],h}function Jg(i,s,l){return l===void 0||(Fr&1073741824)!==0&&(In&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=d5(),Ht.lanes|=i,Tc|=i,l)}function dv(i,s,l,h){return Oi(l,s)?l:gn.current!==null?(i=Jg(i,l,h),Oi(i,s)||(Ai=!0),i):(Fr&42)===0||(Fr&1073741824)!==0&&(In&261930)===0?(Ai=!0,i.memoizedState=l):(i=d5(),Ht.lanes|=i,Tc|=i,s)}function pv(i,s,l,h,y){var _=pe.p;pe.p=_!==0&&8>_?_:8;var I=ee.T,$={};ee.T=$,t1(i,!1,s,l);try{var me=y(),Oe=ee.S;if(Oe!==null&&Oe($,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ye=B(me,h);Gf(i,s,Ye,ka(i))}else Gf(i,s,h,ka(i))}catch(Je){Gf(i,s,{then:function(){},status:"rejected",reason:Je},ka())}finally{pe.p=_,I!==null&&$.types!==null&&(I.types=$.types),ee.T=I}}function _E(){}function Zg(i,s,l,h){if(i.tag!==5)throw Error(r(476));var y=mv(i).queue;pv(i,y,s,ue,l===null?_E:function(){return gv(i),l(h)})}function mv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:ue},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function gv(i){var s=mv(i);s.next===null&&(s=i.alternate.memoizedState),Gf(i,s.next.queue,{},ka())}function e1(){return Fi(ld)}function yv(){return Ur().memoizedState}function vv(){return Ur().memoizedState}function wE(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ka();i=Xt(l);var h=hn(s,i,l);h!==null&&(da(h,s,l),Xn(h,s,l)),s={cache:_c()},i.payload=s;return}s=s.return}}function xE(i,s,l){var h=ka();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vp(i)?_v(s,l):(l=nh(i,s,l,h),l!==null&&(da(l,i,h),wv(l,s,h)))}function bv(i,s,l){var h=ka();Gf(i,s,l,h)}function Gf(i,s,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(vp(i))_v(s,y);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var I=s.lastRenderedState,$=_(I,l);if(y.hasEagerState=!0,y.eagerState=$,Oi($,I))return bu(i,s,y,0),_r===null&&vu(),!1}catch{}if(l=nh(i,s,y,h),l!==null)return da(l,i,h),wv(l,s,h),!0}return!1}function t1(i,s,l,h){if(h={lane:2,revertLane:D1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},vp(i)){if(s)throw Error(r(479))}else s=nh(i,l,h,2),s!==null&&da(s,i,2)}function vp(i){var s=i.alternate;return i===Ht||s!==null&&s===Ht}function _v(i,s){la=Ns=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function wv(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Zn(i,l)}}var Yf={readContext:Fi,use:wc,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useInsertionEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useSyncExternalStore:pr,useId:pr,useHostTransitionStatus:pr,useFormState:pr,useActionState:pr,useOptimistic:pr,useMemoCache:pr,useCacheRefresh:pr};Yf.useEffectEvent=pr;var xv={readContext:Fi,use:wc,useCallback:function(i,s){return xi().memoizedState=[i,s===void 0?null:s],i},useContext:Fi,useEffect:sv,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Ac(4194308,4,cv.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Ac(4194308,4,i,s)},useInsertionEffect:function(i,s){Ac(4,2,i,s)},useMemo:function(i,s){var l=xi();s=s===void 0?null:s;var h=i();if(ms){Ft(!0);try{i()}finally{Ft(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=xi();if(l!==void 0){var y=l(s);if(ms){Ft(!0);try{l(s)}finally{Ft(!1)}}}else y=s;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=xE.bind(null,Ht,i),[h.memoizedState,i]},useRef:function(i){var s=xi();return i={current:i},s.memoizedState=i},useState:function(i){i=al(i);var s=i.queue,l=bv.bind(null,Ht,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Qg,useDeferredValue:function(i,s){var l=xi();return Jg(l,i,s)},useTransition:function(){var i=al(!1);return i=pv.bind(null,Ht,i.queue,!0,!1),xi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=Ht,y=xi();if(Sn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),_r===null)throw Error(r(349));(In&127)!==0||Eo(h,s,l)}y.memoizedState=l;var _={value:l,getSnapshot:s};return y.queue=_,sv(zf.bind(null,h,_,i),[i]),h.flags|=2048,jl(9,{destroy:void 0},Bf.bind(null,h,_,l,s),null),l},useId:function(){var i=xi(),s=_r.identifierPrefix;if(Sn){var l=aa,h=sa;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=ai++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=dh++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:e1,useFormState:eo,useActionState:eo,useOptimistic:function(i){var s=xi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=t1.bind(null,Ht,!0,l),l.dispatch=s,[i,s]},useMemoCache:Ol,useCacheRefresh:function(){return xi().memoizedState=wE.bind(null,Ht)},useEffectEvent:function(i){var s=xi(),l={impl:i};return s.memoizedState=l,function(){if((Jn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},n1={readContext:Fi,use:wc,useCallback:hv,useContext:Fi,useEffect:Xg,useImperativeHandle:uv,useInsertionEffect:ov,useLayoutEffect:lv,useMemo:fv,useReducer:gh,useRef:yp,useState:function(){return gh(Za)},useDebugValue:Qg,useDeferredValue:function(i,s){var l=Ur();return dv(l,Wt.memoizedState,i,s)},useTransition:function(){var i=gh(Za)[0],s=Ur().memoizedState;return[typeof i=="boolean"?i:sl(i),s]},useSyncExternalStore:vh,useId:yv,useHostTransitionStatus:e1,useFormState:No,useActionState:No,useOptimistic:function(i,s){var l=Ur();return dp(l,Wt,i,s)},useMemoCache:Ol,useCacheRefresh:vv};n1.useEffectEvent=av;var Av={readContext:Fi,use:wc,useCallback:hv,useContext:Fi,useEffect:Xg,useImperativeHandle:uv,useInsertionEffect:ov,useLayoutEffect:lv,useMemo:fv,useReducer:yh,useRef:yp,useState:function(){return yh(Za)},useDebugValue:Qg,useDeferredValue:function(i,s){var l=Ur();return Wt===null?Jg(l,i,s):dv(l,Wt.memoizedState,i,s)},useTransition:function(){var i=yh(Za)[0],s=Ur().memoizedState;return[typeof i=="boolean"?i:sl(i),s]},useSyncExternalStore:vh,useId:yv,useHostTransitionStatus:e1,useFormState:wh,useActionState:wh,useOptimistic:function(i,s){var l=Ur();return Wt!==null?dp(l,Wt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Ol,useCacheRefresh:vv};Av.useEffectEvent=av;function r1(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:b({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var i1={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=ka(),y=Xt(h);y.payload=s,l!=null&&(y.callback=l),s=hn(i,y,h),s!==null&&(da(s,i,h),Xn(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=ka(),y=Xt(h);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=hn(i,y,h),s!==null&&(da(s,i,h),Xn(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ka(),h=Xt(l);h.tag=2,s!=null&&(h.callback=s),s=hn(i,h,l),s!==null&&(da(s,i,l),Xn(s,i,l))}};function Sv(i,s,l,h,y,_,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,I):s.prototype&&s.prototype.isPureReactComponent?!vo(l,h)||!vo(y,_):!0}function Ev(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&i1.enqueueReplaceState(s,s.state,null)}function Cu(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=b({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function Nv(i){yu(i)}function Tv(i){console.error(i)}function Cv(i){yu(i)}function bp(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Iv(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function s1(i,s,l){return l=Xt(l),l.tag=3,l.payload={element:null},l.callback=function(){bp(i,s)},l}function Rv(i){return i=Xt(i),i.tag=3,i}function Lv(i,s,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=h.value;i.payload=function(){return y(_)},i.callback=function(){Iv(s,l,h)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){Iv(s,l,h),typeof y!="function"&&(Cc===null?Cc=new Set([this]):Cc.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function AE(i,s,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&tl(s,l,y,!0),l=Lr.current,l!==null){switch(l.tag){case 31:case 13:return Vn===null?Lp():l.alternate===null&&oi===0&&(oi=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===xe?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),R1(i,h,y)),!1;case 22:return l.flags|=65536,h===xe?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),R1(i,h,y)),!1}throw Error(r(435,l.tag))}return R1(i,h,y),Lp(),!1}if(Sn)return s=Lr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==Ia&&(i=Error(r(422),{cause:h}),vc(na(i,l)))):(h!==Ia&&(s=Error(r(423),{cause:h}),vc(na(s,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=na(h,l),y=s1(i.stateNode,h,y),hi(i,y),oi!==4&&(oi=2)),!1;var _=Error(r(520),{cause:h});if(_=na(_,l),ed===null?ed=[_]:ed.push(_),oi!==4&&(oi=2),s===null)return!0;h=na(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=s1(l.stateNode,h,i),hi(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Cc===null||!Cc.has(_))))return l.flags|=65536,y&=-y,l.lanes|=y,y=Rv(y),Lv(y,i,l,h),hi(l,y),!1}l=l.return}while(l!==null);return!1}var a1=Error(r(461)),Ai=!1;function gs(i,s,l,h){s.child=i===null?on(s,null,l,h):br(s,i.child,l,h)}function kv(i,s,l,h,y){l=l.render;var _=s.ref;if("ref"in h){var I={};for(var $ in h)$!=="ref"&&(I[$]=h[$])}else I=h;return nl(s),h=Vf(i,s,l,I,_,y),$=Ff(),i!==null&&!Ai?(Uf(i,s,y),Vl(i,s,y)):(Sn&&$&&Pf(s),s.flags|=1,gs(i,s,h,y),s.child)}function Dv(i,s,l,h,y){if(i===null){var _=l.type;return typeof _=="function"&&!ih(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,Pv(i,s,_,h,y)):(i=mc(l.type,null,h,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!p1(i,y)){var I=_.memoizedProps;if(l=l.compare,l=l!==null?l:vo,l(I,h)&&i.ref===s.ref)return Vl(i,s,y)}return s.flags|=1,i=ta(_,h),i.ref=s.ref,i.return=s,s.child=i}function Pv(i,s,l,h,y){if(i!==null){var _=i.memoizedProps;if(vo(_,h)&&i.ref===s.ref)if(Ai=!1,s.pendingProps=h=_,p1(i,y))(i.flags&131072)!==0&&(Ai=!0);else return s.lanes=i.lanes,Vl(i,s,y)}return o1(i,s,l,h,y)}function Ov(i,s,l,h){var y=h.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(h=s.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~_}else h=0,s.child=null;return Mv(i,s,_,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Z(s,_!==null?_.cachePool:null),_!==null?Rr(s,_):qn(),ii(s);else return h=s.lanes=536870912,Mv(i,s,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(Z(s,_.cachePool),Rr(s,_),si(),s.memoizedState=null):(i!==null&&Z(s,null),qn(),si());return gs(i,s,y,l),s.child}function Wf(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Mv(i,s,l,h,y){var _=Q();return _=_===null?null:{parent:$r._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&Z(s,null),qn(),ii(s),i!==null&&tl(i,s,h,!0),s.childLanes=y,null}function _p(i,s){return s=xp({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function jv(i,s,l){return br(s,i.child,null,l),i=_p(s,s.pendingProps),i.flags|=2,sr(s),s.memoizedState=null,i}function SE(i,s,l){var h=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Sn){if(h.mode==="hidden")return i=_p(s,h),s.lanes=536870912,Wf(null,i);if(Qn(s),(i=vr)?(i=$5(i,Vr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Qo!==null?{id:sa,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},l=sh(i),l.return=s,s.child=l,ji=s,vr=null)):i=null,i===null)throw Jo(s);return s.lanes=536870912,null}return _p(s,h)}var _=i.memoizedState;if(_!==null){var I=_.dehydrated;if(Qn(s),y)if(s.flags&256)s.flags&=-257,s=jv(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ai||tl(i,s,l,!1),y=(l&i.childLanes)!==0,Ai||y){if(h=_r,h!==null&&(I=er(h,l),I!==0&&I!==_.retryLane))throw _.retryLane=I,xo(i,I),da(h,i,I),a1;Lp(),s=jv(i,s,l)}else i=_.treeContext,vr=to(I.nextSibling),ji=s,Sn=!0,ps=null,Vr=!1,i!==null&&up(s,i),s=_p(s,h),s.flags|=4096;return s}return i=ta(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function wp(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function o1(i,s,l,h,y){return nl(s),l=Vf(i,s,l,h,void 0,y),h=Ff(),i!==null&&!Ai?(Uf(i,s,y),Vl(i,s,y)):(Sn&&h&&Pf(s),s.flags|=1,gs(i,s,l,y),s.child)}function Vv(i,s,l,h,y,_){return nl(s),s.updateQueue=null,l=So(s,h,l,y),ph(i),h=Ff(),i!==null&&!Ai?(Uf(i,s,_),Vl(i,s,_)):(Sn&&h&&Pf(s),s.flags|=1,gs(i,s,l,_),s.child)}function Fv(i,s,l,h,y){if(nl(s),s.stateNode===null){var _=Mi,I=l.contextType;typeof I=="object"&&I!==null&&(_=Fi(I)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=i1,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},ht(s),I=l.contextType,_.context=typeof I=="object"&&I!==null?Fi(I):Mi,_.state=s.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(r1(s,l,I,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&i1.enqueueReplaceState(_,_.state,null),ni(s,h,_,y),dr(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var $=s.memoizedProps,me=Cu(l,$);_.props=me;var Oe=_.context,Ye=l.contextType;I=Mi,typeof Ye=="object"&&Ye!==null&&(I=Fi(Ye));var Je=l.getDerivedStateFromProps;Ye=typeof Je=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=s.pendingProps!==$,Ye||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||Oe!==I)&&Ev(s,_,h,I),_t=!1;var je=s.memoizedState;_.state=je,ni(s,h,_,y),dr(),Oe=s.memoizedState,$||je!==Oe||_t?(typeof Je=="function"&&(r1(s,l,Je,h),Oe=s.memoizedState),(me=_t||Sv(s,l,me,h,je,Oe,I))?(Ye||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Oe),_.props=h,_.state=Oe,_.context=I,h=me):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,Ir(i,s),I=s.memoizedProps,Ye=Cu(l,I),_.props=Ye,Je=s.pendingProps,je=_.context,Oe=l.contextType,me=Mi,typeof Oe=="object"&&Oe!==null&&(me=Fi(Oe)),$=l.getDerivedStateFromProps,(Oe=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Je||je!==me)&&Ev(s,_,h,me),_t=!1,je=s.memoizedState,_.state=je,ni(s,h,_,y),dr();var Fe=s.memoizedState;I!==Je||je!==Fe||_t||i!==null&&i.dependencies!==null&&uh(i.dependencies)?(typeof $=="function"&&(r1(s,l,$,h),Fe=s.memoizedState),(Ye=_t||Sv(s,l,Ye,h,je,Fe,me)||i!==null&&i.dependencies!==null&&uh(i.dependencies))?(Oe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,Fe,me),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,Fe,me)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Fe),_.props=h,_.state=Fe,_.context=me,h=Ye):(typeof _.componentDidUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,wp(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=br(s,i.child,null,y),s.child=br(s,null,l,y)):gs(i,s,l,y),s.memoizedState=_.state,i=s.child):i=Vl(i,s,y),i}function Uv(i,s,l,h){return Dl(),s.flags|=256,gs(i,s,l,h),s.child}var l1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c1(i){return{baseLanes:i,cachePool:le()}}function u1(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=La),i}function Bv(i,s,l){var h=s.pendingProps,y=!1,_=(s.flags&128)!==0,I;if((I=_)||(I=i!==null&&i.memoizedState===null?!1:(On.current&2)!==0),I&&(y=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,i===null){if(Sn){if(y?Xr(s):si(),(i=vr)?(i=$5(i,Vr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Qo!==null?{id:sa,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},l=sh(i),l.return=s,s.child=l,ji=s,vr=null)):i=null,i===null)throw Jo(s);return Y1(i)?s.lanes=32:s.lanes=536870912,null}var $=h.children;return h=h.fallback,y?(si(),y=s.mode,$=xp({mode:"hidden",children:$},y),h=Xo(h,y,l,null),$.return=s,h.return=s,$.sibling=h,s.child=$,h=s.child,h.memoizedState=c1(l),h.childLanes=u1(i,I,l),s.memoizedState=l1,Wf(null,h)):(Xr(s),h1(s,$))}var me=i.memoizedState;if(me!==null&&($=me.dehydrated,$!==null)){if(_)s.flags&256?(Xr(s),s.flags&=-257,s=f1(i,s,l)):s.memoizedState!==null?(si(),s.child=i.child,s.flags|=128,s=null):(si(),$=h.fallback,y=s.mode,h=xp({mode:"visible",children:h.children},y),$=Xo($,y,l,null),$.flags|=2,h.return=s,$.return=s,h.sibling=$,s.child=h,br(s,i.child,null,l),h=s.child,h.memoizedState=c1(l),h.childLanes=u1(i,I,l),s.memoizedState=l1,s=Wf(null,h));else if(Xr(s),Y1($)){if(I=$.nextSibling&&$.nextSibling.dataset,I)var Oe=I.dgst;I=Oe,h=Error(r(419)),h.stack="",h.digest=I,vc({value:h,source:null,stack:null}),s=f1(i,s,l)}else if(Ai||tl(i,s,l,!1),I=(l&i.childLanes)!==0,Ai||I){if(I=_r,I!==null&&(h=er(I,l),h!==0&&h!==me.retryLane))throw me.retryLane=h,xo(i,h),da(I,i,h),a1;G1($)||Lp(),s=f1(i,s,l)}else G1($)?(s.flags|=192,s.child=i.child,s=null):(i=me.treeContext,vr=to($.nextSibling),ji=s,Sn=!0,ps=null,Vr=!1,i!==null&&up(s,i),s=h1(s,h.children),s.flags|=4096);return s}return y?(si(),$=h.fallback,y=s.mode,me=i.child,Oe=me.sibling,h=ta(me,{mode:"hidden",children:h.children}),h.subtreeFlags=me.subtreeFlags&65011712,Oe!==null?$=ta(Oe,$):($=Xo($,y,l,null),$.flags|=2),$.return=s,h.return=s,h.sibling=$,s.child=h,Wf(null,h),h=s.child,$=i.child.memoizedState,$===null?$=c1(l):(y=$.cachePool,y!==null?(me=$r._currentValue,y=y.parent!==me?{parent:me,pool:me}:y):y=le(),$={baseLanes:$.baseLanes|l,cachePool:y}),h.memoizedState=$,h.childLanes=u1(i,I,l),s.memoizedState=l1,Wf(i.child,h)):(Xr(s),l=i.child,i=l.sibling,l=ta(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(I=s.deletions,I===null?(s.deletions=[i],s.flags|=16):I.push(i)),s.child=l,s.memoizedState=null,l)}function h1(i,s){return s=xp({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function xp(i,s){return i=Qi(22,i,null,s),i.lanes=0,i}function f1(i,s,l){return br(s,i.child,null,l),i=h1(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function zv(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),bc(i.return,s,l)}function d1(i,s,l,h,y,_){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:_}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=l,I.tailMode=y,I.treeForkCount=_)}function qv(i,s,l){var h=s.pendingProps,y=h.revealOrder,_=h.tail;h=h.children;var I=On.current,$=(I&2)!==0;if($?(I=I&1|2,s.flags|=128):I&=1,z(On,I),gs(i,s,h,l),h=Sn?Au:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&zv(i,l,s);else if(i.tag===19)zv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)i=l.alternate,i!==null&&Zi(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),d1(s,!1,y,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&Zi(i)===null){s.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}d1(s,!0,l,null,_,h);break;case"together":d1(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Vl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Tc|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(tl(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=ta(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ta(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function p1(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&uh(i)))}function EE(i,s,l){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),el(s,$r,i.memoizedState.cache),Dl();break;case 27:case 5:Ue(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:el(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Qn(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Xr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Bv(i,s,l):(Xr(s),i=Vl(i,s,l),i!==null?i.sibling:null);Xr(s);break;case 19:var y=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(tl(i,s,l,!1),h=(l&s.childLanes)!==0),y){if(h)return qv(i,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),z(On,On.current),h)break;return null;case 22:return s.lanes=0,Ov(i,s,l,s.pendingProps);case 24:el(s,$r,i.memoizedState.cache)}return Vl(i,s,l)}function Hv(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ai=!0;else{if(!p1(i,l)&&(s.flags&128)===0)return Ai=!1,EE(i,s,l);Ai=(i.flags&131072)!==0}else Ai=!1,Sn&&(s.flags&1048576)!==0&&cp(s,Au,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(i=ke(s.elementType),s.type=i,typeof i=="function")ih(i)?(h=Cu(i,h),s.tag=1,s=Fv(null,s,i,h,l)):(s.tag=0,s=o1(null,s,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===H){s.tag=11,s=kv(null,s,i,h,l);break e}else if(y===q){s.tag=14,s=Dv(null,s,i,h,l);break e}}throw s=he(i)||i,Error(r(306,s,""))}}return s;case 0:return o1(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,y=Cu(h,s.pendingProps),Fv(i,s,h,y,l);case 3:e:{if(Ee(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;y=_.element,Ir(i,s),ni(s,h,null,l);var I=s.memoizedState;if(h=I.cache,el(s,$r,h),h!==_.cache&&Pl(s,[$r],l,!0),dr(),h=I.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Uv(i,s,h,l);break e}else if(h!==y){y=na(Error(r(424)),s),vc(y),s=Uv(i,s,h,l);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,vr=to(i.firstChild),ji=s,Sn=!0,ps=null,Vr=!0,l=on(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Dl(),h===y){s=Vl(i,s,l);break e}gs(i,s,h,l)}s=s.child}return s;case 26:return wp(i,s),i===null?(l=tb(s.type,null,s.pendingProps,null))?s.memoizedState=l:Sn||(l=s.type,i=s.pendingProps,h=Vp(de.current).createElement(l),h[Gn]=s,h[rr]=i,ys(h,l,i),Cr(h),s.stateNode=h):s.memoizedState=tb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ue(s),i===null&&Sn&&(h=s.stateNode=J5(s.type,s.pendingProps,de.current),ji=s,Vr=!0,y=vr,kc(s.type)?(W1=y,vr=to(h.firstChild)):vr=y),gs(i,s,s.pendingProps.children,l),wp(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Sn&&((y=h=vr)&&(h=t6(h,s.type,s.pendingProps,Vr),h!==null?(s.stateNode=h,ji=s,vr=to(h.firstChild),Vr=!1,y=!0):y=!1),y||Jo(s)),Ue(s),y=s.type,_=s.pendingProps,I=i!==null?i.memoizedProps:null,h=_.children,z1(y,_)?h=null:I!==null&&z1(y,I)&&(s.flags|=32),s.memoizedState!==null&&(y=Vf(i,s,$g,null,null,l),ld._currentValue=y),wp(i,s),gs(i,s,h,l),s.child;case 6:return i===null&&Sn&&((i=l=vr)&&(l=n6(l,s.pendingProps,Vr),l!==null?(s.stateNode=l,ji=s,vr=null,i=!0):i=!1),i||Jo(s)),null;case 13:return Bv(i,s,l);case 4:return Ee(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=br(s,null,h,l):gs(i,s,h,l),s.child;case 11:return kv(i,s,s.type,s.pendingProps,l);case 7:return gs(i,s,s.pendingProps,l),s.child;case 8:return gs(i,s,s.pendingProps.children,l),s.child;case 12:return gs(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,el(s,s.type,h.value),gs(i,s,h.children,l),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,nl(s),y=Fi(y),h=h(y),s.flags|=1,gs(i,s,h,l),s.child;case 14:return Dv(i,s,s.type,s.pendingProps,l);case 15:return Pv(i,s,s.type,s.pendingProps,l);case 19:return qv(i,s,l);case 31:return SE(i,s,l);case 22:return Ov(i,s,l,s.pendingProps);case 24:return nl(s),h=Fi($r),i===null?(y=Q(),y===null&&(y=_r,_=_c(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=l),y=_),s.memoizedState={parent:h,cache:y},ht(s),el(s,$r,y)):((i.lanes&l)!==0&&(Ir(i,s),ni(s,null,null,l),dr()),y=i.memoizedState,_=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),el(s,$r,h)):(h=_.cache,el(s,$r,h),h!==y.cache&&Pl(s,[$r],l,!0))),gs(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fl(i){i.flags|=4}function m1(i,s,l,h,y){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(y5())i.flags|=8192;else throw ze=xe,De}else i.flags&=-16777217}function Gv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ab(s))if(y5())i.flags|=8192;else throw ze=xe,De}function Ap(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?cr():536870912,i.lanes|=s,Eh|=s)}function Kf(i,s){if(!Sn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function kr(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function NE(i,s,l){var h=s.pendingProps;switch(lh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(s),null;case 1:return kr(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),oa($r),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Vi(s)?Fl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mf())),kr(s),null;case 26:var y=s.type,_=s.memoizedState;return i===null?(Fl(s),_!==null?(kr(s),Gv(s,_)):(kr(s),m1(s,y,null,h,l))):_?_!==i.memoizedState?(Fl(s),kr(s),Gv(s,_)):(kr(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Fl(s),kr(s),m1(s,y,i,h,l)),null;case 27:if(et(s),l=de.current,y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Fl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return kr(s),null}i=K.current,Vi(s)?Of(s):(i=J5(y,h,l),s.stateNode=i,Fl(s))}return kr(s),null;case 5:if(et(s),y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Fl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return kr(s),null}if(_=K.current,Vi(s))Of(s);else{var I=Vp(de.current);switch(_){case 1:_=I.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=I.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=I.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?I.createElement(y,{is:h.is}):I.createElement(y)}}_[Gn]=s,_[rr]=h;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)_.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=_;e:switch(ys(_,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Fl(s)}}return kr(s),m1(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Fl(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=de.current,Vi(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,y=ji,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Gn]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||B5(i.nodeValue,l)),i||Jo(s,!0)}else i=Vp(i).createTextNode(h),i[Gn]=s,s.stateNode=i}return kr(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(h=Vi(s),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Gn]=s}else Dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kr(s),i=!1}else l=Mf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(sr(s),s):(sr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return kr(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Vi(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Gn]=s}else Dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kr(s),y=!1}else y=Mf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(sr(s),s):(sr(s),null)}return sr(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==y&&(h.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Ap(s,s.updateQueue),kr(s),null);case 4:return Le(),i===null&&j1(s.stateNode.containerInfo),kr(s),null;case 10:return oa(s.type),kr(s),null;case 19:if(P(On),h=s.memoizedState,h===null)return kr(s),null;if(y=(s.flags&128)!==0,_=h.rendering,_===null)if(y)Kf(h,!1);else{if(oi!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Zi(i),_!==null){for(s.flags|=128,Kf(h,!1),i=_.updateQueue,s.updateQueue=i,Ap(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)wu(l,i),l=l.sibling;return z(On,On.current&1|2),Sn&&Ys(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&Ke()>Cp&&(s.flags|=128,y=!0,Kf(h,!1),s.lanes=4194304)}else{if(!y)if(i=Zi(_),i!==null){if(s.flags|=128,y=!0,i=i.updateQueue,s.updateQueue=i,Ap(s,i),Kf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Sn)return kr(s),null}else 2*Ke()-h.renderingStartTime>Cp&&l!==536870912&&(s.flags|=128,y=!0,Kf(h,!1),s.lanes=4194304);h.isBackwards?(_.sibling=s.child,s.child=_):(i=h.last,i!==null?i.sibling=_:s.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ke(),i.sibling=null,l=On.current,z(On,y?l&1|2:l&1),Sn&&Ys(s,h.treeForkCount),i):(kr(s),null);case 22:case 23:return sr(s),fi(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(kr(s),s.subtreeFlags&6&&(s.flags|=8192)):kr(s),l=s.updateQueue,l!==null&&Ap(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&P(W),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),oa($r),kr(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function TE(i,s){switch(lh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return oa($r),Le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return et(s),null;case 31:if(s.memoizedState!==null){if(sr(s),s.alternate===null)throw Error(r(340));Dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(sr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return P(On),null;case 4:return Le(),null;case 10:return oa(s.type),null;case 22:case 23:return sr(s),fi(),i!==null&&P(W),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return oa($r),null;case 25:return null;default:return null}}function Yv(i,s){switch(lh(s),s.tag){case 3:oa($r),Le();break;case 26:case 27:case 5:et(s);break;case 4:Le();break;case 31:s.memoizedState!==null&&sr(s);break;case 13:sr(s);break;case 19:P(On);break;case 10:oa(s.type);break;case 22:case 23:sr(s),fi(),i!==null&&P(W);break;case 24:oa($r)}}function $f(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var _=l.create,I=l.inst;h=_(),I.destroy=h}l=l.next}while(l!==y)}}catch($){or(s,s.return,$)}}function Ec(i,s,l){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var _=y.next;h=_;do{if((h.tag&i)===i){var I=h.inst,$=I.destroy;if($!==void 0){I.destroy=void 0,y=s;var me=l,Oe=$;try{Oe()}catch(Ye){or(y,me,Ye)}}}h=h.next}while(h!==_)}}catch(Ye){or(s,s.return,Ye)}}function Wv(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{ri(s,l)}catch(h){or(i,i.return,h)}}}function Kv(i,s,l){l.props=Cu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){or(i,s,h)}}function Xf(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){or(i,s,y)}}function ol(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){or(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){or(i,s,y)}else l.current=null}function $v(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){or(i,i.return,y)}}function g1(i,s,l){try{var h=i.stateNode;$E(h,i.type,l,s),h[rr]=s}catch(y){or(i,i.return,y)}}function Xv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&kc(i.type)||i.tag===4}function y1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&kc(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function v1(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Fs));else if(h!==4&&(h===27&&kc(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(v1(i,s,l),i=i.sibling;i!==null;)v1(i,s,l),i=i.sibling}function Sp(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&kc(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Sp(i,s,l),i=i.sibling;i!==null;)Sp(i,s,l),i=i.sibling}function Qv(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);ys(s,h,l),s[Gn]=i,s[rr]=l}catch(_){or(i,i.return,_)}}var Ul=!1,Si=!1,b1=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,es=null;function CE(i,s){if(i=i.containerInfo,U1=Gp,i=_o(i),Xa(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var I=0,$=-1,me=-1,Oe=0,Ye=0,Je=i,je=null;t:for(;;){for(var Fe;Je!==l||y!==0&&Je.nodeType!==3||($=I+y),Je!==_||h!==0&&Je.nodeType!==3||(me=I+h),Je.nodeType===3&&(I+=Je.nodeValue.length),(Fe=Je.firstChild)!==null;)je=Je,Je=Fe;for(;;){if(Je===i)break t;if(je===l&&++Oe===y&&($=I),je===_&&++Ye===h&&(me=I),(Fe=Je.nextSibling)!==null)break;Je=je,je=Je.parentNode}Je=Fe}l=$===-1||me===-1?null:{start:$,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(B1={focusedElem:i,selectionRange:l},Gp=!1,es=s;es!==null;)if(s=es,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,es=i;else for(;es!==null;){switch(s=es,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,y=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Nt=Cu(l.type,y);i=h.getSnapshotBeforeUpdate(Nt,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Jt){or(l,l.return,Jt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)H1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":H1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,es=i;break}es=s.return}}function Zv(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:zl(i,l),h&4&&$f(5,l);break;case 1:if(zl(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(I){or(l,l.return,I)}else{var y=Cu(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(I){or(l,l.return,I)}}h&64&&Wv(l),h&512&&Xf(l,l.return);break;case 3:if(zl(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ri(i,s)}catch(I){or(l,l.return,I)}}break;case 27:s===null&&h&4&&Qv(l);case 26:case 5:zl(i,l),s===null&&h&4&&$v(l),h&512&&Xf(l,l.return);break;case 12:zl(i,l);break;case 31:zl(i,l),h&4&&n5(i,l);break;case 13:zl(i,l),h&4&&r5(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=jE.bind(null,l),r6(i,l))));break;case 22:if(h=l.memoizedState!==null||Ul,!h){s=s!==null&&s.memoizedState!==null||Si,y=Ul;var _=Si;Ul=h,(Si=s)&&!_?ql(i,l,(l.subtreeFlags&8772)!==0):zl(i,l),Ul=y,Si=_}break;case 30:break;default:zl(i,l)}}function e5(i){var s=i.alternate;s!==null&&(i.alternate=null,e5(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&_a(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Br=null,ca=!1;function Bl(i,s,l){for(l=l.child;l!==null;)t5(i,s,l),l=l.sibling}function t5(i,s,l){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Zt,l)}catch{}switch(l.tag){case 26:Si||ol(l,s),Bl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Si||ol(l,s);var h=Br,y=ca;kc(l.type)&&(Br=l.stateNode,ca=!1),Bl(i,s,l),sd(l.stateNode),Br=h,ca=y;break;case 5:Si||ol(l,s);case 6:if(h=Br,y=ca,Br=null,Bl(i,s,l),Br=h,ca=y,Br!==null)if(ca)try{(Br.nodeType===9?Br.body:Br.nodeName==="HTML"?Br.ownerDocument.body:Br).removeChild(l.stateNode)}catch(_){or(l,s,_)}else try{Br.removeChild(l.stateNode)}catch(_){or(l,s,_)}break;case 18:Br!==null&&(ca?(i=Br,W5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Dh(i)):W5(Br,l.stateNode));break;case 4:h=Br,y=ca,Br=l.stateNode.containerInfo,ca=!0,Bl(i,s,l),Br=h,ca=y;break;case 0:case 11:case 14:case 15:Ec(2,l,s),Si||Ec(4,l,s),Bl(i,s,l);break;case 1:Si||(ol(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Kv(l,s,h)),Bl(i,s,l);break;case 21:Bl(i,s,l);break;case 22:Si=(h=Si)||l.memoizedState!==null,Bl(i,s,l),Si=h;break;default:Bl(i,s,l)}}function n5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Dh(i)}catch(l){or(s,s.return,l)}}}function r5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dh(i)}catch(l){or(s,s.return,l)}}function IE(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Jv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Jv),s;default:throw Error(r(435,i.tag))}}function Ep(i,s){var l=IE(i);s.forEach(function(h){if(!l.has(h)){l.add(h);var y=VE.bind(null,i,h);h.then(y,y)}})}function ua(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],_=i,I=s,$=I;e:for(;$!==null;){switch($.tag){case 27:if(kc($.type)){Br=$.stateNode,ca=!1;break e}break;case 5:Br=$.stateNode,ca=!1;break e;case 3:case 4:Br=$.stateNode.containerInfo,ca=!0;break e}$=$.return}if(Br===null)throw Error(r(160));t5(_,I,y),Br=null,ca=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)i5(s,i),s=s.sibling}var Co=null;function i5(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ua(s,i),ha(i),h&4&&(Ec(3,i,i.return),$f(3,i),Ec(5,i,i.return));break;case 1:ua(s,i),ha(i),h&512&&(Si||l===null||ol(l,l.return)),h&64&&Ul&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=Co;if(ua(s,i),ha(i),h&512&&(Si||l===null||ol(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":_=y.getElementsByTagName("title")[0],(!_||_[Gi]||_[Gn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(h),y.head.insertBefore(_,y.querySelector("head > title"))),ys(_,h,l),_[Gn]=i,Cr(_),h=_;break e;case"link":var I=ib("link","href",y).get(h+(l.href||""));if(I){for(var $=0;$<I.length;$++)if(_=I[$],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice($,1);break t}}_=y.createElement(h),ys(_,h,l),y.head.appendChild(_);break;case"meta":if(I=ib("meta","content",y).get(h+(l.content||""))){for($=0;$<I.length;$++)if(_=I[$],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice($,1);break t}}_=y.createElement(h),ys(_,h,l),y.head.appendChild(_);break;default:throw Error(r(468,h))}_[Gn]=i,Cr(_),h=_}i.stateNode=h}else sb(y,i.type,i.stateNode);else i.stateNode=rb(y,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?sb(y,i.type,i.stateNode):rb(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&g1(i,i.memoizedProps,l.memoizedProps)}break;case 27:ua(s,i),ha(i),h&512&&(Si||l===null||ol(l,l.return)),l!==null&&h&4&&g1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ua(s,i),ha(i),h&512&&(Si||l===null||ol(l,l.return)),i.flags&32){y=i.stateNode;try{ci(y,"")}catch(Nt){or(i,i.return,Nt)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,g1(i,y,l!==null?l.memoizedProps:y)),h&1024&&(b1=!0);break;case 6:if(ua(s,i),ha(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Nt){or(i,i.return,Nt)}}break;case 3:if(Bp=null,y=Co,Co=Fp(s.containerInfo),ua(s,i),Co=y,ha(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Dh(s.containerInfo)}catch(Nt){or(i,i.return,Nt)}b1&&(b1=!1,s5(i));break;case 4:h=Co,Co=Fp(i.stateNode.containerInfo),ua(s,i),ha(i),Co=h;break;case 12:ua(s,i),ha(i);break;case 31:ua(s,i),ha(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ep(i,h)));break;case 13:ua(s,i),ha(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Tp=Ke()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ep(i,h)));break;case 22:y=i.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,Oe=Ul,Ye=Si;if(Ul=Oe||y,Si=Ye||me,ua(s,i),Si=Ye,Ul=Oe,ha(i),h&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||me||Ul||Si||Iu(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){me=l=s;try{if(_=me.stateNode,y)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{$=me.stateNode;var Je=me.memoizedProps.style,je=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;$.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Nt){or(me,me.return,Nt)}}}else if(s.tag===6){if(l===null){me=s;try{me.stateNode.nodeValue=y?"":me.memoizedProps}catch(Nt){or(me,me.return,Nt)}}}else if(s.tag===18){if(l===null){me=s;try{var Fe=me.stateNode;y?K5(Fe,!0):K5(me.stateNode,!1)}catch(Nt){or(me,me.return,Nt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Ep(i,l))));break;case 19:ua(s,i),ha(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ep(i,h)));break;case 30:break;case 21:break;default:ua(s,i),ha(i)}}function ha(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(Xv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,_=y1(i);Sp(i,_,y);break;case 5:var I=l.stateNode;l.flags&32&&(ci(I,""),l.flags&=-33);var $=y1(i);Sp(i,$,I);break;case 3:case 4:var me=l.stateNode.containerInfo,Oe=y1(i);v1(i,Oe,me);break;default:throw Error(r(161))}}catch(Ye){or(i,i.return,Ye)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function s5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;s5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function zl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Zv(i,s.alternate,s),s=s.sibling}function Iu(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ec(4,s,s.return),Iu(s);break;case 1:ol(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Kv(s,s.return,l),Iu(s);break;case 27:sd(s.stateNode);case 26:case 5:ol(s,s.return),Iu(s);break;case 22:s.memoizedState===null&&Iu(s);break;case 30:Iu(s);break;default:Iu(s)}i=i.sibling}}function ql(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=i,_=s,I=_.flags;switch(_.tag){case 0:case 11:case 15:ql(y,_,l),$f(4,_);break;case 1:if(ql(y,_,l),h=_,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Oe){or(h,h.return,Oe)}if(h=_,y=h.updateQueue,y!==null){var $=h.stateNode;try{var me=y.shared.hiddenCallbacks;if(me!==null)for(y.shared.hiddenCallbacks=null,y=0;y<me.length;y++)Ji(me[y],$)}catch(Oe){or(h,h.return,Oe)}}l&&I&64&&Wv(_),Xf(_,_.return);break;case 27:Qv(_);case 26:case 5:ql(y,_,l),l&&h===null&&I&4&&$v(_),Xf(_,_.return);break;case 12:ql(y,_,l);break;case 31:ql(y,_,l),l&&I&4&&n5(y,_);break;case 13:ql(y,_,l),l&&I&4&&r5(y,_);break;case 22:_.memoizedState===null&&ql(y,_,l),Xf(_,_.return);break;case 30:break;default:ql(y,_,l)}s=s.sibling}}function _1(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Su(l))}function w1(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Su(i))}function Io(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a5(i,s,l,h),s=s.sibling}function a5(i,s,l,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Io(i,s,l,h),y&2048&&$f(9,s);break;case 1:Io(i,s,l,h);break;case 3:Io(i,s,l,h),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Su(i)));break;case 12:if(y&2048){Io(i,s,l,h),i=s.stateNode;try{var _=s.memoizedProps,I=_.id,$=_.onPostCommit;typeof $=="function"&&$(I,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(me){or(s,s.return,me)}}else Io(i,s,l,h);break;case 31:Io(i,s,l,h);break;case 13:Io(i,s,l,h);break;case 23:break;case 22:_=s.stateNode,I=s.alternate,s.memoizedState!==null?_._visibility&2?Io(i,s,l,h):Qf(i,s):_._visibility&2?Io(i,s,l,h):(_._visibility|=2,xh(i,s,l,h,(s.subtreeFlags&10256)!==0||!1)),y&2048&&_1(I,s);break;case 24:Io(i,s,l,h),y&2048&&w1(s.alternate,s);break;default:Io(i,s,l,h)}}function xh(i,s,l,h,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,I=s,$=l,me=h,Oe=I.flags;switch(I.tag){case 0:case 11:case 15:xh(_,I,$,me,y),$f(8,I);break;case 23:break;case 22:var Ye=I.stateNode;I.memoizedState!==null?Ye._visibility&2?xh(_,I,$,me,y):Qf(_,I):(Ye._visibility|=2,xh(_,I,$,me,y)),y&&Oe&2048&&_1(I.alternate,I);break;case 24:xh(_,I,$,me,y),y&&Oe&2048&&w1(I.alternate,I);break;default:xh(_,I,$,me,y)}s=s.sibling}}function Qf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,y=h.flags;switch(h.tag){case 22:Qf(l,h),y&2048&&_1(h.alternate,h);break;case 24:Qf(l,h),y&2048&&w1(h.alternate,h);break;default:Qf(l,h)}s=s.sibling}}var Jf=8192;function Ah(i,s,l){if(i.subtreeFlags&Jf)for(i=i.child;i!==null;)o5(i,s,l),i=i.sibling}function o5(i,s,l){switch(i.tag){case 26:Ah(i,s,l),i.flags&Jf&&i.memoizedState!==null&&m6(l,Co,i.memoizedState,i.memoizedProps);break;case 5:Ah(i,s,l);break;case 3:case 4:var h=Co;Co=Fp(i.stateNode.containerInfo),Ah(i,s,l),Co=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Jf,Jf=16777216,Ah(i,s,l),Jf=h):Ah(i,s,l));break;default:Ah(i,s,l)}}function l5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Zf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];es=h,u5(h,i)}l5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c5(i),i=i.sibling}function c5(i){switch(i.tag){case 0:case 11:case 15:Zf(i),i.flags&2048&&Ec(9,i,i.return);break;case 3:Zf(i);break;case 12:Zf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Np(i)):Zf(i);break;default:Zf(i)}}function Np(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];es=h,u5(h,i)}l5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ec(8,s,s.return),Np(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Np(s));break;default:Np(s)}i=i.sibling}}function u5(i,s){for(;es!==null;){var l=es;switch(l.tag){case 0:case 11:case 15:Ec(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Su(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,es=h;else e:for(l=i;es!==null;){h=es;var y=h.sibling,_=h.return;if(e5(h),h===l){es=null;break e}if(y!==null){y.return=_,es=y;break e}es=_}}}var RE={getCacheForType:function(i){var s=Fi($r),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Fi($r).controller.signal}},LE=typeof WeakMap=="function"?WeakMap:Map,Jn=0,_r=null,En=null,In=0,ar=0,Ra=null,Nc=!1,Sh=!1,x1=!1,Hl=0,oi=0,Tc=0,Ru=0,A1=0,La=0,Eh=0,ed=null,fa=null,S1=!1,Tp=0,h5=0,Cp=1/0,Ip=null,Cc=null,Bi=0,Ic=null,Nh=null,Gl=0,E1=0,N1=null,f5=null,td=0,T1=null;function ka(){return(Jn&2)!==0&&In!==0?In&-In:ee.T!==null?D1():Hr()}function d5(){if(La===0)if((In&536870912)===0||Sn){var i=Mn;Mn<<=1,(Mn&3932160)===0&&(Mn=262144),La=i}else La=536870912;return i=Lr.current,i!==null&&(i.flags|=32),La}function da(i,s,l){(i===_r&&(ar===2||ar===9)||i.cancelPendingCommit!==null)&&(Th(i,0),Rc(i,In,La,!1)),pt(i,l),((Jn&2)===0||i!==_r)&&(i===_r&&((Jn&2)===0&&(Ru|=l),oi===4&&Rc(i,In,La,!1)),ll(i))}function p5(i,s,l){if((Jn&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&i.expiredLanes)===0||_n(i,s),y=h?PE(i,s):I1(i,s,!0),_=h;do{if(y===0){Sh&&!h&&Rc(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!kE(l)){y=I1(i,s,!1),_=!1;continue}if(y===2){if(_=s,i.errorRecoveryDisabledLanes&_)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var $=i;y=ed;var me=$.current.memoizedState.isDehydrated;if(me&&(Th($,I).flags|=256),I=I1($,I,!1),I!==2){if(x1&&!me){$.errorRecoveryDisabledLanes|=_,Ru|=_,y=4;break e}_=fa,fa=y,_!==null&&(fa===null?fa=_:fa.push.apply(fa,_))}y=I}if(_=!1,y!==2)continue}}if(y===1){Th(i,0),Rc(i,s,0,!0);break}e:{switch(h=i,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Rc(h,s,La,!Nc);break e;case 2:fa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=Tp+300-Ke(),10<y)){if(Rc(h,s,La,!Nc),ut(h,0,!0)!==0)break e;Gl=s,h.timeoutHandle=G5(m5.bind(null,h,l,fa,Ip,S1,s,La,Ru,Eh,Nc,_,"Throttled",-0,0),y);break e}m5(h,l,fa,Ip,S1,s,La,Ru,Eh,Nc,_,null,-0,0)}}break}while(!0);ll(i)}function m5(i,s,l,h,y,_,I,$,me,Oe,Ye,Je,je,Fe){if(i.timeoutHandle=-1,Je=s.subtreeFlags,Je&8192||(Je&16785408)===16785408){Je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fs},o5(s,_,Je);var Nt=(_&62914560)===_?Tp-Ke():(_&4194048)===_?h5-Ke():0;if(Nt=g6(Je,Nt),Nt!==null){Gl=_,i.cancelPendingCommit=Nt(A5.bind(null,i,s,_,l,h,y,I,$,me,Ye,Je,null,je,Fe)),Rc(i,_,I,!Oe);return}}A5(i,s,_,l,h,y,I,$,me)}function kE(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],_=y.getSnapshot;y=y.value;try{if(!Oi(_(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Rc(i,s,l,h){s&=~A1,s&=~Ru,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var y=s;0<y;){var _=31-Qt(y),I=1<<_;h[_]=-1,y&=~I}l!==0&&Zr(i,l,s)}function Rp(){return(Jn&6)===0?(nd(0),!1):!0}function C1(){if(En!==null){if(ar===0)var i=En.return;else i=En,Ja=Zo=null,mh(i),Ze=null,Rt=0,i=En;for(;i!==null;)Yv(i.alternate,i),i=i.return;En=null}}function Th(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,JE(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Gl=0,C1(),_r=i,En=l=ta(i.current,null),In=s,ar=0,Ra=null,Nc=!1,Sh=_n(i,s),x1=!1,Eh=La=A1=Ru=Tc=oi=0,fa=ed=null,S1=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var y=31-Qt(h),_=1<<y;s|=i[y],h&=~_}return Hl=s,vu(),l}function g5(i,s){Ht=null,ee.H=Yf,s===_e||s===ae?(s=We(),ar=3):s===De?(s=We(),ar=4):ar=s===a1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ra=s,En===null&&(oi=1,bp(i,na(s,i.current)))}function y5(){var i=Lr.current;return i===null?!0:(In&4194048)===In?Vn===null:(In&62914560)===In||(In&536870912)!==0?i===Vn:!1}function v5(){var i=ee.H;return ee.H=Yf,i===null?Yf:i}function b5(){var i=ee.A;return ee.A=RE,i}function Lp(){oi=4,Nc||(In&4194048)!==In&&Lr.current!==null||(Sh=!0),(Tc&134217727)===0&&(Ru&134217727)===0||_r===null||Rc(_r,In,La,!1)}function I1(i,s,l){var h=Jn;Jn|=2;var y=v5(),_=b5();(_r!==i||In!==s)&&(Ip=null,Th(i,s)),s=!1;var I=oi;e:do try{if(ar!==0&&En!==null){var $=En,me=Ra;switch(ar){case 8:C1(),I=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(s=!0);var Oe=ar;if(ar=0,Ra=null,Ch(i,$,me,Oe),l&&Sh){I=0;break e}break;default:Oe=ar,ar=0,Ra=null,Ch(i,$,me,Oe)}}DE(),I=oi;break}catch(Ye){g5(i,Ye)}while(!0);return s&&i.shellSuspendCounter++,Ja=Zo=null,Jn=h,ee.H=y,ee.A=_,En===null&&(_r=null,In=0,vu()),I}function DE(){for(;En!==null;)_5(En)}function PE(i,s){var l=Jn;Jn|=2;var h=v5(),y=b5();_r!==i||In!==s?(Ip=null,Cp=Ke()+500,Th(i,s)):Sh=_n(i,s);e:do try{if(ar!==0&&En!==null){s=En;var _=Ra;t:switch(ar){case 1:ar=0,Ra=null,Ch(i,s,_,1);break;case 2:case 9:if(Re(_)){ar=0,Ra=null,w5(s);break}s=function(){ar!==2&&ar!==9||_r!==i||(ar=7),ll(i)},_.then(s,s);break e;case 3:ar=7;break e;case 4:ar=5;break e;case 7:Re(_)?(ar=0,Ra=null,w5(s)):(ar=0,Ra=null,Ch(i,s,_,7));break;case 5:var I=null;switch(En.tag){case 26:I=En.memoizedState;case 5:case 27:var $=En;if(I?ab(I):$.stateNode.complete){ar=0,Ra=null;var me=$.sibling;if(me!==null)En=me;else{var Oe=$.return;Oe!==null?(En=Oe,kp(Oe)):En=null}break t}}ar=0,Ra=null,Ch(i,s,_,5);break;case 6:ar=0,Ra=null,Ch(i,s,_,6);break;case 8:C1(),oi=6;break e;default:throw Error(r(462))}}OE();break}catch(Ye){g5(i,Ye)}while(!0);return Ja=Zo=null,ee.H=h,ee.A=y,Jn=l,En!==null?0:(_r=null,In=0,vu(),oi)}function OE(){for(;En!==null&&!ge();)_5(En)}function _5(i){var s=Hv(i.alternate,i,Hl);i.memoizedProps=i.pendingProps,s===null?kp(i):En=s}function w5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Vv(l,s,s.pendingProps,s.type,void 0,In);break;case 11:s=Vv(l,s,s.pendingProps,s.type.render,s.ref,In);break;case 5:mh(s);default:Yv(l,s),s=En=wu(s,Hl),s=Hv(l,s,Hl)}i.memoizedProps=i.pendingProps,s===null?kp(i):En=s}function Ch(i,s,l,h){Ja=Zo=null,mh(s),Ze=null,Rt=0;var y=s.return;try{if(AE(i,y,s,l,In)){oi=1,bp(i,na(l,i.current)),En=null;return}}catch(_){if(y!==null)throw En=y,_;oi=1,bp(i,na(l,i.current)),En=null;return}s.flags&32768?(Sn||h===1?i=!0:Sh||(In&536870912)!==0?i=!1:(Nc=i=!0,(h===2||h===9||h===3||h===6)&&(h=Lr.current,h!==null&&h.tag===13&&(h.flags|=16384))),x5(s,i)):kp(s)}function kp(i){var s=i;do{if((s.flags&32768)!==0){x5(s,Nc);return}i=s.return;var l=NE(s.alternate,s,Hl);if(l!==null){En=l;return}if(s=s.sibling,s!==null){En=s;return}En=s=i}while(s!==null);oi===0&&(oi=5)}function x5(i,s){do{var l=TE(i.alternate,i);if(l!==null){l.flags&=32767,En=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){En=i;return}En=i=l}while(i!==null);oi=6,En=null}function A5(i,s,l,h,y,_,I,$,me){i.cancelPendingCommit=null;do Dp();while(Bi!==0);if((Jn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=th,Sr(i,l,_,I,$,me),i===_r&&(En=_r=null,In=0),Nh=s,Ic=i,Gl=l,E1=_,N1=y,f5=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FE(ft,function(){return C5(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=ee.T,ee.T=null,y=pe.p,pe.p=2,I=Jn,Jn|=4;try{CE(i,s,l)}finally{Jn=I,pe.p=y,ee.T=h}}Bi=1,S5(),E5(),N5()}}function S5(){if(Bi===1){Bi=0;var i=Ic,s=Nh,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var h=pe.p;pe.p=2;var y=Jn;Jn|=4;try{i5(s,i);var _=B1,I=_o(i.containerInfo),$=_.focusedElem,me=_.selectionRange;if(I!==$&&$&&$.ownerDocument&&bo($.ownerDocument.documentElement,$)){if(me!==null&&Xa($)){var Oe=me.start,Ye=me.end;if(Ye===void 0&&(Ye=Oe),"selectionStart"in $)$.selectionStart=Oe,$.selectionEnd=Math.min(Ye,$.value.length);else{var Je=$.ownerDocument||document,je=Je&&Je.defaultView||window;if(je.getSelection){var Fe=je.getSelection(),Nt=$.textContent.length,Jt=Math.min(me.start,Nt),gr=me.end===void 0?Jt:Math.min(me.end,Nt);!Fe.extend&&Jt>gr&&(I=gr,gr=Jt,Jt=I);var Te=pc($,Jt),we=pc($,gr);if(Te&&we&&(Fe.rangeCount!==1||Fe.anchorNode!==Te.node||Fe.anchorOffset!==Te.offset||Fe.focusNode!==we.node||Fe.focusOffset!==we.offset)){var Pe=Je.createRange();Pe.setStart(Te.node,Te.offset),Fe.removeAllRanges(),Jt>gr?(Fe.addRange(Pe),Fe.extend(we.node,we.offset)):(Pe.setEnd(we.node,we.offset),Fe.addRange(Pe))}}}}for(Je=[],Fe=$;Fe=Fe.parentNode;)Fe.nodeType===1&&Je.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Je.length;$++){var $e=Je[$];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Gp=!!U1,B1=U1=null}finally{Jn=y,pe.p=h,ee.T=l}}i.current=s,Bi=2}}function E5(){if(Bi===2){Bi=0;var i=Ic,s=Nh,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var h=pe.p;pe.p=2;var y=Jn;Jn|=4;try{Zv(i,s.alternate,s)}finally{Jn=y,pe.p=h,ee.T=l}}Bi=3}}function N5(){if(Bi===4||Bi===3){Bi=0,Se();var i=Ic,s=Nh,l=Gl,h=f5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bi=5:(Bi=0,Nh=Ic=null,T5(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Cc=null),Tn(l),s=s.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Zt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=ee.T,y=pe.p,pe.p=2,ee.T=null;try{for(var _=i.onRecoverableError,I=0;I<h.length;I++){var $=h[I];_($.value,{componentStack:$.stack})}}finally{ee.T=s,pe.p=y}}(Gl&3)!==0&&Dp(),ll(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===T1?td++:(td=0,T1=i):td=0,nd(0)}}function T5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Su(s)))}function Dp(){return S5(),E5(),N5(),C5()}function C5(){if(Bi!==5)return!1;var i=Ic,s=E1;E1=0;var l=Tn(Gl),h=ee.T,y=pe.p;try{pe.p=32>l?32:l,ee.T=null,l=N1,N1=null;var _=Ic,I=Gl;if(Bi=0,Nh=Ic=null,Gl=0,(Jn&6)!==0)throw Error(r(331));var $=Jn;if(Jn|=4,c5(_.current),a5(_,_.current,I,l),Jn=$,nd(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Zt,_)}catch{}return!0}finally{pe.p=y,ee.T=h,T5(i,s)}}function I5(i,s,l){s=na(l,s),s=s1(i.stateNode,s,2),i=hn(i,s,2),i!==null&&(pt(i,2),ll(i))}function or(i,s,l){if(i.tag===3)I5(i,i,l);else for(;s!==null;){if(s.tag===3){I5(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cc===null||!Cc.has(h))){i=na(l,i),l=Rv(2),h=hn(s,l,2),h!==null&&(Lv(l,h,s,i),pt(h,2),ll(h));break}}s=s.return}}function R1(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new LE;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(l)||(x1=!0,y.add(l),i=ME.bind(null,i,s,l),s.then(i,i))}function ME(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,_r===i&&(In&l)===l&&(oi===4||oi===3&&(In&62914560)===In&&300>Ke()-Tp?(Jn&2)===0&&Th(i,0):A1|=l,Eh===In&&(Eh=0)),ll(i)}function R5(i,s){s===0&&(s=cr()),i=xo(i,s),i!==null&&(pt(i,s),ll(i))}function jE(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),R5(i,l)}function VE(i,s){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),R5(i,l)}function FE(i,s){return dt(i,s)}var Pp=null,Ih=null,L1=!1,Op=!1,k1=!1,Lc=0;function ll(i){i!==Ih&&i.next===null&&(Ih===null?Pp=Ih=i:Ih=Ih.next=i),Op=!0,L1||(L1=!0,BE())}function nd(i,s){if(!k1&&Op){k1=!0;do for(var l=!1,h=Pp;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var _=0;else{var I=h.suspendedLanes,$=h.pingedLanes;_=(1<<31-Qt(42|i)+1)-1,_&=y&~(I&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,P5(h,_))}else _=In,_=ut(h,h===_r?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||_n(h,_)||(l=!0,P5(h,_));h=h.next}while(l);k1=!1}}function UE(){L5()}function L5(){Op=L1=!1;var i=0;Lc!==0&&QE()&&(i=Lc);for(var s=Ke(),l=null,h=Pp;h!==null;){var y=h.next,_=k5(h,s);_===0?(h.next=null,l===null?Pp=y:l.next=y,y===null&&(Ih=l)):(l=h,(i!==0||(_&3)!==0)&&(Op=!0)),h=y}Bi!==0&&Bi!==5||nd(i),Lc!==0&&(Lc=0)}function k5(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var I=31-Qt(_),$=1<<I,me=y[I];me===-1?(($&l)===0||($&h)!==0)&&(y[I]=An($,s)):me<=s&&(i.expiredLanes|=$),_&=~$}if(s=_r,l=In,l=ut(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(ar===2||ar===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ie(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_n(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&ie(h),Tn(l)){case 2:case 8:l=it;break;case 32:l=ft;break;case 268435456:l=vt;break;default:l=ft}return h=D5.bind(null,i),l=dt(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&ie(h),i.callbackPriority=2,i.callbackNode=null,2}function D5(i,s){if(Bi!==0&&Bi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Dp()&&i.callbackNode!==l)return null;var h=In;return h=ut(i,i===_r?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(p5(i,h,s),k5(i,Ke()),i.callbackNode!=null&&i.callbackNode===l?D5.bind(null,i):null)}function P5(i,s){if(Dp())return null;p5(i,s,!0)}function BE(){ZE(function(){(Jn&6)!==0?dt(Ve,UE):L5()})}function D1(){if(Lc===0){var i=p;i===0&&(i=zt,zt<<=1,(zt&261888)===0&&(zt=256)),Lc=i}return Lc}function O5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wi(""+i)}function M5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function zE(i,s,l,h,y){if(s==="submit"&&l&&l.stateNode===y){var _=O5((y[rr]||null).action),I=h.submitter;I&&(s=(s=I[rr]||null)?O5(s.formAction):I.getAttribute("formAction"),s!==null&&(_=s,I=null));var $=new _i("action","action",null,h,y);i.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Lc!==0){var me=I?M5(y,I):new FormData(y);Zg(l,{pending:!0,data:me,method:y.method,action:_},null,me)}}else typeof _=="function"&&($.preventDefault(),me=I?M5(y,I):new FormData(y),Zg(l,{pending:!0,data:me,method:y.method,action:_},_,me))},currentTarget:y}]})}}for(var P1=0;P1<Rl.length;P1++){var O1=Rl[P1],qE=O1.toLowerCase(),HE=O1[0].toUpperCase()+O1.slice(1);ea(qE,"on"+HE)}ea(Il,"onAnimationEnd"),ea(gu,"onAnimationIteration"),ea(Lf,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(ap,"onTransitionRun"),ea(op,"onTransitionStart"),ea(lp,"onTransitionCancel"),ea(kf,"onTransitionEnd"),Vs("onMouseEnter",["mouseout","mouseover"]),Vs("onMouseLeave",["mouseout","mouseover"]),Vs("onPointerEnter",["pointerout","pointerover"]),Vs("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rd));function j5(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var I=h.length-1;0<=I;I--){var $=h[I],me=$.instance,Oe=$.currentTarget;if($=$.listener,me!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=Oe;try{_(y)}catch(Ye){yu(Ye)}y.currentTarget=null,_=me}else for(I=0;I<h.length;I++){if($=h[I],me=$.instance,Oe=$.currentTarget,$=$.listener,me!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=Oe;try{_(y)}catch(Ye){yu(Ye)}y.currentTarget=null,_=me}}}}function Nn(i,s){var l=s[Hi];l===void 0&&(l=s[Hi]=new Set);var h=i+"__bubble";l.has(h)||(V5(s,i,2,!1),l.add(h))}function M1(i,s,l){var h=0;s&&(h|=4),V5(l,i,h,s)}var Mp="_reactListening"+Math.random().toString(36).slice(2);function j1(i){if(!i[Mp]){i[Mp]=!0,Bo.forEach(function(l){l!=="selectionchange"&&(GE.has(l)||M1(l,!1,i),M1(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Mp]||(s[Mp]=!0,M1("selectionchange",!1,s))}}function V5(i,s,l,h){switch(db(s)){case 2:var y=b6;break;case 8:y=_6;break;default:y=J1}l=y.bind(null,s,l,i),y=void 0,!ho||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(s,l,{capture:!0,passive:y}):i.addEventListener(s,l,!0):y!==void 0?i.addEventListener(s,l,{passive:y}):i.addEventListener(s,l,!1)}function V1(i,s,l,h,y){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var $=h.stateNode.containerInfo;if($===y)break;if(I===4)for(I=h.return;I!==null;){var me=I.tag;if((me===3||me===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;$!==null;){if(I=ss($),I===null)return;if(me=I.tag,me===5||me===6||me===26||me===27){h=_=I;continue e}$=$.parentNode}}h=h.return}za(function(){var Oe=_,Ye=Ki(l),Je=[];e:{var je=Df.get(i);if(je!==void 0){var Fe=_i,Nt=i;switch(i){case"keypress":if(cs(l)===0)break e;case"keydown":case"keyup":Fe=wn;break;case"focusin":Nt="focus",Fe=Bs;break;case"focusout":Nt="blur",Fe=Bs;break;case"beforeblur":case"afterblur":Fe=Bs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Js;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=E;break;case Il:case gu:case Lf:Fe=x;break;case kf:Fe=J;break;case"scroll":case"scrollend":Fe=qa;break;case"wheel":Fe=Me;break;case"copy":case"cut":case"paste":Fe=oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=tr;break;case"toggle":case"beforetoggle":Fe=nn}var Jt=(s&4)!==0,gr=!Jt&&(i==="scroll"||i==="scrollend"),Te=Jt?je!==null?je+"Capture":null:je;Jt=[];for(var we=Oe,Pe;we!==null;){var $e=we;if(Pe=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Pe===null||Te===null||($e=ui(we,Te),$e!=null&&Jt.push(id(we,$e,Pe))),gr)break;we=we.return}0<Jt.length&&(je=new Fe(je,Nt,null,l,Ye),Je.push({event:je,listeners:Jt}))}}if((s&7)===0){e:{if(je=i==="mouseover"||i==="pointerover",Fe=i==="mouseout"||i==="pointerout",je&&l!==Sa&&(Nt=l.relatedTarget||l.fromElement)&&(ss(Nt)||Nt[ei]))break e;if((Fe||je)&&(je=Ye.window===Ye?Ye:(je=Ye.ownerDocument)?je.defaultView||je.parentWindow:window,Fe?(Nt=l.relatedTarget||l.toElement,Fe=Oe,Nt=Nt?ss(Nt):null,Nt!==null&&(gr=o(Nt),Jt=Nt.tag,Nt!==gr||Jt!==5&&Jt!==27&&Jt!==6)&&(Nt=null)):(Fe=null,Nt=Oe),Fe!==Nt)){if(Jt=Wo,$e="onMouseLeave",Te="onMouseEnter",we="mouse",(i==="pointerout"||i==="pointerover")&&(Jt=tr,$e="onPointerLeave",Te="onPointerEnter",we="pointer"),gr=Fe==null?je:as(Fe),Pe=Nt==null?je:as(Nt),je=new Jt($e,we+"leave",Fe,l,Ye),je.target=gr,je.relatedTarget=Pe,$e=null,ss(Ye)===Oe&&(Jt=new Jt(Te,we+"enter",Nt,l,Ye),Jt.target=Pe,Jt.relatedTarget=gr,$e=Jt),gr=$e,Fe&&Nt)t:{for(Jt=YE,Te=Fe,we=Nt,Pe=0,$e=Te;$e;$e=Jt($e))Pe++;$e=0;for(var Kt=we;Kt;Kt=Jt(Kt))$e++;for(;0<Pe-$e;)Te=Jt(Te),Pe--;for(;0<$e-Pe;)we=Jt(we),$e--;for(;Pe--;){if(Te===we||we!==null&&Te===we.alternate){Jt=Te;break t}Te=Jt(Te),we=Jt(we)}Jt=null}else Jt=null;Fe!==null&&F5(Je,je,Fe,Jt,!1),Nt!==null&&gr!==null&&F5(Je,gr,Nt,Jt,!0)}}e:{if(je=Oe?as(Oe):window,Fe=je.nodeName&&je.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&je.type==="file")var Kn=$o;else if(pu(je))if(Es)Kn=Ka;else{Kn=Wr;var Vt=fc}else Fe=je.nodeName,!Fe||Fe.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Oe&&Ho(Oe.elementType)&&(Kn=$o):Kn=eh;if(Kn&&(Kn=Kn(i,Oe))){qs(Je,Kn,l,Ye);break e}Vt&&Vt(i,je,Oe),i==="focusout"&&Oe&&je.type==="number"&&Oe.memoizedProps.value!=null&&xl(je,"number",je.value)}switch(Vt=Oe?as(Oe):window,i){case"focusin":(pu(Vt)||Vt.contentEditable==="true")&&(Hs=Vt,wo=Oe,$i=null);break;case"focusout":$i=wo=Hs=null;break;case"mousedown":Zs=!0;break;case"contextmenu":case"mouseup":case"dragend":Zs=!1,zn(Je,l,Ye);break;case"selectionchange":if(Cl)break;case"keydown":case"keyup":zn(Je,l,Ye)}var pn;if(mn)e:{switch(i){case"compositionstart":var Rn="onCompositionStart";break e;case"compositionend":Rn="onCompositionEnd";break e;case"compositionupdate":Rn="onCompositionUpdate";break e}Rn=void 0}else Ga?zs(i,l)&&(Rn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Rn="onCompositionStart");Rn&&(Di&&l.locale!=="ko"&&(Ga||Rn!=="onCompositionStart"?Rn==="onCompositionEnd"&&Ga&&(pn=Nl()):(ls=Ye,fo="value"in ls?ls.value:ls.textContent,Ga=!0)),Vt=jp(Oe,Rn),0<Vt.length&&(Rn=new Ne(Rn,i,null,l,Ye),Je.push({event:Rn,listeners:Vt}),pn?Rn.data=pn:(pn=Ha(l),pn!==null&&(Rn.data=pn)))),(pn=wi?fs(i,l):mo(i,l))&&(Rn=jp(Oe,"onBeforeInput"),0<Rn.length&&(Vt=new Ne("onBeforeInput","beforeinput",null,l,Ye),Je.push({event:Vt,listeners:Rn}),Vt.data=pn)),zE(Je,i,Oe,l,Ye)}j5(Je,s)})}function id(i,s,l){return{instance:i,listener:s,currentTarget:l}}function jp(i,s){for(var l=s+"Capture",h=[];i!==null;){var y=i,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=ui(i,l),y!=null&&h.unshift(id(i,y,_)),y=ui(i,s),y!=null&&h.push(id(i,y,_))),i.tag===3)return h;i=i.return}return[]}function YE(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function F5(i,s,l,h,y){for(var _=s._reactName,I=[];l!==null&&l!==h;){var $=l,me=$.alternate,Oe=$.stateNode;if($=$.tag,me!==null&&me===h)break;$!==5&&$!==26&&$!==27||Oe===null||(me=Oe,y?(Oe=ui(l,_),Oe!=null&&I.unshift(id(l,Oe,me))):y||(Oe=ui(l,_),Oe!=null&&I.push(id(l,Oe,me)))),l=l.return}I.length!==0&&i.push({event:s,listeners:I})}var WE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function U5(i){return(typeof i=="string"?i:""+i).replace(WE,`
`).replace(KE,"")}function B5(i,s){return s=U5(s),U5(i)===s}function mr(i,s,l,h,y,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||ci(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&ci(i,""+h);break;case"className":bi(i,"class",h);break;case"tabIndex":bi(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(i,l,h);break;case"style":El(i,h,_);break;case"data":if(s!=="object"){bi(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Wi(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&mr(i,s,"name",y.name,y,null),mr(i,s,"formEncType",y.formEncType,y,null),mr(i,s,"formMethod",y.formMethod,y,null),mr(i,s,"formTarget",y.formTarget,y,null)):(mr(i,s,"encType",y.encType,y,null),mr(i,s,"method",y.method,y,null),mr(i,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Wi(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Fs);break;case"onScroll":h!=null&&Nn("scroll",i);break;case"onScrollEnd":h!=null&&Nn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Wi(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Nn("beforetoggle",i),Nn("toggle",i),os(i,"popover",h);break;case"xlinkActuate":Mr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Mr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Mr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Mr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Mr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Mr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":os(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Go.get(l)||l,os(i,l,h))}}function F1(i,s,l,h,y,_){switch(l){case"style":El(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?ci(i,h):(typeof h=="number"||typeof h=="bigint")&&ci(i,""+h);break;case"onScroll":h!=null&&Nn("scroll",i);break;case"onScrollEnd":h!=null&&Nn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),_=i[rr]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,y),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):os(i,l,h)}}}function ys(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nn("error",i),Nn("load",i);var h=!1,y=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var I=l[_];if(I!=null)switch(_){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mr(i,s,_,I,l,null)}}y&&mr(i,s,"srcSet",l.srcSet,l,null),h&&mr(i,s,"src",l.src,l,null);return;case"input":Nn("invalid",i);var $=_=I=y=null,me=null,Oe=null;for(h in l)if(l.hasOwnProperty(h)){var Ye=l[h];if(Ye!=null)switch(h){case"name":y=Ye;break;case"type":I=Ye;break;case"checked":me=Ye;break;case"defaultChecked":Oe=Ye;break;case"value":_=Ye;break;case"defaultValue":$=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,s));break;default:mr(i,s,h,Ye,l,null)}}cc(i,_,$,me,Oe,I,y,!1);return;case"select":Nn("invalid",i),h=I=_=null;for(y in l)if(l.hasOwnProperty(y)&&($=l[y],$!=null))switch(y){case"value":_=$;break;case"defaultValue":I=$;break;case"multiple":h=$;default:mr(i,s,y,$,l,null)}s=_,l=I,i.multiple=!!h,s!=null?ki(i,!!h,s,!1):l!=null&&ki(i,!!h,l,!0);return;case"textarea":Nn("invalid",i),_=y=h=null;for(I in l)if(l.hasOwnProperty(I)&&($=l[I],$!=null))switch(I){case"value":h=$;break;case"defaultValue":y=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:mr(i,s,I,$,l,null)}xa(i,h,y,_);return;case"option":for(me in l)l.hasOwnProperty(me)&&(h=l[me],h!=null)&&(me==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":mr(i,s,me,h,l,null));return;case"dialog":Nn("beforetoggle",i),Nn("toggle",i),Nn("cancel",i),Nn("close",i);break;case"iframe":case"object":Nn("load",i);break;case"video":case"audio":for(h=0;h<rd.length;h++)Nn(rd[h],i);break;case"image":Nn("error",i),Nn("load",i);break;case"details":Nn("toggle",i);break;case"embed":case"source":case"link":Nn("error",i),Nn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(h=l[Oe],h!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mr(i,s,Oe,h,l,null)}return;default:if(Ho(s)){for(Ye in l)l.hasOwnProperty(Ye)&&(h=l[Ye],h!==void 0&&F1(i,s,Ye,h,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(h=l[$],h!=null&&mr(i,s,$,h,l,null))}function $E(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,I=null,$=null,me=null,Oe=null,Ye=null;for(Fe in l){var Je=l[Fe];if(l.hasOwnProperty(Fe)&&Je!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":me=Je;default:h.hasOwnProperty(Fe)||mr(i,s,Fe,null,h,Je)}}for(var je in h){var Fe=h[je];if(Je=l[je],h.hasOwnProperty(je)&&(Fe!=null||Je!=null))switch(je){case"type":_=Fe;break;case"name":y=Fe;break;case"checked":Oe=Fe;break;case"defaultChecked":Ye=Fe;break;case"value":I=Fe;break;case"defaultValue":$=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,s));break;default:Fe!==Je&&mr(i,s,je,Fe,h,Je)}}co(i,I,$,me,Oe,Ye,_,y);return;case"select":Fe=I=$=je=null;for(_ in l)if(me=l[_],l.hasOwnProperty(_)&&me!=null)switch(_){case"value":break;case"multiple":Fe=me;default:h.hasOwnProperty(_)||mr(i,s,_,null,h,me)}for(y in h)if(_=h[y],me=l[y],h.hasOwnProperty(y)&&(_!=null||me!=null))switch(y){case"value":je=_;break;case"defaultValue":$=_;break;case"multiple":I=_;default:_!==me&&mr(i,s,y,_,h,me)}s=$,l=I,h=Fe,je!=null?ki(i,!!l,je,!1):!!h!=!!l&&(s!=null?ki(i,!!l,s,!0):ki(i,!!l,l?[]:"",!1));return;case"textarea":Fe=je=null;for($ in l)if(y=l[$],l.hasOwnProperty($)&&y!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:mr(i,s,$,null,h,y)}for(I in h)if(y=h[I],_=l[I],h.hasOwnProperty(I)&&(y!=null||_!=null))switch(I){case"value":je=y;break;case"defaultValue":Fe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&mr(i,s,I,y,h,_)}Al(i,je,Fe);return;case"option":for(var Nt in l)je=l[Nt],l.hasOwnProperty(Nt)&&je!=null&&!h.hasOwnProperty(Nt)&&(Nt==="selected"?i.selected=!1:mr(i,s,Nt,null,h,je));for(me in h)je=h[me],Fe=l[me],h.hasOwnProperty(me)&&je!==Fe&&(je!=null||Fe!=null)&&(me==="selected"?i.selected=je&&typeof je!="function"&&typeof je!="symbol":mr(i,s,me,je,h,Fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in l)je=l[Jt],l.hasOwnProperty(Jt)&&je!=null&&!h.hasOwnProperty(Jt)&&mr(i,s,Jt,null,h,je);for(Oe in h)if(je=h[Oe],Fe=l[Oe],h.hasOwnProperty(Oe)&&je!==Fe&&(je!=null||Fe!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,s));break;default:mr(i,s,Oe,je,h,Fe)}return;default:if(Ho(s)){for(var gr in l)je=l[gr],l.hasOwnProperty(gr)&&je!==void 0&&!h.hasOwnProperty(gr)&&F1(i,s,gr,void 0,h,je);for(Ye in h)je=h[Ye],Fe=l[Ye],!h.hasOwnProperty(Ye)||je===Fe||je===void 0&&Fe===void 0||F1(i,s,Ye,je,h,Fe);return}}for(var Te in l)je=l[Te],l.hasOwnProperty(Te)&&je!=null&&!h.hasOwnProperty(Te)&&mr(i,s,Te,null,h,je);for(Je in h)je=h[Je],Fe=l[Je],!h.hasOwnProperty(Je)||je===Fe||je==null&&Fe==null||mr(i,s,Je,je,h,Fe)}function z5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XE(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],_=y.transferSize,I=y.initiatorType,$=y.duration;if(_&&$&&z5(I)){for(I=0,$=y.responseEnd,h+=1;h<l.length;h++){var me=l[h],Oe=me.startTime;if(Oe>$)break;var Ye=me.transferSize,Je=me.initiatorType;Ye&&z5(Je)&&(me=me.responseEnd,I+=Ye*(me<$?1:($-Oe)/(me-Oe)))}if(--h,s+=8*(_+I)/(y.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var U1=null,B1=null;function Vp(i){return i.nodeType===9?i:i.ownerDocument}function q5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H5(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function z1(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var q1=null;function QE(){var i=window.event;return i&&i.type==="popstate"?i===q1?!1:(q1=i,!0):(q1=null,!1)}var G5=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,Y5=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof Y5<"u"?function(i){return Y5.resolve(null).then(i).catch(e6)}:G5;function e6(i){setTimeout(function(){throw i})}function kc(i){return i==="head"}function W5(i,s){var l=s,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),Dh(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")sd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,sd(l);for(var _=l.firstChild;_;){var I=_.nextSibling,$=_.nodeName;_[Gi]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=I}}else l==="body"&&sd(i.ownerDocument.body);l=y}while(l);Dh(s)}function K5(i,s){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function H1(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":H1(l),_a(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function t6(i,s,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Gi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=to(i.nextSibling),i===null)break}return null}function n6(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=to(i.nextSibling),i===null))return null;return i}function $5(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=to(i.nextSibling),i===null))return null;return i}function G1(i){return i.data==="$?"||i.data==="$~"}function Y1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function r6(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function to(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var W1=null;function X5(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return to(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function Q5(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function J5(i,s,l){switch(s=Vp(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sd(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);_a(i)}var no=new Map,Z5=new Set;function Fp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Yl=pe.d;pe.d={f:i6,r:s6,D:a6,C:o6,L:l6,m:c6,X:h6,S:u6,M:f6};function i6(){var i=Yl.f(),s=Rp();return i||s}function s6(i){var s=Li(i);s!==null&&s.tag===5&&s.type==="form"?gv(s):Yl.r(i)}var Rh=typeof document>"u"?null:document;function eb(i,s,l){var h=Rh;if(h&&typeof s=="string"&&s){var y=jr(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Z5.has(y)||(Z5.add(y),i={rel:i,crossOrigin:l,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),ys(s,"link",i),Cr(s),h.head.appendChild(s)))}}function a6(i){Yl.D(i),eb("dns-prefetch",i,null)}function o6(i,s){Yl.C(i,s),eb("preconnect",i,s)}function l6(i,s,l){Yl.L(i,s,l);var h=Rh;if(h&&i&&s){var y='link[rel="preload"][as="'+jr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+jr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+jr(l.imageSizes)+'"]')):y+='[href="'+jr(i)+'"]';var _=y;switch(s){case"style":_=Lh(i);break;case"script":_=kh(i)}no.has(_)||(i=b({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),no.set(_,i),h.querySelector(y)!==null||s==="style"&&h.querySelector(ad(_))||s==="script"&&h.querySelector(od(_))||(s=h.createElement("link"),ys(s,"link",i),Cr(s),h.head.appendChild(s)))}}function c6(i,s){Yl.m(i,s);var l=Rh;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+jr(h)+'"][href="'+jr(i)+'"]',_=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=kh(i)}if(!no.has(_)&&(i=b({rel:"modulepreload",href:i},s),no.set(_,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(od(_)))return}h=l.createElement("link"),ys(h,"link",i),Cr(h),l.head.appendChild(h)}}}function u6(i,s,l){Yl.S(i,s,l);var h=Rh;if(h&&i){var y=ws(h).hoistableStyles,_=Lh(i);s=s||"default";var I=y.get(_);if(!I){var $={loading:0,preload:null};if(I=h.querySelector(ad(_)))$.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":s},l),(l=no.get(_))&&K1(i,l);var me=I=h.createElement("link");Cr(me),ys(me,"link",i),me._p=new Promise(function(Oe,Ye){me.onload=Oe,me.onerror=Ye}),me.addEventListener("load",function(){$.loading|=1}),me.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Up(I,s,h)}I={type:"stylesheet",instance:I,count:1,state:$},y.set(_,I)}}}function h6(i,s){Yl.X(i,s);var l=Rh;if(l&&i){var h=ws(l).hoistableScripts,y=kh(i),_=h.get(y);_||(_=l.querySelector(od(y)),_||(i=b({src:i,async:!0},s),(s=no.get(y))&&$1(i,s),_=l.createElement("script"),Cr(_),ys(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function f6(i,s){Yl.M(i,s);var l=Rh;if(l&&i){var h=ws(l).hoistableScripts,y=kh(i),_=h.get(y);_||(_=l.querySelector(od(y)),_||(i=b({src:i,async:!0,type:"module"},s),(s=no.get(y))&&$1(i,s),_=l.createElement("script"),Cr(_),ys(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function tb(i,s,l,h){var y=(y=de.current)?Fp(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Lh(l.href),l=ws(y).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Lh(l.href);var _=ws(y).hoistableStyles,I=_.get(i);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,I),(_=y.querySelector(ad(i)))&&!_._p&&(I.instance=_,I.state.loading=5),no.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},no.set(i,l),_||d6(y,i,l,I.state))),s&&h===null)throw Error(r(528,""));return I}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=kh(l),l=ws(y).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Lh(i){return'href="'+jr(i)+'"'}function ad(i){return'link[rel="stylesheet"]['+i+"]"}function nb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function d6(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),ys(s,"link",l),Cr(s),i.head.appendChild(s))}function kh(i){return'[src="'+jr(i)+'"]'}function od(i){return"script[async]"+i}function rb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+jr(l.href)+'"]');if(h)return s.instance=h,Cr(h),h;var y=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Cr(h),ys(h,"style",y),Up(h,l.precedence,i),s.instance=h;case"stylesheet":y=Lh(l.href);var _=i.querySelector(ad(y));if(_)return s.state.loading|=4,s.instance=_,Cr(_),_;h=nb(l),(y=no.get(y))&&K1(h,y),_=(i.ownerDocument||i).createElement("link"),Cr(_);var I=_;return I._p=new Promise(function($,me){I.onload=$,I.onerror=me}),ys(_,"link",h),s.state.loading|=4,Up(_,l.precedence,i),s.instance=_;case"script":return _=kh(l.src),(y=i.querySelector(od(_)))?(s.instance=y,Cr(y),y):(h=l,(y=no.get(_))&&(h=b({},l),$1(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),Cr(y),ys(y,"link",h),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Up(h,l.precedence,i));return s.instance}function Up(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,_=y,I=0;I<h.length;I++){var $=h[I];if($.dataset.precedence===s)_=$;else if(_!==y)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function K1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function $1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Bp=null;function ib(i,s,l){if(Bp===null){var h=new Map,y=Bp=new Map;y.set(l,h)}else y=Bp,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var _=l[y];if(!(_[Gi]||_[Gn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(s)||"";I=i+I;var $=h.get(I);$?$.push(_):h.set(I,[_])}}return h}function sb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function p6(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ab(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function m6(i,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Lh(h.href),_=s.querySelector(ad(y));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=zp.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,Cr(_);return}_=s.ownerDocument||s,h=nb(h),(y=no.get(y))&&K1(h,y),_=_.createElement("link"),Cr(_);var I=_;I._p=new Promise(function($,me){I.onload=$,I.onerror=me}),ys(_,"link",h),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=zp.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var X1=0;function g6(i,s){return i.stylesheets&&i.count===0&&Hp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Hp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&X1===0&&(X1=62500*XE());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Hp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>X1?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function zp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qp=null;function Hp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qp=new Map,s.forEach(y6,i),qp=null,zp.call(i))}function y6(i,s){if(!(s.state.loading&4)){var l=qp.get(i);if(l)var h=l.get(null);else{l=new Map,qp.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var I=y[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),h=I)}h&&l.set(null,h)}y=s.instance,I=y.getAttribute("data-precedence"),_=l.get(I)||h,_===h&&l.set(null,y),l.set(I,y),this.count++,h=zp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),_?_.parentNode.insertBefore(y,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var ld={$$typeof:ce,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function v6(i,s,l,h,y,_,I,$,me){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function ob(i,s,l,h,y,_,I,$,me,Oe,Ye,Je){return i=new v6(i,s,l,I,me,Oe,Ye,Je,$),s=1,_===!0&&(s|=24),_=Qi(3,null,null,s),i.current=_,_.stateNode=i,s=_c(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},ht(_),i}function lb(i){return i?(i=Mi,i):Mi}function cb(i,s,l,h,y,_){y=lb(y),h.context===null?h.context=y:h.pendingContext=y,h=Xt(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=hn(i,h,s),l!==null&&(da(l,i,s),Xn(l,i,s))}function ub(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Q1(i,s){ub(i,s),(i=i.alternate)&&ub(i,s)}function hb(i){if(i.tag===13||i.tag===31){var s=xo(i,67108864);s!==null&&da(s,i,67108864),Q1(i,67108864)}}function fb(i){if(i.tag===13||i.tag===31){var s=ka();s=Bn(s);var l=xo(i,s);l!==null&&da(l,i,s),Q1(i,s)}}var Gp=!0;function b6(i,s,l,h){var y=ee.T;ee.T=null;var _=pe.p;try{pe.p=2,J1(i,s,l,h)}finally{pe.p=_,ee.T=y}}function _6(i,s,l,h){var y=ee.T;ee.T=null;var _=pe.p;try{pe.p=8,J1(i,s,l,h)}finally{pe.p=_,ee.T=y}}function J1(i,s,l,h){if(Gp){var y=Z1(h);if(y===null)V1(i,s,h,Yp,l),pb(i,h);else if(x6(y,i,s,l,h))h.stopPropagation();else if(pb(i,h),s&4&&-1<w6.indexOf(i)){for(;y!==null;){var _=Li(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=Ct(_.pendingLanes);if(I!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;I;){var me=1<<31-Qt(I);$.entanglements[1]|=me,I&=~me}ll(_),(Jn&6)===0&&(Cp=Ke()+500,nd(0))}}break;case 31:case 13:$=xo(_,2),$!==null&&da($,_,2),Rp(),Q1(_,2)}if(_=Z1(h),_===null&&V1(i,s,h,Yp,l),_===y)break;y=_}y!==null&&h.stopPropagation()}else V1(i,s,h,null,l)}}function Z1(i){return i=Ki(i),e0(i)}var Yp=null;function e0(i){if(Yp=null,i=ss(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Yp=i,null}function db(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case Ve:return 2;case it:return 8;case ft:case st:return 32;case vt:return 268435456;default:return 32}default:return 32}}var t0=!1,Dc=null,Pc=null,Oc=null,cd=new Map,ud=new Map,Mc=[],w6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(i,s){switch(i){case"focusin":case"focusout":Dc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":cd.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(s.pointerId)}}function hd(i,s,l,h,y,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[y]},s!==null&&(s=Li(s),s!==null&&hb(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function x6(i,s,l,h,y){switch(s){case"focusin":return Dc=hd(Dc,i,s,l,h,y),!0;case"dragenter":return Pc=hd(Pc,i,s,l,h,y),!0;case"mouseover":return Oc=hd(Oc,i,s,l,h,y),!0;case"pointerover":var _=y.pointerId;return cd.set(_,hd(cd.get(_)||null,i,s,l,h,y)),!0;case"gotpointercapture":return _=y.pointerId,ud.set(_,hd(ud.get(_)||null,i,s,l,h,y)),!0}return!1}function mb(i){var s=ss(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,Ri(i.priority,function(){fb(l)});return}}else if(s===31){if(s=u(l),s!==null){i.blockedOn=s,Ri(i.priority,function(){fb(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Z1(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Sa=h,l.target.dispatchEvent(h),Sa=null}else return s=Li(l),s!==null&&hb(s),i.blockedOn=l,!1;s.shift()}return!0}function gb(i,s,l){Wp(i)&&l.delete(s)}function A6(){t0=!1,Dc!==null&&Wp(Dc)&&(Dc=null),Pc!==null&&Wp(Pc)&&(Pc=null),Oc!==null&&Wp(Oc)&&(Oc=null),cd.forEach(gb),ud.forEach(gb)}function Kp(i,s){i.blockedOn===s&&(i.blockedOn=null,t0||(t0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,A6)))}var $p=null;function yb(i){$p!==i&&($p=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$p===i&&($p=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],y=i[s+2];if(typeof h!="function"){if(e0(h||l)===null)continue;break}var _=Li(l);_!==null&&(i.splice(s,3),s-=3,Zg(_,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Dh(i){function s(me){return Kp(me,i)}Dc!==null&&Kp(Dc,i),Pc!==null&&Kp(Pc,i),Oc!==null&&Kp(Oc,i),cd.forEach(s),ud.forEach(s);for(var l=0;l<Mc.length;l++){var h=Mc[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Mc.length&&(l=Mc[0],l.blockedOn===null);)mb(l),l.blockedOn===null&&Mc.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],_=l[h+1],I=y[rr]||null;if(typeof _=="function")I||yb(l);else if(I){var $=null;if(_&&_.hasAttribute("formAction")){if(y=_,I=_[rr]||null)$=I.formAction;else if(e0(y)!==null)continue}else $=I.action;typeof $=="function"?l[h+1]=$:(l.splice(h,3),h-=3),yb(l)}}}function vb(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(I){return y=I})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function n0(i){this._internalRoot=i}Xp.prototype.render=n0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=ka();cb(l,h,i,s,null,null)},Xp.prototype.unmount=n0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;cb(i.current,2,null,i,null,null),Rp(),s[ei]=null}};function Xp(i){this._internalRoot=i}Xp.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hr();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Mc.length&&s!==0&&s<Mc[l].priority;l++);Mc.splice(l,0,i),l===0&&mb(i)}};var bb=e.version;if(bb!=="19.2.4")throw Error(r(527,bb,"19.2.4"));pe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var S6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{Zt=Qp.inject(S6),Pt=Qp}catch{}}return dd.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",y=Nv,_=Tv,I=Cv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=ob(i,1,!1,null,null,l,h,null,y,_,I,vb),i[ei]=s.current,j1(i),new n0(s)},dd.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,y="",_=Nv,I=Tv,$=Cv,me=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.formState!==void 0&&(me=l.formState)),s=ob(i,1,!0,s,l??null,h,y,me,_,I,$,vb),s.context=lb(null),l=s.current,h=ka(),h=Bn(h),y=Xt(h),y.callback=null,hn(l,y,h),l=h,s.current.lanes=l,pt(s,l),ll(s),i[ei]=s.current,j1(i),new Xp(s)},dd.version="19.2.4",dd}var Ib;function D6(){if(Ib)return s0.exports;Ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),s0.exports=k6(),s0.exports}var P6=D6();const e4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const O6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const M6=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const Rb=n=>{const e=M6(n);return e.charAt(0).toUpperCase()+e.slice(1)};var j6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const V6=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const F6=Tt.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...u},d)=>Tt.createElement("svg",{ref:d,...j6,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:e4("lucide",a),...!o&&!V6(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,g])=>Tt.createElement(f,g)),...Array.isArray(o)?o:[o]]));const Hn=(n,e)=>{const t=Tt.forwardRef(({className:r,...a},o)=>Tt.createElement(F6,{ref:o,iconNode:e,className:e4(`lucide-${O6(Rb(n))}`,`lucide-${n}`,r),...a}));return t.displayName=Rb(n),t};const U6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],B6=Hn("arrow-left",U6);const z6=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],q6=Hn("arrow-up-down",z6);const H6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Lb=Hn("bell",H6);const G6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y6=Hn("check",G6);const W6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],s2=Hn("circle-check-big",W6);const K6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$6=Hn("clock",K6);const X6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Q6=Hn("ellipsis",X6);const J6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Z6=Hn("file-text",J6);const eN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],t4=Hn("funnel",eN);const tN=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],nN=Hn("key-round",tN);const rN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],iN=Hn("layers",rN);const sN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],n4=Hn("layout-dashboard",sN);const aN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],r4=Hn("loader-circle",aN);const oN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lN=Hn("lock",oN);const cN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uN=Hn("log-out",cN);const hN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fN=Hn("menu",hN);const dN=[["path",{d:"M5 12h14",key:"1ays0h"}]],pN=Hn("minus",dN);const mN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kb=Hn("moon",mN);const gN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Db=Hn("package",gN);const yN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ug=Hn("plus",yN);const vN=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],bN=Hn("power",vN);const _N=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],i4=Hn("save",_N);const wN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hg=Hn("search",wN);const xN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AN=Hn("settings",xN);const SN=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Pb=Hn("shopping-bag",SN);const EN=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],a2=Hn("shopping-cart",EN);const NN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],TN=Hn("sun",NN);const CN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Od=Hn("tag",CN);const IN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ty=Hn("trash-2",IN);const RN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ny=Hn("triangle-alert",RN);const LN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],s4=Hn("truck",LN);const kN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ry=Hn("user",kN);const DN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dm=Hn("x",DN);var PN=Zx();const ON=Jx(PN);function MN(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const jN=n=>{switch(n){case"success":return UN;case"info":return zN;case"warning":return BN;case"error":return qN;default:return null}},VN=Array(12).fill(0),FN=({visible:n,className:e})=>Xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Xe.createElement("div",{className:"sonner-spinner"},VN.map((t,r)=>Xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),UN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GN=()=>{const[n,e]=Xe.useState(document.hidden);return Xe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let o2=1;class YN{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...a}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:o2++,c=this.toasts.find(d=>d.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:r}),{...d,...e,id:o,dismissible:u,title:r}):d):this.addToast({title:r,...a,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,c;const u=a.then(async f=>{if(c=["resolve",f],Xe.isValidElement(f))o=!1,this.create({id:r,type:"default",message:f});else if(KN(f)&&!f.ok){o=!1;const b=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,A=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description,M=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:A,...M})}else if(f instanceof Error){o=!1;const b=typeof t.error=="function"?await t.error(f):t.error,A=typeof t.description=="function"?await t.description(f):t.description,M=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:A,...M})}else if(t.success!==void 0){o=!1;const b=typeof t.success=="function"?await t.success(f):t.success,A=typeof t.description=="function"?await t.description(f):t.description,M=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"success",description:A,...M})}}).catch(async f=>{if(c=["reject",f],t.error!==void 0){o=!1;const g=typeof t.error=="function"?await t.error(f):t.error,b=typeof t.description=="function"?await t.description(f):t.description,w=typeof g=="object"&&!Xe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,...w})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((f,g)=>u.then(()=>c[0]==="reject"?g(c[1]):f(c[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{const r=t?.id||o2++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const pa=new YN,WN=(n,e)=>{const t=e?.id||o2++;return pa.addToast({title:n,...e,id:t}),t},KN=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",$N=WN,XN=()=>pa.toasts,QN=()=>pa.getActiveToasts(),dn=Object.assign($N,{success:pa.success,info:pa.info,warning:pa.warning,error:pa.error,custom:pa.custom,message:pa.message,promise:pa.promise,dismiss:pa.dismiss,loading:pa.loading},{getHistory:XN,getToasts:QN});MN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Jp(n){return n.label!==void 0}const JN=3,ZN="24px",eT="16px",Ob=4e3,tT=356,nT=14,rT=45,iT=200;function cl(...n){return n.filter(Boolean).join(" ")}function sT(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const aT=n=>{var e,t,r,a,o,c,u,d,f;const{invert:g,toast:b,unstyled:A,interacting:w,setHeights:M,visibleToasts:V,heights:U,index:j,toasts:te,expanded:ce,removeToast:H,defaultRichColors:se,closeButton:fe,style:q,cancelButtonStyle:k,actionButtonStyle:D,className:Y="",descriptionClassName:T="",duration:R,position:L,gap:he,expandByDefault:Ae,classNames:ee,icons:pe,closeButtonAriaLabel:ue="Close toast"}=n,[Ce,be]=Xe.useState(null),[X,P]=Xe.useState(null),[z,K]=Xe.useState(!1),[re,de]=Xe.useState(!1),[ye,Ee]=Xe.useState(!1),[Le,Ue]=Xe.useState(!1),[et,ot]=Xe.useState(!1),[ct,yt]=Xe.useState(0),[ne,lt]=Xe.useState(0),$t=Xe.useRef(b.duration||R||Ob),Mt=Xe.useRef(null),Be=Xe.useRef(null),dt=j===0,ie=j+1<=V,ge=b.type,Se=b.dismissible!==!1,Ke=b.className||"",He=b.descriptionClassName||"",Ve=Xe.useMemo(()=>U.findIndex(ut=>ut.toastId===b.id)||0,[U,b.id]),it=Xe.useMemo(()=>{var ut;return(ut=b.closeButton)!=null?ut:fe},[b.closeButton,fe]),ft=Xe.useMemo(()=>b.duration||R||Ob,[b.duration,R]),st=Xe.useRef(0),vt=Xe.useRef(0),mt=Xe.useRef(0),fn=Xe.useRef(null),[Zt,Pt]=L.split("-"),Ft=Xe.useMemo(()=>U.reduce((ut,_n,An)=>An>=Ve?ut:ut+_n.height,0),[U,Ve]),Qt=GN(),Ot=b.invert||g,yn=ge==="loading";vt.current=Xe.useMemo(()=>Ve*he+Ft,[Ve,Ft]),Xe.useEffect(()=>{$t.current=ft},[ft]),Xe.useEffect(()=>{K(!0)},[]),Xe.useEffect(()=>{const ut=Be.current;if(ut){const _n=ut.getBoundingClientRect().height;return lt(_n),M(An=>[{toastId:b.id,height:_n,position:b.position},...An]),()=>M(An=>An.filter(cr=>cr.toastId!==b.id))}},[M,b.id]),Xe.useLayoutEffect(()=>{if(!z)return;const ut=Be.current,_n=ut.style.height;ut.style.height="auto";const An=ut.getBoundingClientRect().height;ut.style.height=_n,lt(An),M(cr=>cr.find(pt=>pt.toastId===b.id)?cr.map(pt=>pt.toastId===b.id?{...pt,height:An}:pt):[{toastId:b.id,height:An,position:b.position},...cr])},[z,b.title,b.description,M,b.id,b.jsx,b.action,b.cancel]);const St=Xe.useCallback(()=>{de(!0),yt(vt.current),M(ut=>ut.filter(_n=>_n.toastId!==b.id)),setTimeout(()=>{H(b)},iT)},[b,H,M,vt]);Xe.useEffect(()=>{if(b.promise&&ge==="loading"||b.duration===1/0||b.type==="loading")return;let ut;return ce||w||Qt?(()=>{if(mt.current<st.current){const cr=new Date().getTime()-st.current;$t.current=$t.current-cr}mt.current=new Date().getTime()})():$t.current!==1/0&&(st.current=new Date().getTime(),ut=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),St()},$t.current)),()=>clearTimeout(ut)},[ce,w,b,ge,Qt,St]),Xe.useEffect(()=>{b.delete&&(St(),b.onDismiss==null||b.onDismiss.call(b,b))},[St,b.delete]);function zt(){var ut;if(pe?.loading){var _n;return Xe.createElement("div",{className:cl(ee?.loader,b==null||(_n=b.classNames)==null?void 0:_n.loader,"sonner-loader"),"data-visible":ge==="loading"},pe.loading)}return Xe.createElement(FN,{className:cl(ee?.loader,b==null||(ut=b.classNames)==null?void 0:ut.loader),visible:ge==="loading"})}const Mn=b.icon||pe?.[ge]||jN(ge);var jt,Ct;return Xe.createElement("li",{tabIndex:0,ref:Be,className:cl(Y,Ke,ee?.toast,b==null||(e=b.classNames)==null?void 0:e.toast,ee?.default,ee?.[ge],b==null||(t=b.classNames)==null?void 0:t[ge]),"data-sonner-toast":"","data-rich-colors":(jt=b.richColors)!=null?jt:se,"data-styled":!(b.jsx||b.unstyled||A),"data-mounted":z,"data-promise":!!b.promise,"data-swiped":et,"data-removed":re,"data-visible":ie,"data-y-position":Zt,"data-x-position":Pt,"data-index":j,"data-front":dt,"data-swiping":ye,"data-dismissible":Se,"data-type":ge,"data-invert":Ot,"data-swipe-out":Le,"data-swipe-direction":X,"data-expanded":!!(ce||Ae&&z),"data-testid":b.testId,style:{"--index":j,"--toasts-before":j,"--z-index":te.length-j,"--offset":`${re?ct:vt.current}px`,"--initial-height":Ae?"auto":`${ne}px`,...q,...b.style},onDragEnd:()=>{Ee(!1),be(null),fn.current=null},onPointerDown:ut=>{ut.button!==2&&(yn||!Se||(Mt.current=new Date,yt(vt.current),ut.target.setPointerCapture(ut.pointerId),ut.target.tagName!=="BUTTON"&&(Ee(!0),fn.current={x:ut.clientX,y:ut.clientY})))},onPointerUp:()=>{var ut,_n,An;if(Le||!Se)return;fn.current=null;const cr=Number(((ut=Be.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ar=Number(((_n=Be.current)==null?void 0:_n.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pt=new Date().getTime()-((An=Mt.current)==null?void 0:An.getTime()),Sr=Ce==="x"?cr:Ar,Zr=Math.abs(Sr)/pt;if(Math.abs(Sr)>=rT||Zr>.11){yt(vt.current),b.onDismiss==null||b.onDismiss.call(b,b),P(Ce==="x"?cr>0?"right":"left":Ar>0?"down":"up"),St(),Ue(!0);return}else{var Zn,er;(Zn=Be.current)==null||Zn.style.setProperty("--swipe-amount-x","0px"),(er=Be.current)==null||er.style.setProperty("--swipe-amount-y","0px")}ot(!1),Ee(!1),be(null)},onPointerMove:ut=>{var _n,An,cr;if(!fn.current||!Se||((_n=window.getSelection())==null?void 0:_n.toString().length)>0)return;const pt=ut.clientY-fn.current.y,Sr=ut.clientX-fn.current.x;var Zr;const Zn=(Zr=n.swipeDirections)!=null?Zr:sT(L);!Ce&&(Math.abs(Sr)>1||Math.abs(pt)>1)&&be(Math.abs(Sr)>Math.abs(pt)?"x":"y");let er={x:0,y:0};const Bn=Tn=>1/(1.5+Math.abs(Tn)/20);if(Ce==="y"){if(Zn.includes("top")||Zn.includes("bottom"))if(Zn.includes("top")&&pt<0||Zn.includes("bottom")&&pt>0)er.y=pt;else{const Tn=pt*Bn(pt);er.y=Math.abs(Tn)<Math.abs(pt)?Tn:pt}}else if(Ce==="x"&&(Zn.includes("left")||Zn.includes("right")))if(Zn.includes("left")&&Sr<0||Zn.includes("right")&&Sr>0)er.x=Sr;else{const Tn=Sr*Bn(Sr);er.x=Math.abs(Tn)<Math.abs(Sr)?Tn:Sr}(Math.abs(er.x)>0||Math.abs(er.y)>0)&&ot(!0),(An=Be.current)==null||An.style.setProperty("--swipe-amount-x",`${er.x}px`),(cr=Be.current)==null||cr.style.setProperty("--swipe-amount-y",`${er.y}px`)}},it&&!b.jsx&&ge!=="loading"?Xe.createElement("button",{"aria-label":ue,"data-disabled":yn,"data-close-button":!0,onClick:yn||!Se?()=>{}:()=>{St(),b.onDismiss==null||b.onDismiss.call(b,b)},className:cl(ee?.closeButton,b==null||(r=b.classNames)==null?void 0:r.closeButton)},(Ct=pe?.close)!=null?Ct:HN):null,(ge||b.icon||b.promise)&&b.icon!==null&&(pe?.[ge]!==null||b.icon)?Xe.createElement("div",{"data-icon":"",className:cl(ee?.icon,b==null||(a=b.classNames)==null?void 0:a.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||zt():null,b.type!=="loading"?Mn:null):null,Xe.createElement("div",{"data-content":"",className:cl(ee?.content,b==null||(o=b.classNames)==null?void 0:o.content)},Xe.createElement("div",{"data-title":"",className:cl(ee?.title,b==null||(c=b.classNames)==null?void 0:c.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?Xe.createElement("div",{"data-description":"",className:cl(T,He,ee?.description,b==null||(u=b.classNames)==null?void 0:u.description)},typeof b.description=="function"?b.description():b.description):null),Xe.isValidElement(b.cancel)?b.cancel:b.cancel&&Jp(b.cancel)?Xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||k,onClick:ut=>{Jp(b.cancel)&&Se&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,ut),St())},className:cl(ee?.cancelButton,b==null||(d=b.classNames)==null?void 0:d.cancelButton)},b.cancel.label):null,Xe.isValidElement(b.action)?b.action:b.action&&Jp(b.action)?Xe.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||D,onClick:ut=>{Jp(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,ut),!ut.defaultPrevented&&St())},className:cl(ee?.actionButton,b==null||(f=b.classNames)==null?void 0:f.actionButton)},b.action.label):null)};function Mb(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function oT(n,e){const t={};return[n,e].forEach((r,a)=>{const o=a===1,c=o?"--mobile-offset":"--offset",u=o?eT:ZN;function d(f){["top","right","bottom","left"].forEach(g=>{t[`${c}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?t[`${c}-${f}`]=u:t[`${c}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(u)}),t}const lT=Xe.forwardRef(function(e,t){const{id:r,invert:a,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:g,mobileOffset:b,theme:A="light",richColors:w,duration:M,style:V,visibleToasts:U=JN,toastOptions:j,dir:te=Mb(),gap:ce=nT,icons:H,containerAriaLabel:se="Notifications"}=e,[fe,q]=Xe.useState([]),k=Xe.useMemo(()=>r?fe.filter(z=>z.toasterId===r):fe.filter(z=>!z.toasterId),[fe,r]),D=Xe.useMemo(()=>Array.from(new Set([o].concat(k.filter(z=>z.position).map(z=>z.position)))),[k,o]),[Y,T]=Xe.useState([]),[R,L]=Xe.useState(!1),[he,Ae]=Xe.useState(!1),[ee,pe]=Xe.useState(A!=="system"?A:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=Xe.useRef(null),Ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),be=Xe.useRef(null),X=Xe.useRef(!1),P=Xe.useCallback(z=>{q(K=>{var re;return(re=K.find(de=>de.id===z.id))!=null&&re.delete||pa.dismiss(z.id),K.filter(({id:de})=>de!==z.id)})},[]);return Xe.useEffect(()=>pa.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{q(K=>K.map(re=>re.id===z.id?{...re,delete:!0}:re))});return}setTimeout(()=>{ON.flushSync(()=>{q(K=>{const re=K.findIndex(de=>de.id===z.id);return re!==-1?[...K.slice(0,re),{...K[re],...z},...K.slice(re+1)]:[z,...K]})})})}),[fe]),Xe.useEffect(()=>{if(A!=="system"){pe(A);return}if(A==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:K})=>{pe(K?"dark":"light")})}catch{z.addListener(({matches:re})=>{try{pe(re?"dark":"light")}catch(de){console.error(de)}})}},[A]),Xe.useEffect(()=>{fe.length<=1&&L(!1)},[fe]),Xe.useEffect(()=>{const z=K=>{var re;if(c.every(Ee=>K[Ee]||K.code===Ee)){var ye;L(!0),(ye=ue.current)==null||ye.focus()}K.code==="Escape"&&(document.activeElement===ue.current||(re=ue.current)!=null&&re.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[c]),Xe.useEffect(()=>{if(ue.current)return()=>{be.current&&(be.current.focus({preventScroll:!0}),be.current=null,X.current=!1)}},[ue.current]),Xe.createElement("section",{ref:t,"aria-label":`${se} ${Ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((z,K)=>{var re;const[de,ye]=z.split("-");return k.length?Xe.createElement("ol",{key:z,dir:te==="auto"?Mb():te,tabIndex:-1,ref:ue,className:f,"data-sonner-toaster":!0,"data-sonner-theme":ee,"data-y-position":de,"data-x-position":ye,style:{"--front-toast-height":`${((re=Y[0])==null?void 0:re.height)||0}px`,"--width":`${tT}px`,"--gap":`${ce}px`,...V,...oT(g,b)},onBlur:Ee=>{X.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(X.current=!1,be.current&&(be.current.focus({preventScroll:!0}),be.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||X.current||(X.current=!0,be.current=Ee.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{he||L(!1)},onDragEnd:()=>L(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||Ae(!0)},onPointerUp:()=>Ae(!1)},k.filter(Ee=>!Ee.position&&K===0||Ee.position===z).map((Ee,Le)=>{var Ue,et;return Xe.createElement(aT,{key:Ee.id,icons:H,index:Le,toast:Ee,defaultRichColors:w,duration:(Ue=j?.duration)!=null?Ue:M,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:a,visibleToasts:U,closeButton:(et=j?.closeButton)!=null?et:d,interacting:he,position:z,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:P,toasts:k.filter(ot=>ot.position==Ee.position),heights:Y.filter(ot=>ot.position==Ee.position),setHeights:T,expandByDefault:u,gap:ce,expanded:R,swipeDirections:e.swipeDirections})})):null}))});function a4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=a4(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function cT(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=a4(n))&&(r&&(r+=" "),r+=e);return r}const uT=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},hT=(n,e)=>({classGroupId:n,validator:e}),o4=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Pm="-",jb=[],fT="arbitrary..",dT=n=>{const e=mT(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return pT(c);const u=c.split(Pm),d=u[0]===""&&u.length>1?1:0;return l4(u,d,e)},getConflictingClassGroupIds:(c,u)=>{if(u){const d=r[c],f=t[c];return d?f?uT(f,d):d:f||jb}return t[c]||jb}}},l4=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const a=n[e],o=t.nextPart.get(a);if(o){const f=l4(n,e+1,o);if(f)return f}const c=t.validators;if(c===null)return;const u=e===0?n.join(Pm):n.slice(e).join(Pm),d=c.length;for(let f=0;f<d;f++){const g=c[f];if(g.validator(u))return g.classGroupId}},pT=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?fT+r:void 0})(),mT=n=>{const{theme:e,classGroups:t}=n;return gT(t,e)},gT=(n,e)=>{const t=o4();for(const r in n){const a=n[r];iy(a,t,r,e)}return t},iy=(n,e,t,r)=>{const a=n.length;for(let o=0;o<a;o++){const c=n[o];yT(c,e,t,r)}},yT=(n,e,t,r)=>{if(typeof n=="string"){vT(n,e,t);return}if(typeof n=="function"){bT(n,e,t,r);return}_T(n,e,t,r)},vT=(n,e,t)=>{const r=n===""?e:c4(e,n);r.classGroupId=t},bT=(n,e,t,r)=>{if(wT(n)){iy(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(hT(t,n))},_T=(n,e,t,r)=>{const a=Object.entries(n),o=a.length;for(let c=0;c<o;c++){const[u,d]=a[c];iy(d,c4(e,u),t,r)}},c4=(n,e)=>{let t=n;const r=e.split(Pm),a=r.length;for(let o=0;o<a;o++){const c=r[o];let u=t.nextPart.get(c);u||(u=o4(),t.nextPart.set(c,u)),t=u}return t},wT=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,xT=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const a=(o,c)=>{t[o]=c,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(o){let c=t[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return a(o,c),c},set(o,c){o in t?t[o]=c:a(o,c)}}},l2="!",Vb=":",AT=[],Fb=(n,e,t,r,a)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:a}),ST=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=a=>{const o=[];let c=0,u=0,d=0,f;const g=a.length;for(let V=0;V<g;V++){const U=a[V];if(c===0&&u===0){if(U===Vb){o.push(a.slice(d,V)),d=V+1;continue}if(U==="/"){f=V;continue}}U==="["?c++:U==="]"?c--:U==="("?u++:U===")"&&u--}const b=o.length===0?a:a.slice(d);let A=b,w=!1;b.endsWith(l2)?(A=b.slice(0,-1),w=!0):b.startsWith(l2)&&(A=b.slice(1),w=!0);const M=f&&f>d?f-d:void 0;return Fb(o,w,A,M)};if(e){const a=e+Vb,o=r;r=c=>c.startsWith(a)?o(c.slice(a.length)):Fb(AT,!1,c,void 0,!0)}if(t){const a=r;r=o=>t({className:o,parseClassName:a})}return r},ET=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let a=[];for(let o=0;o<t.length;o++){const c=t[o],u=c[0]==="[",d=e.has(c);u||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},NT=n=>({cache:xT(n.cacheSize),parseClassName:ST(n),sortModifiers:ET(n),...dT(n)}),TT=/\s+/,CT=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],u=n.trim().split(TT);let d="";for(let f=u.length-1;f>=0;f-=1){const g=u[f],{isExternal:b,modifiers:A,hasImportantModifier:w,baseClassName:M,maybePostfixModifierPosition:V}=t(g);if(b){d=g+(d.length>0?" "+d:d);continue}let U=!!V,j=r(U?M.substring(0,V):M);if(!j){if(!U){d=g+(d.length>0?" "+d:d);continue}if(j=r(M),!j){d=g+(d.length>0?" "+d:d);continue}U=!1}const te=A.length===0?"":A.length===1?A[0]:o(A).join(":"),ce=w?te+l2:te,H=ce+j;if(c.indexOf(H)>-1)continue;c.push(H);const se=a(j,U);for(let fe=0;fe<se.length;++fe){const q=se[fe];c.push(ce+q)}d=g+(d.length>0?" "+d:d)}return d},IT=(...n)=>{let e=0,t,r,a="";for(;e<n.length;)(t=n[e++])&&(r=u4(t))&&(a&&(a+=" "),a+=r);return a},u4=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=u4(n[r]))&&(t&&(t+=" "),t+=e);return t},RT=(n,...e)=>{let t,r,a,o;const c=d=>{const f=e.reduce((g,b)=>b(g),n());return t=NT(f),r=t.cache.get,a=t.cache.set,o=u,u(d)},u=d=>{const f=r(d);if(f)return f;const g=CT(d,t);return a(d,g),g};return o=c,(...d)=>o(IT(...d))},LT=[],zi=n=>{const e=t=>t[n]||LT;return e.isThemeGetter=!0,e},h4=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,f4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kT=/^\d+\/\d+$/,DT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,MT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ph=n=>kT.test(n),bn=n=>!!n&&!Number.isNaN(Number(n)),Vc=n=>!!n&&Number.isInteger(Number(n)),c0=n=>n.endsWith("%")&&bn(n.slice(0,-1)),Wl=n=>DT.test(n),VT=()=>!0,FT=n=>PT.test(n)&&!OT.test(n),d4=()=>!1,UT=n=>MT.test(n),BT=n=>jT.test(n),zT=n=>!Lt(n)&&!kt(n),qT=n=>bf(n,g4,d4),Lt=n=>h4.test(n),Lu=n=>bf(n,y4,FT),u0=n=>bf(n,KT,bn),Ub=n=>bf(n,p4,d4),HT=n=>bf(n,m4,BT),Zp=n=>bf(n,v4,UT),kt=n=>f4.test(n),pd=n=>_f(n,y4),GT=n=>_f(n,$T),Bb=n=>_f(n,p4),YT=n=>_f(n,g4),WT=n=>_f(n,m4),em=n=>_f(n,v4,!0),bf=(n,e,t)=>{const r=h4.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},_f=(n,e,t=!1)=>{const r=f4.exec(n);return r?r[1]?e(r[1]):t:!1},p4=n=>n==="position"||n==="percentage",m4=n=>n==="image"||n==="url",g4=n=>n==="length"||n==="size"||n==="bg-size",y4=n=>n==="length",KT=n=>n==="number",$T=n=>n==="family-name",v4=n=>n==="shadow",XT=()=>{const n=zi("color"),e=zi("font"),t=zi("text"),r=zi("font-weight"),a=zi("tracking"),o=zi("leading"),c=zi("breakpoint"),u=zi("container"),d=zi("spacing"),f=zi("radius"),g=zi("shadow"),b=zi("inset-shadow"),A=zi("text-shadow"),w=zi("drop-shadow"),M=zi("blur"),V=zi("perspective"),U=zi("aspect"),j=zi("ease"),te=zi("animate"),ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],se=()=>[...H(),kt,Lt],fe=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],k=()=>[kt,Lt,d],D=()=>[Ph,"full","auto",...k()],Y=()=>[Vc,"none","subgrid",kt,Lt],T=()=>["auto",{span:["full",Vc,kt,Lt]},Vc,kt,Lt],R=()=>[Vc,"auto",kt,Lt],L=()=>["auto","min","max","fr",kt,Lt],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...k()],pe=()=>[Ph,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],ue=()=>[n,kt,Lt],Ce=()=>[...H(),Bb,Ub,{position:[kt,Lt]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",YT,qT,{size:[kt,Lt]}],P=()=>[c0,pd,Lu],z=()=>["","none","full",f,kt,Lt],K=()=>["",bn,pd,Lu],re=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[bn,c0,Bb,Ub],Ee=()=>["","none",M,kt,Lt],Le=()=>["none",bn,kt,Lt],Ue=()=>["none",bn,kt,Lt],et=()=>[bn,kt,Lt],ot=()=>[Ph,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wl],breakpoint:[Wl],color:[VT],container:[Wl],"drop-shadow":[Wl],ease:["in","out","in-out"],font:[zT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wl],shadow:[Wl],spacing:["px",bn],text:[Wl],"text-shadow":[Wl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ph,Lt,kt,U]}],container:["container"],columns:[{columns:[bn,Lt,kt,u]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:se()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Vc,"auto",kt,Lt]}],basis:[{basis:[Ph,"full","auto",u,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bn,Ph,"auto","initial","none",Lt]}],grow:[{grow:["",bn,kt,Lt]}],shrink:[{shrink:["",bn,kt,Lt]}],order:[{order:[Vc,"first","last","none",kt,Lt]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[u,"screen",...pe()]}],"min-w":[{"min-w":[u,"screen","none",...pe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",t,pd,Lu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,kt,u0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",c0,Lt]}],"font-family":[{font:[GT,Lt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,kt,Lt]}],"line-clamp":[{"line-clamp":[bn,"none",kt,u0]}],leading:[{leading:[o,...k()]}],"list-image":[{"list-image":["none",kt,Lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",kt,Lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ue()}],"text-color":[{text:ue()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[bn,"from-font","auto",kt,Lu]}],"text-decoration-color":[{decoration:ue()}],"underline-offset":[{"underline-offset":[bn,"auto",kt,Lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt,Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt,Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ce()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vc,kt,Lt],radial:["",kt,Lt],conic:[Vc,kt,Lt]},WT,HT]}],"bg-color":[{bg:ue()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:ue()}],"gradient-via":[{via:ue()}],"gradient-to":[{to:ue()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:ue()}],"border-color-x":[{"border-x":ue()}],"border-color-y":[{"border-y":ue()}],"border-color-s":[{"border-s":ue()}],"border-color-e":[{"border-e":ue()}],"border-color-t":[{"border-t":ue()}],"border-color-r":[{"border-r":ue()}],"border-color-b":[{"border-b":ue()}],"border-color-l":[{"border-l":ue()}],"divide-color":[{divide:ue()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bn,kt,Lt]}],"outline-w":[{outline:["",bn,pd,Lu]}],"outline-color":[{outline:ue()}],shadow:[{shadow:["","none",g,em,Zp]}],"shadow-color":[{shadow:ue()}],"inset-shadow":[{"inset-shadow":["none",b,em,Zp]}],"inset-shadow-color":[{"inset-shadow":ue()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ue()}],"ring-offset-w":[{"ring-offset":[bn,Lu]}],"ring-offset-color":[{"ring-offset":ue()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":ue()}],"text-shadow":[{"text-shadow":["none",A,em,Zp]}],"text-shadow-color":[{"text-shadow":ue()}],opacity:[{opacity:[bn,kt,Lt]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":ue()}],"mask-image-linear-to-color":[{"mask-linear-to":ue()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":ue()}],"mask-image-t-to-color":[{"mask-t-to":ue()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":ue()}],"mask-image-r-to-color":[{"mask-r-to":ue()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":ue()}],"mask-image-b-to-color":[{"mask-b-to":ue()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":ue()}],"mask-image-l-to-color":[{"mask-l-to":ue()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":ue()}],"mask-image-x-to-color":[{"mask-x-to":ue()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":ue()}],"mask-image-y-to-color":[{"mask-y-to":ue()}],"mask-image-radial":[{"mask-radial":[kt,Lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":ue()}],"mask-image-radial-to-color":[{"mask-radial-to":ue()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[bn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":ue()}],"mask-image-conic-to-color":[{"mask-conic-to":ue()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ce()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",kt,Lt]}],filter:[{filter:["","none",kt,Lt]}],blur:[{blur:Ee()}],brightness:[{brightness:[bn,kt,Lt]}],contrast:[{contrast:[bn,kt,Lt]}],"drop-shadow":[{"drop-shadow":["","none",w,em,Zp]}],"drop-shadow-color":[{"drop-shadow":ue()}],grayscale:[{grayscale:["",bn,kt,Lt]}],"hue-rotate":[{"hue-rotate":[bn,kt,Lt]}],invert:[{invert:["",bn,kt,Lt]}],saturate:[{saturate:[bn,kt,Lt]}],sepia:[{sepia:["",bn,kt,Lt]}],"backdrop-filter":[{"backdrop-filter":["","none",kt,Lt]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[bn,kt,Lt]}],"backdrop-contrast":[{"backdrop-contrast":[bn,kt,Lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bn,kt,Lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bn,kt,Lt]}],"backdrop-invert":[{"backdrop-invert":["",bn,kt,Lt]}],"backdrop-opacity":[{"backdrop-opacity":[bn,kt,Lt]}],"backdrop-saturate":[{"backdrop-saturate":[bn,kt,Lt]}],"backdrop-sepia":[{"backdrop-sepia":["",bn,kt,Lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",kt,Lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bn,"initial",kt,Lt]}],ease:[{ease:["linear","initial",j,kt,Lt]}],delay:[{delay:[bn,kt,Lt]}],animate:[{animate:["none",te,kt,Lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,kt,Lt]}],"perspective-origin":[{"perspective-origin":se()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[kt,Lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:se()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ot()}],"translate-x":[{"translate-x":ot()}],"translate-y":[{"translate-y":ot()}],"translate-z":[{"translate-z":ot()}],"translate-none":["translate-none"],accent:[{accent:ue()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ue()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt,Lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt,Lt]}],fill:[{fill:["none",...ue()]}],"stroke-w":[{stroke:[bn,pd,Lu,u0]}],stroke:[{stroke:["none",...ue()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QT=RT(XT);function ro(...n){return QT(cT(n))}const zb=n=>{let e;const t=new Set,r=(f,g)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const A=e;e=g??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(w=>w(e,A))}},a=()=>e,u={setState:r,getState:a,getInitialState:()=>d,subscribe:f=>(t.add(f),()=>t.delete(f))},d=e=n(r,a,u);return u},JT=(n=>n?zb(n):zb),ZT=n=>n;function eC(n,e=ZT){const t=Xe.useSyncExternalStore(n.subscribe,Xe.useCallback(()=>e(n.getState()),[n,e]),Xe.useCallback(()=>e(n.getInitialState()),[n,e]));return Xe.useDebugValue(t),t}const qb=n=>{const e=JT(n),t=r=>eC(e,r);return Object.assign(t,e),t},sy=(n=>n?qb(n):qb),tC=()=>{};var Hb={};const b4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},nC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],u=n[t++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},_4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,u=c?n[a+1]:0,d=a+2<n.length,f=d?n[a+2]:0,g=o>>2,b=(o&3)<<4|u>>4;let A=(u&15)<<2|f>>6,w=f&63;d||(w=64,c||(A=64)),r.push(t[g],t[b],t[A],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(b4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||u==null||f==null||b==null)throw new rC;const A=o<<2|u>>4;if(r.push(A),f!==64){const w=u<<4&240|f>>2;if(r.push(w),b!==64){const M=f<<6&192|b;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iC=function(n){const e=b4(n);return _4.encodeByteArray(e,!0)},Om=function(n){return iC(n).replace(/\./g,"")},w4=function(n){try{return _4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aC=()=>sC().__FIREBASE_DEFAULTS__,oC=()=>{if(typeof process>"u"||typeof Hb>"u")return;const n=Hb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&w4(n[1]);return e&&JSON.parse(e)},fg=()=>{try{return tC()||aC()||oC()||lC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},x4=n=>fg()?.emulatorHosts?.[n],cC=n=>{const e=x4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},A4=()=>fg()?.config,S4=n=>fg()?.[`_${n}`];class uC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function wf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E4(n){return(await fetch(n,{credentials:"include"})).ok}function hC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Om(JSON.stringify(t)),Om(JSON.stringify(c)),""].join(".")}const Ed={};function fC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ed))Ed[e]?n.emulator.push(e):n.prod.push(e);return n}function dC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Gb=!1;function N4(n,e){if(typeof window>"u"||typeof document>"u"||!wf(window.location.host)||Ed[n]===e||Ed[n]||Gb)return;Ed[n]=e;function t(A){return`__firebase__banner__${A}`}const r="__firebase__banner",o=fC().prod.length>0;function c(){const A=document.getElementById(r);A&&A.remove()}function u(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function d(A,w){A.setAttribute("width","24"),A.setAttribute("id",w),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function f(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Gb=!0,c()},A}function g(A,w){A.setAttribute("id",w),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=dC(r),w=t("text"),M=document.getElementById(w)||document.createElement("span"),V=t("learnmore"),U=document.getElementById(V)||document.createElement("a"),j=t("preprendIcon"),te=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ce=A.element;u(ce),g(U,V);const H=f();d(te,j),ce.append(te,M,U,H),document.body.appendChild(ce)}o?(M.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ms())}function mC(){const n=fg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bC(){const n=Ms();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _C(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const AC="FirebaseError";class oc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=AC,Object.setPrototypeOf(this,oc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wd.prototype.create)}}class Wd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?SC(o,r):"Error",u=`${this.serviceName}: ${c} (${a}).`;return new oc(a,u,r)}}function SC(n,e){return n.replace(EC,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const EC=/\{\$([^}]+)}/g;function NC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(Yb(o)&&Yb(c)){if(!Uu(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Yb(n){return n!==null&&typeof n=="object"}function Kd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _d(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function wd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function TC(n,e){const t=new CC(n,e);return t.subscribe.bind(t)}class CC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");IC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=h0),a.error===void 0&&(a.error=h0),a.complete===void 0&&(a.complete=h0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function h0(){}function Ii(n){return n&&n._delegate?n._delegate:n}class Bu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ku="[DEFAULT]";class RC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kC(e))try{this.getOrInitializeService({instanceIdentifier:ku})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=ku){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ku){return this.instances.has(e)}getOptions(e=ku){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ku){return this.component?this.component.multipleInstances?e:ku:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LC(n){return n===ku?void 0:n}function kC(n){return n.instantiationMode==="EAGER"}class DC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ln||(Ln={}));const PC={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},OC=Ln.INFO,MC={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},jC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=MC[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ay{constructor(e){this.name=e,this._logLevel=OC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const VC=(n,e)=>e.some(t=>n instanceof t);let Wb,Kb;function FC(){return Wb||(Wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UC(){return Kb||(Kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T4=new WeakMap,c2=new WeakMap,C4=new WeakMap,f0=new WeakMap,oy=new WeakMap;function BC(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Xc(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&T4.set(t,n)}).catch(()=>{}),oy.set(e,n),e}function zC(n){if(c2.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});c2.set(n,e)}let u2={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return c2.get(n);if(e==="objectStoreNames")return n.objectStoreNames||C4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qC(n){u2=n(u2)}function HC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(d0(this),e,...t);return C4.set(r,e.sort?e.sort():[e]),Xc(r)}:UC().includes(n)?function(...e){return n.apply(d0(this),e),Xc(T4.get(this))}:function(...e){return Xc(n.apply(d0(this),e))}}function GC(n){return typeof n=="function"?HC(n):(n instanceof IDBTransaction&&zC(n),VC(n,FC())?new Proxy(n,u2):n)}function Xc(n){if(n instanceof IDBRequest)return BC(n);if(f0.has(n))return f0.get(n);const e=GC(n);return e!==n&&(f0.set(n,e),oy.set(e,n)),e}const d0=n=>oy.get(n);function YC(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),u=Xc(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Xc(c.result),d.oldVersion,d.newVersion,Xc(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const WC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],p0=new Map;function $b(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(p0.get(e))return p0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=KC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||WC.includes(t)))return;const o=async function(c,...u){const d=this.transaction(c,a?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),a&&d.done]))[0]};return p0.set(e,o),o}qC(n=>({...n,get:(e,t,r)=>$b(e,t)||n.get(e,t,r),has:(e,t)=>!!$b(e,t)||n.has(e,t)}));class $C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function XC(n){return n.getComponent()?.type==="VERSION"}const h2="@firebase/app",Xb="0.14.7";const nc=new ay("@firebase/app"),QC="@firebase/app-compat",JC="@firebase/analytics-compat",ZC="@firebase/analytics",e8="@firebase/app-check-compat",t8="@firebase/app-check",n8="@firebase/auth",r8="@firebase/auth-compat",i8="@firebase/database",s8="@firebase/data-connect",a8="@firebase/database-compat",o8="@firebase/functions",l8="@firebase/functions-compat",c8="@firebase/installations",u8="@firebase/installations-compat",h8="@firebase/messaging",f8="@firebase/messaging-compat",d8="@firebase/performance",p8="@firebase/performance-compat",m8="@firebase/remote-config",g8="@firebase/remote-config-compat",y8="@firebase/storage",v8="@firebase/storage-compat",b8="@firebase/firestore",_8="@firebase/ai",w8="@firebase/firestore-compat",x8="firebase",A8="12.8.0";const f2="[DEFAULT]",S8={[h2]:"fire-core",[QC]:"fire-core-compat",[ZC]:"fire-analytics",[JC]:"fire-analytics-compat",[t8]:"fire-app-check",[e8]:"fire-app-check-compat",[n8]:"fire-auth",[r8]:"fire-auth-compat",[i8]:"fire-rtdb",[s8]:"fire-data-connect",[a8]:"fire-rtdb-compat",[o8]:"fire-fn",[l8]:"fire-fn-compat",[c8]:"fire-iid",[u8]:"fire-iid-compat",[h8]:"fire-fcm",[f8]:"fire-fcm-compat",[d8]:"fire-perf",[p8]:"fire-perf-compat",[m8]:"fire-rc",[g8]:"fire-rc-compat",[y8]:"fire-gcs",[v8]:"fire-gcs-compat",[b8]:"fire-fst",[w8]:"fire-fst-compat",[_8]:"fire-vertex","fire-js":"fire-js",[x8]:"fire-js-all"};const Mm=new Map,E8=new Map,d2=new Map;function Qb(n,e){try{n.container.addComponent(e)}catch(t){nc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lf(n){const e=n.name;if(d2.has(e))return nc.debug(`There were multiple attempts to register component ${e}.`),!1;d2.set(e,n);for(const t of Mm.values())Qb(t,n);for(const t of E8.values())Qb(t,n);return!0}function ly(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Lo(n){return n==null?!1:n.settings!==void 0}const N8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qc=new Wd("app","Firebase",N8);class T8{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qc.create("app-deleted",{appName:this._name})}}const xf=A8;function I4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:f2,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Qc.create("bad-app-name",{appName:String(a)});if(t||(t=A4()),!t)throw Qc.create("no-options");const o=Mm.get(a);if(o){if(Uu(t,o.options)&&Uu(r,o.config))return o;throw Qc.create("duplicate-app",{appName:a})}const c=new DC(a);for(const d of d2.values())c.addComponent(d);const u=new T8(t,r,c);return Mm.set(a,u),u}function R4(n=f2){const e=Mm.get(n);if(!e&&n===f2&&A4())return I4();if(!e)throw Qc.create("no-app",{appName:n});return e}function Jc(n,e,t){let r=S8[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nc.warn(c.join(" "));return}lf(new Bu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const C8="firebase-heartbeat-database",I8=1,Md="firebase-heartbeat-store";let m0=null;function L4(){return m0||(m0=YC(C8,I8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Md)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qc.create("idb-open",{originalErrorMessage:n.message})})),m0}async function R8(n){try{const t=(await L4()).transaction(Md),r=await t.objectStore(Md).get(k4(n));return await t.done,r}catch(e){if(e instanceof oc)nc.warn(e.message);else{const t=Qc.create("idb-get",{originalErrorMessage:e?.message});nc.warn(t.message)}}}async function Jb(n,e){try{const r=(await L4()).transaction(Md,"readwrite");await r.objectStore(Md).put(e,k4(n)),await r.done}catch(t){if(t instanceof oc)nc.warn(t.message);else{const r=Qc.create("idb-set",{originalErrorMessage:t?.message});nc.warn(r.message)}}}function k4(n){return`${n.name}!${n.options.appId}`}const L8=1024,k8=30;class D8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new O8(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>k8){const a=M8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){nc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zb(),{heartbeatsToSend:t,unsentEntries:r}=P8(this._heartbeatsCache.heartbeats),a=Om(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return nc.warn(e),""}}}function Zb(){return new Date().toISOString().substring(0,10)}function P8(n,e=L8){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),e_(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),e_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class O8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await R8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e_(n){return Om(JSON.stringify({version:2,heartbeats:n})).length}function M8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function j8(n){lf(new Bu("platform-logger",e=>new $C(e),"PRIVATE")),lf(new Bu("heartbeat",e=>new D8(e),"PRIVATE")),Jc(h2,Xb,n),Jc(h2,Xb,"esm2020"),Jc("fire-js","")}j8("");var V8="firebase",F8="12.8.0";Jc(V8,F8,"app");function D4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U8=D4,P4=new Wd("auth","Firebase",D4());const jm=new ay("@firebase/auth");function B8(n,...e){jm.logLevel<=Ln.WARN&&jm.warn(`Auth (${xf}): ${n}`,...e)}function ym(n,...e){jm.logLevel<=Ln.ERROR&&jm.error(`Auth (${xf}): ${n}`,...e)}function Mo(n,...e){throw cy(n,...e)}function ml(n,...e){return cy(n,...e)}function O4(n,e,t){const r={...U8(),[e]:t};return new Wd("auth","Firebase",r).create(e,{appName:n.name})}function Zc(n){return O4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return P4.create(n,...e)}function en(n,e,...t){if(!n)throw cy(e,...t)}function Jl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ym(e),new Error(e)}function rc(n,e){n||Jl(e)}function p2(){return typeof self<"u"&&self.location?.href||""}function z8(){return t_()==="http:"||t_()==="https:"}function t_(){return typeof self<"u"&&self.location?.protocol||null}function q8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z8()||yC()||"connection"in navigator)?navigator.onLine:!0}function H8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class $d{constructor(e,t){this.shortDelay=e,this.longDelay=t,rc(t>e,"Short delay should be less than long delay!"),this.isMobile=pC()||vC()}get(){return q8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function uy(n,e){rc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class M4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W8=new $d(3e4,6e4);function $u(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function lc(n,e,t,r,a={}){return j4(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=Kd({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...o};return gC()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&wf(n.emulatorConfig.host)&&(f.credentials="include"),M4.fetch()(await V4(n,n.config.apiHost,t,u),f)})}async function j4(n,e,t){n._canInitEmulator=!1;const r={...G8,...e};try{const a=new $8(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw tm(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw tm(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw tm(n,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw O4(n,g,f);Mo(n,g)}}catch(a){if(a instanceof oc)throw a;Mo(n,"network-request-failed",{message:String(a)})}}async function dg(n,e,t,r,a={}){const o=await lc(n,e,t,r,a);return"mfaPendingCredential"in o&&Mo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function V4(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?uy(n.config,a):`${n.config.apiScheme}://${a}`;return Y8.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function K8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ml(this.auth,"network-request-failed")),W8.get())})}}function tm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ml(n,e,r);return a.customData._tokenResponse=t,a}function n_(n){return n!==void 0&&n.enterprise!==void 0}class X8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return K8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q8(n,e){return lc(n,"GET","/v2/recaptchaConfig",$u(n,e))}async function J8(n,e){return lc(n,"POST","/v1/accounts:delete",e)}async function Vm(n,e){return lc(n,"POST","/v1/accounts:lookup",e)}function Nd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z8(n,e=!1){const t=Ii(n),r=await t.getIdToken(e),a=hy(r);en(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Nd(g0(a.auth_time)),issuedAtTime:Nd(g0(a.iat)),expirationTime:Nd(g0(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function g0(n){return Number(n)*1e3}function hy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const a=w4(t);return a?JSON.parse(a):(ym("Failed to decode base64 JWT payload"),null)}catch(a){return ym("Caught error parsing JWT payload as JSON",a?.toString()),null}}function r_(n){const e=hy(n);return en(e,"internal-error"),en(typeof e.exp<"u","internal-error"),en(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof oc&&eI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function eI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class tI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class m2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nd(this.lastLoginAt),this.creationTime=Nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fm(n){const e=n.auth,t=await n.getIdToken(),r=await cf(n,Vm(e,{idToken:t}));en(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?F4(a.providerUserInfo):[],c=rI(n.providerData,o),u=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!c?.length,f=u?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new m2(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function nI(n){const e=Ii(n);await Fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rI(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function F4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function iI(n,e){const t=await j4(n,{},async()=>{const r=Kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await V4(n,a,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&wf(n.emulatorConfig.host)&&(d.credentials="include"),M4.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sI(n,e){return lc(n,"POST","/v2/accounts:revokeToken",$u(n,e))}class Xh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){en(e.idToken,"internal-error"),en(typeof e.idToken<"u","internal-error"),en(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){en(e.length!==0,"internal-error");const t=r_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(en(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await iI(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new Xh;return r&&(en(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(en(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(en(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xh,this.toJSON())}_performRefresh(){return Jl("not implemented")}}function Fc(n,e){en(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Do{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new m2(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await cf(this,this.stsTokenManager.getToken(this.auth,e));return en(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Z8(this,e)}reload(){return nI(this)}_assign(e){this!==e&&(en(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Do({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Fm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lo(this.auth.app))return Promise.reject(Zc(this.auth));const e=await this.getIdToken();return await cf(this,J8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:w,providerData:M,stsTokenManager:V}=t;en(b&&V,e,"internal-error");const U=Xh.fromJSON(this.name,V);en(typeof b=="string",e,"internal-error"),Fc(r,e.name),Fc(a,e.name),en(typeof A=="boolean",e,"internal-error"),en(typeof w=="boolean",e,"internal-error"),Fc(o,e.name),Fc(c,e.name),Fc(u,e.name),Fc(d,e.name),Fc(f,e.name),Fc(g,e.name);const j=new Do({uid:b,auth:e,email:a,emailVerified:A,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:U,createdAt:f,lastLoginAt:g});return M&&Array.isArray(M)&&(j.providerData=M.map(te=>({...te}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,t,r=!1){const a=new Xh;a.updateFromServerResponse(t);const o=new Do({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Fm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];en(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?F4(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,u=new Xh;u.updateFromIdToken(r);const d=new Do({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new m2(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const i_=new Map;function Zl(n){rc(n instanceof Function,"Expected a class definition");let e=i_.get(n);return e?(rc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i_.set(n,e),e)}class U4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}U4.type="NONE";const s_=U4;function vm(n,e,t){return`firebase:${n}:${e}:${t}`}class Qh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=vm(this.userKey,a.apiKey,o),this.fullPersistenceKey=vm("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vm(this.auth,{idToken:e}).catch(()=>{});return t?Do._fromGetAccountInfoResponse(this.auth,t,e):null}return Do._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qh(Zl(s_),e,r);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||Zl(s_);const c=vm(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const g=await f._get(c);if(g){let b;if(typeof g=="string"){const A=await Vm(e,{idToken:g}).catch(()=>{});if(!A)break;b=await Do._fromGetAccountInfoResponse(e,A,g)}else b=Do._fromJSON(e,g);f!==o&&(u=b),o=f;break}}catch{}const d=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Qh(o,e,r):(o=d[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Qh(o,e,r))}}function a_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y4(e))return"Blackberry";if(W4(e))return"Webos";if(z4(e))return"Safari";if((e.includes("chrome/")||q4(e))&&!e.includes("edge/"))return"Chrome";if(G4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function B4(n=Ms()){return/firefox\//i.test(n)}function z4(n=Ms()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q4(n=Ms()){return/crios\//i.test(n)}function H4(n=Ms()){return/iemobile/i.test(n)}function G4(n=Ms()){return/android/i.test(n)}function Y4(n=Ms()){return/blackberry/i.test(n)}function W4(n=Ms()){return/webos/i.test(n)}function fy(n=Ms()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aI(n=Ms()){return fy(n)&&!!window.navigator?.standalone}function oI(){return bC()&&document.documentMode===10}function K4(n=Ms()){return fy(n)||G4(n)||W4(n)||Y4(n)||/windows phone/i.test(n)||H4(n)}function $4(n,e=[]){let t;switch(n){case"Browser":t=a_(Ms());break;case"Worker":t=`${a_(Ms())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xf}/${r}`}class lI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,u)=>{try{const d=e(o);c(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function cI(n,e={}){return lc(n,"GET","/v2/passwordPolicy",$u(n,e))}const uI=6;class hI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??uI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class fI{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vm(this,{idToken:e}),r=await Do._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Lo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return en(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lo(this.app))return Promise.reject(Zc(this));const t=e?Ii(e):null;return t&&en(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&en(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lo(this.app)?Promise.reject(Zc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lo(this.app)?Promise.reject(Zc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cI(this),t=new hI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await sI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zl(e)||this._popupRedirectResolver;en(t,this,"argument-error"),this.redirectPersistenceManager=await Qh.create(this,[Zl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(en(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&B8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Af(n){return Ii(n)}class o_{constructor(e){this.auth=e,this.observer=null,this.addObserver=TC(t=>this.observer=t)}get next(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(n){pg=n}function X4(n){return pg.loadJS(n)}function pI(){return pg.recaptchaEnterpriseScript}function mI(){return pg.gapiScript}function gI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yI{constructor(){this.enterprise=new vI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bI="recaptcha-enterprise",Q4="NO_RECAPTCHA";class _I{constructor(e){this.type=bI,this.auth=Af(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{Q8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new X8(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(d=>{u(d)})})}function a(o,c,u){const d=window.grecaptcha;n_(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(Q4)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yI().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!t&&n_(window.grecaptcha))a(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=pI();d.length!==0&&(d+=u),X4(d).then(()=>{a(u,o,c)}).catch(f=>{c(f)})}}).catch(u=>{c(u)})})}}async function l_(n,e,t,r=!1,a=!1){const o=new _I(n);let c;if(a)c=Q4;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function c_(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await l_(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await l_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function wI(n,e){const t=ly(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Uu(o,e??{}))return a;Mo(a,"already-initialized")}return t.initialize({options:e})}function xI(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function AI(n,e,t){const r=Af(n);en(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=J4(e),{host:c,port:u}=SI(e),d=u===null?"":`:${u}`,f={url:`${o}//${c}${d}/`},g=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){en(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),en(Uu(f,r.config.emulator)&&Uu(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,wf(c)?(E4(`${o}//${c}${d}`),N4("Auth",!0)):EI()}function J4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SI(n){const e=J4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:u_(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:u_(c)}}}function u_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function EI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class dy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jl("not implemented")}_getIdTokenResponse(e){return Jl("not implemented")}_linkToIdToken(e,t){return Jl("not implemented")}_getReauthenticationResolver(e){return Jl("not implemented")}}async function NI(n,e){return lc(n,"POST","/v1/accounts:update",e)}async function TI(n,e){return lc(n,"POST","/v1/accounts:signUp",e)}async function CI(n,e){return dg(n,"POST","/v1/accounts:signInWithPassword",$u(n,e))}async function II(n,e){return dg(n,"POST","/v1/accounts:signInWithEmailLink",$u(n,e))}async function RI(n,e){return dg(n,"POST","/v1/accounts:signInWithEmailLink",$u(n,e))}class jd extends dy{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new jd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new jd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,t,"signInWithPassword",CI);case"emailLink":return II(e,{email:this._email,oobCode:this._password});default:Mo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,r,"signUpPassword",TI);case"emailLink":return RI(e,{idToken:t,email:this._email,oobCode:this._password});default:Mo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Jh(n,e){return dg(n,"POST","/v1/accounts:signInWithIdp",$u(n,e))}const LI="http://localhost";class zu extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const c=new zu(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Jh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jh(e,t)}buildRequest(){const e={requestUri:LI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kd(t)}return e}}function kI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DI(n){const e=_d(wd(n)).link,t=e?_d(wd(e)).deep_link_id:null,r=_d(wd(n)).deep_link_id;return(r?_d(wd(r)).link:null)||r||t||e||n}class py{constructor(e){const t=_d(wd(e)),r=t.apiKey??null,a=t.oobCode??null,o=kI(t.mode??null);en(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=DI(e);try{return new py(t)}catch{return null}}}class Sf{constructor(){this.providerId=Sf.PROVIDER_ID}static credential(e,t){return jd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=py.parseLink(t);return en(r,"argument-error"),jd._fromEmailAndCode(e,r.code,r.tenantId)}}Sf.PROVIDER_ID="password";Sf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Z4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xd extends Z4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qc extends Xd{constructor(){super("facebook.com")}static credential(e){return zu._fromParams({providerId:qc.PROVIDER_ID,signInMethod:qc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qc.credentialFromTaggedObject(e)}static credentialFromError(e){return qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qc.credential(e.oauthAccessToken)}catch{return null}}}qc.FACEBOOK_SIGN_IN_METHOD="facebook.com";qc.PROVIDER_ID="facebook.com";class Hc extends Xd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zu._fromParams({providerId:Hc.PROVIDER_ID,signInMethod:Hc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hc.credentialFromTaggedObject(e)}static credentialFromError(e){return Hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Hc.credential(t,r)}catch{return null}}}Hc.GOOGLE_SIGN_IN_METHOD="google.com";Hc.PROVIDER_ID="google.com";class Gc extends Xd{constructor(){super("github.com")}static credential(e){return zu._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gc.credential(e.oauthAccessToken)}catch{return null}}}Gc.GITHUB_SIGN_IN_METHOD="github.com";Gc.PROVIDER_ID="github.com";class Yc extends Xd{constructor(){super("twitter.com")}static credential(e,t){return zu._fromParams({providerId:Yc.PROVIDER_ID,signInMethod:Yc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yc.credentialFromTaggedObject(e)}static credentialFromError(e){return Yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yc.credential(t,r)}catch{return null}}}Yc.TWITTER_SIGN_IN_METHOD="twitter.com";Yc.PROVIDER_ID="twitter.com";class uf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Do._fromIdTokenResponse(e,r,a),c=h_(r);return new uf({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=h_(r);return new uf({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function h_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Um extends oc{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Um(e,t,r,a)}}function eA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(n,o,e,r):o})}async function PI(n,e,t=!1){const r=await cf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return uf._forOperation(n,"link",r)}async function OI(n,e,t=!1){const{auth:r}=n;if(Lo(r.app))return Promise.reject(Zc(r));const a="reauthenticate";try{const o=await cf(n,eA(r,a,e,n),t);en(o.idToken,r,"internal-error");const c=hy(o.idToken);en(c,r,"internal-error");const{sub:u}=c;return en(n.uid===u,r,"user-mismatch"),uf._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Mo(r,"user-mismatch"),o}}async function tA(n,e,t=!1){if(Lo(n.app))return Promise.reject(Zc(n));const r="signIn",a=await eA(n,r,e),o=await uf._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function MI(n,e){return tA(Af(n),e)}async function jI(n){const e=Af(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function VI(n,e,t){return Lo(n.app)?Promise.reject(Zc(n)):MI(Ii(n),Sf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jI(n),r})}function FI(n,e){return UI(Ii(n),null,e)}async function UI(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(o.password=t);const c=await cf(n,NI(r,o));await n._updateTokensIfNecessary(c,!0)}function BI(n,e,t,r){return Ii(n).onIdTokenChanged(e,t,r)}function zI(n,e,t){return Ii(n).beforeAuthStateChanged(e,t)}function qI(n,e,t,r){return Ii(n).onAuthStateChanged(e,t,r)}function HI(n){return Ii(n).signOut()}const Bm="__sak";class nA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bm,"1"),this.storage.removeItem(Bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GI=1e3,YI=10;class rA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);oI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,YI):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rA.type="LOCAL";const WI=rA;class iA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iA.type="SESSION";const sA=iA;function KI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class mg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new mg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(c).map(async f=>f(t.origin,o)),d=await KI(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mg.receivers=[];function my(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class $I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((u,d)=>{const f=my("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(b){const A=b;if(A.data.eventId===f)switch(A.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(A.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function gl(){return window}function XI(n){gl().location.href=n}function aA(){return typeof gl().WorkerGlobalScope<"u"&&typeof gl().importScripts=="function"}async function QI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){return navigator?.serviceWorker?.controller||null}function ZI(){return aA()?self:null}const oA="firebaseLocalStorageDb",eR=1,zm="firebaseLocalStorage",lA="fbase_key";class Qd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gg(n,e){return n.transaction([zm],e?"readwrite":"readonly").objectStore(zm)}function tR(){const n=indexedDB.deleteDatabase(oA);return new Qd(n).toPromise()}function g2(){const n=indexedDB.open(oA,eR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(zm,{keyPath:lA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(zm)?e(r):(r.close(),await tR(),e(await g2()))})})}async function f_(n,e,t){const r=gg(n,!0).put({[lA]:e,value:t});return new Qd(r).toPromise()}async function nR(n,e){const t=gg(n,!1).get(e),r=await new Qd(t).toPromise();return r===void 0?null:r.value}function d_(n,e){const t=gg(n,!0).delete(e);return new Qd(t).toPromise()}const rR=800,iR=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g2(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>iR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mg._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QI(),!this.activeServiceWorker)return;this.sender=new $I(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g2();return await f_(e,Bm,"1"),await d_(e,Bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>f_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>nR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>d_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=gg(a,!1).getAll();return new Qd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const sR=cA;new $d(3e4,6e4);function aR(n,e){return e?Zl(e):(en(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class gy extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oR(n){return tA(n.auth,new gy(n),n.bypassAuthState)}function lR(n){const{auth:e,user:t}=n;return en(t,e,"internal-error"),OI(t,new gy(n),n.bypassAuthState)}async function cR(n){const{auth:e,user:t}=n;return en(t,e,"internal-error"),PI(t,new gy(n),n.bypassAuthState)}class uA{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return cR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:Mo(this.auth,"internal-error")}}resolve(e){rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uR=new $d(2e3,1e4);class Yh extends uA{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Yh.currentPopupAction&&Yh.currentPopupAction.cancel(),Yh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return en(e,this.auth,"internal-error"),e}async onExecution(){rc(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ml(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ml(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ml(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uR.get())};e()}}Yh.currentPopupAction=null;const hR="pendingRedirect",bm=new Map;class fR extends uA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bm.get(this.auth._key());if(!e){try{const r=await dR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bm.set(this.auth._key(),e)}return this.bypassAuthState||bm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dR(n,e){const t=gR(e),r=mR(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function pR(n,e){bm.set(n._key(),e)}function mR(n){return Zl(n._redirectPersistence)}function gR(n){return vm(hR,n.config.apiKey,n.name)}async function yR(n,e,t=!1){if(Lo(n.app))return Promise.reject(Zc(n));const r=Af(n),a=aR(r,e),c=await new fR(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const vR=600*1e3;class bR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_R(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!hA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ml(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}saveEventToCache(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}function p_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _R(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(n);default:return!1}}async function wR(n,e={}){return lc(n,"GET","/v1/projects",e)}const xR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AR=/^https?/;async function SR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wR(n);for(const t of e)try{if(ER(t))return}catch{}Mo(n,"unauthorized-domain")}function ER(n){const e=p2(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!AR.test(t))return!1;if(xR.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const NR=new $d(3e4,6e4);function m_(){const n=gl().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function TR(n){return new Promise((e,t)=>{function r(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),t(ml(n,"network-request-failed"))},timeout:NR.get()})}if(gl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gl().gapi?.load)r();else{const a=gI("iframefcb");return gl()[a]=()=>{gapi.load?r():t(ml(n,"network-request-failed"))},X4(`${mI()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw _m=null,e})}let _m=null;function CR(n){return _m=_m||TR(n),_m}const IR=new $d(5e3,15e3),RR="__/auth/iframe",LR="emulator/auth/iframe",kR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PR(n){const e=n.config;en(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?uy(e,LR):`https://${n.config.authDomain}/${RR}`,r={apiKey:e.apiKey,appName:n.name,v:xf},a=DR.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Kd(r).slice(1)}`}async function OR(n){const e=await CR(n),t=gl().gapi;return en(t,n,"internal-error"),e.open({where:document.body,url:PR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kR,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=ml(n,"network-request-failed"),u=gl().setTimeout(()=>{o(c)},IR.get());function d(){gl().clearTimeout(u),a(r)}r.ping(d).then(d,()=>{o(c)})}))}const MR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jR=500,VR=600,FR="_blank",UR="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BR(n,e,t,r=jR,a=VR){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...MR,width:r.toString(),height:a.toString(),top:o,left:c},f=Ms().toLowerCase();t&&(u=q4(f)?FR:t),B4(f)&&(e=e||UR,d.scrollbars="yes");const g=Object.entries(d).reduce((A,[w,M])=>`${A}${w}=${M},`,"");if(aI(f)&&u!=="_self")return zR(e||"",u),new g_(null);const b=window.open(e||"",u,g);en(b,n,"popup-blocked");try{b.focus()}catch{}return new g_(b)}function zR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const qR="__/auth/handler",HR="emulator/auth/handler",GR=encodeURIComponent("fac");async function y_(n,e,t,r,a,o){en(n.config.authDomain,n,"auth-domain-config-required"),en(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xf,eventId:a};if(e instanceof Z4){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",NC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof Xd){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await n._getAppCheckToken(),f=d?`#${GR}=${encodeURIComponent(d)}`:"";return`${YR(n)}?${Kd(u).slice(1)}${f}`}function YR({config:n}){return n.emulator?uy(n,HR):`https://${n.authDomain}/${qR}`}const y0="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sA,this._completeRedirectFn=yR,this._overrideRedirectResult=pR}async _openPopup(e,t,r,a){rc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await y_(e,t,r,p2(),a);return BR(e,o,my())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await y_(e,t,r,p2(),a);return XI(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(rc(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OR(e),r=new bR(e);return t.register("authEvent",a=>(en(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(y0,{type:y0},a=>{const o=a?.[0]?.[y0];o!==void 0&&t(!!o),Mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return K4()||z4()||fy()}}const KR=WR;var v_="@firebase/auth",b_="1.12.0";class $R{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(n){lf(new Bu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;en(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$4(n)},f=new fI(r,a,o,d);return xI(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),lf(new Bu("auth-internal",e=>{const t=Af(e.getProvider("auth").getImmediate());return(r=>new $R(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jc(v_,b_,XR(n)),Jc(v_,b_,"esm2020")}const JR=300,ZR=S4("authIdTokenMaxAge")||JR;let __=null;const eL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ZR)return;const a=t?.token;__!==a&&(__=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function tL(n=R4()){const e=ly(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wI(n,{popupRedirectResolver:KR,persistence:[sR,WI,sA]}),r=S4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=eL(o.toString());zI(t,c,()=>c(t.currentUser)),BI(t,u=>c(u))}}const a=x4("auth");return a&&AI(t,`http://${a}`),t}function nL(){return document.getElementsByTagName("head")?.[0]??document}dI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=ml("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",nL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eu,fA;(function(){var n;function e(q,k){function D(){}D.prototype=k.prototype,q.F=k.prototype,q.prototype=new D,q.prototype.constructor=q,q.D=function(Y,T,R){for(var L=Array(arguments.length-2),he=2;he<arguments.length;he++)L[he-2]=arguments[he];return k.prototype[T].apply(Y,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(q,k,D){D||(D=0);const Y=Array(16);if(typeof k=="string")for(var T=0;T<16;++T)Y[T]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(T=0;T<16;++T)Y[T]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=q.g[0],D=q.g[1],T=q.g[2];let R=q.g[3],L;L=k+(R^D&(T^R))+Y[0]+3614090360&4294967295,k=D+(L<<7&4294967295|L>>>25),L=R+(T^k&(D^T))+Y[1]+3905402710&4294967295,R=k+(L<<12&4294967295|L>>>20),L=T+(D^R&(k^D))+Y[2]+606105819&4294967295,T=R+(L<<17&4294967295|L>>>15),L=D+(k^T&(R^k))+Y[3]+3250441966&4294967295,D=T+(L<<22&4294967295|L>>>10),L=k+(R^D&(T^R))+Y[4]+4118548399&4294967295,k=D+(L<<7&4294967295|L>>>25),L=R+(T^k&(D^T))+Y[5]+1200080426&4294967295,R=k+(L<<12&4294967295|L>>>20),L=T+(D^R&(k^D))+Y[6]+2821735955&4294967295,T=R+(L<<17&4294967295|L>>>15),L=D+(k^T&(R^k))+Y[7]+4249261313&4294967295,D=T+(L<<22&4294967295|L>>>10),L=k+(R^D&(T^R))+Y[8]+1770035416&4294967295,k=D+(L<<7&4294967295|L>>>25),L=R+(T^k&(D^T))+Y[9]+2336552879&4294967295,R=k+(L<<12&4294967295|L>>>20),L=T+(D^R&(k^D))+Y[10]+4294925233&4294967295,T=R+(L<<17&4294967295|L>>>15),L=D+(k^T&(R^k))+Y[11]+2304563134&4294967295,D=T+(L<<22&4294967295|L>>>10),L=k+(R^D&(T^R))+Y[12]+1804603682&4294967295,k=D+(L<<7&4294967295|L>>>25),L=R+(T^k&(D^T))+Y[13]+4254626195&4294967295,R=k+(L<<12&4294967295|L>>>20),L=T+(D^R&(k^D))+Y[14]+2792965006&4294967295,T=R+(L<<17&4294967295|L>>>15),L=D+(k^T&(R^k))+Y[15]+1236535329&4294967295,D=T+(L<<22&4294967295|L>>>10),L=k+(T^R&(D^T))+Y[1]+4129170786&4294967295,k=D+(L<<5&4294967295|L>>>27),L=R+(D^T&(k^D))+Y[6]+3225465664&4294967295,R=k+(L<<9&4294967295|L>>>23),L=T+(k^D&(R^k))+Y[11]+643717713&4294967295,T=R+(L<<14&4294967295|L>>>18),L=D+(R^k&(T^R))+Y[0]+3921069994&4294967295,D=T+(L<<20&4294967295|L>>>12),L=k+(T^R&(D^T))+Y[5]+3593408605&4294967295,k=D+(L<<5&4294967295|L>>>27),L=R+(D^T&(k^D))+Y[10]+38016083&4294967295,R=k+(L<<9&4294967295|L>>>23),L=T+(k^D&(R^k))+Y[15]+3634488961&4294967295,T=R+(L<<14&4294967295|L>>>18),L=D+(R^k&(T^R))+Y[4]+3889429448&4294967295,D=T+(L<<20&4294967295|L>>>12),L=k+(T^R&(D^T))+Y[9]+568446438&4294967295,k=D+(L<<5&4294967295|L>>>27),L=R+(D^T&(k^D))+Y[14]+3275163606&4294967295,R=k+(L<<9&4294967295|L>>>23),L=T+(k^D&(R^k))+Y[3]+4107603335&4294967295,T=R+(L<<14&4294967295|L>>>18),L=D+(R^k&(T^R))+Y[8]+1163531501&4294967295,D=T+(L<<20&4294967295|L>>>12),L=k+(T^R&(D^T))+Y[13]+2850285829&4294967295,k=D+(L<<5&4294967295|L>>>27),L=R+(D^T&(k^D))+Y[2]+4243563512&4294967295,R=k+(L<<9&4294967295|L>>>23),L=T+(k^D&(R^k))+Y[7]+1735328473&4294967295,T=R+(L<<14&4294967295|L>>>18),L=D+(R^k&(T^R))+Y[12]+2368359562&4294967295,D=T+(L<<20&4294967295|L>>>12),L=k+(D^T^R)+Y[5]+4294588738&4294967295,k=D+(L<<4&4294967295|L>>>28),L=R+(k^D^T)+Y[8]+2272392833&4294967295,R=k+(L<<11&4294967295|L>>>21),L=T+(R^k^D)+Y[11]+1839030562&4294967295,T=R+(L<<16&4294967295|L>>>16),L=D+(T^R^k)+Y[14]+4259657740&4294967295,D=T+(L<<23&4294967295|L>>>9),L=k+(D^T^R)+Y[1]+2763975236&4294967295,k=D+(L<<4&4294967295|L>>>28),L=R+(k^D^T)+Y[4]+1272893353&4294967295,R=k+(L<<11&4294967295|L>>>21),L=T+(R^k^D)+Y[7]+4139469664&4294967295,T=R+(L<<16&4294967295|L>>>16),L=D+(T^R^k)+Y[10]+3200236656&4294967295,D=T+(L<<23&4294967295|L>>>9),L=k+(D^T^R)+Y[13]+681279174&4294967295,k=D+(L<<4&4294967295|L>>>28),L=R+(k^D^T)+Y[0]+3936430074&4294967295,R=k+(L<<11&4294967295|L>>>21),L=T+(R^k^D)+Y[3]+3572445317&4294967295,T=R+(L<<16&4294967295|L>>>16),L=D+(T^R^k)+Y[6]+76029189&4294967295,D=T+(L<<23&4294967295|L>>>9),L=k+(D^T^R)+Y[9]+3654602809&4294967295,k=D+(L<<4&4294967295|L>>>28),L=R+(k^D^T)+Y[12]+3873151461&4294967295,R=k+(L<<11&4294967295|L>>>21),L=T+(R^k^D)+Y[15]+530742520&4294967295,T=R+(L<<16&4294967295|L>>>16),L=D+(T^R^k)+Y[2]+3299628645&4294967295,D=T+(L<<23&4294967295|L>>>9),L=k+(T^(D|~R))+Y[0]+4096336452&4294967295,k=D+(L<<6&4294967295|L>>>26),L=R+(D^(k|~T))+Y[7]+1126891415&4294967295,R=k+(L<<10&4294967295|L>>>22),L=T+(k^(R|~D))+Y[14]+2878612391&4294967295,T=R+(L<<15&4294967295|L>>>17),L=D+(R^(T|~k))+Y[5]+4237533241&4294967295,D=T+(L<<21&4294967295|L>>>11),L=k+(T^(D|~R))+Y[12]+1700485571&4294967295,k=D+(L<<6&4294967295|L>>>26),L=R+(D^(k|~T))+Y[3]+2399980690&4294967295,R=k+(L<<10&4294967295|L>>>22),L=T+(k^(R|~D))+Y[10]+4293915773&4294967295,T=R+(L<<15&4294967295|L>>>17),L=D+(R^(T|~k))+Y[1]+2240044497&4294967295,D=T+(L<<21&4294967295|L>>>11),L=k+(T^(D|~R))+Y[8]+1873313359&4294967295,k=D+(L<<6&4294967295|L>>>26),L=R+(D^(k|~T))+Y[15]+4264355552&4294967295,R=k+(L<<10&4294967295|L>>>22),L=T+(k^(R|~D))+Y[6]+2734768916&4294967295,T=R+(L<<15&4294967295|L>>>17),L=D+(R^(T|~k))+Y[13]+1309151649&4294967295,D=T+(L<<21&4294967295|L>>>11),L=k+(T^(D|~R))+Y[4]+4149444226&4294967295,k=D+(L<<6&4294967295|L>>>26),L=R+(D^(k|~T))+Y[11]+3174756917&4294967295,R=k+(L<<10&4294967295|L>>>22),L=T+(k^(R|~D))+Y[2]+718787259&4294967295,T=R+(L<<15&4294967295|L>>>17),L=D+(R^(T|~k))+Y[9]+3951481745&4294967295,q.g[0]=q.g[0]+k&4294967295,q.g[1]=q.g[1]+(T+(L<<21&4294967295|L>>>11))&4294967295,q.g[2]=q.g[2]+T&4294967295,q.g[3]=q.g[3]+R&4294967295}r.prototype.v=function(q,k){k===void 0&&(k=q.length);const D=k-this.blockSize,Y=this.C;let T=this.h,R=0;for(;R<k;){if(T==0)for(;R<=D;)a(this,q,R),R+=this.blockSize;if(typeof q=="string"){for(;R<k;)if(Y[T++]=q.charCodeAt(R++),T==this.blockSize){a(this,Y),T=0;break}}else for(;R<k;)if(Y[T++]=q[R++],T==this.blockSize){a(this,Y),T=0;break}}this.h=T,this.o+=k},r.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var k=1;k<q.length-8;++k)q[k]=0;k=this.o*8;for(var D=q.length-8;D<q.length;++D)q[D]=k&255,k/=256;for(this.v(q),q=Array(16),k=0,D=0;D<4;++D)for(let Y=0;Y<32;Y+=8)q[k++]=this.g[D]>>>Y&255;return q};function o(q,k){var D=u;return Object.prototype.hasOwnProperty.call(D,q)?D[q]:D[q]=k(q)}function c(q,k){this.h=k;const D=[];let Y=!0;for(let T=q.length-1;T>=0;T--){const R=q[T]|0;Y&&R==k||(D[T]=R,Y=!1)}this.g=D}var u={};function d(q){return-128<=q&&q<128?o(q,function(k){return new c([k|0],k<0?-1:0)}):new c([q|0],q<0?-1:0)}function f(q){if(isNaN(q)||!isFinite(q))return b;if(q<0)return U(f(-q));const k=[];let D=1;for(let Y=0;q>=D;Y++)k[Y]=q/D|0,D*=4294967296;return new c(k,0)}function g(q,k){if(q.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(q.charAt(0)=="-")return U(g(q.substring(1),k));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(k,8));let Y=b;for(let R=0;R<q.length;R+=8){var T=Math.min(8,q.length-R);const L=parseInt(q.substring(R,R+T),k);T<8?(T=f(Math.pow(k,T)),Y=Y.j(T).add(f(L))):(Y=Y.j(D),Y=Y.add(f(L)))}return Y}var b=d(0),A=d(1),w=d(16777216);n=c.prototype,n.m=function(){if(V(this))return-U(this).m();let q=0,k=1;for(let D=0;D<this.g.length;D++){const Y=this.i(D);q+=(Y>=0?Y:4294967296+Y)*k,k*=4294967296}return q},n.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(M(this))return"0";if(V(this))return"-"+U(this).toString(q);const k=f(Math.pow(q,6));var D=this;let Y="";for(;;){const T=H(D,k).g;D=j(D,T.j(k));let R=((D.g.length>0?D.g[0]:D.h)>>>0).toString(q);if(D=T,M(D))return R+Y;for(;R.length<6;)R="0"+R;Y=R+Y}},n.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function M(q){if(q.h!=0)return!1;for(let k=0;k<q.g.length;k++)if(q.g[k]!=0)return!1;return!0}function V(q){return q.h==-1}n.l=function(q){return q=j(this,q),V(q)?-1:M(q)?0:1};function U(q){const k=q.g.length,D=[];for(let Y=0;Y<k;Y++)D[Y]=~q.g[Y];return new c(D,~q.h).add(A)}n.abs=function(){return V(this)?U(this):this},n.add=function(q){const k=Math.max(this.g.length,q.g.length),D=[];let Y=0;for(let T=0;T<=k;T++){let R=Y+(this.i(T)&65535)+(q.i(T)&65535),L=(R>>>16)+(this.i(T)>>>16)+(q.i(T)>>>16);Y=L>>>16,R&=65535,L&=65535,D[T]=L<<16|R}return new c(D,D[D.length-1]&-2147483648?-1:0)};function j(q,k){return q.add(U(k))}n.j=function(q){if(M(this)||M(q))return b;if(V(this))return V(q)?U(this).j(U(q)):U(U(this).j(q));if(V(q))return U(this.j(U(q)));if(this.l(w)<0&&q.l(w)<0)return f(this.m()*q.m());const k=this.g.length+q.g.length,D=[];for(var Y=0;Y<2*k;Y++)D[Y]=0;for(Y=0;Y<this.g.length;Y++)for(let T=0;T<q.g.length;T++){const R=this.i(Y)>>>16,L=this.i(Y)&65535,he=q.i(T)>>>16,Ae=q.i(T)&65535;D[2*Y+2*T]+=L*Ae,te(D,2*Y+2*T),D[2*Y+2*T+1]+=R*Ae,te(D,2*Y+2*T+1),D[2*Y+2*T+1]+=L*he,te(D,2*Y+2*T+1),D[2*Y+2*T+2]+=R*he,te(D,2*Y+2*T+2)}for(q=0;q<k;q++)D[q]=D[2*q+1]<<16|D[2*q];for(q=k;q<2*k;q++)D[q]=0;return new c(D,0)};function te(q,k){for(;(q[k]&65535)!=q[k];)q[k+1]+=q[k]>>>16,q[k]&=65535,k++}function ce(q,k){this.g=q,this.h=k}function H(q,k){if(M(k))throw Error("division by zero");if(M(q))return new ce(b,b);if(V(q))return k=H(U(q),k),new ce(U(k.g),U(k.h));if(V(k))return k=H(q,U(k)),new ce(U(k.g),k.h);if(q.g.length>30){if(V(q)||V(k))throw Error("slowDivide_ only works with positive integers.");for(var D=A,Y=k;Y.l(q)<=0;)D=se(D),Y=se(Y);var T=fe(D,1),R=fe(Y,1);for(Y=fe(Y,2),D=fe(D,2);!M(Y);){var L=R.add(Y);L.l(q)<=0&&(T=T.add(D),R=L),Y=fe(Y,1),D=fe(D,1)}return k=j(q,T.j(k)),new ce(T,k)}for(T=b;q.l(k)>=0;){for(D=Math.max(1,Math.floor(q.m()/k.m())),Y=Math.ceil(Math.log(D)/Math.LN2),Y=Y<=48?1:Math.pow(2,Y-48),R=f(D),L=R.j(k);V(L)||L.l(q)>0;)D-=Y,R=f(D),L=R.j(k);M(R)&&(R=A),T=T.add(R),q=j(q,L)}return new ce(T,q)}n.B=function(q){return H(this,q).h},n.and=function(q){const k=Math.max(this.g.length,q.g.length),D=[];for(let Y=0;Y<k;Y++)D[Y]=this.i(Y)&q.i(Y);return new c(D,this.h&q.h)},n.or=function(q){const k=Math.max(this.g.length,q.g.length),D=[];for(let Y=0;Y<k;Y++)D[Y]=this.i(Y)|q.i(Y);return new c(D,this.h|q.h)},n.xor=function(q){const k=Math.max(this.g.length,q.g.length),D=[];for(let Y=0;Y<k;Y++)D[Y]=this.i(Y)^q.i(Y);return new c(D,this.h^q.h)};function se(q){const k=q.g.length+1,D=[];for(let Y=0;Y<k;Y++)D[Y]=q.i(Y)<<1|q.i(Y-1)>>>31;return new c(D,q.h)}function fe(q,k){const D=k>>5;k%=32;const Y=q.g.length-D,T=[];for(let R=0;R<Y;R++)T[R]=k>0?q.i(R+D)>>>k|q.i(R+D+1)<<32-k:q.i(R+D);return new c(T,q.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,eu=c}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dA,xd,pA,wm,y2,mA,gA,yA;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof nm=="object"&&nm];for(var E=0;E<m.length;++E){var O=m[E];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=t(this);function a(m,E){if(E)e:{var O=r;m=m.split(".");for(var J=0;J<m.length-1;J++){var Ie=m[J];if(!(Ie in O))break e;O=O[Ie]}m=m[m.length-1],J=O[m],E=E(J),E!=J&&E!=null&&e(O,m,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(E){var O=[],J;for(J in E)Object.prototype.hasOwnProperty.call(E,J)&&O.push([J,E[J]]);return O}});var o=o||{},c=this||self;function u(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function d(m,E,O){return m.call.apply(m.bind,arguments)}function f(m,E,O){return f=d,f.apply(null,arguments)}function g(m,E){var O=Array.prototype.slice.call(arguments,1);return function(){var J=O.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function b(m,E){function O(){}O.prototype=E.prototype,m.Z=E.prototype,m.prototype=new O,m.prototype.constructor=m,m.Ob=function(J,Ie,Me){for(var at=Array(arguments.length-2),nn=2;nn<arguments.length;nn++)at[nn-2]=arguments[nn];return E.prototype[Ie].apply(J,at)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const E=m.length;if(E>0){const O=Array(E);for(let J=0;J<E;J++)O[J]=m[J];return O}return[]}function M(m,E){for(let J=1;J<arguments.length;J++){const Ie=arguments[J];var O=typeof Ie;if(O=O!="object"?O:Ie?Array.isArray(Ie)?"array":O:"null",O=="array"||O=="object"&&typeof Ie.length=="number"){O=m.length||0;const Me=Ie.length||0;m.length=O+Me;for(let at=0;at<Me;at++)m[O+at]=Ie[at]}else m.push(Ie)}}class V{constructor(E,O){this.i=E,this.j=O,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function U(m){c.setTimeout(()=>{throw m},0)}function j(){var m=q;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,O){const J=ce.get();J.set(E,O),this.h?this.h.next=J:this.g=J,this.h=J}}var ce=new V(()=>new H,m=>m.reset());class H{constructor(){this.next=this.g=this.h=null}set(E,O){this.h=E,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let se,fe=!1,q=new te,k=()=>{const m=Promise.resolve(void 0);se=()=>{m.then(D)}};function D(){for(var m;m=j();){try{m.h.call(m.g)}catch(O){U(O)}var E=ce;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}fe=!1}function Y(){this.u=this.u,this.C=this.C}Y.prototype.u=!1,Y.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Y.prototype[Symbol.dispose]=function(){this.dispose()},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};c.addEventListener("test",O,E),c.removeEventListener("test",O,E)}catch{}return m})();function L(m){return/^[\s\xa0]*$/.test(m)}function he(m,E){T.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}b(he,T),he.prototype.init=function(m,E){const O=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(O=="mouseover"?E=m.fromElement:O=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),ee=0;function pe(m,E,O,J,Ie){this.listener=m,this.proxy=null,this.src=E,this.type=O,this.capture=!!J,this.ha=Ie,this.key=++ee,this.da=this.fa=!1}function ue(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ce(m,E,O){for(const J in m)E.call(O,m[J],J,m)}function be(m,E){for(const O in m)E.call(void 0,m[O],O,m)}function X(m){const E={};for(const O in m)E[O]=m[O];return E}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,E){let O,J;for(let Ie=1;Ie<arguments.length;Ie++){J=arguments[Ie];for(O in J)m[O]=J[O];for(let Me=0;Me<P.length;Me++)O=P[Me],Object.prototype.hasOwnProperty.call(J,O)&&(m[O]=J[O])}}function K(m){this.src=m,this.g={},this.h=0}K.prototype.add=function(m,E,O,J,Ie){const Me=m.toString();m=this.g[Me],m||(m=this.g[Me]=[],this.h++);const at=de(m,E,J,Ie);return at>-1?(E=m[at],O||(E.fa=!1)):(E=new pe(E,this.src,Me,!!J,Ie),E.fa=O,m.push(E)),E};function re(m,E){const O=E.type;if(O in m.g){var J=m.g[O],Ie=Array.prototype.indexOf.call(J,E,void 0),Me;(Me=Ie>=0)&&Array.prototype.splice.call(J,Ie,1),Me&&(ue(E),m.g[O].length==0&&(delete m.g[O],m.h--))}}function de(m,E,O,J){for(let Ie=0;Ie<m.length;++Ie){const Me=m[Ie];if(!Me.da&&Me.listener==E&&Me.capture==!!O&&Me.ha==J)return Ie}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Ee={};function Le(m,E,O,J,Ie){if(Array.isArray(E)){for(let Me=0;Me<E.length;Me++)Le(m,E[Me],O,J,Ie);return null}return O=Mt(O),m&&m[Ae]?m.J(E,O,u(J)?!!J.capture:!1,Ie):Ue(m,E,O,!1,J,Ie)}function Ue(m,E,O,J,Ie,Me){if(!E)throw Error("Invalid event type");const at=u(Ie)?!!Ie.capture:!!Ie;let nn=lt(m);if(nn||(m[ye]=nn=new K(m)),O=nn.add(E,O,J,at,Me),O.proxy)return O;if(J=et(),O.proxy=J,J.src=m,J.listener=O,m.addEventListener)R||(Ie=at),Ie===void 0&&(Ie=!1),m.addEventListener(E.toString(),J,Ie);else if(m.attachEvent)m.attachEvent(yt(E.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return O}function et(){function m(O){return E.call(m.src,m.listener,O)}const E=ne;return m}function ot(m,E,O,J,Ie){if(Array.isArray(E))for(var Me=0;Me<E.length;Me++)ot(m,E[Me],O,J,Ie);else J=u(J)?!!J.capture:!!J,O=Mt(O),m&&m[Ae]?(m=m.i,Me=String(E).toString(),Me in m.g&&(E=m.g[Me],O=de(E,O,J,Ie),O>-1&&(ue(E[O]),Array.prototype.splice.call(E,O,1),E.length==0&&(delete m.g[Me],m.h--)))):m&&(m=lt(m))&&(E=m.g[E.toString()],m=-1,E&&(m=de(E,O,J,Ie)),(O=m>-1?E[m]:null)&&ct(O))}function ct(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Ae])re(E.i,m);else{var O=m.type,J=m.proxy;E.removeEventListener?E.removeEventListener(O,J,m.capture):E.detachEvent?E.detachEvent(yt(O),J):E.addListener&&E.removeListener&&E.removeListener(J),(O=lt(E))?(re(O,m),O.h==0&&(O.src=null,E[ye]=null)):ue(m)}}}function yt(m){return m in Ee?Ee[m]:Ee[m]="on"+m}function ne(m,E){if(m.da)m=!0;else{E=new he(E,this);const O=m.listener,J=m.ha||m.src;m.fa&&ct(m),m=O.call(J,E)}return m}function lt(m){return m=m[ye],m instanceof K?m:null}var $t="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mt(m){return typeof m=="function"?m:(m[$t]||(m[$t]=function(E){return m.handleEvent(E)}),m[$t])}function Be(){Y.call(this),this.i=new K(this),this.M=this,this.G=null}b(Be,Y),Be.prototype[Ae]=!0,Be.prototype.removeEventListener=function(m,E,O,J){ot(this,m,E,O,J)};function dt(m,E){var O,J=m.G;if(J)for(O=[];J;J=J.G)O.push(J);if(m=m.M,J=E.type||E,typeof E=="string")E=new T(E,m);else if(E instanceof T)E.target=E.target||m;else{var Ie=E;E=new T(J,m),z(E,Ie)}Ie=!0;let Me,at;if(O)for(at=O.length-1;at>=0;at--)Me=E.g=O[at],Ie=ie(Me,J,!0,E)&&Ie;if(Me=E.g=m,Ie=ie(Me,J,!0,E)&&Ie,Ie=ie(Me,J,!1,E)&&Ie,O)for(at=0;at<O.length;at++)Me=E.g=O[at],Ie=ie(Me,J,!1,E)&&Ie}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const O=m.g[E];for(let J=0;J<O.length;J++)ue(O[J]);delete m.g[E],m.h--}}this.G=null},Be.prototype.J=function(m,E,O,J){return this.i.add(String(m),E,!1,O,J)},Be.prototype.K=function(m,E,O,J){return this.i.add(String(m),E,!0,O,J)};function ie(m,E,O,J){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let Ie=!0;for(let Me=0;Me<E.length;++Me){const at=E[Me];if(at&&!at.da&&at.capture==O){const nn=at.listener,hr=at.ha||at.src;at.fa&&re(m.i,at),Ie=nn.call(hr,J)!==!1&&Ie}}return Ie&&!J.defaultPrevented}function ge(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(m,E||0)}function Se(m){m.g=ge(()=>{m.g=null,m.i&&(m.i=!1,Se(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Ke extends Y{constructor(E,O){super(),this.m=E,this.l=O,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Se(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function He(m){Y.call(this),this.h=m,this.g={}}b(He,Y);var Ve=[];function it(m){Ce(m.g,function(E,O){this.g.hasOwnProperty(O)&&ct(E)},m),m.g={}}He.prototype.N=function(){He.Z.N.call(this),it(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=c.JSON.stringify,st=c.JSON.parse,vt=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function mt(){}function fn(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){T.call(this,"d")}b(Pt,T);function Ft(){T.call(this,"c")}b(Ft,T);var Qt={},Ot=null;function yn(){return Ot=Ot||new Be}Qt.Ia="serverreachability";function St(m){T.call(this,Qt.Ia,m)}b(St,T);function zt(m){const E=yn();dt(E,new St(E))}Qt.STAT_EVENT="statevent";function Mn(m,E){T.call(this,Qt.STAT_EVENT,m),this.stat=E}b(Mn,T);function jt(m){const E=yn();dt(E,new Mn(E,m))}Qt.Ja="timingevent";function Ct(m,E){T.call(this,Qt.Ja,m),this.size=E}b(Ct,T);function ut(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function _n(){this.g=!0}_n.prototype.ua=function(){this.g=!1};function An(m,E,O,J,Ie,Me){m.info(function(){if(m.g)if(Me){var at="",nn=Me.split("&");for(let mn=0;mn<nn.length;mn++){var hr=nn[mn].split("=");if(hr.length>1){const Wn=hr[0];hr=hr[1];const wi=Wn.split("_");at=wi.length>=2&&wi[1]=="type"?at+(Wn+"="+hr+"&"):at+(Wn+"=redacted&")}}}else at=null;else at=Me;return"XMLHTTP REQ ("+J+") [attempt "+Ie+"]: "+E+`
`+O+`
`+at})}function cr(m,E,O,J,Ie,Me,at){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Ie+"]: "+E+`
`+O+`
`+Me+" "+at})}function Ar(m,E,O,J){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Sr(m,O)+(J?" "+J:"")})}function pt(m,E){m.info(function(){return"TIMEOUT: "+E})}_n.prototype.info=function(){};function Sr(m,E){if(!m.g)return E;if(!E)return null;try{const Me=JSON.parse(E);if(Me){for(m=0;m<Me.length;m++)if(Array.isArray(Me[m])){var O=Me[m];if(!(O.length<2)){var J=O[1];if(Array.isArray(J)&&!(J.length<1)){var Ie=J[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(let at=1;at<J.length;at++)J[at]=""}}}}return ft(Me)}catch{return E}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},er;function Bn(){}b(Bn,mt),Bn.prototype.g=function(){return new XMLHttpRequest},er=new Bn;function Tn(m){return encodeURIComponent(String(m))}function Hr(m){var E=1;m=m.split(":");const O=[];for(;E>0&&m.length;)O.push(m.shift()),E--;return m.length&&O.push(m.join(":")),O}function Ri(m,E,O,J){this.j=m,this.i=E,this.l=O,this.S=J||1,this.V=new He(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Gn={},rr={};function ei(m,E,O){m.M=1,m.A=Fa(Mr(E)),m.u=O,m.R=!0,Hi(m,null)}function Hi(m,E){m.F=Date.now(),Gi(m),m.B=Mr(m.A);var O=m.B,J=m.S;Array.isArray(J)||(J=[String(J)]),Ho(O.i,"t",J),m.C=0,O=m.j.L,m.h=new vi,m.g=wt(m.j,O?E:null,!m.u),m.P>0&&(m.O=new Ke(f(m.Y,m,m.g),m.P)),E=m.V,O=m.g,J=m.ba;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Ve[0]=Ie.toString()),Ie=Ve);for(let Me=0;Me<Ie.length;Me++){const at=Le(O,Ie[Me],J||E.handleEvent,!1,E.h||E);if(!at)break;E.g[at.key]=at}E=m.J?X(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),zt(),An(m.i,m.v,m.B,m.l,m.S,m.u)}Ri.prototype.ba=function(m){m=m.target;const E=this.O;E&&us(m)==3?E.j():this.Y(m)},Ri.prototype.Y=function(m){try{if(m==this.g)e:{const nn=us(this.g),hr=this.g.ya(),mn=this.g.ca();if(!(nn<3)&&(nn!=3||this.g&&(this.h.h||this.g.la()||Yr(this.g)))){this.K||nn!=4||hr==7||(hr==8||mn<=0?zt(3):zt(2)),ss(this);var E=this.g.ca();this.X=E;var O=_s(this);if(this.o=E==200,cr(this.i,this.v,this.B,this.l,this.S,nn,E),this.o){if(this.U&&!this.L){t:{if(this.g){var J,Ie=this.g;if((J=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(J)){var Me=J;break t}}Me=null}if(m=Me)Ar(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ws(this,m);else{this.o=!1,this.m=3,jt(12),as(this),Li(this);break e}}if(this.R){m=!0;let Wn;for(;!this.K&&this.C<O.length;)if(Wn=js(this,O),Wn==rr){nn==4&&(this.m=4,jt(14),m=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Gn){this.m=4,jt(15),Ar(this.i,this.l,O,"[Invalid Chunk]"),m=!1;break}else Ar(this.i,this.l,Wn,null),ws(this,Wn);if(Va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||O.length!=0||this.h.h||(this.m=1,jt(16),m=!1),this.o=this.o&&m,!m)Ar(this.i,this.l,O,"[Invalid Chunked Response]"),as(this),Li(this);else if(O.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ko(at),at.P=!0,jt(11))}}else Ar(this.i,this.l,O,null),ws(this,O);nn==4&&as(this),this.o&&!this.K&&(nn==4?oe(this.j,this):(this.o=!1,Gi(this)))}else Ks(this.g),E==400&&O.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),as(this),Li(this)}}}catch{}};function _s(m){if(!Va(m))return m.g.la();const E=Yr(m.g);if(E==="")return"";let O="";const J=E.length,Ie=us(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return as(m),Li(m),"";m.h.i=new c.TextDecoder}for(let Me=0;Me<J;Me++)m.h.h=!0,O+=m.h.i.decode(E[Me],{stream:!(Ie&&Me==J-1)});return E.length=0,m.h.g+=O,m.C=0,m.h.g}function Va(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function js(m,E){var O=m.C,J=E.indexOf(`
`,O);return J==-1?rr:(O=Number(E.substring(O,J)),isNaN(O)?Gn:(J+=1,J+O>E.length?rr:(E=E.slice(J,J+O),m.C=J+O,E)))}Ri.prototype.cancel=function(){this.K=!0,as(this)};function Gi(m){m.T=Date.now()+m.H,_a(m,m.H)}function _a(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ut(f(m.aa,m),E)}function ss(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Ri.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(pt(this.i,this.B),this.M!=2&&(zt(),jt(17)),as(this),this.m=2,Li(this)):_a(this,this.T-m)};function Li(m){m.j.I==0||m.K||oe(m.j,m)}function as(m){ss(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,it(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function ws(m,E){try{var O=m.j;if(O.I!=0&&(O.g==m||Vs(O.h,m))){if(!m.L&&Vs(O.h,m)&&O.I==3){try{var J=O.Ba.g.parse(E)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Ie=J;if(Ie[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<m.F)F(O),Xs(O);else break e;Bs(O),jt(18)}}else O.xa=Ie[1],0<O.xa-O.K&&Ie[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=ut(f(O.Va,O),6e3));xs(O.h)<=1&&O.ta&&(O.ta=void 0)}else Ne(O,11)}else if((m.L||O.g==m)&&F(O),!L(E))for(Ie=O.Ba.g.parse(E),E=0;E<Ie.length;E++){let mn=Ie[E];const Wn=mn[0];if(!(Wn<=O.K))if(O.K=Wn,mn=mn[1],O.I==2)if(mn[0]=="c"){O.M=mn[1],O.ba=mn[2];const wi=mn[3];wi!=null&&(O.ka=wi,O.j.info("VER="+O.ka));const Di=mn[4];Di!=null&&(O.za=Di,O.j.info("SVER="+O.za));const ir=mn[5];ir!=null&&typeof ir=="number"&&ir>0&&(J=1.5*ir,O.O=J,O.j.info("backChannelRequestTimeoutMs_="+J)),J=O;const Pi=m.g;if(Pi){const zs=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var Me=J.h;Me.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(lo(Me,Me.h),Me.h=null))}if(J.G){const Ha=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(J.wa=Ha,Cn(J.J,J.G,Ha))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-m.F,O.j.info("Handshake RTT: "+O.T+"ms")),J=O;var at=m;if(J.na=tt(J,J.L?J.ba:null,J.W),at.L){zo(J.h,at);var nn=at,hr=J.O;hr&&(nn.H=hr),nn.D&&(ss(nn),Gi(nn)),J.g=at}else Tl(J);O.i.length>0&&Ss(O)}else mn[0]!="stop"&&mn[0]!="close"||Ne(O,7);else O.I==3&&(mn[0]=="stop"||mn[0]=="close"?mn[0]=="stop"?Ne(O,7):qa(O):mn[0]!="noop"&&O.l&&O.l.qa(mn),O.A=0)}}zt(4)}catch{}}var Cr=class{constructor(m,E){this.g=m,this.map=E}};function Bo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function xs(m){return m.h?1:m.g?m.g.size:0}function Vs(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function lo(m,E){m.g?m.g.add(E):m.h=E}function zo(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Bo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function qo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const O of m.g.values())E=E.concat(O.G);return E}return w(m.i)}var wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(m,E){if(m){m=m.split("&");for(let O=0;O<m.length;O++){const J=m[O].indexOf("=");let Ie,Me=null;J>=0?(Ie=m[O].substring(0,J),Me=m[O].substring(J+1)):Ie=m[O],E(Ie,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function bi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof bi?(this.l=m.l,vn(this,m.j),this.o=m.o,this.g=m.g,wa(this,m.u),this.h=m.h,As(this,Go(m.i)),this.m=m.m):m&&(E=String(m).match(wl))?(this.l=!1,vn(this,E[1]||"",!0),this.o=Gr(E[2]||""),this.g=Gr(E[3]||"",!0),wa(this,E[4]),this.h=Gr(E[5]||"",!0),As(this,E[6]||"",!0),this.m=Gr(E[7]||"")):(this.l=!1,this.i=new xa(null,this.l))}bi.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(yr(E,co,!0),":");var O=this.g;return(O||E=="file")&&(m.push("//"),(E=this.o)&&m.push(yr(E,co,!0),"@"),m.push(Tn(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&m.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(yr(O,O.charAt(0)=="/"?xl:cc,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",yr(O,Al)),m.join("")},bi.prototype.resolve=function(m){const E=Mr(this);let O=!!m.j;O?vn(E,m.j):O=!!m.o,O?E.o=m.o:O=!!m.g,O?E.g=m.g:O=m.u!=null;var J=m.h;if(O)wa(E,m.u);else if(O=!!m.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var Ie=E.h.lastIndexOf("/");Ie!=-1&&(J=E.h.slice(0,Ie+1)+J)}if(Ie=J,Ie==".."||Ie==".")J="";else if(Ie.indexOf("./")!=-1||Ie.indexOf("/.")!=-1){J=Ie.lastIndexOf("/",0)==0,Ie=Ie.split("/");const Me=[];for(let at=0;at<Ie.length;){const nn=Ie[at++];nn=="."?J&&at==Ie.length&&Me.push(""):nn==".."?((Me.length>1||Me.length==1&&Me[0]!="")&&Me.pop(),J&&at==Ie.length&&Me.push("")):(Me.push(nn),J=!0)}J=Me.join("/")}else J=Ie}return O?E.h=J:O=m.i.toString()!=="",O?As(E,Go(m.i)):O=!!m.m,O&&(E.m=m.m),E};function Mr(m){return new bi(m)}function vn(m,E,O){m.j=O?Gr(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function wa(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function As(m,E,O){E instanceof xa?(m.i=E,Wi(m.i,m.l)):(O||(E=yr(E,ki)),m.i=new xa(E,m.l))}function Cn(m,E,O){m.i.set(E,O)}function Fa(m){return Cn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Gr(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function yr(m,E,O){return typeof m=="string"?(m=encodeURI(m).replace(E,jr),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function jr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var co=/[#\/\?@]/g,cc=/[#\?:]/g,xl=/[#\?]/g,ki=/[#\?@]/g,Al=/#/g;function xa(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function ci(m){m.g||(m.g=new Map,m.h=0,m.i&&os(m.i,function(E,O){m.add(decodeURIComponent(E.replace(/\+/g," ")),O)}))}n=xa.prototype,n.add=function(m,E){ci(this),this.i=null,m=Aa(this,m);let O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(E),this.h+=1,this};function Ua(m,E){ci(m),E=Aa(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Sl(m,E){return ci(m),E=Aa(m,E),m.g.has(E)}n.forEach=function(m,E){ci(this),this.g.forEach(function(O,J){O.forEach(function(Ie){m.call(E,Ie,J,this)},this)},this)};function El(m,E){ci(m);let O=[];if(typeof E=="string")Sl(m,E)&&(O=O.concat(m.g.get(Aa(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)O=O.concat(m[E]);return O}n.set=function(m,E){return ci(this),this.i=null,m=Aa(this,m),Sl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=El(this,m),m.length>0?String(m[0]):E):E};function Ho(m,E,O){Ua(m,E),O.length>0&&(m.i=null,m.g.set(Aa(m,E),w(O)),m.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let J=0;J<E.length;J++){var O=E[J];const Ie=Tn(O);O=El(this,O);for(let Me=0;Me<O.length;Me++){let at=Ie;O[Me]!==""&&(at+="="+Tn(O[Me])),m.push(at)}}return this.i=m.join("&")};function Go(m){const E=new xa;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function Aa(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Wi(m,E){E&&!m.j&&(ci(m),m.i=null,m.g.forEach(function(O,J){const Ie=J.toLowerCase();J!=Ie&&(Ua(this,J),Ho(this,Ie,O))},m)),m.j=E}function Fs(m,E){const O=new _n;if(c.Image){const J=new Image;J.onload=g(Ki,O,"TestLoadImage: loaded",!0,E,J),J.onerror=g(Ki,O,"TestLoadImage: error",!1,E,J),J.onabort=g(Ki,O,"TestLoadImage: abort",!1,E,J),J.ontimeout=g(Ki,O,"TestLoadImage: timeout",!1,E,J),c.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else E(!1)}function Sa(m,E){const O=new _n,J=new AbortController,Ie=setTimeout(()=>{J.abort(),Ki(O,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:J.signal}).then(Me=>{clearTimeout(Ie),Me.ok?Ki(O,"TestPingServer: ok",!0,E):Ki(O,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Ie),Ki(O,"TestPingServer: error",!1,E)})}function Ki(m,E,O,J,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),J(O)}catch{}}function Ba(){this.g=new vt}function qt(m){this.i=m.Sb||null,this.h=m.ab||!1}b(qt,mt),qt.prototype.g=function(){return new uo(this.i,this.h)};function uo(m,E){Be.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(uo,Be),n=uo.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,ui(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?za(this):ui(this),this.readyState==3&&Yo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,za(this))},n.Na=function(m){this.g&&(this.response=m,za(this))},n.ga=function(){this.g&&za(this)};function za(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ui(m)}n.setRequestHeader=function(m,E){this.A.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var O=E.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=E.next();return m.join(`\r
`)};function ui(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ti(m){let E="";return Ce(m,function(O,J){E+=J,E+=":",E+=O,E+=`\r
`}),E}function ho(m,E,O){e:{for(J in O){var J=!1;break e}J=!0}J||(O=ti(O),typeof m=="string"?O!=null&&Tn(O):Cn(m,E,O))}function Yn(m){Be.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yn,Be);var ls=/^https?$/i,fo=["POST","PUT"];n=Yn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,E,O,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():er.g(),this.g.onreadystatechange=A(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Me){Us(this,Me);return}if(m=O||"",O=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Ie in J)O.set(Ie,J[Ie]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Me of J.keys())O.set(Me,J.get(Me));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(O.keys()).find(Me=>Me.toLowerCase()=="content-type"),Ie=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(fo,E,void 0)>=0)||J||Ie||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,at]of O)this.g.setRequestHeader(Me,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Me){Us(this,Me)}};function Us(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,Nl(m),Ea(m)}function Nl(m){m.A||(m.A=!0,dt(m,"complete"),dt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,dt(this,"complete"),dt(this,"abort"),Ea(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),Yn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?cs(this):this.Xa())},n.Xa=function(){cs(this)};function cs(m){if(m.h&&typeof o<"u"){if(m.v&&us(m)==4)setTimeout(m.Ca.bind(m),0);else if(dt(m,"readystatechange"),us(m)==4){m.h=!1;try{const Me=m.ca();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var O;if(!(O=E)){var J;if(J=Me===0){let at=String(m.D).match(wl)[1]||null;!at&&c.self&&c.self.location&&(at=c.self.location.protocol.slice(0,-1)),J=!ls.test(at?at.toLowerCase():"")}O=J}if(O)dt(m,"complete"),dt(m,"success");else{m.o=6;try{var Ie=us(m)>2?m.g.statusText:""}catch{Ie=""}m.l=Ie+" ["+m.ca()+"]",Nl(m)}}finally{Ea(m)}}}}function Ea(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const O=m.g;m.g=null,E||dt(m,"ready");try{O.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function us(m){return m.g?m.g.readyState:0}n.ca=function(){try{return us(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),st(E)}};function Yr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(m){const E={};m=(m.g&&us(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(L(m[J]))continue;var O=Hr(m[J]);const Ie=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Me=E[Ie]||[];E[Ie]=Me,Me.push(O)}be(E,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(m,E,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||E}function $s(m){this.za=0,this.i=[],this.j=new _n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,m),this.Za=_i("retryDelaySeedMs",1e4,m),this.Ta=_i("forwardChannelMaxRetries",2,m),this.va=_i("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(m&&m.concurrentRequestLimit),this.Ba=new Ba,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=$s.prototype,n.ka=8,n.I=1,n.connect=function(m,E,O,J){jt(0),this.W=m,this.H=E||{},O&&J!==void 0&&(this.H.OSID=O,this.H.OAID=J),this.F=this.X,this.J=tt(this,null,this.W),Ss(this)};function qa(m){if(Qs(m),m.I==3){var E=m.V++,O=Mr(m.J);if(Cn(O,"SID",m.M),Cn(O,"RID",E),Cn(O,"TYPE","terminate"),hs(m,O),E=new Ri(m,m.j,E),E.M=2,E.A=Fa(Mr(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!O&&c.Image&&(new Image().src=E.A,O=!0),O||(E.g=wt(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Gi(E)}Ge(m)}function Xs(m){m.g&&(Ko(m),m.g.cancel(),m.g=null)}function Qs(m){Xs(m),m.v&&(c.clearTimeout(m.v),m.v=null),F(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Ss(m){if(!Yi(m.h)&&!m.m){m.m=!0;var E=m.Ea;se||k(),fe||(se(),fe=!0),q.add(E,m),m.D=0}}function po(m,E){return xs(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ut(f(m.Ea,m,E),ve(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Ie=new Ri(this,this.j,m);let Me=this.o;if(this.U&&(Me?(Me=X(Me),z(Me,this.U)):Me=this.U),this.u!==null||this.R||(Ie.J=Me,Me=null),this.S)e:{for(var E=0,O=0;O<this.i.length;O++){t:{var J=this.i[O];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(E+=J,E>4096){E=O;break e}if(E===4096||O===this.i.length-1){E=O+1;break e}}E=1e3}else E=1e3;E=Js(this,Ie,E),O=Mr(this.J),Cn(O,"RID",m),Cn(O,"CVER",22),this.G&&Cn(O,"X-HTTP-Session-Id",this.G),hs(this,O),Me&&(this.R?E="headers="+Tn(ti(Me))+"&"+E:this.u&&ho(O,this.u,Me)),lo(this.h,Ie),this.Ra&&Cn(O,"TYPE","init"),this.S?(Cn(O,"$req",E),Cn(O,"SID","null"),Ie.U=!0,ei(Ie,O,null)):ei(Ie,O,E),this.I=2}}else this.I==3&&(m?Wo(this,m):this.i.length==0||Yi(this.h)||Wo(this))};function Wo(m,E){var O;E?O=E.l:O=m.V++;const J=Mr(m.J);Cn(J,"SID",m.M),Cn(J,"RID",O),Cn(J,"AID",m.K),hs(m,J),m.u&&m.o&&ho(J,m.u,m.o),O=new Ri(m,m.j,O,m.D+1),m.u===null&&(O.J=m.o),E&&(m.i=E.G.concat(m.i)),E=Js(m,O,1e3),O.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),lo(m.h,O),ei(O,J,E)}function hs(m,E){m.H&&Ce(m.H,function(O,J){Cn(E,J,O)}),m.l&&Ce({},function(O,J){Cn(E,J,O)})}function Js(m,E,O){O=Math.min(m.i.length,O);const J=m.l?f(m.l.Ka,m.l,m):null;e:{var Ie=m.i;let nn=-1;for(;;){const hr=["count="+O];nn==-1?O>0?(nn=Ie[0].g,hr.push("ofs="+nn)):nn=0:hr.push("ofs="+nn);let mn=!0;for(let Wn=0;Wn<O;Wn++){var Me=Ie[Wn].g;const wi=Ie[Wn].map;if(Me-=nn,Me<0)nn=Math.max(0,Ie[Wn].g-100),mn=!1;else try{Me="req"+Me+"_"||"";try{var at=wi instanceof Map?wi:Object.entries(wi);for(const[Di,ir]of at){let Pi=ir;u(ir)&&(Pi=ft(ir)),hr.push(Me+Di+"="+encodeURIComponent(Pi))}}catch(Di){throw hr.push(Me+"type="+encodeURIComponent("_badmap")),Di}}catch{J&&J(wi)}}if(mn){at=hr.join("&");break e}}at=void 0}return m=m.i.splice(0,O),E.G=m,at}function Tl(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;se||k(),fe||(se(),fe=!0),q.add(E,m),m.A=0}}function Bs(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ut(f(m.Da,m),ve(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,x(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ut(f(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Xs(this),x(this))};function Ko(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function x(m){m.g=new Ri(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=Mr(m.na);Cn(E,"RID","rpc"),Cn(E,"SID",m.M),Cn(E,"AID",m.K),Cn(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&Cn(E,"TO",m.ia),Cn(E,"TYPE","xmlhttp"),hs(m,E),m.u&&m.o&&ho(E,m.u,m.o),m.O&&(m.g.H=m.O);var O=m.g;m=m.ba,O.M=1,O.A=Fa(Mr(E)),O.u=null,O.R=!0,Hi(O,m)}n.Va=function(){this.C!=null&&(this.C=null,Xs(this),Bs(this),jt(19))};function F(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function oe(m,E){var O=null;if(m.g==E){F(m),Ko(m),m.g=null;var J=2}else if(Vs(m.h,E))O=E.G,zo(m.h,E),J=1;else return;if(m.I!=0){if(E.o)if(J==1){O=E.u?E.u.length:0,E=Date.now()-E.F;var Ie=m.D;J=yn(),dt(J,new Ct(J,O)),Ss(m)}else Tl(m);else if(Ie=E.m,Ie==3||Ie==0&&E.X>0||!(J==1&&po(m,E)||J==2&&Bs(m)))switch(O&&O.length>0&&(E=m.h,E.i=E.i.concat(O)),Ie){case 1:Ne(m,5);break;case 4:Ne(m,10);break;case 3:Ne(m,6);break;default:Ne(m,2)}}}function ve(m,E){let O=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(O*=2),O*E}function Ne(m,E){if(m.j.info("Error code "+E),E==2){var O=f(m.bb,m),J=m.Ua;const Ie=!J;J=new bi(J||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vn(J,"https"),Fa(J),Ie?Fs(J.toString(),O):Sa(J.toString(),O)}else jt(2);m.I=0,m.l&&m.l.pa(E),Ge(m),Qs(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Ge(m){if(m.I=0,m.ja=[],m.l){const E=qo(m.h);(E.length!=0||m.i.length!=0)&&(M(m.ja,E),M(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function tt(m,E,O){var J=O instanceof bi?Mr(O):new bi(O);if(J.g!="")E&&(J.g=E+"."+J.g),wa(J,J.u);else{var Ie=c.location;J=Ie.protocol,E=E?E+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;const Me=new bi(null);J&&vn(Me,J),E&&(Me.g=E),Ie&&wa(Me,Ie),O&&(Me.h=O),J=Me}return O=m.G,E=m.wa,O&&E&&Cn(J,O,E),Cn(J,"VER",m.ka),hs(m,J),J}function wt(m,E,O){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new Yn(new qt({ab:O})):new Yn(m.ma),E.Fa(m.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function It(){}n=It.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Yt(){}Yt.prototype.g=function(m,E){return new Ut(m,E)};function Ut(m,E){Be.call(this),this.g=new $s(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!L(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new tr(this)}b(Ut,Be),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){qa(this.g)},Ut.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.v&&(O={},O.__data__=ft(m),m=O);E.i.push(new Cr(E.Ya++,m)),E.I==3&&Ss(E)},Ut.prototype.N=function(){this.g.l=null,delete this.j,qa(this.g),delete this.g,Ut.Z.N.call(this)};function wn(m){Pt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const O in E){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}b(wn,Pt);function ur(){Ft.call(this),this.status=1}b(ur,Ft);function tr(m){this.g=m}b(tr,It),tr.prototype.ra=function(){dt(this.g,"a")},tr.prototype.qa=function(m){dt(this.g,new wn(m))},tr.prototype.pa=function(m){dt(this.g,new ur)},tr.prototype.oa=function(){dt(this.g,"b")},Yt.prototype.createWebChannel=Yt.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,yA=function(){return new Yt},gA=function(){return yn()},mA=Qt,y2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,wm=Zr,Zn.COMPLETE="complete",pA=Zn,fn.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Be.prototype.listen=Be.prototype.J,xd=fn,Yn.prototype.listenOnce=Yn.prototype.K,Yn.prototype.getLastError=Yn.prototype.Ha,Yn.prototype.getLastErrorCode=Yn.prototype.ya,Yn.prototype.getStatus=Yn.prototype.ca,Yn.prototype.getResponseJson=Yn.prototype.La,Yn.prototype.getResponseText=Yn.prototype.la,Yn.prototype.send=Yn.prototype.ea,Yn.prototype.setWithCredentials=Yn.prototype.Fa,dA=Yn}).apply(typeof nm<"u"?nm:typeof self<"u"?self:typeof window<"u"?window:{});class Ps{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");let Ef="12.8.0";function rL(n){Ef=n}const qu=new ay("@firebase/firestore");function Fh(){return qu.logLevel}function At(n,...e){if(qu.logLevel<=Ln.DEBUG){const t=e.map(yy);qu.debug(`Firestore (${Ef}): ${n}`,...t)}}function ic(n,...e){if(qu.logLevel<=Ln.ERROR){const t=e.map(yy);qu.error(`Firestore (${Ef}): ${n}`,...t)}}function Hu(n,...e){if(qu.logLevel<=Ln.WARN){const t=e.map(yy);qu.warn(`Firestore (${Ef}): ${n}`,...t)}}function yy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function tn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vA(n,r,t)}function vA(n,e,t){let r=`FIRESTORE (${Ef}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ic(r),new Error(r)}function nr(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||vA(e,a,r)}function un(n,e){return n}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends oc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ps.UNAUTHENTICATED)))}shutdown(){}}class iL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sL{constructor(e){this.t=e,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nr(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new tu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tu,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},u=d=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tu)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nr(typeof r.accessToken=="string",31837,{l:r}),new bA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nr(e===null||typeof e=="string",2055,{h:e}),new Ps(e)}}class aL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new aL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ps.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nr(this.o===void 0,3512);const r=o=>{o.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,At("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new x_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class yg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=cL(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function kn(n,e){return n<e?-1:n>e?1:0}function v2(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return v0(a)===v0(o)?kn(a,o):v0(a)?1:-1}return kn(n.length,e.length)}const uL=55296,hL=57343;function v0(n){const e=n.charCodeAt(0);return e>=uL&&e<=hL}function hf(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const A_="__name__";class fl{constructor(e,t,r){t===void 0?t=0:t>e.length&&tn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&tn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=fl.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return kn(e.length,t.length)}static compareSegments(e,t){const r=fl.isNumericId(e),a=fl.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?fl.extractNumericId(e).compare(fl.extractNumericId(t)):v2(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eu.fromString(e.substring(4,e.length-2))}}class Nr extends fl{construct(e,t,r){return new Nr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new gt(Qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Nr(t)}static emptyPath(){return new Nr([])}}const fL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends fl{construct(e,t,r){return new rs(e,t,r)}static isValidIdentifier(e){return fL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A_}static keyField(){return new rs([A_])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new gt(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new gt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new gt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else u==="`"?(c=!c,a++):u!=="."||c?(r+=u,a++):(o(),a++)}if(o(),c)throw new gt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(t)}static emptyPath(){return new rs([])}}class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(Nr.fromString(e))}static fromName(e){return new Gt(Nr.fromString(e).popFirst(5))}static empty(){return new Gt(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new Nr(e.slice()))}}function wA(n,e,t){if(!t)throw new gt(Qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xA(n,e,t,r){if(e===!0&&r===!0)throw new gt(Qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function S_(n){if(!Gt.isDocumentKey(n))throw new gt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function E_(n){if(Gt.isDocumentKey(n))throw new gt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tn(12329,{type:typeof n})}function so(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new gt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vg(n);throw new gt(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ti(n,e){const t={typeString:n};return e&&(t.value=e),t}function Jd(n,e){if(!AA(n))throw new gt(Qe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new gt(Qe.INVALID_ARGUMENT,t);return!0}const N_=-62135596800,T_=1e6;class Tr{static now(){return Tr.fromMillis(Date.now())}static fromDate(e){return Tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*T_);return new Tr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<N_)throw new gt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?kn(this.nanoseconds,e.nanoseconds):kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jd(e,Tr._jsonSchema))return new Tr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tr._jsonSchemaVersion="firestore/timestamp/1.0",Tr._jsonSchema={type:Ti("string",Tr._jsonSchemaVersion),seconds:Ti("number"),nanoseconds:Ti("number")};class an{static fromTimestamp(e){return new an(e)}static min(){return new an(new Tr(0,0))}static max(){return new an(new Tr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vd=-1;function dL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=an.fromTimestamp(r===1e9?new Tr(t+1,0):new Tr(t,r));return new ru(a,Gt.empty(),e)}function pL(n){return new ru(n.readTime,n.key,Vd)}class ru{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ru(an.min(),Gt.empty(),Vd)}static max(){return new ru(an.max(),Gt.empty(),Vd)}}function mL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Gt.comparator(n.documentKey,e.documentKey),t!==0?t:kn(n.largestBatchId,e.largestBatchId))}const gL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nf(n){if(n.code!==Qe.FAILED_PRECONDITION||n.message!==gL)throw n;At("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.reject(t)}static resolve(e){return new nt(((t,r)=>{t(e)}))}static reject(e){return new nt(((t,r)=>{r(e)}))}static waitFor(e){return new nt(((t,r)=>{let a=0,o=0,c=!1;e.forEach((u=>{++a,u.next((()=>{++o,c&&o===a&&t()}),(d=>r(d)))})),c=!0,o===a&&t()}))}static or(e){let t=nt.resolve(!1);for(const r of e)t=t.next((a=>a?nt.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new nt(((r,a)=>{const o=e.length,c=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next((g=>{c[f]=g,++u,u===o&&r(c)}),(g=>a(g)))}}))}static doWhile(e,t){return new nt(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function vL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tf(n){return n.name==="IndexedDbTransactionError"}class bg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bg.ce=-1;const vy=-1;function _g(n){return n==null}function qm(n){return n===0&&1/n==-1/0}function bL(n){return typeof n=="number"&&Number.isInteger(n)&&!qm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const SA="";function _L(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=C_(e)),e=wL(n.get(t),e);return C_(e)}function wL(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case SA:t+="";break;default:t+=o}}return t}function C_(n){return n+SA+""}function I_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jr{constructor(e,t){this.comparator=e,this.root=t||vs.EMPTY}insert(e,t){return new Jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rm(this.root,e,this.comparator,!0)}}class rm{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vs{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??vs.RED,this.left=a??vs.EMPTY,this.right=o??vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new vs(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return vs.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tn(27949);return e+(this.isRed()?0:1)}}vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1;vs.EMPTY=new class{constructor(){this.size=0}get key(){throw tn(57766)}get value(){throw tn(16141)}get color(){throw tn(16727)}get left(){throw tn(29726)}get right(){throw tn(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new vs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qi{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(e){return new R_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qi(this.comparator);return t.data=e,t}}class R_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ma{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new Ma([])}unionWith(e){let t=new qi(rs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ma(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hf(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class NA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class is{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new NA("Invalid base64 string: "+o):o}})(e);return new is(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new is(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}is.EMPTY_BYTE_STRING=new is("");const xL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iu(n){if(nr(!!n,39018),typeof n=="string"){let e=0;const t=xL.exec(n);if(nr(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pi(n.seconds),nanos:pi(n.nanos)}}function pi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function su(n){return typeof n=="string"?is.fromBase64String(n):is.fromUint8Array(n)}const TA="server_timestamp",CA="__type__",IA="__previous_value__",RA="__local_write_time__";function by(n){return(n?.mapValue?.fields||{})[CA]?.stringValue===TA}function wg(n){const e=n.mapValue.fields[IA];return by(e)?wg(e):e}function Fd(n){const e=iu(n.mapValue.fields[RA].timestampValue);return new Tr(e.seconds,e.nanos)}class AL{constructor(e,t,r,a,o,c,u,d,f,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g,this.apiKey=b}}const Hm="(default)";class ff{constructor(e,t){this.projectId=e,this.database=t||Hm}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database===Hm}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}function SL(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new gt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(n.options.projectId,e)}const LA="__type__",EL="__max__",im={mapValue:{}},kA="__vector__",Gm="value";function au(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?by(n)?4:TL(n)?9007199254740991:NL(n)?10:11:tn(28295,{value:n})}function bl(n,e){if(n===e)return!0;const t=au(n);if(t!==au(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fd(n).isEqual(Fd(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=iu(a.timestampValue),u=iu(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return su(a.bytesValue).isEqual(su(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return pi(a.geoPointValue.latitude)===pi(o.geoPointValue.latitude)&&pi(a.geoPointValue.longitude)===pi(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return pi(a.integerValue)===pi(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=pi(a.doubleValue),u=pi(o.doubleValue);return c===u?qm(c)===qm(u):isNaN(c)&&isNaN(u)}return!1})(n,e);case 9:return hf(n.arrayValue.values||[],e.arrayValue.values||[],bl);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},u=o.mapValue.fields||{};if(I_(c)!==I_(u))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(u[d]===void 0||!bl(c[d],u[d])))return!1;return!0})(n,e);default:return tn(52216,{left:n})}}function Ud(n,e){return(n.values||[]).find((t=>bl(t,e)))!==void 0}function df(n,e){if(n===e)return 0;const t=au(n),r=au(e);if(t!==r)return kn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kn(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const u=pi(o.integerValue||o.doubleValue),d=pi(c.integerValue||c.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return L_(n.timestampValue,e.timestampValue);case 4:return L_(Fd(n),Fd(e));case 5:return v2(n.stringValue,e.stringValue);case 6:return(function(o,c){const u=su(o),d=su(c);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const u=o.split("/"),d=c.split("/");for(let f=0;f<u.length&&f<d.length;f++){const g=kn(u[f],d[f]);if(g!==0)return g}return kn(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const u=kn(pi(o.latitude),pi(c.latitude));return u!==0?u:kn(pi(o.longitude),pi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return k_(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const u=o.fields||{},d=c.fields||{},f=u[Gm]?.arrayValue,g=d[Gm]?.arrayValue,b=kn(f?.values?.length||0,g?.values?.length||0);return b!==0?b:k_(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===im.mapValue&&c===im.mapValue)return 0;if(o===im.mapValue)return 1;if(c===im.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=c.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const A=v2(d[b],g[b]);if(A!==0)return A;const w=df(u[d[b]],f[g[b]]);if(w!==0)return w}return kn(d.length,g.length)})(n.mapValue,e.mapValue);default:throw tn(23264,{he:t})}}function L_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return kn(n,e);const t=iu(n),r=iu(e),a=kn(t.seconds,r.seconds);return a!==0?a:kn(t.nanos,r.nanos)}function k_(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=df(t[a],r[a]);if(o)return o}return kn(t.length,r.length)}function pf(n){return b2(n)}function b2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=iu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return su(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Gt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=b2(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${b2(t.fields[c])}`;return a+"}"})(n.mapValue):tn(61005,{value:n})}function xm(n){switch(au(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wg(n);return e?16+xm(e):16;case 5:return 2*n.stringValue.length;case 6:return su(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+xm(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return hu(r.fields,((o,c)=>{a+=o.length+xm(c)})),a})(n.mapValue);default:throw tn(13486,{value:n})}}function D_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _2(n){return!!n&&"integerValue"in n}function _y(n){return!!n&&"arrayValue"in n}function P_(n){return!!n&&"nullValue"in n}function O_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Am(n){return!!n&&"mapValue"in n}function NL(n){return(n?.mapValue?.fields||{})[LA]?.stringValue===kA}function Td(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return hu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Td(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Td(n.arrayValue.values[t]);return e}return{...n}}function TL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===EL}class ya{constructor(e){this.value=e}static empty(){return new ya({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Am(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(t)}setAll(e){let t=rs.emptyPath(),r={},a=[];e.forEach(((c,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,a),r={},a=[],t=u.popLast()}c?r[u.lastSegment()]=Td(c):a.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Am(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Am(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){hu(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new ya(Td(this.value))}}function DA(n){const e=[];return hu(n.fields,((t,r)=>{const a=new rs([t]);if(Am(r)){const o=DA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Ma(e)}class Os{constructor(e,t,r,a,o,c,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Os(e,0,an.min(),an.min(),an.min(),ya.empty(),0)}static newFoundDocument(e,t,r,a){return new Os(e,1,t,an.min(),r,a,0)}static newNoDocument(e,t){return new Os(e,2,t,an.min(),an.min(),ya.empty(),0)}static newUnknownDocument(e,t){return new Os(e,3,t,an.min(),an.min(),ya.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(an.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ya.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ym{constructor(e,t){this.position=e,this.inclusive=t}}function M_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Gt.comparator(Gt.fromName(c.referenceValue),t.key):r=df(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function j_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bl(n.position[t],e.position[t]))return!1;return!0}class Bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function CL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class PA{}class Ni extends PA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RL(e,t,r):t==="array-contains"?new DL(e,r):t==="in"?new PL(e,r):t==="not-in"?new OL(e,r):t==="array-contains-any"?new ML(e,r):new Ni(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new LL(e,r):new kL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(df(t,this.value)):t!==null&&au(this.value)===au(t)&&this.matchesComparison(df(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jo extends PA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new jo(e,t)}matches(e){return OA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OA(n){return n.op==="and"}function MA(n){return IL(n)&&OA(n)}function IL(n){for(const e of n.filters)if(e instanceof jo)return!1;return!0}function w2(n){if(n instanceof Ni)return n.field.canonicalString()+n.op.toString()+pf(n.value);if(MA(n))return n.filters.map((e=>w2(e))).join(",");{const e=n.filters.map((t=>w2(t))).join(",");return`${n.op}(${e})`}}function jA(n,e){return n instanceof Ni?(function(r,a){return a instanceof Ni&&r.op===a.op&&r.field.isEqual(a.field)&&bl(r.value,a.value)})(n,e):n instanceof jo?(function(r,a){return a instanceof jo&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,u)=>o&&jA(c,a.filters[u])),!0):!1})(n,e):void tn(19439)}function VA(n){return n instanceof Ni?(function(t){return`${t.field.canonicalString()} ${t.op} ${pf(t.value)}`})(n):n instanceof jo?(function(t){return t.op.toString()+" {"+t.getFilters().map(VA).join(" ,")+"}"})(n):"Filter"}class RL extends Ni{constructor(e,t,r){super(e,t,r),this.key=Gt.fromName(r.referenceValue)}matches(e){const t=Gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class LL extends Ni{constructor(e,t){super(e,"in",t),this.keys=FA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kL extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=FA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function FA(n,e){return(e.arrayValue?.values||[]).map((t=>Gt.fromName(t.referenceValue)))}class DL extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _y(t)&&Ud(t.arrayValue,this.value)}}class PL extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ud(this.value.arrayValue,t)}}class OL extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ud(this.value.arrayValue,t)}}class ML extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_y(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ud(this.value.arrayValue,r)))}}class jL{constructor(e,t=null,r=[],a=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function V_(n,e=null,t=[],r=[],a=null,o=null,c=null){return new jL(n,e,t,r,a,o,c)}function wy(n){const e=un(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>w2(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),_g(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>pf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>pf(r))).join(",")),e.Te=t}return e.Te}function xy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j_(n.startAt,e.startAt)&&j_(n.endAt,e.endAt)}function x2(n){return Gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Cf{constructor(e,t=null,r=[],a=[],o=null,c="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VL(n,e,t,r,a,o,c,u){return new Cf(n,e,t,r,a,o,c,u)}function xg(n){return new Cf(n)}function F_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FL(n){return Gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function UA(n){return n.collectionGroup!==null}function Cd(n){const e=un(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new qi(rs.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Bd(o,r))})),t.has(rs.keyField().canonicalString())||e.Ie.push(new Bd(rs.keyField(),r))}return e.Ie}function yl(n){const e=un(n);return e.Ee||(e.Ee=UL(e,Cd(n))),e.Ee}function UL(n,e){if(n.limitType==="F")return V_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Bd(a.field,o)}));const t=n.endAt?new Ym(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ym(n.startAt.position,n.startAt.inclusive):null;return V_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function A2(n,e){const t=n.filters.concat([e]);return new Cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function BL(n,e){const t=n.explicitOrderBy.concat([e]);return new Cf(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function S2(n,e,t){return new Cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ag(n,e){return xy(yl(n),yl(e))&&n.limitType===e.limitType}function BA(n){return`${wy(yl(n))}|lt:${n.limitType}`}function Uh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>VA(a))).join(", ")}]`),_g(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>pf(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>pf(a))).join(",")),`Target(${r})`})(yl(n))}; limitType=${n.limitType})`}function Sg(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Gt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of Cd(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,u,d){const f=M_(c,u,d);return c.inclusive?f<=0:f<0})(r.startAt,Cd(r),a)||r.endAt&&!(function(c,u,d){const f=M_(c,u,d);return c.inclusive?f>=0:f>0})(r.endAt,Cd(r),a))})(n,e)}function zL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zA(n){return(e,t)=>{let r=!1;for(const a of Cd(n)){const o=qL(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function qL(n,e,t){const r=n.field.isKeyField()?Gt.comparator(e.key,t.key):(function(o,c,u){const d=c.data.field(o),f=u.data.field(o);return d!==null&&f!==null?df(d,f):tn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn(19790,{direction:n.dir})}}class Xu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return EA(this.inner)}size(){return this.innerSize}}const HL=new Jr(Gt.comparator);function sc(){return HL}const qA=new Jr(Gt.comparator);function Ad(...n){let e=qA;for(const t of n)e=e.insert(t.key,t);return e}function HA(n){let e=qA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ou(){return Id()}function GA(){return Id()}function Id(){return new Xu((n=>n.toString()),((n,e)=>n.isEqual(e)))}const GL=new Jr(Gt.comparator),YL=new qi(Gt.comparator);function Dn(...n){let e=YL;for(const t of n)e=e.add(t);return e}const WL=new qi(kn);function KL(){return WL}function Ay(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qm(e)?"-0":e}}function YA(n){return{integerValue:""+n}}function $L(n,e){return bL(e)?YA(e):Ay(n,e)}class Eg{constructor(){this._=void 0}}function XL(n,e,t){return n instanceof Wm?(function(a,o){const c={fields:{[CA]:{stringValue:TA},[RA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&by(o)&&(o=wg(o)),o&&(c.fields[IA]=o),{mapValue:c}})(t,e):n instanceof zd?KA(n,e):n instanceof qd?$A(n,e):(function(a,o){const c=WA(a,o),u=U_(c)+U_(a.Ae);return _2(c)&&_2(a.Ae)?YA(u):Ay(a.serializer,u)})(n,e)}function QL(n,e,t){return n instanceof zd?KA(n,e):n instanceof qd?$A(n,e):t}function WA(n,e){return n instanceof Km?(function(r){return _2(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Wm extends Eg{}class zd extends Eg{constructor(e){super(),this.elements=e}}function KA(n,e){const t=XA(e);for(const r of n.elements)t.some((a=>bl(a,r)))||t.push(r);return{arrayValue:{values:t}}}class qd extends Eg{constructor(e){super(),this.elements=e}}function $A(n,e){let t=XA(e);for(const r of n.elements)t=t.filter((a=>!bl(a,r)));return{arrayValue:{values:t}}}class Km extends Eg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function U_(n){return pi(n.integerValue||n.doubleValue)}function XA(n){return _y(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JL(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof zd&&a instanceof zd||r instanceof qd&&a instanceof qd?hf(r.elements,a.elements,bl):r instanceof Km&&a instanceof Km?bl(r.Ae,a.Ae):r instanceof Wm&&a instanceof Wm})(n.transform,e.transform)}class ZL{constructor(e,t){this.version=e,this.transformResults=t}}class Po{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Po}static exists(e){return new Po(void 0,e)}static updateTime(e){return new Po(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ng{}function QA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sy(n.key,Po.none()):new Zd(n.key,n.data,Po.none());{const t=n.data,r=ya.empty();let a=new qi(rs.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new fu(n.key,r,new Ma(a.toArray()),Po.none())}}function ek(n,e,t){n instanceof Zd?(function(a,o,c){const u=a.value.clone(),d=z_(a.fieldTransforms,o,c.transformResults);u.setAll(d),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):n instanceof fu?(function(a,o,c){if(!Sm(a.precondition,o))return void o.convertToUnknownDocument(c.version);const u=z_(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(JA(a)),d.setAll(u),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Rd(n,e,t,r){return n instanceof Zd?(function(o,c,u,d){if(!Sm(o.precondition,c))return u;const f=o.value.clone(),g=q_(o.fieldTransforms,d,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof fu?(function(o,c,u,d){if(!Sm(o.precondition,c))return u;const f=q_(o.fieldTransforms,d,c),g=c.data;return g.setAll(JA(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,e,t,r):(function(o,c,u){return Sm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(n,e,t)}function tk(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=WA(r.transform,a||null);o!=null&&(t===null&&(t=ya.empty()),t.set(r.field,o))}return t||null}function B_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&hf(r,a,((o,c)=>JL(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Zd extends Ng{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fu extends Ng{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function z_(n,e,t){const r=new Map;nr(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,u=e.data.field(o.field);r.set(o.field,QL(c,u,t[a]))}return r}function q_(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,XL(o,c,e))}return r}class Sy extends Ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nk extends Ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rk{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&ek(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GA();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=t.has(a.key)?null:u;const d=QA(c,u);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(an.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Dn())}isEqual(e){return this.batchId===e.batchId&&hf(this.mutations,e.mutations,((t,r)=>B_(t,r)))&&hf(this.baseMutations,e.baseMutations,((t,r)=>B_(t,r)))}}class Ey{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){nr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return GL})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Ey(e,t,r,a)}}class ik{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ei,Un;function ak(n){switch(n){case Qe.OK:return tn(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return tn(15467,{code:n})}}function ZA(n){if(n===void 0)return ic("GRPC error has no .code"),Qe.UNKNOWN;switch(n){case Ei.OK:return Qe.OK;case Ei.CANCELLED:return Qe.CANCELLED;case Ei.UNKNOWN:return Qe.UNKNOWN;case Ei.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Ei.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Ei.INTERNAL:return Qe.INTERNAL;case Ei.UNAVAILABLE:return Qe.UNAVAILABLE;case Ei.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Ei.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Ei.NOT_FOUND:return Qe.NOT_FOUND;case Ei.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Ei.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Ei.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Ei.ABORTED:return Qe.ABORTED;case Ei.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Ei.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Ei.DATA_LOSS:return Qe.DATA_LOSS;default:return tn(39323,{code:n})}}(Un=Ei||(Ei={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";function ok(){return new TextEncoder}const lk=new eu([4294967295,4294967295],0);function H_(n){const e=ok().encode(n),t=new fA;return t.update(e),new Uint8Array(t.digest())}function G_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eu([t,r],0),new eu([a,o],0)]}class Ny{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sd(`Invalid padding: ${t}`);if(r<0)throw new Sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=eu.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(eu.fromNumber(r)));return a.compare(lk)===1&&(a=new eu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=H_(e),[r,a]=G_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Ny(o,a,t);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const t=H_(e),[r,a]=G_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tg{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Tg(an.min(),a,new Jr(kn),sc(),Dn())}}class ep{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ep(r,t,Dn(),Dn(),Dn())}}class Em{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class e3{constructor(e,t){this.targetId=e,this.Ce=t}}class t3{constructor(e,t,r=is.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Y_{constructor(){this.ve=0,this.Fe=W_(),this.Me=is.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dn(),t=Dn(),r=Dn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:tn(38017,{changeType:o})}})),new ep(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=W_()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ck{constructor(e){this.Ge=e,this.ze=new Map,this.je=sc(),this.He=sm(),this.Je=sm(),this.Ze=new Jr(kn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:tn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(x2(o))if(r===0){const c=new Gt(o.path);this.et(t,c,Os.newNoDocument(c,an.min()))}else nr(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const u=this.ut(e),d=u?this.ct(u,e,c):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,u;try{c=su(r).toUint8Array()}catch(d){if(d instanceof NA)return Hu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Ny(c,a,o)}catch(d){return Hu(d instanceof Sd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&x2(u.target)){const d=new Gt(u.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Os.newNoDocument(d,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=Dn();this.Je.forEach(((o,c)=>{let u=!0;c.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Tg(e,t,this.Ze,this.je,r);return this.je=sc(),this.He=sm(),this.Je=sm(),this.Ze=new Jr(kn),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Y_,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new qi(kn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new qi(kn),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||At("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sm(){return new Jr(Gt.comparator)}function W_(){return new Jr(Gt.comparator)}const uk={asc:"ASCENDING",desc:"DESCENDING"},hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fk={and:"AND",or:"OR"};class dk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function E2(n,e){return n.useProto3Json||_g(e)?e:{value:e}}function $m(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pk(n,e){return $m(n,e.toTimestamp())}function vl(n){return nr(!!n,49232),an.fromTimestamp((function(t){const r=iu(t);return new Tr(r.seconds,r.nanos)})(n))}function Ty(n,e){return N2(n,e).canonicalString()}function N2(n,e){const t=(function(a){return new Nr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function r3(n){const e=Nr.fromString(n);return nr(l3(e),10190,{key:e.toString()}),e}function T2(n,e){return Ty(n.databaseId,e.path)}function b0(n,e){const t=r3(e);if(t.get(1)!==n.databaseId.projectId)throw new gt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new gt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Gt(s3(t))}function i3(n,e){return Ty(n.databaseId,e)}function mk(n){const e=r3(n);return e.length===4?Nr.emptyPath():s3(e)}function C2(n){return new Nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function s3(n){return nr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function K_(n,e,t){return{name:T2(n,e),fields:t.value.mapValue.fields}}function gk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:tn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(nr(g===void 0||typeof g=="string",58123),is.fromBase64String(g||"")):(nr(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),is.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(f){const g=f.code===void 0?Qe.UNKNOWN:ZA(f.code);return new gt(g,f.message||"")})(c);t=new t3(r,a,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=b0(n,r.document.name),o=vl(r.document.updateTime),c=r.document.createTime?vl(r.document.createTime):an.min(),u=new ya({mapValue:{fields:r.document.fields}}),d=Os.newFoundDocument(a,o,c,u),f=r.targetIds||[],g=r.removedTargetIds||[];t=new Em(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=b0(n,r.document),o=r.readTime?vl(r.readTime):an.min(),c=Os.newNoDocument(a,o),u=r.removedTargetIds||[];t=new Em([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=b0(n,r.document),o=r.removedTargetIds||[];t=new Em([],o,a,null)}else{if(!("filter"in e))return tn(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new sk(a,o),u=r.targetId;t=new e3(u,c)}}return t}function yk(n,e){let t;if(e instanceof Zd)t={update:K_(n,e.key,e.value)};else if(e instanceof Sy)t={delete:T2(n,e.key)};else if(e instanceof fu)t={update:K_(n,e.key,e.data),updateMask:Nk(e.fieldMask)};else{if(!(e instanceof nk))return tn(16599,{dt:e.type});t={verify:T2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const u=c.transform;if(u instanceof Wm)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof zd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof qd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Km)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw tn(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:pk(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tn(27497)})(n,e.precondition)),t}function vk(n,e){return n&&n.length>0?(nr(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?vl(a.updateTime):vl(o);return c.isEqual(an.min())&&(c=vl(o)),new ZL(c,a.transformResults||[])})(t,e)))):[]}function bk(n,e){return{documents:[i3(n,e.path)]}}function _k(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=i3(n,a);const o=(function(f){if(f.length!==0)return o3(jo.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(A){return{field:Bh(A.field),direction:Ak(A.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=E2(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function wk(n){let e=mk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){nr(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(b){const A=a3(b);return A instanceof jo&&MA(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((A=>(function(M){return new Bd(zh(M.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(A)))})(t.orderBy));let u=null;t.limit&&(u=(function(b){let A;return A=typeof b=="object"?b.value:b,_g(A)?null:A})(t.limit));let d=null;t.startAt&&(d=(function(b){const A=!!b.before,w=b.values||[];return new Ym(w,A)})(t.startAt));let f=null;return t.endAt&&(f=(function(b){const A=!b.before,w=b.values||[];return new Ym(w,A)})(t.endAt)),VL(e,a,c,o,u,"F",d,f)}function xk(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function a3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zh(t.unaryFilter.field);return Ni.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=zh(t.unaryFilter.field);return Ni.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zh(t.unaryFilter.field);return Ni.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zh(t.unaryFilter.field);return Ni.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tn(61313);default:return tn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ni.create(zh(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tn(58110);default:return tn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return jo.create(t.compositeFilter.filters.map((r=>a3(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return tn(1026)}})(t.compositeFilter.op))})(n):tn(30097,{filter:n})}function Ak(n){return uk[n]}function Sk(n){return hk[n]}function Ek(n){return fk[n]}function Bh(n){return{fieldPath:n.canonicalString()}}function zh(n){return rs.fromServerFormat(n.fieldPath)}function o3(n){return n instanceof Ni?(function(t){if(t.op==="=="){if(O_(t.value))return{unaryFilter:{field:Bh(t.field),op:"IS_NAN"}};if(P_(t.value))return{unaryFilter:{field:Bh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(O_(t.value))return{unaryFilter:{field:Bh(t.field),op:"IS_NOT_NAN"}};if(P_(t.value))return{unaryFilter:{field:Bh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bh(t.field),op:Sk(t.op),value:t.value}}})(n):n instanceof jo?(function(t){const r=t.getFilters().map((a=>o3(a)));return r.length===1?r[0]:{compositeFilter:{op:Ek(t.op),filters:r}}})(n):tn(54877,{filter:n})}function Nk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function l3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function c3(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Kc{constructor(e,t,r,a,o=an.min(),c=an.min(),u=is.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Kc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tk{constructor(e){this.yt=e}}function Ck(n){const e=wk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?S2(e,e.limit,"L"):e}class Ik{constructor(){this.Sn=new Rk}addToCollectionParentIndex(e,t){return this.Sn.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(ru.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(ru.min())}updateCollectionGroup(e,t,r){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class Rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new qi(Nr.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new qi(Nr.comparator)).toArray()}}const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u3=41943040;class ma{static withCacheSize(e){return new ma(e,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}ma.DEFAULT_COLLECTION_PERCENTILE=10,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ma.DEFAULT=new ma(u3,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ma.DISABLED=new ma(-1,0,0);class mf{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new mf(0)}static ar(){return new mf(-1)}}const X_="LruGarbageCollector",Lk=1048576;function Q_([n,e],[t,r]){const a=kn(n,t);return a===0?kn(e,r):a}class kk{constructor(e){this.Pr=e,this.buffer=new qi(Q_),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Q_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Dk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){At(X_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Tf(t)?At(X_,"Ignoring IndexedDB error during garbage collection: ",t):await Nf(t)}await this.Ar(3e5)}))}}class Pk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return nt.resolve(bg.ce);const r=new kk(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve($_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,o,c,u,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,u=Date.now(),this.removeTargets(e,r,t)))).next((b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(f=Date.now(),Fh()<=Ln.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(u-c)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${b} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function Ok(n,e){return new Pk(n,e)}class Mk{constructor(){this.changes=new Xu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Os.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?nt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vk{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Rd(r.mutation,a,Ma.empty(),Tr.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Dn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Dn()){const a=Ou();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let c=Ad();return o.forEach(((u,d)=>{c=c.insert(u,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ou();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Dn())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,u)=>{t.set(c,u)}))}))}computeViews(e,t,r,a){let o=sc();const c=Id(),u=(function(){return Id()})();return t.forEach(((d,f)=>{const g=r.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof fu)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),Rd(g.mutation,f,g.mutation.getFieldMask(),Tr.now())):c.set(f.key,Ma.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>c.set(f,g))),t.forEach(((f,g)=>u.set(f,new jk(g,c.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Id();let a=new Jr(((c,u)=>c-u)),o=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const u of c)u.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||Ma.empty();g=u.applyToLocalView(f,g),r.set(d,g);const b=(a.get(u.batchId)||Dn()).add(d);a=a.insert(u.batchId,b)}))})).next((()=>{const c=[],u=a.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,g=d.value,b=GA();g.forEach((A=>{if(!o.has(A)){const w=QA(t.get(A),r.get(A));w!==null&&b.set(A,w),o=o.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,b))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return FL(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):nt.resolve(Ou());let u=Vd,d=o;return c.next((f=>nt.forEach(f,((g,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),o.get(g)?nt.resolve():this.remoteDocumentCache.getEntry(e,g).next((A=>{d=d.insert(g,A)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,Dn()))).next((g=>({batchId:u,changes:HA(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gt(t)).next((r=>{let a=Ad();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Ad();return this.indexManager.getCollectionParents(e,o).next((u=>nt.forEach(u,(d=>{const f=(function(b,A){return new Cf(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((g=>{g.forEach(((b,A)=>{c=c.insert(b,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((c=>{o.forEach(((d,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,Os.newInvalidDocument(g)))}));let u=Ad();return c.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&Rd(g.mutation,f,Ma.empty(),Tr.now()),Sg(t,f)&&(u=u.insert(d,f))})),u}))}}class Fk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return nt.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:vl(a.createTime)}})(t)),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:Ck(a.bundledQuery),readTime:vl(a.readTime)}})(t)),nt.resolve()}}class Uk{constructor(){this.overlays=new Jr(Gt.comparator),this.Lr=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ou();return nt.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.bt(e,t,o)})),nt.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(e,t,r){const a=Ou(),o=t.length+1,c=new Gt(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return nt.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Jr(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Ou(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Ou(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>u.set(f,g))),!(u.size()>=a)););return nt.resolve(u)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new ik(t,r));let o=this.Lr.get(t);o===void 0&&(o=Dn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class Bk{constructor(){this.sessionToken=is.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nt.resolve()}}class Cy{constructor(){this.kr=new qi(ts.Kr),this.qr=new qi(ts.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new ts(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new ts(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Gt(new Nr([])),r=new ts(t,e),a=new ts(t,e+1),o=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Gt(new Nr([])),r=new ts(t,e),a=new ts(t,e+1);let o=Dn();return this.qr.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new ts(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ts{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Gt.comparator(e.key,t.key)||kn(e.Hr,t.Hr)}static Ur(e,t){return kn(e.Hr,t.Hr)||Gt.comparator(e.key,t.key)}}class zk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new qi(ts.Kr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rk(o,t,r,a);this.mutationQueue.push(c);for(const u of a)this.Jr=this.Jr.add(new ts(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(e,t){return nt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),o=a<0?0:a;return nt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?vy:this.Yn-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ts(t,0),a=new ts(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(c=>{const u=this.Zr(c.Hr);o.push(u)})),nt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qi(kn);return t.forEach((a=>{const o=new ts(a,0),c=new ts(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(u=>{r=r.add(u.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Gt.isDocumentKey(o)||(o=o.child(""));const c=new ts(new Gt(o),0);let u=new qi(kn);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(u=u.add(d.Hr)),!0)}),c),nt.resolve(this.Yr(u))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){nr(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(t.mutations,(a=>{const o=new ts(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new ts(t,0),a=this.Jr.firstAfterOrEqual(r);return nt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qk{constructor(e){this.ti=e,this.docs=(function(){return new Jr(Gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return nt.resolve(r?r.document.mutableCopy():Os.newInvalidDocument(t))}getEntries(e,t){let r=sc();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Os.newInvalidDocument(a))})),nt.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=sc();const c=t.path,u=new Gt(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||mL(pL(g),r)<=0||(a.has(g.key)||Sg(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return nt.resolve(o)}getAllFromCollectionGroup(e,t,r,a){tn(9500)}ni(e,t){return nt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Hk(this)}getSize(e){return nt.resolve(this.size)}}class Hk extends Mk{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),nt.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Gk{constructor(e){this.persistence=e,this.ri=new Xu((t=>wy(t)),xy),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.ii=0,this.si=new Cy,this.targetCount=0,this.oi=mf._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),nt.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new mf(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.lr(t),nt.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ri.forEach(((c,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),nt.waitFor(o).next((()=>a))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return nt.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),nt.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),nt.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return nt.resolve(r)}containsKey(e,t){return nt.resolve(this.si.containsKey(t))}}class h3{constructor(e,t){this._i={},this.overlays={},this.ai=new bg(0),this.ui=!1,this.ui=!0,this.ci=new Bk,this.referenceDelegate=e(this),this.li=new Gk(this),this.indexManager=new Ik,this.remoteDocumentCache=(function(a){return new qk(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Tk(t),this.Pi=new Fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new zk(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){At("MemoryPersistence","Starting transaction:",e);const a=new Yk(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class Yk extends yL{constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.Ri=new Cy,this.Ai=null}static Vi(e){return new Iy(e)}get di(){if(this.Ai)return this.Ai;throw tn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),nt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const a=Gt.fromPath(r);return this.mi(e,a).next((o=>{o||t.removeEntry(a,an.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return nt.or([()=>nt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Xm{constructor(e,t){this.persistence=e,this.fi=new Xu((r=>_L(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=Ok(this,t)}static Vi(e,t){return new Xm(e,t)}Ti(){}Ii(e){return nt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return nt.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((o=>o?nt.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((u=>{u||(r++,o.removeEntry(c,an.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),nt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),nt.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xm(e.data.value)),t}wr(e,t,r){return nt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return nt.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ry{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=Dn(),a=Dn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Ry(e,t.fromCache,r,a)}}class Wk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Kk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _C()?8:vL(Ms())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Wk;return this.ys(e,t,c).next((u=>{if(o.result=u,this.As)return this.ws(e,t,c,u.size)}))})).next((()=>o.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Fh()<=Ln.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Uh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Fh()<=Ln.DEBUG&&At("QueryEngine","Query:",Uh(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Fh()<=Ln.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Uh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yl(t))):nt.resolve())}gs(e,t){if(F_(t))return nt.resolve(null);let r=yl(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=S2(t,null,"F"),r=yl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Dn(...o);return this.fs.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.bs(t,u);return this.Ss(t,f,c,d.readTime)?this.gs(e,S2(t,null,"F")):this.Ds(e,f,t,d)}))))})))))}ps(e,t,r,a){return F_(t)||a.isEqual(an.min())?nt.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,a)?nt.resolve(null):(Fh()<=Ln.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uh(t)),this.Ds(e,c,t,dL(a,Vd)).next((u=>u)))}))}bs(e,t){let r=new qi(zA(e));return t.forEach(((a,o)=>{Sg(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,r){return Fh()<=Ln.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Uh(t)),this.fs.getDocumentsMatchingQuery(e,t,ru.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Ly="LocalStore",$k=3e8;class Xk{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Jr(kn),this.Fs=new Xu((o=>wy(o)),xy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function Qk(n,e,t,r){return new Xk(n,e,t,r)}async function f3(n,e){const t=un(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],u=[];let d=Dn();for(const f of a){c.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((f=>({Ns:f,removedBatchIds:c,addedBatchIds:u})))}))}))}function Jk(n,e){const t=un(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,g){const b=f.batch,A=b.keys();let w=nt.resolve();return A.forEach((M=>{w=w.next((()=>g.getEntry(d,M))).next((V=>{const U=f.docVersions.get(M);nr(U!==null,48541),V.version.compareTo(U)<0&&(b.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),g.addEntry(V)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(d,b)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Dn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function d3(n){const e=un(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Zk(n,e){const t=un(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const u=[];e.targetChanges.forEach(((g,b)=>{const A=a.get(b);if(!A)return;u.push(t.li.removeMatchingKeys(o,g.removedDocuments,b).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,b))));let w=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(is.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),a=a.insert(b,w),(function(V,U,j){return V.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=$k?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(A,w,g)&&u.push(t.li.updateTargetData(o,w))}));let d=sc(),f=Dn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(e7(o,c,e.documentUpdates).next((g=>{d=g.Bs,f=g.Ls}))),!r.isEqual(an.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((b=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return nt.waitFor(u).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(t.vs=a,o)))}function e7(n,e,t){let r=Dn(),a=Dn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=sc();return t.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(u)),d.isNoDocument()&&d.version.isEqual(an.min())?(e.removeEntry(u,d.readTime),c=c.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),c=c.insert(u,d)):At(Ly,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function t7(n,e){const t=un(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function n7(n,e){const t=un(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((o=>o?(a=o,nt.resolve(a)):t.li.allocateTargetId(r).next((c=>(a=new Kc(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function I2(n,e,t){const r=un(n),a=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Tf(c))throw c;At(Ly,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function J_(n,e,t){const r=un(n);let a=an.min(),o=Dn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,f,g){const b=un(d),A=b.Fs.get(g);return A!==void 0?nt.resolve(b.vs.get(A)):b.li.getTargetData(f,g)})(r,c,yl(e)).next((u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,u.targetId).next((d=>{o=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?a:an.min(),t?o:Dn()))).next((u=>(r7(r,zL(e),u),{documents:u,ks:o})))))}function r7(n,e,t){let r=n.Ms.get(e)||an.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class Z_{constructor(){this.activeTargetIds=KL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i7{constructor(){this.vo=new Z_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Z_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s7{Mo(e){}shutdown(){}}const ew="ConnectivityMonitor";class tw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){At(ew,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){At(ew,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let am=null;function R2(){return am===null?am=(function(){return 268435456+Math.round(2147483648*Math.random())})():am++,"0x"+am.toString(16)}const _0="RestConnection",a7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class o7{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Hm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,o){const c=R2(),u=this.Qo(e,t.toUriEncodedString());At(_0,`Sending RPC '${e}' ${c}:`,u,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,o);const{host:f}=new URL(u),g=wf(f);return this.zo(e,u,d,r,g).then((b=>(At(_0,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Hu(_0,`RPC '${e}' ${c} failed with error: `,b,"url: ",u,"request:",r),b}))}jo(e,t,r,a,o,c){return this.Wo(e,t,r,a,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ef})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const r=a7[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class l7{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Cs="WebChannelConnection",md=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Zh extends o7{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Zh.c_){const e=gA();md(e,mA.STAT_EVENT,(t=>{t.stat===y2.PROXY?At(Cs,"STAT_EVENT: detected buffering proxy"):t.stat===y2.NOPROXY&&At(Cs,"STAT_EVENT: detected no buffering proxy")})),Zh.c_=!0}}zo(e,t,r,a,o){const c=R2();return new Promise(((u,d)=>{const f=new dA;f.setWithCredentials(!0),f.listenOnce(pA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case wm.NO_ERROR:const b=f.getResponseJson();At(Cs,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),u(b);break;case wm.TIMEOUT:At(Cs,`RPC '${e}' ${c} timed out`),d(new gt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case wm.HTTP_ERROR:const A=f.getStatus();if(At(Cs,`RPC '${e}' ${c} failed with status:`,A,"response text:",f.getResponseText()),A>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const M=w?.error;if(M&&M.status&&M.message){const V=(function(j){const te=j.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(te)>=0?te:Qe.UNKNOWN})(M.status);d(new gt(V,M.message))}else d(new gt(Qe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new gt(Qe.UNAVAILABLE,"Connection failed."));break;default:tn(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{At(Cs,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);At(Cs,`RPC '${e}' ${c} sending request:`,a),f.send(t,"POST",g,r,15)}))}T_(e,t,r){const a=R2(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const f=o.join("");At(Cs,`Creating RPC '${e}' stream ${a}: ${f}`,u);const g=c.createWebChannel(f,u);this.I_(g);let b=!1,A=!1;const w=new l7({Ho:M=>{A?At(Cs,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(At(Cs,`Opening RPC '${e}' stream ${a} transport.`),g.open(),b=!0),At(Cs,`RPC '${e}' stream ${a} sending:`,M),g.send(M))},Jo:()=>g.close()});return md(g,xd.EventType.OPEN,(()=>{A||(At(Cs,`RPC '${e}' stream ${a} transport opened.`),w.i_())})),md(g,xd.EventType.CLOSE,(()=>{A||(A=!0,At(Cs,`RPC '${e}' stream ${a} transport closed`),w.o_(),this.E_(g))})),md(g,xd.EventType.ERROR,(M=>{A||(A=!0,Hu(Cs,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),w.o_(new gt(Qe.UNAVAILABLE,"The operation could not be completed")))})),md(g,xd.EventType.MESSAGE,(M=>{if(!A){const V=M.data[0];nr(!!V,16349);const U=V,j=U?.error||U[0]?.error;if(j){At(Cs,`RPC '${e}' stream ${a} received error:`,j);const te=j.status;let ce=(function(fe){const q=Ei[fe];if(q!==void 0)return ZA(q)})(te),H=j.message;ce===void 0&&(ce=Qe.INTERNAL,H="Unknown error status: "+te+" with message "+j.message),A=!0,w.o_(new gt(ce,H)),g.close()}else At(Cs,`RPC '${e}' stream ${a} received:`,V),w.__(V)}})),Zh.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return yA()}}function c7(n){return new Zh(n)}function w0(){return typeof document<"u"?document:null}function Cg(n){return new dk(n,!0)}Zh.c_=!1;class p3{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&At("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nw="PersistentStream";class m3{constructor(e,t,r,a,o,c,u,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Qe.RESOURCE_EXHAUSTED?(ic(t.toString()),ic("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new gt(Qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return At(nw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(At(nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u7 extends m3{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=gk(this.serializer,e),r=(function(o){if(!("targetChange"in o))return an.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?an.min():c.readTime?vl(c.readTime):an.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=C2(this.serializer),t.addTarget=(function(o,c){let u;const d=c.target;if(u=x2(d)?{documents:bk(o,d)}:{query:_k(o,d).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=n3(o,c.resumeToken);const f=E2(o,c.expectedCount);f!==null&&(u.expectedCount=f)}else if(c.snapshotVersion.compareTo(an.min())>0){u.readTime=$m(o,c.snapshotVersion.toTimestamp());const f=E2(o,c.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=xk(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=C2(this.serializer),t.removeTarget=e,this.K_(t)}}class h7 extends m3{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return nr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vk(e.writeResults,e.commitTime),r=vl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=C2(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>yk(this.serializer,r)))};this.K_(t)}}class f7{}class d7 extends f7{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new gt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,N2(t,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(Qe.UNKNOWN,o.toString())}))}jo(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.jo(e,N2(t,r),a,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(Qe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function p7(n,e,t,r){return new d7(n,e,t,r)}class m7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ic(t),this.aa=!1):At("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gu="RemoteStore";class g7{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Qu(this)&&(At(Gu,"Restarting streams for network reachability change."),await(async function(d){const f=un(d);f.Ea.add(4),await tp(f),f.Va.set("Unknown"),f.Ea.delete(4),await Ig(f)})(this))}))})),this.Va=new m7(r,a)}}async function Ig(n){if(Qu(n))for(const e of n.Ra)await e(!0)}async function tp(n){for(const e of n.Ra)await e(!1)}function g3(n,e){const t=un(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Oy(t)?Py(t):If(t).O_()&&Dy(t,e))}function ky(n,e){const t=un(n),r=If(t);t.Ia.delete(e),r.O_()&&y3(t,e),t.Ia.size===0&&(r.O_()?r.L_():Qu(t)&&t.Va.set("Unknown"))}function Dy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}If(n).Z_(e)}function y3(n,e){n.da.$e(e),If(n).X_(e)}function Py(n){n.da=new ck({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),If(n).start(),n.Va.ua()}function Oy(n){return Qu(n)&&!If(n).x_()&&n.Ia.size>0}function Qu(n){return un(n).Ea.size===0}function v3(n){n.da=void 0}async function y7(n){n.Va.set("Online")}async function v7(n){n.Ia.forEach(((e,t)=>{Dy(n,e)}))}async function b7(n,e){v3(n),Oy(n)?(n.Va.ha(e),Py(n)):n.Va.set("Unknown")}async function _7(n,e,t){if(n.Va.set("Online"),e instanceof t3&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const u of o.targetIds)a.Ia.has(u)&&(await a.remoteSyncer.rejectListen(u,c),a.Ia.delete(u),a.da.removeTarget(u))})(n,e)}catch(r){At(Gu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qm(n,r)}else if(e instanceof Em?n.da.Xe(e):e instanceof e3?n.da.st(e):n.da.tt(e),!t.isEqual(an.min()))try{const r=await d3(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const u=o.da.Tt(c);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,c))}})),u.targetMismatches.forEach(((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(is.EMPTY_BYTE_STRING,g.snapshotVersion)),y3(o,d);const b=new Kc(g.target,d,f,g.sequenceNumber);Dy(o,b)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){At(Gu,"Failed to raise snapshot:",r),await Qm(n,r)}}async function Qm(n,e,t){if(!Tf(e))throw e;n.Ea.add(1),await tp(n),n.Va.set("Offline"),t||(t=()=>d3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{At(Gu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ig(n)}))}function b3(n,e){return e().catch((t=>Qm(n,t,e)))}async function Rg(n){const e=un(n),t=ou(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vy;for(;w7(e);)try{const a=await t7(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,x7(e,a)}catch(a){await Qm(e,a)}_3(e)&&w3(e)}function w7(n){return Qu(n)&&n.Ta.length<10}function x7(n,e){n.Ta.push(e);const t=ou(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function _3(n){return Qu(n)&&!ou(n).x_()&&n.Ta.length>0}function w3(n){ou(n).start()}async function A7(n){ou(n).ra()}async function S7(n){const e=ou(n);for(const t of n.Ta)e.ea(t.mutations)}async function E7(n,e,t){const r=n.Ta.shift(),a=Ey.from(r,e,t);await b3(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Rg(n)}async function N7(n,e){e&&ou(n).Y_&&await(async function(r,a){if((function(c){return ak(c)&&c!==Qe.ABORTED})(a.code)){const o=r.Ta.shift();ou(r).B_(),await b3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Rg(r)}})(n,e),_3(n)&&w3(n)}async function rw(n,e){const t=un(n);t.asyncQueue.verifyOperationInProgress(),At(Gu,"RemoteStore received new credentials");const r=Qu(t);t.Ea.add(3),await tp(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ig(t)}async function T7(n,e){const t=un(n);e?(t.Ea.delete(2),await Ig(t)):e||(t.Ea.add(2),await tp(t),t.Va.set("Unknown"))}function If(n){return n.ma||(n.ma=(function(t,r,a){const o=un(t);return o.sa(),new u7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:y7.bind(null,n),Yo:v7.bind(null,n),t_:b7.bind(null,n),J_:_7.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Oy(n)?Py(n):n.Va.set("Unknown")):(await n.ma.stop(),v3(n))}))),n.ma}function ou(n){return n.fa||(n.fa=(function(t,r,a){const o=un(t);return o.sa(),new h7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:A7.bind(null,n),t_:N7.bind(null,n),ta:S7.bind(null,n),na:E7.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Rg(n)):(await n.fa.stop(),n.Ta.length>0&&(At(Gu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class My{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new tu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,u=new My(e,t,c,a,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(n,e){if(ic("AsyncQueue",`${e}: ${n}`),Tf(n))return new gt(Qe.UNAVAILABLE,`${e}: ${n}`);throw n}class ef{static emptySet(e){return new ef(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Gt.comparator(t.key,r.key):(t,r)=>Gt.comparator(t.key,r.key),this.keyedMap=Ad(),this.sortedSet=new Jr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ef)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ef;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class iw{constructor(){this.ga=new Jr(Gt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):tn(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class gf{constructor(e,t,r,a,o,c,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach((u=>{c.push({type:0,doc:u})})),new gf(e,t,ef.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class C7{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class I7{constructor(){this.queries=sw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=un(t),o=a.queries;a.queries=sw(),o.forEach(((c,u)=>{for(const d of u.ba)d.onError(r)}))})(this,new gt(Qe.ABORTED,"Firestore shutting down"))}}function sw(){return new Xu((n=>BA(n)),Ag)}async function x3(n,e){const t=un(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(r=2):(o=new C7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const u=jy(c,`Initialization of query '${Uh(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Vy(t)}async function A3(n,e){const t=un(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function R7(n,e){const t=un(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const u of c.ba)u.Fa(a)&&(r=!0);c.wa=a}}r&&Vy(t)}function L7(n,e,t){const r=un(n),a=r.queries.get(e);if(a)for(const o of a.ba)o.onError(t);r.queries.delete(e)}function Vy(n){n.Ca.forEach((e=>{e.next()}))}var L2,aw;(aw=L2||(L2={})).Ma="default",aw.Cache="cache";class S3{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new gf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==L2.Cache}}class E3{constructor(e){this.key=e}}class N3{constructor(e){this.key=e}}class k7{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Dn(),this.mutatedKeys=Dn(),this.eu=zA(e),this.tu=new ef(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new iw,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,u=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,b)=>{const A=a.get(g),w=Sg(this.query,b)?b:null,M=!!A&&this.mutatedKeys.has(A.key),V=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let U=!1;A&&w?A.data.isEqual(w.data)?M!==V&&(r.track({type:3,doc:w}),U=!0):this.su(A,w)||(r.track({type:2,doc:w}),U=!0,(d&&this.eu(w,d)>0||f&&this.eu(w,f)<0)&&(u=!0)):!A&&w?(r.track({type:0,doc:w}),U=!0):A&&!w&&(r.track({type:1,doc:A}),U=!0,(d||f)&&(u=!0)),U&&(w?(c=c.add(w),o=V?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(w,M){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn(20277,{Vt:U})}};return V(w)-V(M)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(r),a=a??!1;const u=t&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,f=d!==this.Xa;return this.Xa=d,c.length!==0||f?{snapshot:new gf(this.query,e.tu,o,c,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Dn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new N3(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new E3(r))})),t}cu(e){this.Za=e.ks,this.Ya=Dn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return gf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fy="SyncEngine";class D7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class P7{constructor(e){this.key=e,this.hu=!1}}class O7{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xu((u=>BA(u)),Ag),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jr(Gt.comparator),this.Au=new Map,this.Vu=new Cy,this.du={},this.mu=new Map,this.fu=mf.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M7(n,e,t=!0){const r=k3(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await T3(r,e,t,!0),a}async function j7(n,e){const t=k3(n);await T3(t,e,!0,!1)}async function T3(n,e,t,r){const a=await n7(n.localStore,yl(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await V7(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&g3(n.remoteStore,a),u}async function V7(n,e,t,r,a){n.pu=(b,A,w)=>(async function(V,U,j,te){let ce=U.view.ru(j);ce.Ss&&(ce=await J_(V.localStore,U.query,!1).then((({documents:q})=>U.view.ru(q,ce))));const H=te&&te.targetChanges.get(U.targetId),se=te&&te.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(ce,V.isPrimaryClient,H,se);return lw(V,U.targetId,fe.au),fe.snapshot})(n,b,A,w);const o=await J_(n.localStore,e,!0),c=new k7(e,o.ks),u=c.ru(o.documents),d=ep.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),f=c.applyChanges(u,n.isPrimaryClient,d);lw(n,t,f.au);const g=new D7(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function F7(n,e,t){const r=un(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Ag(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await I2(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ky(r.remoteStore,a.targetId),k2(r,a.targetId)})).catch(Nf)):(k2(r,a.targetId),await I2(r.localStore,a.targetId,!0))}async function U7(n,e){const t=un(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ky(t.remoteStore,r.targetId))}async function B7(n,e,t){const r=K7(n);try{const a=await(function(c,u){const d=un(c),f=Tr.now(),g=u.reduce(((w,M)=>w.add(M.key)),Dn());let b,A;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let M=sc(),V=Dn();return d.xs.getEntries(w,g).next((U=>{M=U,M.forEach(((j,te)=>{te.isValidDocument()||(V=V.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,M))).next((U=>{b=U;const j=[];for(const te of u){const ce=tk(te,b.get(te.key).overlayedDocument);ce!=null&&j.push(new fu(te.key,ce,DA(ce.value.mapValue),Po.exists(!0)))}return d.mutationQueue.addMutationBatch(w,f,j,u)})).next((U=>{A=U;const j=U.applyToLocalDocumentSet(b,V);return d.documentOverlayCache.saveOverlays(w,U.batchId,j)}))})).then((()=>({batchId:A.batchId,changes:HA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,u,d){let f=c.du[c.currentUser.toKey()];f||(f=new Jr(kn)),f=f.insert(u,d),c.du[c.currentUser.toKey()]=f})(r,a.batchId,t),await np(r,a.changes),await Rg(r.remoteStore)}catch(a){const o=jy(a,"Failed to persist write");t.reject(o)}}async function C3(n,e){const t=un(n);try{const r=await Zk(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(nr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?nr(c.hu,14607):a.removedDocuments.size>0&&(nr(c.hu,42227),c.hu=!1))})),await np(t,r,e)}catch(r){await Nf(r)}}function ow(n,e,t){const r=un(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,c)=>{const u=c.view.va(e);u.snapshot&&a.push(u.snapshot)})),(function(c,u){const d=un(c);d.onlineState=u;let f=!1;d.queries.forEach(((g,b)=>{for(const A of b.ba)A.va(u)&&(f=!0)})),f&&Vy(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function z7(n,e,t){const r=un(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new Jr(Gt.comparator);c=c.insert(o,Os.newNoDocument(o,an.min()));const u=Dn().add(o),d=new Tg(an.min(),new Map,new Jr(kn),c,u);await C3(r,d),r.Ru=r.Ru.remove(o),r.Au.delete(e),Uy(r)}else await I2(r.localStore,e,!1).then((()=>k2(r,e,t))).catch(Nf)}async function q7(n,e){const t=un(n),r=e.batch.batchId;try{const a=await Jk(t.localStore,e);R3(t,r,null),I3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await np(t,a)}catch(a){await Nf(a)}}async function H7(n,e,t){const r=un(n);try{const a=await(function(c,u){const d=un(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,u).next((b=>(nr(b!==null,37113),g=b.keys(),d.mutationQueue.removeMutationBatch(f,b)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);R3(r,e,t),I3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await np(r,a)}catch(a){await Nf(a)}}function I3(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function R3(n,e,t){const r=un(n);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function k2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||L3(n,r)}))}function L3(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(ky(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Uy(n))}function lw(n,e,t){for(const r of t)r instanceof E3?(n.Vu.addReference(r.key,e),G7(n,r)):r instanceof N3?(At(Fy,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||L3(n,r.key)):tn(19791,{wu:r})}function G7(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(At(Fy,"New document in limbo: "+t),n.Eu.add(r),Uy(n))}function Uy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Gt(Nr.fromString(e)),r=n.fu.next();n.Au.set(r,new P7(t)),n.Ru=n.Ru.insert(t,r),g3(n.remoteStore,new Kc(yl(xg(t.path)),r,"TargetPurposeLimboResolution",bg.ce))}}async function np(n,e,t){const r=un(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{c.push(r.pu(d,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){a.push(f);const g=Ry.Es(d.targetId,f);o.push(g)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(d,f){const g=un(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(f,(A=>nt.forEach(A.Ts,(w=>g.persistence.referenceDelegate.addReference(b,A.targetId,w))).next((()=>nt.forEach(A.Is,(w=>g.persistence.referenceDelegate.removeReference(b,A.targetId,w)))))))))}catch(b){if(!Tf(b))throw b;At(Ly,"Failed to update sequence numbers: "+b)}for(const b of f){const A=b.targetId;if(!b.fromCache){const w=g.vs.get(A),M=w.snapshotVersion,V=w.withLastLimboFreeSnapshotVersion(M);g.vs=g.vs.insert(A,V)}}})(r.localStore,o))}async function Y7(n,e){const t=un(n);if(!t.currentUser.isEqual(e)){At(Fy,"User change. New user:",e.toKey());const r=await f3(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new gt(Qe.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await np(t,r.Ns)}}function W7(n,e){const t=un(n),r=t.Au.get(e);if(r&&r.hu)return Dn().add(r.key);{let a=Dn();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const u=t.Tu.get(c);a=a.unionWith(u.view.nu)}return a}}function k3(n){const e=un(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=C3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z7.bind(null,e),e.Pu.J_=R7.bind(null,e.eventManager),e.Pu.yu=L7.bind(null,e.eventManager),e}function K7(n){const e=un(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H7.bind(null,e),e}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Qk(this.persistence,new Kk,e.initialUser,this.serializer)}Cu(e){return new h3(Iy.Vi,this.serializer)}Du(e){return new i7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class $7 extends Jm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nr(this.persistence.referenceDelegate instanceof Xm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Dk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ma.withCacheSize(this.cacheSizeBytes):ma.DEFAULT;return new h3((r=>Xm.Vi(r,t)),this.serializer)}}class D2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y7.bind(null,this.syncEngine),await T7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I7})()}createDatastore(e){const t=Cg(e.databaseInfo.databaseId),r=c7(e.databaseInfo);return p7(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,c,u){return new g7(r,a,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>ow(this.syncEngine,t,0)),(function(){return tw.v()?new tw:new s7})())}createSyncEngine(e,t){return(function(a,o,c,u,d,f,g){const b=new O7(a,o,c,u,d,f);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=un(t);At(Gu,"RemoteStore shutting down."),r.Ea.add(5),await tp(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}D2.provider={build:()=>new D2};class D3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ic("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const lu="FirestoreClient";class X7{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=Ps.UNAUTHENTICATED,this.clientId=yg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{At(lu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(At(lu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=jy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function x0(n,e){n.asyncQueue.verifyOperationInProgress(),At(lu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await f3(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function cw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Q7(n);At(lu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>rw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>rw(e.remoteStore,a))),n._onlineComponents=e}async function Q7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){At(lu,"Using user provided OfflineComponentProvider");try{await x0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Qe.FAILED_PRECONDITION||a.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Hu("Error using user provided cache. Falling back to memory cache: "+t),await x0(n,new Jm)}}else At(lu,"Using default OfflineComponentProvider"),await x0(n,new $7(void 0));return n._offlineComponents}async function P3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(At(lu,"Using user provided OnlineComponentProvider"),await cw(n,n._uninitializedComponentsProvider._online)):(At(lu,"Using default OnlineComponentProvider"),await cw(n,new D2))),n._onlineComponents}function J7(n){return P3(n).then((e=>e.syncEngine))}async function P2(n){const e=await P3(n),t=e.eventManager;return t.onListen=M7.bind(null,e.syncEngine),t.onUnlisten=F7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=j7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U7.bind(null,e.syncEngine),t}function Z7(n,e,t,r){const a=new D3(r),o=new S3(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>x3(await P2(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>A3(await P2(n),o)))}}function eD(n,e,t={}){const r=new tu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,d,f){const g=new D3({next:A=>{g.Nu(),c.enqueueAndForget((()=>A3(o,b)));const w=A.docs.has(u);!w&&A.fromCache?f.reject(new gt(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&A.fromCache&&d&&d.source==="server"?f.reject(new gt(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(A)},error:A=>f.reject(A)}),b=new S3(xg(u.path),g,{includeMetadataChanges:!0,Ka:!0});return x3(o,b)})(await P2(n),n.asyncQueue,e,t,r))),r.promise}function tD(n,e){const t=new tu;return n.asyncQueue.enqueueAndForget((async()=>B7(await J7(n),e,t))),t.promise}function O3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const nD="ComponentProvider",uw=new Map;function rD(n,e,t,r,a){return new AL(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,O3(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const M3="firestore.googleapis.com",hw=!0;class fw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new gt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M3,this.ssl=hw}else this.host=e.host,this.ssl=e.ssl??hw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lk)throw new gt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _A;switch(r.type){case"firstParty":return new oL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=uw.get(t);r&&(At(nD,"Removing Datastore"),uw.delete(t),r.terminate())})(this),Promise.resolve()}}function j3(n,e,t,r={}){n=so(n,Lg);const a=wf(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;a&&(E4(`https://${u}`),N4("Firestore",!0)),o.host!==M3&&o.host!==u&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:a,emulatorOptions:r};if(!Uu(d,c)&&(n._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=Ps.MOCK_USER;else{f=hC(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new gt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ps(b)}n._authCredentials=new iL(new bA(f,g))}}class du{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new du(this.firestore,e,this._query)}}class Qr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}toJSON(){return{type:Qr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Jd(t,Qr._jsonSchema))return new Qr(e,r||null,new Gt(Nr.fromString(t.referencePath)))}}Qr._jsonSchemaVersion="firestore/documentReference/1.0",Qr._jsonSchema={type:Ti("string",Qr._jsonSchemaVersion),referencePath:Ti("string")};class tc extends du{constructor(e,t,r){super(e,t,xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new Gt(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function Zm(n,e,...t){if(n=Ii(n),wA("collection","path",e),n instanceof Lg){const r=Nr.fromString(e,...t);return E_(r),new tc(n,null,r)}{if(!(n instanceof Qr||n instanceof tc))throw new gt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nr.fromString(e,...t));return E_(r),new tc(n.firestore,null,r)}}function Ws(n,e,...t){if(n=Ii(n),arguments.length===1&&(e=yg.newId()),wA("doc","path",e),n instanceof Lg){const r=Nr.fromString(e,...t);return S_(r),new Qr(n,null,new Gt(r))}{if(!(n instanceof Qr||n instanceof tc))throw new gt(Qe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nr.fromString(e,...t));return S_(r),new Qr(n.firestore,n instanceof tc?n.converter:null,new Gt(r))}}const dw="AsyncQueue";class pw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p3(this,"async_queue_retry"),this._c=()=>{const r=w0();r&&At(dw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=w0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=w0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new tu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Tf(e))throw e;At(dw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ic("INTERNAL UNHANDLED ERROR: ",mw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=My.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&tn(47125,{Pc:mw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function mw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class cu extends Lg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new pw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pw(e),this._firestoreClient=void 0,await e}}}function V3(n,e){const t=typeof n=="object"?n:R4(),r=typeof n=="string"?n:Hm,a=ly(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=cC("firestore");o&&j3(a,...o)}return a}function kg(n){if(n._terminated)throw new gt(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||iD(n),n._firestoreClient}function iD(n){const e=n._freezeSettings(),t=rD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new X7(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(is.fromBase64String(e))}catch(t){throw new gt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pa(is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jd(e,Pa._jsonSchema))return Pa.fromBase64String(e.bytes)}}Pa._jsonSchemaVersion="firestore/bytes/1.0",Pa._jsonSchema={type:Ti("string",Pa._jsonSchemaVersion),bytes:Ti("string")};class Dg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new gt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pg{constructor(e){this._methodName=e}}class Oo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kn(this._lat,e._lat)||kn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oo._jsonSchemaVersion}}static fromJSON(e){if(Jd(e,Oo._jsonSchema))return new Oo(e.latitude,e.longitude)}}Oo._jsonSchemaVersion="firestore/geoPoint/1.0",Oo._jsonSchema={type:Ti("string",Oo._jsonSchemaVersion),latitude:Ti("number"),longitude:Ti("number")};class ao{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ao._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jd(e,ao._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ao(e.vectorValues);throw new gt(Qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ao._jsonSchemaVersion="firestore/vectorValue/1.0",ao._jsonSchema={type:Ti("string",ao._jsonSchemaVersion),vectorValues:Ti("object")};const sD=/^__.*__$/;class aD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zd(e,this.data,t,this.fieldTransforms)}}class F3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function U3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn(40011,{dataSource:n})}}class By{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new By({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return eg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(U3(this.dataSource)&&sD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class oD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cg(e)}createContext(e,t,r,a=!1){return new By({dataSource:e,methodName:t,targetDoc:r,path:rs.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zy(n){const e=n._freezeSettings(),t=Cg(n._databaseId);return new oD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lD(n,e,t,r,a,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);qy("Data must be an object, but it was:",c,r);const u=B3(r,c);let d,f;if(o.merge)d=new Ma(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const b of o.mergeFields){const A=yf(e,b,t);if(!c.contains(A))throw new gt(Qe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);H3(g,A)||g.push(A)}d=new Ma(g),f=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,f=c.fieldTransforms;return new aD(new ya(u),d,f)}class Og extends Pg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Og}}function cD(n,e,t,r){const a=n.createContext(1,e,t);qy("Data must be an object, but it was:",a,r);const o=[],c=ya.empty();hu(r,((d,f)=>{const g=q3(e,d,t);f=Ii(f);const b=a.childContextForFieldPath(g);if(f instanceof Og)o.push(g);else{const A=rp(f,b);A!=null&&(o.push(g),c.set(g,A))}}));const u=new Ma(o);return new F3(c,u,a.fieldTransforms)}function uD(n,e,t,r,a,o){const c=n.createContext(1,e,t),u=[yf(e,r,t)],d=[a];if(o.length%2!=0)throw new gt(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)u.push(yf(e,o[A])),d.push(o[A+1]);const f=[],g=ya.empty();for(let A=u.length-1;A>=0;--A)if(!H3(f,u[A])){const w=u[A];let M=d[A];M=Ii(M);const V=c.childContextForFieldPath(w);if(M instanceof Og)f.push(w);else{const U=rp(M,V);U!=null&&(f.push(w),g.set(w,U))}}const b=new Ma(f);return new F3(g,b,c.fieldTransforms)}function hD(n,e,t,r=!1){return rp(t,n.createContext(r?4:3,e))}function rp(n,e){if(z3(n=Ii(n)))return qy("Unsupported field value:",e,n),B3(n,e);if(n instanceof Pg)return(function(r,a){if(!U3(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const u of r){let d=rp(u,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=Ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $L(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Tr.fromDate(r);return{timestampValue:$m(a.serializer,o)}}if(r instanceof Tr){const o=new Tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$m(a.serializer,o)}}if(r instanceof Oo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pa)return{bytesValue:n3(a.serializer,r._byteString)};if(r instanceof Qr){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ty(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ao)return(function(c,u){const d=c instanceof ao?c.toArray():c;return{mapValue:{fields:{[LA]:{stringValue:kA},[Gm]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw u.createError("VectorValues must only contain numeric values.");return Ay(u.serializer,g)}))}}}}}})(r,a);if(c3(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${vg(r)}`)})(n,e)}function B3(n,e){const t={};return EA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hu(n,((r,a)=>{const o=rp(a,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function z3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tr||n instanceof Oo||n instanceof Pa||n instanceof Qr||n instanceof Pg||n instanceof ao||c3(n))}function qy(n,e,t){if(!z3(t)||!AA(t)){const r=vg(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function yf(n,e,t){if((e=Ii(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return q3(n,e);throw eg("Field path arguments must be of type string or ",n,!1,void 0,t)}const fD=new RegExp("[~\\*/\\[\\]]");function q3(n,e,t){if(e.search(fD)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dg(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eg(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new gt(Qe.INVALID_ARGUMENT,u+n+d)}function H3(n,e){return n.some((t=>t.isEqual(e)))}class G3{convertValue(e,t="none"){switch(au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return hu(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Gm].arrayValue?.values?.map((r=>pi(r.doubleValue)));return new ao(t)}convertGeoPoint(e){return new Oo(pi(e.latitude),pi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const t=iu(e);return new Tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Nr.fromString(e);nr(l3(r),9688,{name:e});const a=new ff(r.get(1),r.get(3)),o=new Gt(r.popFirst(5));return a.isEqual(t)||ic(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Y3 extends G3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,t)}}const gw="@firebase/firestore",yw="4.10.0";function vw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class W3{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(yf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dD extends W3{data(){return super.data()}}function pD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hy{}class Gy extends Hy{}function Yy(n,e,...t){let r=[];e instanceof Hy&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((d=>d instanceof jg)).length,u=o.filter((d=>d instanceof Mg)).length;if(c>1||c>0&&u>0)throw new gt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Mg extends Gy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Mg(e,t,r)}_apply(e){const t=this._parse(e);return K3(e._query,t),new du(e.firestore,e.converter,A2(e._query,t))}_parse(e){const t=zy(e.firestore);return(function(o,c,u,d,f,g,b){let A;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new gt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){_w(b,g);const M=[];for(const V of b)M.push(bw(d,o,V));A={arrayValue:{values:M}}}else A=bw(d,o,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||_w(b,g),A=hD(u,c,b,g==="in"||g==="not-in");return Ni.create(f,g,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class jg extends Hy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:jo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const u=o.getFlattenedFilters();for(const d of u)K3(c,d),c=A2(c,d)})(e._query,t),new du(e.firestore,e.converter,A2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vg extends Gy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vg(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new gt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new gt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bd(o,c)})(e._query,this._field,this._direction);return new du(e.firestore,e.converter,BL(e._query,t))}}function Wy(n,e="asc"){const t=e,r=yf("orderBy",n);return Vg._create(r,t)}function bw(n,e,t){if(typeof(t=Ii(t))=="string"){if(t==="")throw new gt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UA(e)&&t.indexOf("/")!==-1)throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Nr.fromString(t));if(!Gt.isDocumentKey(r))throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D_(n,new Gt(r))}if(t instanceof Qr)return D_(n,t._key);throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vg(t)}.`)}function _w(n,e){if(!Array.isArray(n)||n.length===0)throw new gt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K3(n,e){const t=(function(a,o){for(const c of a)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new gt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new gt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function mD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Wh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends W3{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(Qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=nu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}nu._jsonSchemaVersion="firestore/documentSnapshot/1.0",nu._jsonSchema={type:Ti("string",nu._jsonSchemaVersion),bundleSource:Ti("string","DocumentSnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class Ld extends nu{data(e={}){return super.data(e)}}class ju{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Wh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Ld(this._firestore,this._userDataWriter,r.key,r,new Wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((u=>{const d=new Ld(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Wh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Ld(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Wh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return u.type!==0&&(f=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),g=c.indexOf(u.doc.key)),{type:gD(u.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(Qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ju._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn(61501,{type:n})}}ju._jsonSchemaVersion="firestore/querySnapshot/1.0",ju._jsonSchema={type:Ti("string",ju._jsonSchemaVersion),bundleSource:Ti("string","QuerySnapshot"),bundleName:Ti("string"),bundle:Ti("string")};function $3(n){n=so(n,Qr);const e=so(n.firestore,cu),t=kg(e);return eD(t,n._key).then((r=>Q3(e,n,r)))}function Yu(n,e,t){n=so(n,Qr);const r=so(n.firestore,cu),a=mD(n.converter,e,t),o=zy(r);return Fg(r,[lD(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Po.none())])}function Vu(n,e,t,...r){n=so(n,Qr);const a=so(n.firestore,cu),o=zy(a);let c;return c=typeof(e=Ii(e))=="string"||e instanceof Dg?uD(o,"updateDoc",n._key,e,t,r):cD(o,"updateDoc",n._key,e),Fg(a,[c.toMutation(n._key,Po.exists(!0))])}function X3(n){return Fg(so(n.firestore,cu),[new Sy(n._key,Po.none())])}function Hd(n,...e){n=Ii(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vw(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(vw(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,c,u;if(n instanceof Qr)c=so(n.firestore,cu),u=xg(n._key.path),o={next:f=>{e[r]&&e[r](Q3(c,n,f))},error:e[r+1],complete:e[r+2]};else{const f=so(n,du);c=so(f.firestore,cu),u=f._query;const g=new Y3(c);o={next:b=>{e[r]&&e[r](new ju(c,g,f,b))},error:e[r+1],complete:e[r+2]},pD(n._query)}const d=kg(c);return Z7(d,u,a,o)}function Fg(n,e){const t=kg(n);return tD(t,e)}function Q3(n,e,t){const r=t.docs.get(e._key),a=new Y3(n);return new nu(n,a,e._key,r,new Wh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){rL(xf),lf(new Bu("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),u=new cu(new sL(r.getProvider("auth-internal")),new lL(c,r.getProvider("app-check-internal")),SL(c,a),c);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Jc(gw,yw,e),Jc(gw,yw,"esm2020")})();const yD=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:G3,Bytes:Pa,CollectionReference:tc,DocumentReference:Qr,DocumentSnapshot:nu,FieldPath:Dg,FieldValue:Pg,Firestore:cu,FirestoreError:gt,GeoPoint:Oo,Query:du,QueryCompositeFilterConstraint:jg,QueryConstraint:Gy,QueryDocumentSnapshot:Ld,QueryFieldFilterConstraint:Mg,QueryOrderByConstraint:Vg,QuerySnapshot:ju,SnapshotMetadata:Wh,Timestamp:Tr,VectorValue:ao,_AutoId:yg,_ByteString:is,_DatabaseId:ff,_DocumentKey:Gt,_EmptyAuthCredentialsProvider:_A,_FieldPath:rs,_cast:so,_logWarn:Hu,_validateIsNotUsedTogether:xA,collection:Zm,connectFirestoreEmulator:j3,deleteDoc:X3,doc:Ws,ensureFirestoreConfigured:kg,executeWrite:Fg,getDoc:$3,getFirestore:V3,onSnapshot:Hd,orderBy:Wy,query:Yy,setDoc:Yu,updateDoc:Vu},Symbol.toStringTag,{value:"Module"})),vD={apiKey:"AIzaSyB73yZp1H-MAUCaxIlLIrItOB3REc0slrE",authDomain:"sistema-sede.firebaseapp.com",projectId:"sistema-sede",storageBucket:"sistema-sede.firebasestorage.app",messagingSenderId:"767667469459",appId:"1:767667469459:web:19feac8ebd664ea57ee166"},J3=I4(vD),A0=tL(J3),bs=V3(J3),vf=sy((n,e)=>({products:[],loading:!0,initialized:!1,initializeSubscription:()=>{if(e().initialized)return()=>{};const t=Yy(Zm(bs,"products"),Wy("createdAt","desc")),r=Hd(t,a=>{const o=a.docs.map(c=>({...c.data(),id:c.id}));o.length===0&&e().initialized,n({products:o,loading:!1,initialized:!0})},a=>{console.error("Error fetching inventory:",a),dn.error("Error cargando inventario")});return n({initialized:!0}),r},addProduct:async t=>{try{await Yu(Ws(bs,"products",t.id),t),dn.success("Producto agregado")}catch(r){console.error(r),dn.error("Error al agregar producto")}},updateProduct:async(t,r)=>{try{await Vu(Ws(bs,"products",t),{...r,updatedAt:Date.now()}),dn.success("Producto actualizado")}catch(a){console.error(a),dn.error("Error al actualizar producto")}},removeProduct:async t=>{try{await X3(Ws(bs,"products",t)),dn.success("Producto eliminado")}catch(r){console.error(r),dn.error("Error al eliminar producto")}}})),Pr=Tt.forwardRef(({className:n,variant:e="default",size:t="default",...r},a)=>N.jsx("button",{ref:a,className:ro("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",e==="default"&&"bg-primary text-primary-foreground shadow hover:bg-primary/90",e==="destructive"&&"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",e==="outline"&&"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",e==="secondary"&&"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",e==="ghost"&&"hover:bg-accent hover:text-accent-foreground",e==="link"&&"text-primary underline-offset-4 hover:underline",t==="default"&&"h-9 px-4 py-2",t==="sm"&&"h-8 rounded-md px-3 text-xs",t==="lg"&&"h-10 rounded-md px-8",t==="icon"&&"h-9 w-9",n),...r}));Pr.displayName="Button";const qr=Tt.forwardRef(({className:n,type:e,...t},r)=>N.jsx("input",{type:e,className:ro("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));qr.displayName="Input";function ww({cost:n,price:e}){const[t,r]=Tt.useState(!0);if(e===0)return N.jsx("span",{className:"text-muted-foreground",children:"-"});const a=e-n,o=(a/e*100).toFixed(1),c=a<0;return N.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),r(!t)},className:ro("px-2 py-1 rounded text-xs font-bold transition-all w-20 text-center cursor-pointer",c?"bg-destructive/10 text-destructive hover:bg-destructive/20":"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20"),title:"Clic para cambiar entre % y S/",children:t?`${o}%`:a>0?`+S/ ${a.toFixed(2)}`:`S/ ${a.toFixed(2)}`})}function bD({onAddProduct:n,onEditProduct:e}){const t=vf(f=>f.products),[r,a]=Tt.useState(""),[o,c]=Tt.useState([]),u=t.filter(f=>f.name.toLowerCase().includes(r.toLowerCase())||f.baseCode.toLowerCase().includes(r.toLowerCase())||f.collection.toLowerCase().includes(r.toLowerCase())),d=f=>{c(g=>g.includes(f)?g.filter(b=>b!==f):[...g,f])};return N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Inventario Global"}),N.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona el catlogo de productos, existencias y precios."})]}),N.jsxs(Pr,{onClick:n,size:"lg",className:"shadow-lg shadow-primary/20",children:[N.jsx(ug,{className:"mr-2 h-5 w-5"})," Nuevo Producto"]})]}),N.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-sm overflow-hidden",children:[N.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between gap-4",children:[N.jsxs("div",{className:"relative flex-1 max-w-sm",children:[N.jsx(hg,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),N.jsx(qr,{placeholder:"Buscar por nombre, SKU o coleccin...",className:"pl-9 bg-background/50",value:r,onChange:f=>a(f.target.value)})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs(Pr,{variant:"outline",size:"sm",className:"h-9",onClick:()=>alert("Funcionalidad de filtros avanzada pendiente"),children:[N.jsx(t4,{className:"mr-2 h-4 w-4"})," Filtros"]}),N.jsxs(Pr,{variant:"outline",size:"sm",className:"h-9",onClick:()=>alert("Funcionalidad de ordenar pendiente"),children:[N.jsx(q6,{className:"mr-2 h-4 w-4"})," Ordenar"]})]})]}),N.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-muted/30 border-b border-border text-xs font-semibold uppercase tracking-wider text-muted-foreground items-center",children:[N.jsx("div",{className:"col-span-4",children:"Producto"}),N.jsx("div",{className:"col-span-2",children:"SKU Base"}),N.jsx("div",{className:"col-span-1",children:"Coleccin"}),N.jsx("div",{className:"col-span-2 text-center",children:"Rango Precios"}),N.jsx("div",{className:"col-span-1 text-center",children:"Margen Prom."}),N.jsx("div",{className:"col-span-1 text-center",children:"Stock"}),N.jsx("div",{className:"col-span-1 text-right",children:"Acciones"})]}),N.jsx("div",{className:"divide-y divide-border",children:u.length===0?N.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No se encontraron productos que coincidan con tu bsqueda."}):u.map(f=>{const g=f.variants.reduce((j,te)=>j+te.stock,0),b=Math.min(...f.variants.map(j=>j.priceRetail)),A=Math.max(...f.variants.map(j=>j.priceRetail)),w=b===A?`S/ ${b}`:`S/ ${b} - S/ ${A}`,M=o.includes(f.id),V=f.variants.reduce((j,te)=>j+te.priceProduction,0)/(f.variants.length||1),U=f.variants.reduce((j,te)=>j+te.priceRetail,0)/(f.variants.length||1);return N.jsxs("div",{className:"group transition-colors hover:bg-accent/5",children:[N.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 items-center cursor-pointer",onClick:()=>d(f.id),children:[N.jsxs("div",{className:"col-span-4",children:[N.jsx("div",{className:"font-medium text-foreground",children:f.name}),N.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.type,"  ",f.gender]})]}),N.jsx("div",{className:"col-span-2",children:N.jsx("code",{className:"text-xs font-mono bg-accent px-1.5 py-0.5 rounded text-primary",children:f.baseCode})}),N.jsx("div",{className:"col-span-1",children:N.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-secondary text-secondary-foreground border border-secondary-foreground/10",children:f.collection})}),N.jsx("div",{className:"col-span-2 text-center text-sm font-medium",children:f.variants.length>0?w:N.jsx("span",{className:"text-muted-foreground",children:"-"})}),N.jsx("div",{className:"col-span-1 text-center flex justify-center",children:f.variants.length>0?N.jsx(ww,{cost:V,price:U}):"-"}),N.jsx("div",{className:"col-span-1 text-center",children:N.jsx("span",{className:ro("text-sm font-bold",g===0?"text-destructive":g<10?"text-yellow-600":"text-green-600"),children:g})}),N.jsx("div",{className:"col-span-1 flex justify-end",children:N.jsx(Pr,{variant:M?"secondary":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:j=>{j.stopPropagation(),d(f.id)},children:N.jsx(Q6,{className:"h-4 w-4"})})})]}),M&&N.jsxs("div",{className:"bg-muted/20 border-t border-border p-4 pl-12 cursor-default",onClick:j=>j.stopPropagation(),children:[N.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:"Detalle de Variantes"}),N.jsx("div",{className:"border border-border rounded-lg overflow-hidden bg-background shadow-sm",children:N.jsxs("table",{className:"w-full text-sm text-left",children:[N.jsx("thead",{className:"bg-muted/50 text-xs text-muted-foreground uppercase",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-4 py-2 font-medium",children:"SKU Variante"}),N.jsx("th",{className:"px-4 py-2 font-medium",children:"Color / Talla"}),N.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Costo Prod."}),N.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Precio Venta"}),N.jsx("th",{className:"px-4 py-2 font-medium text-center",children:"Margen"}),N.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Stock"})]})}),N.jsx("tbody",{className:"divide-y divide-border",children:f.variants.map(j=>N.jsxs("tr",{className:"hover:bg-accent/5",children:[N.jsx("td",{className:"px-4 py-2 font-mono text-xs text-muted-foreground",children:j.sku}),N.jsx("td",{className:"px-4 py-2",children:N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"font-medium",children:j.color}),N.jsx("span",{className:"bg-accent px-1.5 py-0.5 rounded text-[10px] font-mono",children:j.size})]})}),N.jsxs("td",{className:"px-4 py-2 text-right text-muted-foreground",children:["S/ ",j.priceProduction.toFixed(2)]}),N.jsxs("td",{className:"px-4 py-2 text-right font-medium",children:["S/ ",j.priceRetail.toFixed(2)]}),N.jsx("td",{className:"px-4 py-2 flex justify-center",children:N.jsx(ww,{cost:j.priceProduction,price:j.priceRetail})}),N.jsx("td",{className:"px-4 py-2 text-right font-bold",children:j.stock})]},j.id))})]})}),N.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[N.jsx(Pr,{size:"sm",variant:"outline",onClick:()=>e(f),children:"Editar Producto"}),N.jsx(Pr,{size:"sm",variant:"destructive",onClick:()=>alert("Eliminar producto - Pendiente"),children:"Eliminar"})]})]})]},f.id)})})]})]})}var ip=n=>n.type==="checkbox",Mu=n=>n instanceof Date,ga=n=>n==null;const Z3=n=>typeof n=="object";var Ci=n=>!ga(n)&&!Array.isArray(n)&&Z3(n)&&!Mu(n),_D=n=>Ci(n)&&n.target?ip(n.target)?n.target.checked:n.target.value:n,wD=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,xD=(n,e)=>n.has(wD(e)),AD=n=>{const e=n.constructor&&n.constructor.prototype;return Ci(e)&&e.hasOwnProperty("isPrototypeOf")},Ky=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(n){if(n instanceof Date)return new Date(n);const e=typeof FileList<"u"&&n instanceof FileList;if(Ky&&(n instanceof Blob||e))return n;const t=Array.isArray(n);if(!t&&!(Ci(n)&&AD(n)))return n;const r=t?[]:Object.create(Object.getPrototypeOf(n));for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=Dr(n[a]));return r}var Ug=n=>/^\w*$/.test(n),xr=n=>n===void 0,Bg=n=>Array.isArray(n)?n.filter(Boolean):[],$y=n=>Bg(n.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(n,e,t)=>{if(!e||!Ci(n))return t;const r=(Ug(e)?[e]:$y(e)).reduce((a,o)=>ga(a)?a:a[o],n);return xr(r)||r===n?xr(n[e])?t:n[e]:r},dl=n=>typeof n=="boolean",ko=n=>typeof n=="function",Er=(n,e,t)=>{let r=-1;const a=Ug(e)?[e]:$y(e),o=a.length,c=o-1;for(;++r<o;){const u=a[r];let d=t;if(r!==c){const f=n[u];d=Ci(f)||Array.isArray(f)?f:isNaN(+a[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;n[u]=d,n=n[u]}};const xw={BLUR:"blur",FOCUS_OUT:"focusout"},io={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eS=Xe.createContext(null);eS.displayName="HookFormControlContext";const SD=()=>Xe.useContext(eS);var ED=(n,e,t,r=!0)=>{const a={defaultValues:e._defaultValues};for(const o in n)Object.defineProperty(a,o,{get:()=>{const c=o;return e._proxyFormState[c]!==io.all&&(e._proxyFormState[c]=!r||io.all),n[c]}});return a};const tS=typeof window<"u"?Xe.useLayoutEffect:Xe.useEffect;var Oa=n=>typeof n=="string",ND=(n,e,t,r,a)=>Oa(n)?(r&&e.watch.add(n),xt(t,n,a)):Array.isArray(n)?n.map(o=>(r&&e.watch.add(o),xt(t,o))):(r&&(e.watchAll=!0),t),O2=n=>ga(n)||!Z3(n);function Wc(n,e,t=new WeakSet){if(O2(n)||O2(e))return Object.is(n,e);if(Mu(n)&&Mu(e))return Object.is(n.getTime(),e.getTime());const r=Object.keys(n),a=Object.keys(e);if(r.length!==a.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const o of r){const c=n[o];if(!a.includes(o))return!1;if(o!=="ref"){const u=e[o];if(Mu(c)&&Mu(u)||Ci(c)&&Ci(u)||Array.isArray(c)&&Array.isArray(u)?!Wc(c,u,t):!Object.is(c,u))return!1}}return!0}const TD=Xe.createContext(null);TD.displayName="HookFormContext";var CD=(n,e,t,r,a)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:a||!0}}:{},va=n=>Array.isArray(n)?n:[n],Aw=()=>{let n=[];return{get observers(){return n},next:a=>{for(const o of n)o.next&&o.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(o=>o!==a)}}),unsubscribe:()=>{n=[]}}};function nS(n,e){const t={};for(const r in n)if(n.hasOwnProperty(r)){const a=n[r],o=e[r];if(a&&Ci(a)&&o){const c=nS(a,o);Ci(c)&&(t[r]=c)}else n[r]&&(t[r]=o)}return t}var Ds=n=>Ci(n)&&!Object.keys(n).length,Xy=n=>n.type==="file",tg=n=>{if(!Ky)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rS=n=>n.type==="select-multiple",Qy=n=>n.type==="radio",ID=n=>Qy(n)||ip(n),S0=n=>tg(n)&&n.isConnected;function RD(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=xr(n)?r++:n[e[r++]];return n}function LD(n){for(const e in n)if(n.hasOwnProperty(e)&&!xr(n[e]))return!1;return!0}function di(n,e){const t=Array.isArray(e)?e:Ug(e)?[e]:$y(e),r=t.length===1?n:RD(n,t),a=t.length-1,o=t[a];return r&&delete r[o],a!==0&&(Ci(r)&&Ds(r)||Array.isArray(r)&&LD(r))&&di(n,t.slice(0,-1)),n}var kD=n=>{for(const e in n)if(ko(n[e]))return!0;return!1};function iS(n){return Array.isArray(n)||Ci(n)&&!kD(n)}function M2(n,e={}){for(const t in n){const r=n[t];iS(r)?(e[t]=Array.isArray(r)?[]:{},M2(r,e[t])):xr(r)||(e[t]=!0)}return e}function qh(n,e,t){t||(t=M2(e));for(const r in n){const a=n[r];if(iS(a))xr(e)||O2(t[r])?t[r]=M2(a,Array.isArray(a)?[]:{}):qh(a,ga(e)?{}:e[r],t[r]);else{const o=e[r];t[r]=!Wc(a,o)}}return t}const Sw={value:!1,isValid:!1},Ew={value:!0,isValid:!0};var sS=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!xr(n[0].attributes.value)?xr(n[0].value)||n[0].value===""?Ew:{value:n[0].value,isValid:!0}:Ew:Sw}return Sw},aS=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>xr(n)?n:e?n===""?NaN:n&&+n:t&&Oa(n)?new Date(n):r?r(n):n;const Nw={isValid:!1,value:null};var oS=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Nw):Nw;function Tw(n){const e=n.ref;return Xy(e)?e.files:Qy(e)?oS(n.refs).value:rS(e)?[...e.selectedOptions].map(({value:t})=>t):ip(e)?sS(n.refs).value:aS(xr(e.value)?n.ref.value:e.value,n)}var DD=(n,e,t,r)=>{const a={};for(const o of n){const c=xt(e,o);c&&Er(a,o,c._f)}return{criteriaMode:t,names:[...n],fields:a,shouldUseNativeValidation:r}},ng=n=>n instanceof RegExp,gd=n=>xr(n)?n:ng(n)?n.source:Ci(n)?ng(n.value)?n.value.source:n.value:n,Kh=n=>({isOnSubmit:!n||n===io.onSubmit,isOnBlur:n===io.onBlur,isOnChange:n===io.onChange,isOnAll:n===io.all,isOnTouch:n===io.onTouched});const Cw="AsyncFunction";var PD=n=>!!n&&!!n.validate&&!!(ko(n.validate)&&n.validate.constructor.name===Cw||Ci(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Cw)),OD=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),j2=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const tf=(n,e,t,r)=>{for(const a of t||Object.keys(n)){const o=xt(n,a);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!r)return!0;if(c.ref&&e(c.ref,c.name)&&!r)return!0;if(tf(u,e))break}else if(Ci(u)&&tf(u,e))break}}};function Iw(n,e,t){const r=xt(n,t);if(r||Ug(t))return{error:r,name:t};const a=t.split(".");for(;a.length;){const o=a.join("."),c=xt(e,o),u=xt(n,o);if(c&&!Array.isArray(c)&&t!==o)return{name:t};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};a.pop()}return{name:t}}var MD=(n,e,t,r)=>{t(n);const{name:a,...o}=n;return Ds(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(c=>e[c]===(!r||io.all))},jD=(n,e,t)=>!n||!e||n===e||va(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),VD=(n,e,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||n):(t?r.isOnBlur:a.isOnBlur)?!n:(t?r.isOnChange:a.isOnChange)?n:!0,FD=(n,e)=>!Bg(xt(n,e)).length&&di(n,e),lS=(n,e,t)=>{const r=va(xt(n,t));return Er(r,"root",e[t]),Er(n,t,r),n};function Rw(n,e,t="validate"){if(Oa(n)||Array.isArray(n)&&n.every(Oa)||dl(n)&&!n)return{type:t,message:Oa(n)?n:"",ref:e}}var Oh=n=>Ci(n)&&!ng(n)?n:{value:n,message:""},V2=async(n,e,t,r,a,o)=>{const{ref:c,refs:u,required:d,maxLength:f,minLength:g,min:b,max:A,pattern:w,validate:M,name:V,valueAsNumber:U,mount:j}=n._f,te=xt(t,V);if(!j||e.has(V))return{};const ce=u?u[0]:c,H=R=>{a&&ce.reportValidity&&(ce.setCustomValidity(dl(R)?"":R||""),ce.reportValidity())},se={},fe=Qy(c),q=ip(c),k=fe||q,D=(U||Xy(c))&&xr(c.value)&&xr(te)||tg(c)&&c.value===""||te===""||Array.isArray(te)&&!te.length,Y=CD.bind(null,V,r,se),T=(R,L,he,Ae=Kl.maxLength,ee=Kl.minLength)=>{const pe=R?L:he;se[V]={type:R?Ae:ee,message:pe,ref:c,...Y(R?Ae:ee,pe)}};if(o?!Array.isArray(te)||!te.length:d&&(!k&&(D||ga(te))||dl(te)&&!te||q&&!sS(u).isValid||fe&&!oS(u).isValid)){const{value:R,message:L}=Oa(d)?{value:!!d,message:d}:Oh(d);if(R&&(se[V]={type:Kl.required,message:L,ref:ce,...Y(Kl.required,L)},!r))return H(L),se}if(!D&&(!ga(b)||!ga(A))){let R,L;const he=Oh(A),Ae=Oh(b);if(!ga(te)&&!isNaN(te)){const ee=c.valueAsNumber||te&&+te;ga(he.value)||(R=ee>he.value),ga(Ae.value)||(L=ee<Ae.value)}else{const ee=c.valueAsDate||new Date(te),pe=be=>new Date(new Date().toDateString()+" "+be),ue=c.type=="time",Ce=c.type=="week";Oa(he.value)&&te&&(R=ue?pe(te)>pe(he.value):Ce?te>he.value:ee>new Date(he.value)),Oa(Ae.value)&&te&&(L=ue?pe(te)<pe(Ae.value):Ce?te<Ae.value:ee<new Date(Ae.value))}if((R||L)&&(T(!!R,he.message,Ae.message,Kl.max,Kl.min),!r))return H(se[V].message),se}if((f||g)&&!D&&(Oa(te)||o&&Array.isArray(te))){const R=Oh(f),L=Oh(g),he=!ga(R.value)&&te.length>+R.value,Ae=!ga(L.value)&&te.length<+L.value;if((he||Ae)&&(T(he,R.message,L.message),!r))return H(se[V].message),se}if(w&&!D&&Oa(te)){const{value:R,message:L}=Oh(w);if(ng(R)&&!te.match(R)&&(se[V]={type:Kl.pattern,message:L,ref:c,...Y(Kl.pattern,L)},!r))return H(L),se}if(M){if(ko(M)){const R=await M(te,t),L=Rw(R,ce);if(L&&(se[V]={...L,...Y(Kl.validate,L.message)},!r))return H(L.message),se}else if(Ci(M)){let R={};for(const L in M){if(!Ds(R)&&!r)break;const he=Rw(await M[L](te,t),ce,L);he&&(R={...he,...Y(L,he.message)},H(he.message),r&&(se[V]=R))}if(!Ds(R)&&(se[V]={ref:ce,...R},!r))return se}}return H(!0),se};const UD={mode:io.onSubmit,reValidateMode:io.onChange,shouldFocusError:!0};function BD(n={}){let e={...UD,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:ko(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},a=Ci(e.defaultValues)||Ci(e.values)?Dr(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Dr(a),c={action:!1,mount:!1,watch:!1,keepIsValid:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={...g};let A={...b};const w={array:Aw(),state:Aw()},M=e.criteriaMode===io.all,V=ie=>ge=>{clearTimeout(f),f=setTimeout(ie,ge)},U=async ie=>{if(!c.keepIsValid&&!e.disabled&&(b.isValid||A.isValid||ie)){let ge;e.resolver?(ge=Ds((await k()).errors),j()):ge=await Y(r,!0),ge!==t.isValid&&w.state.next({isValid:ge})}},j=(ie,ge)=>{!e.disabled&&(b.isValidating||b.validatingFields||A.isValidating||A.validatingFields)&&((ie||Array.from(u.mount)).forEach(Se=>{Se&&(ge?Er(t.validatingFields,Se,ge):di(t.validatingFields,Se))}),w.state.next({validatingFields:t.validatingFields,isValidating:!Ds(t.validatingFields)}))},te=(ie,ge=[],Se,Ke,He=!0,Ve=!0)=>{if(Ke&&Se&&!e.disabled){if(c.action=!0,Ve&&Array.isArray(xt(r,ie))){const it=Se(xt(r,ie),Ke.argA,Ke.argB);He&&Er(r,ie,it)}if(Ve&&Array.isArray(xt(t.errors,ie))){const it=Se(xt(t.errors,ie),Ke.argA,Ke.argB);He&&Er(t.errors,ie,it),FD(t.errors,ie)}if((b.touchedFields||A.touchedFields)&&Ve&&Array.isArray(xt(t.touchedFields,ie))){const it=Se(xt(t.touchedFields,ie),Ke.argA,Ke.argB);He&&Er(t.touchedFields,ie,it)}(b.dirtyFields||A.dirtyFields)&&(t.dirtyFields=qh(a,o)),w.state.next({name:ie,isDirty:R(ie,ge),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Er(o,ie,ge)},ce=(ie,ge)=>{Er(t.errors,ie,ge),w.state.next({errors:t.errors})},H=ie=>{t.errors=ie,w.state.next({errors:t.errors,isValid:!1})},se=(ie,ge,Se,Ke)=>{const He=xt(r,ie);if(He){const Ve=xt(o,ie,xr(Se)?xt(a,ie):Se);xr(Ve)||Ke&&Ke.defaultChecked||ge?Er(o,ie,ge?Ve:Tw(He._f)):Ae(ie,Ve),c.mount&&!c.action&&U()}},fe=(ie,ge,Se,Ke,He)=>{let Ve=!1,it=!1;const ft={name:ie};if(!e.disabled){if(!Se||Ke){(b.isDirty||A.isDirty)&&(it=t.isDirty,t.isDirty=ft.isDirty=R(),Ve=it!==ft.isDirty);const st=Wc(xt(a,ie),ge);it=!!xt(t.dirtyFields,ie),st?di(t.dirtyFields,ie):Er(t.dirtyFields,ie,!0),ft.dirtyFields=t.dirtyFields,Ve=Ve||(b.dirtyFields||A.dirtyFields)&&it!==!st}if(Se){const st=xt(t.touchedFields,ie);st||(Er(t.touchedFields,ie,Se),ft.touchedFields=t.touchedFields,Ve=Ve||(b.touchedFields||A.touchedFields)&&st!==Se)}Ve&&He&&w.state.next(ft)}return Ve?ft:{}},q=(ie,ge,Se,Ke)=>{const He=xt(t.errors,ie),Ve=(b.isValid||A.isValid)&&dl(ge)&&t.isValid!==ge;if(e.delayError&&Se?(d=V(()=>ce(ie,Se)),d(e.delayError)):(clearTimeout(f),d=null,Se?Er(t.errors,ie,Se):di(t.errors,ie)),(Se?!Wc(He,Se):He)||!Ds(Ke)||Ve){const it={...Ke,...Ve&&dl(ge)?{isValid:ge}:{},errors:t.errors,name:ie};t={...t,...it},w.state.next(it)}},k=async ie=>(j(ie,!0),await e.resolver(o,e.context,DD(ie||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),D=async ie=>{const{errors:ge}=await k(ie);if(j(ie),ie)for(const Se of ie){const Ke=xt(ge,Se);Ke?Er(t.errors,Se,Ke):di(t.errors,Se)}else t.errors=ge;return ge},Y=async(ie,ge,Se={valid:!0})=>{for(const Ke in ie){const He=ie[Ke];if(He){const{_f:Ve,...it}=He;if(Ve){const ft=u.array.has(Ve.name),st=He._f&&PD(He._f);st&&b.validatingFields&&j([Ve.name],!0);const vt=await V2(He,u.disabled,o,M,e.shouldUseNativeValidation&&!ge,ft);if(st&&b.validatingFields&&j([Ve.name]),vt[Ve.name]&&(Se.valid=!1,ge||n.shouldUseNativeValidation))break;!ge&&(xt(vt,Ve.name)?ft?lS(t.errors,vt,Ve.name):Er(t.errors,Ve.name,vt[Ve.name]):di(t.errors,Ve.name))}!Ds(it)&&await Y(it,ge,Se)}}return Se.valid},T=()=>{for(const ie of u.unMount){const ge=xt(r,ie);ge&&(ge._f.refs?ge._f.refs.every(Se=>!S0(Se)):!S0(ge._f.ref))&&Ee(ie)}u.unMount=new Set},R=(ie,ge)=>!e.disabled&&(ie&&ge&&Er(o,ie,ge),!Wc(X(),a)),L=(ie,ge,Se)=>ND(ie,u,{...c.mount?o:xr(ge)?a:Oa(ie)?{[ie]:ge}:ge},Se,ge),he=ie=>Bg(xt(c.mount?o:a,ie,e.shouldUnregister?xt(a,ie,[]):[])),Ae=(ie,ge,Se={})=>{const Ke=xt(r,ie);let He=ge;if(Ke){const Ve=Ke._f;Ve&&(!Ve.disabled&&Er(o,ie,aS(ge,Ve)),He=tg(Ve.ref)&&ga(ge)?"":ge,rS(Ve.ref)?[...Ve.ref.options].forEach(it=>it.selected=He.includes(it.value)):Ve.refs?ip(Ve.ref)?Ve.refs.forEach(it=>{(!it.defaultChecked||!it.disabled)&&(Array.isArray(He)?it.checked=!!He.find(ft=>ft===it.value):it.checked=He===it.value||!!He)}):Ve.refs.forEach(it=>it.checked=it.value===He):Xy(Ve.ref)?Ve.ref.value="":(Ve.ref.value=He,Ve.ref.type||w.state.next({name:ie,values:Dr(o)})))}(Se.shouldDirty||Se.shouldTouch)&&fe(ie,He,Se.shouldTouch,Se.shouldDirty,!0),Se.shouldValidate&&be(ie)},ee=(ie,ge,Se)=>{for(const Ke in ge){if(!ge.hasOwnProperty(Ke))return;const He=ge[Ke],Ve=ie+"."+Ke,it=xt(r,Ve);(u.array.has(ie)||Ci(He)||it&&!it._f)&&!Mu(He)?ee(Ve,He,Se):Ae(Ve,He,Se)}},pe=(ie,ge,Se={})=>{const Ke=xt(r,ie),He=u.array.has(ie),Ve=Dr(ge);Er(o,ie,Ve),He?(w.array.next({name:ie,values:Dr(o)}),(b.isDirty||b.dirtyFields||A.isDirty||A.dirtyFields)&&Se.shouldDirty&&w.state.next({name:ie,dirtyFields:qh(a,o),isDirty:R(ie,Ve)})):Ke&&!Ke._f&&!ga(Ve)?ee(ie,Ve,Se):Ae(ie,Ve,Se),j2(ie,u)?w.state.next({...t,name:ie,values:Dr(o)}):w.state.next({name:c.mount?ie:void 0,values:Dr(o)})},ue=async ie=>{c.mount=!0;const ge=ie.target;let Se=ge.name,Ke=!0;const He=xt(r,Se),Ve=st=>{Ke=Number.isNaN(st)||Mu(st)&&isNaN(st.getTime())||Wc(st,xt(o,Se,st))},it=Kh(e.mode),ft=Kh(e.reValidateMode);if(He){let st,vt;const mt=ge.type?Tw(He._f):_D(ie),fn=ie.type===xw.BLUR||ie.type===xw.FOCUS_OUT,Zt=!OD(He._f)&&!e.resolver&&!xt(t.errors,Se)&&!He._f.deps||VD(fn,xt(t.touchedFields,Se),t.isSubmitted,ft,it),Pt=j2(Se,u,fn);Er(o,Se,mt),fn?(!ge||!ge.readOnly)&&(He._f.onBlur&&He._f.onBlur(ie),d&&d(0)):He._f.onChange&&He._f.onChange(ie);const Ft=fe(Se,mt,fn),Qt=!Ds(Ft)||Pt;if(!fn&&w.state.next({name:Se,type:ie.type,values:Dr(o)}),Zt)return(b.isValid||A.isValid)&&(e.mode==="onBlur"?fn&&U():fn||U()),Qt&&w.state.next({name:Se,...Pt?{}:Ft});if(!fn&&Pt&&w.state.next({...t}),e.resolver){const{errors:Ot}=await k([Se]);if(j([Se]),Ve(mt),Ke){const yn=Iw(t.errors,r,Se),St=Iw(Ot,r,yn.name||Se);st=St.error,Se=St.name,vt=Ds(Ot)}}else j([Se],!0),st=(await V2(He,u.disabled,o,M,e.shouldUseNativeValidation))[Se],j([Se]),Ve(mt),Ke&&(st?vt=!1:(b.isValid||A.isValid)&&(vt=await Y(r,!0)));Ke&&(He._f.deps&&(!Array.isArray(He._f.deps)||He._f.deps.length>0)&&be(He._f.deps),q(Se,vt,st,Ft))}},Ce=(ie,ge)=>{if(xt(t.errors,ge)&&ie.focus)return ie.focus(),1},be=async(ie,ge={})=>{let Se,Ke;const He=va(ie);if(e.resolver){const Ve=await D(xr(ie)?ie:He);Se=Ds(Ve),Ke=ie?!He.some(it=>xt(Ve,it)):Se}else ie?(Ke=(await Promise.all(He.map(async Ve=>{const it=xt(r,Ve);return await Y(it&&it._f?{[Ve]:it}:it)}))).every(Boolean),!(!Ke&&!t.isValid)&&U()):Ke=Se=await Y(r);return w.state.next({...!Oa(ie)||(b.isValid||A.isValid)&&Se!==t.isValid?{}:{name:ie},...e.resolver||!ie?{isValid:Se}:{},errors:t.errors}),ge.shouldFocus&&!Ke&&tf(r,Ce,ie?He:u.mount),Ke},X=(ie,ge)=>{let Se={...c.mount?o:a};return ge&&(Se=nS(ge.dirtyFields?t.dirtyFields:t.touchedFields,Se)),xr(ie)?Se:Oa(ie)?xt(Se,ie):ie.map(Ke=>xt(Se,Ke))},P=(ie,ge)=>({invalid:!!xt((ge||t).errors,ie),isDirty:!!xt((ge||t).dirtyFields,ie),error:xt((ge||t).errors,ie),isValidating:!!xt(t.validatingFields,ie),isTouched:!!xt((ge||t).touchedFields,ie)}),z=ie=>{ie&&va(ie).forEach(ge=>di(t.errors,ge)),w.state.next({errors:ie?t.errors:{}})},K=(ie,ge,Se)=>{const Ke=(xt(r,ie,{_f:{}})._f||{}).ref,He=xt(t.errors,ie)||{},{ref:Ve,message:it,type:ft,...st}=He;Er(t.errors,ie,{...st,...ge,ref:Ke}),w.state.next({name:ie,errors:t.errors,isValid:!1}),Se&&Se.shouldFocus&&Ke&&Ke.focus&&Ke.focus()},re=(ie,ge)=>ko(ie)?w.state.subscribe({next:Se=>"values"in Se&&ie(L(void 0,ge),Se)}):L(ie,ge,!0),de=ie=>w.state.subscribe({next:ge=>{jD(ie.name,ge.name,ie.exact)&&MD(ge,ie.formState||b,Mt,ie.reRenderRoot)&&ie.callback({values:{...o},...t,...ge,defaultValues:a})}}).unsubscribe,ye=ie=>(c.mount=!0,A={...A,...ie.formState},de({...ie,formState:{...g,...ie.formState}})),Ee=(ie,ge={})=>{for(const Se of ie?va(ie):u.mount)u.mount.delete(Se),u.array.delete(Se),ge.keepValue||(di(r,Se),di(o,Se)),!ge.keepError&&di(t.errors,Se),!ge.keepDirty&&di(t.dirtyFields,Se),!ge.keepTouched&&di(t.touchedFields,Se),!ge.keepIsValidating&&di(t.validatingFields,Se),!e.shouldUnregister&&!ge.keepDefaultValue&&di(a,Se);w.state.next({values:Dr(o)}),w.state.next({...t,...ge.keepDirty?{isDirty:R()}:{}}),!ge.keepIsValid&&U()},Le=({disabled:ie,name:ge})=>{if(dl(ie)&&c.mount||ie||u.disabled.has(ge)){const He=u.disabled.has(ge)!==!!ie;ie?u.disabled.add(ge):u.disabled.delete(ge),He&&c.mount&&!c.action&&U()}},Ue=(ie,ge={})=>{let Se=xt(r,ie);const Ke=dl(ge.disabled)||dl(e.disabled);return Er(r,ie,{...Se||{},_f:{...Se&&Se._f?Se._f:{ref:{name:ie}},name:ie,mount:!0,...ge}}),u.mount.add(ie),Se?Le({disabled:dl(ge.disabled)?ge.disabled:e.disabled,name:ie}):se(ie,!0,ge.value),{...Ke?{disabled:ge.disabled||e.disabled}:{},...e.progressive?{required:!!ge.required,min:gd(ge.min),max:gd(ge.max),minLength:gd(ge.minLength),maxLength:gd(ge.maxLength),pattern:gd(ge.pattern)}:{},name:ie,onChange:ue,onBlur:ue,ref:He=>{if(He){Ue(ie,ge),Se=xt(r,ie);const Ve=xr(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,it=ID(Ve),ft=Se._f.refs||[];if(it?ft.find(st=>st===Ve):Ve===Se._f.ref)return;Er(r,ie,{_f:{...Se._f,...it?{refs:[...ft.filter(S0),Ve,...Array.isArray(xt(a,ie))?[{}]:[]],ref:{type:Ve.type,name:ie}}:{ref:Ve}}}),se(ie,!1,void 0,Ve)}else Se=xt(r,ie,{}),Se._f&&(Se._f.mount=!1),(e.shouldUnregister||ge.shouldUnregister)&&!(xD(u.array,ie)&&c.action)&&u.unMount.add(ie)}}},et=()=>e.shouldFocusError&&tf(r,Ce,u.mount),ot=ie=>{dl(ie)&&(w.state.next({disabled:ie}),tf(r,(ge,Se)=>{const Ke=xt(r,Se);Ke&&(ge.disabled=Ke._f.disabled||ie,Array.isArray(Ke._f.refs)&&Ke._f.refs.forEach(He=>{He.disabled=Ke._f.disabled||ie}))},0,!1))},ct=(ie,ge)=>async Se=>{let Ke;Se&&(Se.preventDefault&&Se.preventDefault(),Se.persist&&Se.persist());let He=Dr(o);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:Ve,values:it}=await k();j(),t.errors=Ve,He=Dr(it)}else await Y(r);if(u.disabled.size)for(const Ve of u.disabled)di(He,Ve);if(di(t.errors,"root"),Ds(t.errors)){w.state.next({errors:{}});try{await ie(He,Se)}catch(Ve){Ke=Ve}}else ge&&await ge({...t.errors},Se),et(),setTimeout(et);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ds(t.errors)&&!Ke,submitCount:t.submitCount+1,errors:t.errors}),Ke)throw Ke},yt=(ie,ge={})=>{xt(r,ie)&&(xr(ge.defaultValue)?pe(ie,Dr(xt(a,ie))):(pe(ie,ge.defaultValue),Er(a,ie,Dr(ge.defaultValue))),ge.keepTouched||di(t.touchedFields,ie),ge.keepDirty||(di(t.dirtyFields,ie),t.isDirty=ge.defaultValue?R(ie,Dr(xt(a,ie))):R()),ge.keepError||(di(t.errors,ie),b.isValid&&U()),w.state.next({...t}))},ne=(ie,ge={})=>{const Se=ie?Dr(ie):a,Ke=Dr(Se),He=Ds(ie),Ve=He?a:Ke;if(ge.keepDefaultValues||(a=Se),!ge.keepValues){if(ge.keepDirtyValues){const it=new Set([...u.mount,...Object.keys(qh(a,o))]);for(const ft of Array.from(it)){const st=xt(t.dirtyFields,ft),vt=xt(o,ft),mt=xt(Ve,ft);st&&!xr(vt)?Er(Ve,ft,vt):!st&&!xr(mt)&&pe(ft,mt)}}else{if(Ky&&xr(ie))for(const it of u.mount){const ft=xt(r,it);if(ft&&ft._f){const st=Array.isArray(ft._f.refs)?ft._f.refs[0]:ft._f.ref;if(tg(st)){const vt=st.closest("form");if(vt){vt.reset();break}}}}if(ge.keepFieldsRef)for(const it of u.mount)pe(it,xt(Ve,it));else r={}}o=e.shouldUnregister?ge.keepDefaultValues?Dr(a):{}:Dr(Ve),w.array.next({values:{...Ve}}),w.state.next({values:{...Ve}})}u={mount:ge.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!b.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues||!e.shouldUnregister&&!Ds(Ve),c.watch=!!e.shouldUnregister,c.keepIsValid=!!ge.keepIsValid,c.action=!1,ge.keepErrors||(t.errors={}),w.state.next({submitCount:ge.keepSubmitCount?t.submitCount:0,isDirty:He?!1:ge.keepDirty?t.isDirty:!!(ge.keepDefaultValues&&!Wc(ie,a)),isSubmitted:ge.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:He?{}:ge.keepDirtyValues?ge.keepDefaultValues&&o?qh(a,o):t.dirtyFields:ge.keepDefaultValues&&ie?qh(a,ie):ge.keepDirty?t.dirtyFields:{},touchedFields:ge.keepTouched?t.touchedFields:{},errors:ge.keepErrors?t.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},lt=(ie,ge)=>ne(ko(ie)?ie(o):ie,{...e.resetOptions,...ge}),$t=(ie,ge={})=>{const Se=xt(r,ie),Ke=Se&&Se._f;if(Ke){const He=Ke.refs?Ke.refs[0]:Ke.ref;He.focus&&setTimeout(()=>{He.focus(),ge.shouldSelect&&ko(He.select)&&He.select()})}},Mt=ie=>{t={...t,...ie}},dt={control:{register:Ue,unregister:Ee,getFieldState:P,handleSubmit:ct,setError:K,_subscribe:de,_runSchema:k,_updateIsValidating:j,_focusError:et,_getWatch:L,_getDirty:R,_setValid:U,_setFieldArray:te,_setDisabledField:Le,_setErrors:H,_getFieldArray:he,_reset:ne,_resetDefaultValues:()=>ko(e.defaultValues)&&e.defaultValues().then(ie=>{lt(ie,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ot,_subjects:w,_proxyFormState:b,get _fields(){return r},get _formValues(){return o},get _state(){return c},set _state(ie){c=ie},get _defaultValues(){return a},get _names(){return u},set _names(ie){u=ie},get _formState(){return t},get _options(){return e},set _options(ie){e={...e,...ie}}},subscribe:ye,trigger:be,register:Ue,handleSubmit:ct,watch:re,setValue:pe,getValues:X,reset:lt,resetField:yt,clearErrors:z,unregister:Ee,setError:K,setFocus:$t,getFieldState:P};return{...dt,formControl:dt}}var Uc=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const n=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+n)%16|0;return(e=="x"?t:t&3|8).toString(16)})},E0=(n,e,t={})=>t.shouldFocus||xr(t.shouldFocus)?t.focusName||`${n}.${xr(t.focusIndex)?e:t.focusIndex}.`:"",N0=(n,e)=>[...n,...va(e)],T0=n=>Array.isArray(n)?n.map(()=>{}):void 0;function C0(n,e,t){return[...n.slice(0,e),...va(t),...n.slice(e)]}var I0=(n,e,t)=>Array.isArray(n)?(xr(n[t])&&(n[t]=void 0),n.splice(t,0,n.splice(e,1)[0]),n):[],R0=(n,e)=>[...va(e),...va(n)];function zD(n,e){let t=0;const r=[...n];for(const a of e)r.splice(a-t,1),t++;return Bg(r).length?r:[]}var L0=(n,e)=>xr(e)?[]:zD(n,va(e).sort((t,r)=>t-r)),k0=(n,e,t)=>{[n[e],n[t]]=[n[t],n[e]]},Lw=(n,e,t)=>(n[e]=t,n);function qD(n){const e=SD(),{control:t=e,name:r,keyName:a="id",shouldUnregister:o,rules:c}=n,[u,d]=Xe.useState(t._getFieldArray(r)),f=Xe.useRef(t._getFieldArray(r).map(Uc)),g=Xe.useRef(!1);t._names.array.add(r),Xe.useMemo(()=>c&&u.length>=0&&t.register(r,c),[t,r,u.length,c]),tS(()=>t._subjects.array.subscribe({next:({values:H,name:se})=>{if(se===r||!se){const fe=xt(H,r);Array.isArray(fe)&&(d(fe),f.current=fe.map(Uc))}}}).unsubscribe,[t,r]);const b=Xe.useCallback(H=>{g.current=!0,t._setFieldArray(r,H)},[t,r]),A=(H,se)=>{const fe=va(Dr(H)),q=N0(t._getFieldArray(r),fe);t._names.focus=E0(r,q.length-1,se),f.current=N0(f.current,fe.map(Uc)),b(q),d(q),t._setFieldArray(r,q,N0,{argA:T0(H)})},w=(H,se)=>{const fe=va(Dr(H)),q=R0(t._getFieldArray(r),fe);t._names.focus=E0(r,0,se),f.current=R0(f.current,fe.map(Uc)),b(q),d(q),t._setFieldArray(r,q,R0,{argA:T0(H)})},M=H=>{const se=L0(t._getFieldArray(r),H);f.current=L0(f.current,H),b(se),d(se),!Array.isArray(xt(t._fields,r))&&Er(t._fields,r,void 0),t._setFieldArray(r,se,L0,{argA:H})},V=(H,se,fe)=>{const q=va(Dr(se)),k=C0(t._getFieldArray(r),H,q);t._names.focus=E0(r,H,fe),f.current=C0(f.current,H,q.map(Uc)),b(k),d(k),t._setFieldArray(r,k,C0,{argA:H,argB:T0(se)})},U=(H,se)=>{const fe=t._getFieldArray(r);k0(fe,H,se),k0(f.current,H,se),b(fe),d(fe),t._setFieldArray(r,fe,k0,{argA:H,argB:se},!1)},j=(H,se)=>{const fe=t._getFieldArray(r);I0(fe,H,se),I0(f.current,H,se),b(fe),d(fe),t._setFieldArray(r,fe,I0,{argA:H,argB:se},!1)},te=(H,se)=>{const fe=Dr(se),q=Lw(t._getFieldArray(r),H,fe);f.current=[...q].map((k,D)=>!k||D===H?Uc():f.current[D]),b(q),d([...q]),t._setFieldArray(r,q,Lw,{argA:H,argB:fe},!0,!1)},ce=H=>{const se=va(Dr(H));f.current=se.map(Uc),b([...se]),d([...se]),t._setFieldArray(r,[...se],fe=>fe,{},!0,!1)};return Xe.useEffect(()=>{if(t._state.action=!1,j2(r,t._names)&&t._subjects.state.next({...t._formState}),g.current&&(!Kh(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!Kh(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([r]).then(H=>{t._updateIsValidating([r]);const se=xt(H.errors,r),fe=xt(t._formState.errors,r);(fe?!se&&fe.type||se&&(fe.type!==se.type||fe.message!==se.message):se&&se.type)&&(se?Er(t._formState.errors,r,se):di(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const H=xt(t._fields,r);H&&H._f&&!(Kh(t._options.reValidateMode).isOnSubmit&&Kh(t._options.mode).isOnSubmit)&&V2(H,t._names.disabled,t._formValues,t._options.criteriaMode===io.all,t._options.shouldUseNativeValidation,!0).then(se=>!Ds(se)&&t._subjects.state.next({errors:lS(t._formState.errors,se,r)}))}t._subjects.state.next({name:r,values:Dr(t._formValues)}),t._names.focus&&tf(t._fields,(H,se)=>{if(t._names.focus&&se.startsWith(t._names.focus)&&H.focus)return H.focus(),1}),t._names.focus="",t._setValid(),g.current=!1},[u,r,t]),Xe.useEffect(()=>(!xt(t._formValues,r)&&t._setFieldArray(r),()=>{const H=(se,fe)=>{const q=xt(t._fields,se);q&&q._f&&(q._f.mount=fe)};t._options.shouldUnregister||o?t.unregister(r):H(r,!1)}),[r,t,a,o]),{swap:Xe.useCallback(U,[b,r,t]),move:Xe.useCallback(j,[b,r,t]),prepend:Xe.useCallback(w,[b,r,t]),append:Xe.useCallback(A,[b,r,t]),remove:Xe.useCallback(M,[b,r,t]),insert:Xe.useCallback(V,[b,r,t]),update:Xe.useCallback(te,[b,r,t]),replace:Xe.useCallback(ce,[b,r,t]),fields:Xe.useMemo(()=>u.map((H,se)=>({...H,[a]:f.current[se]||Uc()})),[u,a])}}function HD(n={}){const e=Xe.useRef(void 0),t=Xe.useRef(void 0),[r,a]=Xe.useState({isDirty:!1,isValidating:!1,isLoading:ko(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:ko(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!ko(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:c,...u}=BD(n);e.current={...u,formState:r}}const o=e.current.control;return o._options=n,tS(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(u=>({...u,isReady:!0})),o._formState.isReady=!0,c},[o]),Xe.useEffect(()=>o._disableForm(n.disabled),[o,n.disabled]),Xe.useEffect(()=>{n.mode&&(o._options.mode=n.mode),n.reValidateMode&&(o._options.reValidateMode=n.reValidateMode)},[o,n.mode,n.reValidateMode]),Xe.useEffect(()=>{n.errors&&(o._setErrors(n.errors),o._focusError())},[o,n.errors]),Xe.useEffect(()=>{n.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,n.shouldUnregister]),Xe.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==r.isDirty&&o._subjects.state.next({isDirty:c})}},[o,r.isDirty]),Xe.useEffect(()=>{var c;n.values&&!Wc(n.values,t.current)?(o._reset(n.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((c=o._options.resetOptions)===null||c===void 0)&&c.keepIsValid||o._setValid(),t.current=n.values,a(u=>({...u}))):o._resetDefaultValues()},[o,n.values]),Xe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=Xe.useMemo(()=>ED(r,o),[o,r]),e.current}function yd(n,e,t,r){if(!e||!r)return"INVALID-SKU";const a={VERANO:"VER",INVIERNO:"INV",ANADIBLES:"ADD"},o=n.trim().toUpperCase(),c=a[o]||o.slice(0,3).replace(/[^A-Z]/g,"X"),u={HOMBRE:"H",MUJER:"M",UNISEX:"U"}[t]||"U",d=e.slice(0,3).toUpperCase(),f=r.split(" ").map(g=>g[0]).join("").slice(0,3).toUpperCase();return`${c}-${d}-${u}-${f}`}function D0(n,e,t){const a={negro:"BLK",black:"BLK",blanco:"WHT",white:"WHT",rojo:"RED",azul:"BLU",blue:"BLU",verde:"GRN",green:"GRN",amarillo:"YEL"}[e.toLowerCase()]||e.slice(0,3).toUpperCase(),o=t.toUpperCase();return`${n}-${a}-${o}`}function GD({initialData:n,onComplete:e}){const t=vf(H=>H.addProduct),r=vf(H=>H.updateProduct),{register:a,control:o,watch:c,handleSubmit:u,reset:d,setValue:f}=HD({defaultValues:{collection:"VERANO",gender:"UNISEX",variants:[]}});Tt.useEffect(()=>{n?(d({name:n.name,collection:n.collection,type:n.type,gender:n.gender,variants:n.variants.map(H=>({id:H.id,color:H.color,size:H.size,stock:H.stock,priceProduction:H.priceProduction,priceRetail:H.priceRetail,images:[]}))}),V(n.baseCode)):(d({name:"",collection:"VERANO",type:"",gender:"UNISEX",variants:[]}),V(""))},[n,d]);const g=c("name"),b=c("type"),A=c("collection"),w=c("gender"),[M,V]=Tt.useState("");Tt.useEffect(()=>{if(g&&b){const H=yd(A,b,w,g);V(H)}},[g,b,A,w]);const{fields:U,append:j,remove:te}=qD({control:o,name:"variants"}),ce=async H=>{if(n)r(n.id,{name:H.name,collection:H.collection,type:H.type,gender:H.gender,baseCode:yd(H.collection,H.type,H.gender,H.name),variants:H.variants.map(se=>({id:se.id||crypto.randomUUID(),sku:D0(yd(H.collection,H.type,H.gender,H.name),se.color,se.size),color:se.color,size:se.size,stock:se.stock,priceProduction:se.priceProduction,priceRetail:se.priceRetail,images:[]}))});else{const se={id:crypto.randomUUID(),name:H.name,collection:H.collection,type:H.type,gender:H.gender,baseCode:yd(H.collection,H.type,H.gender,H.name),updatedAt:Date.now(),createdAt:Date.now(),variants:H.variants.map(fe=>({id:crypto.randomUUID(),sku:D0(yd(H.collection,H.type,H.gender,H.name),fe.color,fe.size),color:fe.color,size:fe.size,stock:fe.stock,priceProduction:fe.priceProduction,priceRetail:fe.priceRetail,images:[]}))};try{await t(se)}catch(fe){console.error("Error UI saving product:",fe);return}}e?e():(d(),V(""))};return N.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[N.jsxs("div",{className:"flex items-center justify-between mb-10",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n?"Editar Producto":"Registro de Producto"}),N.jsx("p",{className:"text-muted-foreground mt-1 text-lg",children:n?"Modifica los datos del producto seleccionado.":"Sigue los 3 pasos para dar de alta un nuevo tem."})]}),N.jsx("div",{className:"bg-card border border-border px-6 py-3 rounded-xl shadow-sm flex items-center gap-4",children:N.jsxs("div",{className:"text-right",children:[N.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider block",children:"SKU PRELIMINAR"}),N.jsx("span",{className:"text-2xl font-mono font-bold text-primary",children:M||"---"})]})})]}),N.jsxs("form",{onSubmit:u(ce),className:"space-y-8",children:[N.jsxs("section",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden relative",children:[N.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary/20"}),N.jsxs("div",{className:"p-8",children:[N.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[N.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary text-primary-foreground font-bold text-lg shadow-lg shadow-primary/20",children:"1"}),N.jsx("h3",{className:"text-xl font-semibold",children:"Definicin General"})]}),N.jsxs("div",{className:"grid grid-cols-12 gap-8 pl-14",children:[N.jsxs("div",{className:"col-span-8 space-y-4",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-sm font-medium",children:"Nombre Comercial"}),N.jsx(qr,{...a("name"),placeholder:"Ej. Polo Oversize 'Urban'",className:"h-12 text-lg",autoFocus:!0})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-sm font-medium",children:"Tipo de Prenda"}),N.jsx(qr,{...a("type"),placeholder:"Ej. POLO",className:"h-11 font-mono uppercase"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-sm font-medium",children:"Gnero"}),N.jsxs("select",{...a("gender"),className:"flex h-11 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[N.jsx("option",{value:"UNISEX",children:"Unisex"}),N.jsx("option",{value:"HOMBRE",children:"Hombre"}),N.jsx("option",{value:"MUJER",children:"Mujer"})]})]})]})]}),N.jsxs("div",{className:"col-span-4 bg-muted/30 rounded-lg border border-border/50 p-6 flex flex-col justify-center items-center text-center",children:[N.jsx("span",{className:"text-sm text-muted-foreground mb-2",children:"Tu SKU comienza con:"}),N.jsx("div",{className:"text-3xl font-mono font-black text-muted-foreground/50 tracking-widest",children:M?M.split("-").slice(0,4).join("-"):"????"}),N.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Se usan las 3 primeras letras de la coleccin, tipo, gnero y nombre."})]})]})]})]}),N.jsxs("section",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden relative",children:[N.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary/40"}),N.jsxs("div",{className:"p-8",children:[N.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[N.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary text-primary-foreground font-bold text-lg shadow-lg shadow-primary/20",children:"2"}),N.jsx("h3",{className:"text-xl font-semibold",children:"Temporada y Coleccin"})]}),N.jsx("div",{className:"pl-14 max-w-2xl",children:N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-sm font-medium",children:"Nombre de la Coleccin"}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx(qr,{...a("collection"),placeholder:"Escribe el nombre de la coleccin...",className:"h-12 flex-1",list:"collections-list"}),N.jsx("div",{className:"h-12 w-24 bg-accent rounded-md flex items-center justify-center font-mono font-bold text-muted-foreground border border-input",title:"Cdigo de Coleccin",children:c("collection")?c("collection").slice(0,3).toUpperCase():"---"})]}),N.jsx("p",{className:"text-xs text-muted-foreground",children:'Tip: Si escribes "Verano 2026", el cdigo ser "VER".'}),N.jsxs("datalist",{id:"collections-list",children:[N.jsx("option",{value:"VERANO"}),N.jsx("option",{value:"INVIERNO"}),N.jsx("option",{value:"ANADIBLES"})]})]})})]})]}),N.jsxs("section",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden relative",children:[N.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary"}),N.jsxs("div",{className:"p-8",children:[N.jsxs("div",{className:"flex items-center justify-between mb-6",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary text-primary-foreground font-bold text-lg shadow-lg shadow-primary/20",children:"3"}),N.jsx("h3",{className:"text-xl font-semibold",children:"Variantes (Colores y Tallas)"})]}),N.jsxs(Pr,{type:"button",onClick:()=>j({color:"",size:"",priceProduction:0,priceRetail:0,stock:0,images:[]}),children:[N.jsx(ug,{className:"mr-2 h-4 w-4"})," Agregar Nueva Variante"]})]}),N.jsxs("div",{className:"pl-14 space-y-4",children:[U.length>0&&N.jsxs("div",{className:"bg-muted/40 p-4 rounded-lg flex items-center gap-4 text-sm mb-4 border border-border/50",children:[N.jsx("span",{className:"font-semibold text-muted-foreground whitespace-nowrap",children:"Aplicar a todos:"}),N.jsxs("div",{className:"flex gap-4 flex-1",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("label",{className:"text-xs text-muted-foreground",children:"Costo Produccin"}),N.jsx(qr,{type:"number",className:"h-8 w-24 bg-background",onChange:H=>{const se=parseFloat(H.target.value);isNaN(se)||U.forEach((fe,q)=>f(`variants.${q}.priceProduction`,se))}})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("label",{className:"text-xs text-muted-foreground",children:"Precio Venta"}),N.jsx(qr,{type:"number",className:"h-8 w-24 bg-background",onChange:H=>{const se=parseFloat(H.target.value);isNaN(se)||U.forEach((fe,q)=>f(`variants.${q}.priceRetail`,se))}})]})]}),N.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Escribe aqu para actualizar todas las variantes a la vez."})]}),U.map((H,se)=>N.jsxs("div",{className:"bg-accent/10 border border-border rounded-xl p-5 hover:border-primary/40 transition-all",children:[N.jsxs("div",{className:"grid grid-cols-12 gap-6 items-end",children:[N.jsxs("div",{className:"col-span-4 space-y-2",children:[N.jsx("label",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Variante"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx(qr,{...a(`variants.${se}.color`),placeholder:"Color",className:"font-medium"}),N.jsx(qr,{...a(`variants.${se}.size`),placeholder:"Talla",className:"w-20 font-medium text-center"})]})]}),N.jsxs("div",{className:"col-span-4 space-y-2",children:[N.jsx("label",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Estructura de Costos"}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{className:"text-[10px] text-muted-foreground block",children:"Costo Produccin"}),N.jsxs("div",{className:"relative",children:[N.jsx("span",{className:"absolute left-2 top-2.5 text-xs text-muted-foreground",children:"S/"}),N.jsx(qr,{type:"number",...a(`variants.${se}.priceProduction`,{valueAsNumber:!0}),className:"pl-6 text-sm",placeholder:"0.00"})]})]}),N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{className:"text-[10px] text-primary font-bold block",children:"Precio al Pblico"}),N.jsxs("div",{className:"relative",children:[N.jsx("span",{className:"absolute left-2 top-2.5 text-xs text-primary font-bold",children:"S/"}),N.jsx(qr,{type:"number",...a(`variants.${se}.priceRetail`,{valueAsNumber:!0}),className:"pl-6 text-sm font-bold border-primary/20 bg-primary/5",placeholder:"0.00"})]})]})]})]}),N.jsxs("div",{className:"col-span-3 space-y-2",children:[N.jsx("label",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Stock"}),N.jsx(qr,{type:"number",...a(`variants.${se}.stock`,{valueAsNumber:!0}),className:"text-center"})]}),N.jsx("div",{className:"col-span-1 flex justify-end",children:N.jsx(Pr,{type:"button",variant:"ghost",size:"icon",onClick:()=>te(se),className:"text-muted-foreground hover:text-destructive",children:N.jsx(ty,{className:"h-5 w-5"})})})]}),N.jsx("div",{className:"mt-3 pt-3 border-t border-border/50 flex justify-between items-center",children:N.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["SKU FINAL: ",N.jsx("span",{className:"text-foreground bg-accent px-1.5 py-0.5 rounded",children:M?D0(M,c(`variants.${se}.color`),c(`variants.${se}.size`)):"..."})]})})]},H.id)),U.length===0&&N.jsxs("div",{className:"text-center py-10 bg-accent/5 rounded-xl border border-dashed border-border",children:[N.jsx("p",{className:"text-muted-foreground",children:"No has agregado variantes todava."}),N.jsx(Pr,{variant:"link",onClick:()=>j({color:"Unico",size:"U",priceProduction:0,priceRetail:0,stock:0,images:[]}),children:"+ Agregar primera variante"})]})]})]})]}),N.jsxs("div",{className:"flex justify-end pt-6 gap-4",children:[N.jsx(Pr,{type:"button",variant:"outline",size:"lg",className:"px-8",onClick:e,children:"Cancelar"}),N.jsxs(Pr,{type:"submit",size:"lg",className:"px-10 text-lg shadow-lg shadow-primary/20",children:[n?"Actualizar":"Registrar"," Producto"]})]})]})]})}function YD(){const[n,e]=Tt.useState("LIST"),[t,r]=Tt.useState(void 0),a=c=>{r(c),e("EDIT")},o=()=>{r(void 0),e("LIST")};return N.jsxs("div",{className:"h-full flex flex-col",children:[(n==="CREATE"||n==="EDIT")&&N.jsx("div",{className:"mb-4",children:N.jsxs(Pr,{variant:"ghost",onClick:o,className:"gap-2",children:[N.jsx(B6,{className:"h-4 w-4"})," Volver al Listado"]})}),n==="LIST"?N.jsx(bD,{onAddProduct:()=>{r(void 0),e("CREATE")},onEditProduct:a}):N.jsx(GD,{initialData:t,onComplete:o})]})}const WD="modulepreload",KD=function(n){return"/sistema-control-sede/"+n},kw={},Nm=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");a=d(t.map(f=>{if(f=KD(f),f in kw)return;kw[f]=!0;const g=f.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${b}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":WD,g||(A.as="script"),A.crossOrigin="",A.href=f,u&&A.setAttribute("nonce",u),document.head.appendChild(A),g)return new Promise((w,M)=>{A.addEventListener("load",w),A.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},zg=sy((n,e)=>({sales:[],promotions:[],loading:!0,initialized:!1,initializeSubscription:()=>{if(e().initialized)return()=>{};const t=Yy(Zm(bs,"sales"),Wy("createdAt","desc")),r=Hd(t,c=>{const u=c.docs.map(d=>({...d.data(),id:d.id}));n({sales:u})},c=>{console.error("Error fetching sales:",c),dn.error("Error cargando ventas desde la nube")}),a=Zm(bs,"promotions"),o=Hd(a,c=>{const u=c.docs.map(d=>({...d.data(),id:d.id}));u.length===0&&e().initialized,n({promotions:u})},c=>{console.error("Error fetching promotions:",c)});return n({initialized:!0,loading:!1}),()=>{r(),o()}},addSale:async t=>{try{await Yu(Ws(bs,"sales",t.id),t),dn.success("Venta registrada en la nube")}catch(r){throw console.error(r),dn.error("Error al guardar venta"),r}},updateSaleStatus:async(t,r)=>{try{await Vu(Ws(bs,"sales",t),{status:r,updatedAt:Date.now()}),dn.success("Estado actualizado")}catch(a){console.error(a),dn.error("Error al actualizar estado")}},addPromotion:async t=>{try{await Yu(Ws(bs,"promotions",t.id),t),dn.success("Promocin guardada")}catch(r){console.error(r),dn.error("Error al guardar promocin")}},togglePromotion:async t=>{const r=e().promotions.find(a=>a.id===t);if(r)try{await Vu(Ws(bs,"promotions",t),{isActive:!r.isActive})}catch(a){console.error(a),dn.error("Error al actualizar promocin")}},removePromotion:async t=>{const{deleteDoc:r}=await Nm(async()=>{const{deleteDoc:a}=await Promise.resolve().then(()=>yD);return{deleteDoc:a}},void 0);try{await r(Ws(bs,"promotions",t)),dn.success("Promocin eliminada")}catch(a){console.error(a),dn.error("Error al eliminar promocin")}},calculateCartTotal:(t,r,a=0)=>{const o=e().promotions.filter(g=>g.isActive);let c=new Set,u=0;t.forEach(g=>{let b=g.unitPrice*g.quantity;u+=b});let d=0;t.forEach(g=>{let b=g.unitPrice*g.quantity,A=0;o.forEach(w=>{let M=!1;switch(w.scope){case"GLOBAL":M=!0;break;case"COLLECTION":g.collection===w.target&&(M=!0);break;case"TYPE":g.type===w.target&&(M=!0);break;case"GENDER":g.gender===w.target&&(M=!0);break;case"PRODUCT":g.productName&&g.productName.includes(w.target||"")&&(M=!0);break}if(M){c.add(w.id);let V=w.type==="PERCENTAGE"?b*(w.value/100):w.value*g.quantity;V>A&&(A=V)}}),d+=A});let f=u-d-r+a;return f<0&&(f=0),{subtotal:u,discountTotal:d+r,shippingCost:a,total:f,appliedPromotions:Array.from(c)}}})),F2=[{name:"Lima Cercado",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Ancn",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Ate",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Barranco",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Brea",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Carabayllo",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Chaclacayo",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Chorrillos",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Cieneguilla",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Comas",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"El Agustino",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"Independencia",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"Jess Mara",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"La Molina",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"La Victoria",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"Lince",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Los Olivos",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Lurigancho",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Lurn",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Magdalena del Mar",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Miraflores",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Pachacmac",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Pucusana",department:"LIMA",basePrice:20,allowDoorDelivery:!1},{name:"Pueblo Libre",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Puente Piedra",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Punta Hermosa",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Punta Negra",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Rmac",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"San Bartolo",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"San Borja",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"San Isidro",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"San Juan de Lurigancho",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"San Juan de Miraflores",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"San Luis",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"San Martn de Porres",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"San Miguel",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Santa Anita",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Santa Mara del Mar",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Santa Rosa",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Santiago de Surco",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Surquillo",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Villa El Salvador",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Villa Mara del Triunfo",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Callao",department:"CALLAO",basePrice:10,allowDoorDelivery:!1},{name:"Bellavista",department:"CALLAO",basePrice:9,allowDoorDelivery:!0},{name:"Carmen de la Legua",department:"CALLAO",basePrice:9,allowDoorDelivery:!1},{name:"La Perla",department:"CALLAO",basePrice:9,allowDoorDelivery:!0},{name:"La Punta",department:"CALLAO",basePrice:10,allowDoorDelivery:!0},{name:"Ventanilla",department:"CALLAO",basePrice:12,allowDoorDelivery:!1},{name:"Mi Per",department:"CALLAO",basePrice:12,allowDoorDelivery:!1}];F2.sort((n,e)=>n.name.localeCompare(e.name));const Jy=sy((n,e)=>({globalShippingBase:5,districts:F2,loading:!0,initialized:!1,initializeSubscription:()=>{if(e().initialized)return()=>{};const t=Ws(bs,"settings","global"),r=Hd(t,async a=>{if(a.exists()){const o=a.data();n({globalShippingBase:o.globalShippingBase,districts:o.districts,loading:!1,initialized:!0})}else try{await Yu(t,{globalShippingBase:5,districts:F2})}catch(o){console.error("Error creating initial settings:",o),dn.error("Error inicializando configuracin en la nube")}},a=>{console.error(a),dn.error("No se pudo cargar la configuracin")});return n({initialized:!0}),r},updateGlobalShipping:async t=>{try{await Vu(Ws(bs,"settings","global"),{globalShippingBase:t}),dn.success("Tarifa base actualizada")}catch(r){console.error(r),dn.error("Error al guardar")}},updateDistrict:async(t,r)=>{const o=e().districts.map(c=>c.name===t?{...c,...r}:c);try{await Vu(Ws(bs,"settings","global"),{districts:o}),dn.success("Distrito actualizado")}catch(c){console.error(c),dn.error("Error al actualizar distrito")}},toggleDoorDelivery:async t=>{const a=e().districts.map(o=>o.name===t?{...o,allowDoorDelivery:!o.allowDoorDelivery}:o);try{await Vu(Ws(bs,"settings","global"),{districts:a})}catch(o){console.error(o),dn.error("Error al actualizar")}}}));function lr(n){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(n)}var Vo=Uint8Array,ja=Uint16Array,Zy=Int32Array,ev=new Vo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tv=new Vo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dw=new Vo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cS=function(n,e){for(var t=new ja(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new Zy(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},uS=cS(ev,2),$D=uS.b,U2=uS.r;$D[28]=258,U2[258]=28;var XD=cS(tv,0),Pw=XD.r,B2=new ja(32768);for(var Or=0;Or<32768;++Or){var Bc=(Or&43690)>>1|(Or&21845)<<1;Bc=(Bc&52428)>>2|(Bc&13107)<<2,Bc=(Bc&61680)>>4|(Bc&3855)<<4,B2[Or]=((Bc&65280)>>8|(Bc&255)<<8)>>1}var kd=(function(n,e,t){for(var r=n.length,a=0,o=new ja(e);a<r;++a)n[a]&&++o[n[a]-1];var c=new ja(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var u;if(t){u=new ja(1<<e);var d=15-e;for(a=0;a<r;++a)if(n[a])for(var f=a<<4|n[a],g=e-n[a],b=c[n[a]-1]++<<g,A=b|(1<<g)-1;b<=A;++b)u[B2[b]>>d]=f}else for(u=new ja(r),a=0;a<r;++a)n[a]&&(u[a]=B2[c[n[a]-1]++]>>15-n[a]);return u}),Wu=new Vo(288);for(var Or=0;Or<144;++Or)Wu[Or]=8;for(var Or=144;Or<256;++Or)Wu[Or]=9;for(var Or=256;Or<280;++Or)Wu[Or]=7;for(var Or=280;Or<288;++Or)Wu[Or]=8;var rg=new Vo(32);for(var Or=0;Or<32;++Or)rg[Or]=5;var QD=kd(Wu,9,0),JD=kd(rg,5,0),hS=function(n){return(n+7)/8|0},ZD=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Vo(n.subarray(e,t))},$l=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},vd=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},P0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:dS,l:0};if(a==1){var c=new Vo(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(se,fe){return se.f-fe.f}),t.push({s:-1,f:25001});var u=t[0],d=t[1],f=0,g=1,b=2;for(t[0]={s:-1,f:u.f+d.f,l:u,r:d};g!=a-1;)u=t[t[f].f<t[b].f?f++:b++],d=t[f!=g&&t[f].f<t[b].f?f++:b++],t[g++]={s:-1,f:u.f+d.f,l:u,r:d};for(var A=o[0].s,r=1;r<a;++r)o[r].s>A&&(A=o[r].s);var w=new ja(A+1),M=z2(t[g-1],w,0);if(M>e){var r=0,V=0,U=M-e,j=1<<U;for(o.sort(function(fe,q){return w[q.s]-w[fe.s]||fe.f-q.f});r<a;++r){var te=o[r].s;if(w[te]>e)V+=j-(1<<M-w[te]),w[te]=e;else break}for(V>>=U;V>0;){var ce=o[r].s;w[ce]<e?V-=1<<e-w[ce]++-1:++r}for(;r>=0&&V;--r){var H=o[r].s;w[H]==e&&(--w[H],++V)}M=e}return{t:new Vo(w),l:M}},z2=function(n,e,t){return n.s==-1?Math.max(z2(n.l,e,t+1),z2(n.r,e,t+1)):e[n.s]=t},Ow=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ja(++e),r=0,a=n[0],o=1,c=function(d){t[r++]=d},u=1;u<=e;++u)if(n[u]==a&&u!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[u]}return{c:t.subarray(0,r),n:e}},bd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},fS=function(n,e,t){var r=t.length,a=hS(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},Mw=function(n,e,t,r,a,o,c,u,d,f,g){$l(e,g++,t),++a[256];for(var b=P0(a,15),A=b.t,w=b.l,M=P0(o,15),V=M.t,U=M.l,j=Ow(A),te=j.c,ce=j.n,H=Ow(V),se=H.c,fe=H.n,q=new ja(19),k=0;k<te.length;++k)++q[te[k]&31];for(var k=0;k<se.length;++k)++q[se[k]&31];for(var D=P0(q,7),Y=D.t,T=D.l,R=19;R>4&&!Y[Dw[R-1]];--R);var L=f+5<<3,he=bd(a,Wu)+bd(o,rg)+c,Ae=bd(a,A)+bd(o,V)+c+14+3*R+bd(q,Y)+2*q[16]+3*q[17]+7*q[18];if(d>=0&&L<=he&&L<=Ae)return fS(e,g,n.subarray(d,d+f));var ee,pe,ue,Ce;if($l(e,g,1+(Ae<he)),g+=2,Ae<he){ee=kd(A,w,0),pe=A,ue=kd(V,U,0),Ce=V;var be=kd(Y,T,0);$l(e,g,ce-257),$l(e,g+5,fe-1),$l(e,g+10,R-4),g+=14;for(var k=0;k<R;++k)$l(e,g+3*k,Y[Dw[k]]);g+=3*R;for(var X=[te,se],P=0;P<2;++P)for(var z=X[P],k=0;k<z.length;++k){var K=z[k]&31;$l(e,g,be[K]),g+=Y[K],K>15&&($l(e,g,z[k]>>5&127),g+=z[k]>>12)}}else ee=QD,pe=Wu,ue=JD,Ce=rg;for(var k=0;k<u;++k){var re=r[k];if(re>255){var K=re>>18&31;vd(e,g,ee[K+257]),g+=pe[K+257],K>7&&($l(e,g,re>>23&31),g+=ev[K]);var de=re&31;vd(e,g,ue[de]),g+=Ce[de],de>3&&(vd(e,g,re>>5&8191),g+=tv[de])}else vd(e,g,ee[re]),g+=pe[re]}return vd(e,g,ee[256]),g+pe[256]},eP=new Zy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dS=new Vo(0),tP=function(n,e,t,r,a,o){var c=o.z||n.length,u=new Vo(r+c+5*(1+Math.ceil(c/7e3))+a),d=u.subarray(r,u.length-a),f=o.l,g=(o.r||0)&7;if(e){g&&(d[0]=o.r>>3);for(var b=eP[e-1],A=b>>13,w=b&8191,M=(1<<t)-1,V=o.p||new ja(32768),U=o.h||new ja(M+1),j=Math.ceil(t/3),te=2*j,ce=function(yt){return(n[yt]^n[yt+1]<<j^n[yt+2]<<te)&M},H=new Zy(25e3),se=new ja(288),fe=new ja(32),q=0,k=0,D=o.i||0,Y=0,T=o.w||0,R=0;D+2<c;++D){var L=ce(D),he=D&32767,Ae=U[L];if(V[he]=Ae,U[L]=he,T<=D){var ee=c-D;if((q>7e3||Y>24576)&&(ee>423||!f)){g=Mw(n,d,0,H,se,fe,k,Y,R,D-R,g),Y=q=k=0,R=D;for(var pe=0;pe<286;++pe)se[pe]=0;for(var pe=0;pe<30;++pe)fe[pe]=0}var ue=2,Ce=0,be=w,X=he-Ae&32767;if(ee>2&&L==ce(D-X))for(var P=Math.min(A,ee)-1,z=Math.min(32767,D),K=Math.min(258,ee);X<=z&&--be&&he!=Ae;){if(n[D+ue]==n[D+ue-X]){for(var re=0;re<K&&n[D+re]==n[D+re-X];++re);if(re>ue){if(ue=re,Ce=X,re>P)break;for(var de=Math.min(X,re-2),ye=0,pe=0;pe<de;++pe){var Ee=D-X+pe&32767,Le=V[Ee],Ue=Ee-Le&32767;Ue>ye&&(ye=Ue,Ae=Ee)}}}he=Ae,Ae=V[he],X+=he-Ae&32767}if(Ce){H[Y++]=268435456|U2[ue]<<18|Pw[Ce];var et=U2[ue]&31,ot=Pw[Ce]&31;k+=ev[et]+tv[ot],++se[257+et],++fe[ot],T=D+ue,++q}else H[Y++]=n[D],++se[n[D]]}}for(D=Math.max(D,T);D<c;++D)H[Y++]=n[D],++se[n[D]];g=Mw(n,d,f,H,se,fe,k,Y,R,D-R,g),f||(o.r=g&7|d[g/8|0]<<3,g-=7,o.h=U,o.p=V,o.i=D,o.w=T)}else{for(var D=o.w||0;D<c+f;D+=65535){var ct=D+65535;ct>=c&&(d[g/8|0]=f,ct=c),g=fS(d,g+1,n.subarray(D,ct))}o.i=c}return ZD(u,0,r+hS(g)+a)},pS=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)a+=r+=t[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},nP=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new Vo(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return tP(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},mS=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},rP=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=pS();a.p(e.dictionary),mS(n,2,a.d())}};function q2(n,e){e||(e={});var t=pS();t.p(n);var r=nP(n,e,e.dictionary?6:2,4);return rP(r,e),mS(r,r.length-4,t.d()),r}var iP=typeof TextDecoder<"u"&&new TextDecoder,sP=0;try{iP.decode(dS,{stream:!0}),sP=1}catch{}function aP(n){if(Array.isArray(n))return n}function oP(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,c,u=[],d=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(d=(r=o.call(t)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return u}}function jw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function lP(n,e){if(n){if(typeof n=="string")return jw(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jw(n,e):void 0}}function cP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vw(n,e){return aP(n)||oP(n,e)||lP(n,e)||cP()}function Fw(n,e="utf8"){return new TextDecoder(e).decode(n)}const uP=new TextEncoder;function hP(n){return uP.encode(n)}const fP=1024*8,dP=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),O0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class nv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=fP,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof nv)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=O0[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===dP&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+r));u.reverse();const d=new O0[t](u.buffer);return this.offset+=r,d.reverse(),d}const c=new O0[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Fw(this.readBytes(e))}decodeText(e=1,t="utf8"){return Fw(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(hP(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Rf(n){let e=n.length;for(;--e>=0;)n[e]=0}const pP=3,mP=258,gS=29,gP=256,yP=gP+1+gS,yS=30,vP=512,bP=new Array((yP+2)*2);Rf(bP);const _P=new Array(yS*2);Rf(_P);const wP=new Array(vP);Rf(wP);const xP=new Array(mP-pP+1);Rf(xP);const AP=new Array(gS);Rf(AP);const SP=new Array(yS);Rf(SP);const EP=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[r++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var H2=EP;const NP=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},TP=new Uint32Array(NP()),CP=(n,e,t,r)=>{const a=TP,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var ul=CP,G2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const IP=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var RP=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)IP(t,r)&&(n[r]=t[r])}}return n},LP=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let c=n[r];t.set(c,a),a+=c.length}return t},bS={assign:RP,flattenChunks:LP};let _S=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_S=!1}const Gd=new Uint8Array(256);for(let n=0;n<256;n++)Gd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Gd[254]=Gd[254]=1;var kP=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,c=n.length,u=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),o=0,a=0;o<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const DP=(n,e)=>{if(e<65534&&n.subarray&&_S)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var PP=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let c=n[r++];if(c<128){o[a++]=c;continue}let u=Gd[c];if(u>4){o[a++]=65533,r+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&r<t;)c=c<<6|n[r++]&63,u--;if(u>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return DP(o,a)},OP=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Gd[n[t]]>e?t:e},Y2={string2buf:kP,buf2string:PP,utf8border:OP};function MP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var jP=MP;const om=16209,VP=16191;var FP=function(e,t){let r,a,o,c,u,d,f,g,b,A,w,M,V,U,j,te,ce,H,se,fe,q,k,D,Y;const T=e.state;r=e.next_in,D=e.input,a=r+(e.avail_in-5),o=e.next_out,Y=e.output,c=o-(t-e.avail_out),u=o+(e.avail_out-257),d=T.dmax,f=T.wsize,g=T.whave,b=T.wnext,A=T.window,w=T.hold,M=T.bits,V=T.lencode,U=T.distcode,j=(1<<T.lenbits)-1,te=(1<<T.distbits)-1;e:do{M<15&&(w+=D[r++]<<M,M+=8,w+=D[r++]<<M,M+=8),ce=V[w&j];t:for(;;){if(H=ce>>>24,w>>>=H,M-=H,H=ce>>>16&255,H===0)Y[o++]=ce&65535;else if(H&16){se=ce&65535,H&=15,H&&(M<H&&(w+=D[r++]<<M,M+=8),se+=w&(1<<H)-1,w>>>=H,M-=H),M<15&&(w+=D[r++]<<M,M+=8,w+=D[r++]<<M,M+=8),ce=U[w&te];n:for(;;){if(H=ce>>>24,w>>>=H,M-=H,H=ce>>>16&255,H&16){if(fe=ce&65535,H&=15,M<H&&(w+=D[r++]<<M,M+=8,M<H&&(w+=D[r++]<<M,M+=8)),fe+=w&(1<<H)-1,fe>d){e.msg="invalid distance too far back",T.mode=om;break e}if(w>>>=H,M-=H,H=o-c,fe>H){if(H=fe-H,H>g&&T.sane){e.msg="invalid distance too far back",T.mode=om;break e}if(q=0,k=A,b===0){if(q+=f-H,H<se){se-=H;do Y[o++]=A[q++];while(--H);q=o-fe,k=Y}}else if(b<H){if(q+=f+b-H,H-=b,H<se){se-=H;do Y[o++]=A[q++];while(--H);if(q=0,b<se){H=b,se-=H;do Y[o++]=A[q++];while(--H);q=o-fe,k=Y}}}else if(q+=b-H,H<se){se-=H;do Y[o++]=A[q++];while(--H);q=o-fe,k=Y}for(;se>2;)Y[o++]=k[q++],Y[o++]=k[q++],Y[o++]=k[q++],se-=3;se&&(Y[o++]=k[q++],se>1&&(Y[o++]=k[q++]))}else{q=o-fe;do Y[o++]=Y[q++],Y[o++]=Y[q++],Y[o++]=Y[q++],se-=3;while(se>2);se&&(Y[o++]=Y[q++],se>1&&(Y[o++]=Y[q++]))}}else if((H&64)===0){ce=U[(ce&65535)+(w&(1<<H)-1)];continue n}else{e.msg="invalid distance code",T.mode=om;break e}break}}else if((H&64)===0){ce=V[(ce&65535)+(w&(1<<H)-1)];continue t}else if(H&32){T.mode=VP;break e}else{e.msg="invalid literal/length code",T.mode=om;break e}break}}while(r<a&&o<u);se=M>>3,r-=se,M-=se<<3,w&=(1<<M)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<u?257+(u-o):257-(o-u),T.hold=w,T.bits=M};const Mh=15,Uw=852,Bw=592,zw=0,M0=1,qw=2,UP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HP=(n,e,t,r,a,o,c,u)=>{const d=u.bits;let f=0,g=0,b=0,A=0,w=0,M=0,V=0,U=0,j=0,te=0,ce,H,se,fe,q,k=null,D;const Y=new Uint16Array(Mh+1),T=new Uint16Array(Mh+1);let R=null,L,he,Ae;for(f=0;f<=Mh;f++)Y[f]=0;for(g=0;g<r;g++)Y[e[t+g]]++;for(w=d,A=Mh;A>=1&&Y[A]===0;A--);if(w>A&&(w=A),A===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,u.bits=1,0;for(b=1;b<A&&Y[b]===0;b++);for(w<b&&(w=b),U=1,f=1;f<=Mh;f++)if(U<<=1,U-=Y[f],U<0)return-1;if(U>0&&(n===zw||A!==1))return-1;for(T[1]=0,f=1;f<Mh;f++)T[f+1]=T[f]+Y[f];for(g=0;g<r;g++)e[t+g]!==0&&(c[T[e[t+g]]++]=g);if(n===zw?(k=R=c,D=20):n===M0?(k=UP,R=BP,D=257):(k=zP,R=qP,D=0),te=0,g=0,f=b,q=o,M=w,V=0,se=-1,j=1<<w,fe=j-1,n===M0&&j>Uw||n===qw&&j>Bw)return 1;for(;;){L=f-V,c[g]+1<D?(he=0,Ae=c[g]):c[g]>=D?(he=R[c[g]-D],Ae=k[c[g]-D]):(he=96,Ae=0),ce=1<<f-V,H=1<<M,b=H;do H-=ce,a[q+(te>>V)+H]=L<<24|he<<16|Ae|0;while(H!==0);for(ce=1<<f-1;te&ce;)ce>>=1;if(ce!==0?(te&=ce-1,te+=ce):te=0,g++,--Y[f]===0){if(f===A)break;f=e[t+c[g]]}if(f>w&&(te&fe)!==se){for(V===0&&(V=w),q+=b,M=f-V,U=1<<M;M+V<A&&(U-=Y[M+V],!(U<=0));)M++,U<<=1;if(j+=1<<M,n===M0&&j>Uw||n===qw&&j>Bw)return 1;se=te&fe,a[se]=w<<24|M<<16|q-o|0}}return te!==0&&(a[q+te]=f-V<<24|64<<16|0),u.bits=w,0};var Dd=HP;const GP=0,wS=1,xS=2,{Z_FINISH:Hw,Z_BLOCK:YP,Z_TREES:lm,Z_OK:Ku,Z_STREAM_END:WP,Z_NEED_DICT:KP,Z_STREAM_ERROR:oo,Z_DATA_ERROR:AS,Z_MEM_ERROR:SS,Z_BUF_ERROR:$P,Z_DEFLATED:Gw}=vS,qg=16180,Yw=16181,Ww=16182,Kw=16183,$w=16184,Xw=16185,Qw=16186,Jw=16187,Zw=16188,ex=16189,ig=16190,Xl=16191,j0=16192,tx=16193,V0=16194,nx=16195,rx=16196,ix=16197,sx=16198,cm=16199,um=16200,ax=16201,ox=16202,lx=16203,cx=16204,ux=16205,F0=16206,hx=16207,fx=16208,zr=16209,ES=16210,NS=16211,XP=852,QP=592,JP=15,ZP=JP,dx=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function eO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ju=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<qg||e.mode>NS?1:0},TS=n=>{if(Ju(n))return oo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=qg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(XP),e.distcode=e.distdyn=new Int32Array(QP),e.sane=1,e.back=-1,Ku},CS=n=>{if(Ju(n))return oo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,TS(n)},IS=(n,e)=>{let t;if(Ju(n))return oo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?oo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,CS(n))},RS=(n,e)=>{if(!n)return oo;const t=new eO;n.state=t,t.strm=n,t.window=null,t.mode=qg;const r=IS(n,e);return r!==Ku&&(n.state=null),r},tO=n=>RS(n,ZP);let px=!0,U0,B0;const nO=n=>{if(px){U0=new Int32Array(512),B0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Dd(wS,n.lens,0,288,U0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Dd(xS,n.lens,0,32,B0,0,n.work,{bits:5}),px=!1}n.lencode=U0,n.lenbits=9,n.distcode=B0,n.distbits=5},LS=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},rO=(n,e)=>{let t,r,a,o,c,u,d,f,g,b,A,w,M,V,U=0,j,te,ce,H,se,fe,q,k;const D=new Uint8Array(4);let Y,T;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ju(n)||!n.output||!n.input&&n.avail_in!==0)return oo;t=n.state,t.mode===Xl&&(t.mode=j0),c=n.next_out,a=n.output,d=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,f=t.hold,g=t.bits,b=u,A=d,k=Ku;e:for(;;)switch(t.mode){case qg:if(t.wrap===0){t.mode=j0;break}for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=f&255,D[1]=f>>>8&255,t.check=ul(t.check,D,2,0),f=0,g=0,t.mode=Yw;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=zr;break}if((f&15)!==Gw){n.msg="unknown compression method",t.mode=zr;break}if(f>>>=4,g-=4,q=(f&15)+8,t.wbits===0&&(t.wbits=q),q>15||q>t.wbits){n.msg="invalid window size",t.mode=zr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?ex:Xl,f=0,g=0;break;case Yw:for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.flags=f,(t.flags&255)!==Gw){n.msg="unknown compression method",t.mode=zr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=zr;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,t.check=ul(t.check,D,2,0)),f=0,g=0,t.mode=Ww;case Ww:for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,D[2]=f>>>16&255,D[3]=f>>>24&255,t.check=ul(t.check,D,4,0)),f=0,g=0,t.mode=Kw;case Kw:for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,t.check=ul(t.check,D,2,0)),f=0,g=0,t.mode=$w;case $w:if(t.flags&1024){for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,t.check=ul(t.check,D,2,0)),f=0,g=0}else t.head&&(t.head.extra=null);t.mode=Xw;case Xw:if(t.flags&1024&&(w=t.length,w>u&&(w=u),w&&(t.head&&(q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+w),q)),t.flags&512&&t.wrap&4&&(t.check=ul(t.check,r,w,o)),u-=w,o+=w,t.length-=w),t.length))break e;t.length=0,t.mode=Qw;case Qw:if(t.flags&2048){if(u===0)break e;w=0;do q=r[o+w++],t.head&&q&&t.length<65536&&(t.head.name+=String.fromCharCode(q));while(q&&w<u);if(t.flags&512&&t.wrap&4&&(t.check=ul(t.check,r,w,o)),u-=w,o+=w,q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Jw;case Jw:if(t.flags&4096){if(u===0)break e;w=0;do q=r[o+w++],t.head&&q&&t.length<65536&&(t.head.comment+=String.fromCharCode(q));while(q&&w<u);if(t.flags&512&&t.wrap&4&&(t.check=ul(t.check,r,w,o)),u-=w,o+=w,q)break e}else t.head&&(t.head.comment=null);t.mode=Zw;case Zw:if(t.flags&512){for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=zr;break}f=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Xl;break;case ex:for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}n.adler=t.check=dx(f),f=0,g=0,t.mode=ig;case ig:if(t.havedict===0)return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,KP;n.adler=t.check=1,t.mode=Xl;case Xl:if(e===YP||e===lm)break e;case j0:if(t.last){f>>>=g&7,g-=g&7,t.mode=F0;break}for(;g<3;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}switch(t.last=f&1,f>>>=1,g-=1,f&3){case 0:t.mode=tx;break;case 1:if(nO(t),t.mode=cm,e===lm){f>>>=2,g-=2;break e}break;case 2:t.mode=rx;break;case 3:n.msg="invalid block type",t.mode=zr}f>>>=2,g-=2;break;case tx:for(f>>>=g&7,g-=g&7;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=zr;break}if(t.length=f&65535,f=0,g=0,t.mode=V0,e===lm)break e;case V0:t.mode=nx;case nx:if(w=t.length,w){if(w>u&&(w=u),w>d&&(w=d),w===0)break e;a.set(r.subarray(o,o+w),c),u-=w,o+=w,d-=w,c+=w,t.length-=w;break}t.mode=Xl;break;case rx:for(;g<14;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.nlen=(f&31)+257,f>>>=5,g-=5,t.ndist=(f&31)+1,f>>>=5,g-=5,t.ncode=(f&15)+4,f>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=zr;break}t.have=0,t.mode=ix;case ix:for(;t.have<t.ncode;){for(;g<3;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.lens[R[t.have++]]=f&7,f>>>=3,g-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Y={bits:t.lenbits},k=Dd(GP,t.lens,0,19,t.lencode,0,t.work,Y),t.lenbits=Y.bits,k){n.msg="invalid code lengths set",t.mode=zr;break}t.have=0,t.mode=sx;case sx:for(;t.have<t.nlen+t.ndist;){for(;U=t.lencode[f&(1<<t.lenbits)-1],j=U>>>24,te=U>>>16&255,ce=U&65535,!(j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(ce<16)f>>>=j,g-=j,t.lens[t.have++]=ce;else{if(ce===16){for(T=j+2;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(f>>>=j,g-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=zr;break}q=t.lens[t.have-1],w=3+(f&3),f>>>=2,g-=2}else if(ce===17){for(T=j+3;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=j,g-=j,q=0,w=3+(f&7),f>>>=3,g-=3}else{for(T=j+7;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=j,g-=j,q=0,w=11+(f&127),f>>>=7,g-=7}if(t.have+w>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=zr;break}for(;w--;)t.lens[t.have++]=q}}if(t.mode===zr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=zr;break}if(t.lenbits=9,Y={bits:t.lenbits},k=Dd(wS,t.lens,0,t.nlen,t.lencode,0,t.work,Y),t.lenbits=Y.bits,k){n.msg="invalid literal/lengths set",t.mode=zr;break}if(t.distbits=6,t.distcode=t.distdyn,Y={bits:t.distbits},k=Dd(xS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Y),t.distbits=Y.bits,k){n.msg="invalid distances set",t.mode=zr;break}if(t.mode=cm,e===lm)break e;case cm:t.mode=um;case um:if(u>=6&&d>=258){n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,FP(n,A),c=n.next_out,a=n.output,d=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,f=t.hold,g=t.bits,t.mode===Xl&&(t.back=-1);break}for(t.back=0;U=t.lencode[f&(1<<t.lenbits)-1],j=U>>>24,te=U>>>16&255,ce=U&65535,!(j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(te&&(te&240)===0){for(H=j,se=te,fe=ce;U=t.lencode[fe+((f&(1<<H+se)-1)>>H)],j=U>>>24,te=U>>>16&255,ce=U&65535,!(H+j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=H,g-=H,t.back+=H}if(f>>>=j,g-=j,t.back+=j,t.length=ce,te===0){t.mode=ux;break}if(te&32){t.back=-1,t.mode=Xl;break}if(te&64){n.msg="invalid literal/length code",t.mode=zr;break}t.extra=te&15,t.mode=ax;case ax:if(t.extra){for(T=t.extra;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ox;case ox:for(;U=t.distcode[f&(1<<t.distbits)-1],j=U>>>24,te=U>>>16&255,ce=U&65535,!(j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if((te&240)===0){for(H=j,se=te,fe=ce;U=t.distcode[fe+((f&(1<<H+se)-1)>>H)],j=U>>>24,te=U>>>16&255,ce=U&65535,!(H+j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=H,g-=H,t.back+=H}if(f>>>=j,g-=j,t.back+=j,te&64){n.msg="invalid distance code",t.mode=zr;break}t.offset=ce,t.extra=te&15,t.mode=lx;case lx:if(t.extra){for(T=t.extra;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=zr;break}t.mode=cx;case cx:if(d===0)break e;if(w=A-d,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=zr;break}w>t.wnext?(w-=t.wnext,M=t.wsize-w):M=t.wnext-w,w>t.length&&(w=t.length),V=t.window}else V=a,M=c-t.offset,w=t.length;w>d&&(w=d),d-=w,t.length-=w;do a[c++]=V[M++];while(--w);t.length===0&&(t.mode=um);break;case ux:if(d===0)break e;a[c++]=t.length,d--,t.mode=um;break;case F0:if(t.wrap){for(;g<32;){if(u===0)break e;u--,f|=r[o++]<<g,g+=8}if(A-=d,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?ul(t.check,a,A,c-A):H2(t.check,a,A,c-A)),A=d,t.wrap&4&&(t.flags?f:dx(f))!==t.check){n.msg="incorrect data check",t.mode=zr;break}f=0,g=0}t.mode=hx;case hx:if(t.wrap&&t.flags){for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=zr;break}f=0,g=0}t.mode=fx;case fx:k=WP;break e;case zr:k=AS;break e;case ES:return SS;case NS:default:return oo}return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,(t.wsize||A!==n.avail_out&&t.mode<zr&&(t.mode<F0||e!==Hw))&&LS(n,n.output,n.next_out,A-n.avail_out),b-=n.avail_in,A-=n.avail_out,n.total_in+=b,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?ul(t.check,a,A,n.next_out-A):H2(t.check,a,A,n.next_out-A)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Xl?128:0)+(t.mode===cm||t.mode===V0?256:0),(b===0&&A===0||e===Hw)&&k===Ku&&(k=$P),k},iO=n=>{if(Ju(n))return oo;let e=n.state;return e.window&&(e.window=null),n.state=null,Ku},sO=(n,e)=>{if(Ju(n))return oo;const t=n.state;return(t.wrap&2)===0?oo:(t.head=e,e.done=!1,Ku)},aO=(n,e)=>{const t=e.length;let r,a,o;return Ju(n)||(r=n.state,r.wrap!==0&&r.mode!==ig)?oo:r.mode===ig&&(a=1,a=H2(a,e,t,0),a!==r.check)?AS:(o=LS(n,e,t,t),o?(r.mode=ES,SS):(r.havedict=1,Ku))};var oO=CS,lO=IS,cO=TS,uO=tO,hO=RS,fO=rO,dO=iO,pO=sO,mO=aO,gO="pako inflate (from Nodeca project)",Ql={inflateReset:oO,inflateReset2:lO,inflateResetKeep:cO,inflateInit:uO,inflateInit2:hO,inflate:fO,inflateEnd:dO,inflateGetHeader:pO,inflateSetDictionary:mO,inflateInfo:gO};function yO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vO=yO;const kS=Object.prototype.toString,{Z_NO_FLUSH:bO,Z_FINISH:_O,Z_OK:Yd,Z_STREAM_END:z0,Z_NEED_DICT:q0,Z_STREAM_ERROR:wO,Z_DATA_ERROR:mx,Z_MEM_ERROR:xO}=vS;function sp(n){this.options=bS.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jP,this.strm.avail_out=0;let t=Ql.inflateInit2(this.strm,e.windowBits);if(t!==Yd)throw new Error(G2[t]);if(this.header=new vO,Ql.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Y2.string2buf(e.dictionary):kS.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ql.inflateSetDictionary(this.strm,e.dictionary),t!==Yd)))throw new Error(G2[t])}sp.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?_O:bO,kS.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Ql.inflate(t,c),o===q0&&a&&(o=Ql.inflateSetDictionary(t,a),o===Yd?o=Ql.inflate(t,c):o===mx&&(o=q0));t.avail_in>0&&o===z0&&t.state.wrap>0&&n[t.next_in]!==0;)Ql.inflateReset(t),o=Ql.inflate(t,c);switch(o){case wO:case mx:case q0:case xO:return this.onEnd(o),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||o===z0))if(this.options.to==="string"){let d=Y2.utf8border(t.output,t.next_out),f=t.next_out-d,g=Y2.buf2string(t.output,d);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(d,d+f),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Yd&&u===0)){if(o===z0)return o=Ql.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};sp.prototype.onData=function(n){this.chunks.push(n)};sp.prototype.onEnd=function(n){n===Yd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function AO(n,e){const t=new sp(e);if(t.push(n),t.err)throw t.msg||G2[t.err];return t.result}var SO=sp,EO=AO,NO={Inflate:SO,inflate:EO};const{Inflate:TO,inflate:CO}=NO;var gx=TO,IO=CO;const DS=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;DS[n]=e}const yx=4294967295;function RO(n,e,t){let r=n;for(let a=0;a<t;a++)r=DS[(r^e[a])&255]^r>>>8;return r}function LO(n,e){return(RO(yx,n,e)^yx)>>>0}function vx(n,e,t){const r=n.readUint32(),a=LO(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function PS(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function OS(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function MS(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function jS(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function VS(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+kO(e[o-a],t[o],t[o-a])&255}}function kO(n,e,t){const r=n+e-t,a=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return a<=o&&a<=c?n:o<=c?e:t}function DO(n,e,t,r,a,o){switch(n){case 0:PS(e,t,a);break;case 1:OS(e,t,a,o);break;case 2:MS(e,t,r,a);break;case 3:jS(e,t,r,a,o);break;case 4:VS(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const PO=new Uint16Array([255]),OO=new Uint8Array(PO.buffer),MO=OO[0]===255;function jO(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*a,d=new Uint8Array(r*t*u);let f=0;for(let g=0;g<7;g++){const b=c[g],A=Math.ceil((t-b.x)/b.xStep),w=Math.ceil((r-b.y)/b.yStep);if(A<=0||w<=0)continue;const M=A*u,V=new Uint8Array(M);for(let U=0;U<w;U++){const j=e[f++],te=e.subarray(f,f+M);f+=M;const ce=new Uint8Array(M);DO(j,te,ce,V,M,u),V.set(ce);for(let H=0;H<A;H++){const se=b.x+H*b.xStep,fe=b.y+U*b.yStep;if(!(se>=t||fe>=r))for(let q=0;q<u;q++)d[(fe*t+se)*u+q]=ce[H*u+q]}}}if(o===16){const g=new Uint16Array(d.buffer);if(MO)for(let b=0;b<g.length;b++)g[b]=VO(g[b]);return g}else return d}function VO(n){return(n&255)<<8|n>>8&255}const FO=new Uint16Array([255]),UO=new Uint8Array(FO.buffer),BO=UO[0]===255,zO=new Uint8Array(0);function bx(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,u=Math.ceil(o/8*a*t),d=new Uint8Array(r*u);let f=zO,g=0,b,A;for(let w=0;w<r;w++){switch(b=e.subarray(g+1,g+1+u),A=d.subarray(w*u,(w+1)*u),e[g]){case 0:PS(b,A,u);break;case 1:OS(b,A,u,c);break;case 2:MS(b,A,f,u);break;case 3:jS(b,A,f,u,c);break;case 4:VS(b,A,f,u,c);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}f=A,g+=u+1}if(o===16){const w=new Uint16Array(d.buffer);if(BO)for(let M=0;M<w.length;M++)w[M]=qO(w[M]);return w}else return d}function qO(n){return(n&255)<<8|n>>8&255}const Tm=Uint8Array.of(137,80,78,71,13,10,26,10);function _x(n){if(!HO(n.readBytes(Tm.length)))throw new Error("wrong PNG signature")}function HO(n){if(n.length<Tm.length)return!1;for(let e=0;e<Tm.length;e++)if(n[e]!==Tm[e])return!1;return!0}const GO="tEXt",YO=0,FS=new TextDecoder("latin1");function WO(n){if($O(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const KO=/^[\u0000-\u00FF]*$/;function $O(n){if(!KO.test(n))throw new Error("invalid latin1 text")}function XO(n,e,t){const r=US(e);n[r]=QO(e,t-r.length-1)}function US(n){for(n.mark();n.readByte()!==YO;);const e=n.offset;n.reset();const t=FS.decode(n.readBytes(e-n.offset-1));return n.skip(1),WO(t),t}function QO(n,e){return FS.decode(n.readBytes(e))}const Da={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},H0={UNKNOWN:-1,DEFLATE:0},wx={UNKNOWN:-1,ADAPTIVE:0},G0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},hm={NONE:0,BACKGROUND:1,PREVIOUS:2},Y0={SOURCE:0,OVER:1};class JO extends nv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new gx,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=H0.UNKNOWN,this._filterMethod=wx.UNKNOWN,this._interlaceMethod=G0.UNKNOWN,this._colorType=Da.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(_x(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(_x(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case GO:XO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?vx(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?vx(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=ZO(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Da.GREYSCALE:r=1;break;case Da.TRUECOLOUR:r=3;break;case Da.INDEXED_COLOUR:r=1;break;case Da.GREYSCALE_ALPHA:r=2;break;case Da.TRUECOLOUR_ALPHA:r=4;break;case Da.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==H0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Da.GREYSCALE:case Da.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Da.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Da.UNKNOWN:case Da.GREYSCALE_ALPHA:case Da.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=US(this),r=this.readUint8();if(r!==H0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:IO(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=bx({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case hm.NONE:break;case hm.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*e.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[c+u]=0}break;case hm.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,c)=>{const u=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,d=(o*t.width+c)*this._png.channels;return{index:u,frameIndex:d}};switch(t.blendOp){case Y0.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:d}=a(o,c);for(let f=0;f<this._png.channels;f++)e.data[u+f]=t.data[d+f]}break;case Y0.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:d}=a(o,c);for(let f=0;f<this._png.channels;f++){const g=t.data[d+this._png.channels-1]/r,b=f%(this._png.channels-1)===0?1:t.data[d+f],A=Math.floor(g*b+(1-g)*e.data[u+f]);e.data[u+f]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==wx.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===G0.NO_INTERLACE)this._png.data=bx({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===G0.ADAM7)this._png.data=jO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:hm.NONE,blendOp:Y0.SOURCE,data:e}),this._inflator=new gx,this._writingDataChunks=!1}}function ZO(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var xx;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(xx||(xx={}));function e9(n,e){return new JO(n,e).decode()}var sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function W0(){sn.console&&typeof sn.console.log=="function"&&sn.console.log.apply(sn.console,arguments)}var wr={log:W0,warn:function(n){sn.console&&(typeof sn.console.warn=="function"?sn.console.warn.apply(sn.console,arguments):W0.call(null,arguments))},error:function(n){sn.console&&(typeof sn.console.error=="function"?sn.console.error.apply(sn.console,arguments):W0(n))}};function K0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Du(r.response,e,t)},r.onerror=function(){wr.error("could not download file")},r.send()}function Ax(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function fm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Du=sn.saveAs||((typeof window>"u"?"undefined":lr(window))!=="object"||window!==sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=sn.URL||sn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Ax(a.href)?K0(n,e,t):fm(a,a.target="_blank"):fm(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){fm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Ax(n))K0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){fm(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:lr(o)!=="object"&&(wr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return K0(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(sn.HTMLElement)||sn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":lr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var g=u.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},u.readAsDataURL(n)}else{var d=sn.URL||sn.webkitURL,f=d.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});function BS(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,c=a.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+u+d+f}}var Cm=sn.atob.bind(sn),Sx=sn.btoa.bind(sn);function $0(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=Is(t,r,a,o,e[0],7,-680876936),o=Is(o,t,r,a,e[1],12,-389564586),a=Is(a,o,t,r,e[2],17,606105819),r=Is(r,a,o,t,e[3],22,-1044525330),t=Is(t,r,a,o,e[4],7,-176418897),o=Is(o,t,r,a,e[5],12,1200080426),a=Is(a,o,t,r,e[6],17,-1473231341),r=Is(r,a,o,t,e[7],22,-45705983),t=Is(t,r,a,o,e[8],7,1770035416),o=Is(o,t,r,a,e[9],12,-1958414417),a=Is(a,o,t,r,e[10],17,-42063),r=Is(r,a,o,t,e[11],22,-1990404162),t=Is(t,r,a,o,e[12],7,1804603682),o=Is(o,t,r,a,e[13],12,-40341101),a=Is(a,o,t,r,e[14],17,-1502002290),t=Rs(t,r=Is(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Rs(o,t,r,a,e[6],9,-1069501632),a=Rs(a,o,t,r,e[11],14,643717713),r=Rs(r,a,o,t,e[0],20,-373897302),t=Rs(t,r,a,o,e[5],5,-701558691),o=Rs(o,t,r,a,e[10],9,38016083),a=Rs(a,o,t,r,e[15],14,-660478335),r=Rs(r,a,o,t,e[4],20,-405537848),t=Rs(t,r,a,o,e[9],5,568446438),o=Rs(o,t,r,a,e[14],9,-1019803690),a=Rs(a,o,t,r,e[3],14,-187363961),r=Rs(r,a,o,t,e[8],20,1163531501),t=Rs(t,r,a,o,e[13],5,-1444681467),o=Rs(o,t,r,a,e[2],9,-51403784),a=Rs(a,o,t,r,e[7],14,1735328473),t=Ls(t,r=Rs(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Ls(o,t,r,a,e[8],11,-2022574463),a=Ls(a,o,t,r,e[11],16,1839030562),r=Ls(r,a,o,t,e[14],23,-35309556),t=Ls(t,r,a,o,e[1],4,-1530992060),o=Ls(o,t,r,a,e[4],11,1272893353),a=Ls(a,o,t,r,e[7],16,-155497632),r=Ls(r,a,o,t,e[10],23,-1094730640),t=Ls(t,r,a,o,e[13],4,681279174),o=Ls(o,t,r,a,e[0],11,-358537222),a=Ls(a,o,t,r,e[3],16,-722521979),r=Ls(r,a,o,t,e[6],23,76029189),t=Ls(t,r,a,o,e[9],4,-640364487),o=Ls(o,t,r,a,e[12],11,-421815835),a=Ls(a,o,t,r,e[15],16,530742520),t=ks(t,r=Ls(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ks(o,t,r,a,e[7],10,1126891415),a=ks(a,o,t,r,e[14],15,-1416354905),r=ks(r,a,o,t,e[5],21,-57434055),t=ks(t,r,a,o,e[12],6,1700485571),o=ks(o,t,r,a,e[3],10,-1894986606),a=ks(a,o,t,r,e[10],15,-1051523),r=ks(r,a,o,t,e[1],21,-2054922799),t=ks(t,r,a,o,e[8],6,1873313359),o=ks(o,t,r,a,e[15],10,-30611744),a=ks(a,o,t,r,e[6],15,-1560198380),r=ks(r,a,o,t,e[13],21,1309151649),t=ks(t,r,a,o,e[4],6,-145523070),o=ks(o,t,r,a,e[11],10,-1120210379),a=ks(a,o,t,r,e[2],15,718787259),r=ks(r,a,o,t,e[9],21,-343485551),n[0]=$c(t,n[0]),n[1]=$c(r,n[1]),n[2]=$c(a,n[2]),n[3]=$c(o,n[3])}function Hg(n,e,t,r,a,o){return e=$c($c(e,n),$c(r,o)),$c(e<<a|e>>>32-a,t)}function Is(n,e,t,r,a,o,c){return Hg(e&t|~e&r,n,e,a,o,c)}function Rs(n,e,t,r,a,o,c){return Hg(e&r|t&~r,n,e,a,o,c)}function Ls(n,e,t,r,a,o,c){return Hg(e^t^r,n,e,a,o,c)}function ks(n,e,t,r,a,o,c){return Hg(t^(e|~r),n,e,a,o,c)}function zS(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)$0(r,t9(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for($0(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,$0(r,a),r}function t9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Ex="0123456789abcdef".split("");function n9(n){for(var e="",t=0;t<4;t++)e+=Ex[n>>8*t+4&15]+Ex[n>>8*t&15];return e}function r9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function W2(n){return zS(n).map(r9).join("")}var i9=(function(n){for(var e=0;e<n.length;e++)n[e]=n9(n[e]);return n.join("")})(zS("hello"))!="5d41402abc4b2a76b9719d911017c592";function $c(n,e){if(i9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function K2(n,e){var t,r,a,o;if(n!==t){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),u=[],d=0;d<256;d++)u[d]=d;var f=0;for(d=0;d<256;d++){var g=u[d];f=(f+g+c.charCodeAt(d))%256,u[d]=u[f],u[f]=g}t=n,r=u}else u=r;var b=e.length,A=0,w=0,M="";for(d=0;d<b;d++)w=(w+(g=u[A=(A+1)%256]))%256,u[A]=u[w],u[w]=g,c=u[(u[A]+u[w])%256],M+=String.fromCharCode(e.charCodeAt(d)^c);return M}var Nx={print:4,modify:8,copy:16,"annot-forms":32};function Hh(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(u){if(Nx.perm!==void 0)throw new Error("Invalid permission: "+u);a+=Nx[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=W2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=K2(this.encryptionKey,this.padding)}function Gh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function Tx(n){if(lr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(u){sn.console&&wr.error("jsPDF PubSub Error",u.message,u)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function sg(n){if(!(this instanceof sg))return new sg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function qS(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Pu(n,e,t,r,a){if(!(this instanceof Pu))return new Pu(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,qS.call(this,r,a)}function $h(n,e,t,r,a){if(!(this instanceof $h))return new $h(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,qS.call(this,r,a)}function Bt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],c=[],u=1,d=16,f="S",g=null;lr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,A={},w={internal:{},__private__:{}};w.__private__.PubSub=Tx;var M="1.3",V=w.__private__.getPdfVersion=function(){return M};w.__private__.setPdfVersion=function(x){M=x};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return U};var j=w.__private__.getPageFormat=function(x){return U[x]};a=a||"a4";var te="compat",ce="advanced",H=te;function se(){this.saveGraphicsState(),ne(new pt(vt,0,0,-vt,0,Bs()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),f="n",H=ce}function fe(){this.restoreGraphicsState(),f="S",H=te}var q=w.__private__.combineFontStyleAndFontWeight=function(x,F){if(x=="bold"&&F=="normal"||x=="bold"&&F==400||x=="normal"&&F=="italic"||x=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(x=F==400||F==="normal"?x==="italic"?"italic":"normal":F!=700&&F!=="bold"||x!=="normal"?(F==700?"bold":F)+""+x:"bold"),x};w.advancedAPI=function(x){var F=H===te;return F&&se.call(this),typeof x!="function"||(x(this),F&&fe.call(this)),this},w.compatAPI=function(x){var F=H===ce;return F&&fe.call(this),typeof x!="function"||(x(this),F&&se.call(this)),this},w.isAdvancedAPI=function(){return H===ce};var k,D=function(x){if(H!==ce)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=w.roundToPrecision=w.__private__.roundToPrecision=function(x,F){var oe=e||F;if(isNaN(x)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(oe).replace(/0+$/,"")};k=w.hpf=w.__private__.hpf=typeof d=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(x,d)}:d==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(x,16)};var T=w.f2=w.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return Y(x,2)},R=w.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return Y(x,3)},L=w.scale=w.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return H===te?x*vt:H===ce?x:void 0},he=function(x){return L((function(F){return H===te?Bs()-F:H===ce?F:void 0})(x))};w.__private__.setPrecision=w.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Ae,ee="00000000000000000000000000000000",pe=w.__private__.getFileId=function(){return ee},ue=w.__private__.setFileId=function(x){return ee=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(yr=new Hh(g.userPermissions,g.userPassword,g.ownerPassword,ee)),ee};w.setFileId=function(x){return ue(x),this},w.getFileId=function(){return pe()};var Ce=w.__private__.convertDateToPDFDate=function(x){var F=x.getTimezoneOffset(),oe=F<0?"+":"-",ve=Math.floor(Math.abs(F/60)),Ne=Math.abs(F%60),Ge=[oe,K(ve),"'",K(Ne),"'"].join("");return["D:",x.getFullYear(),K(x.getMonth()+1),K(x.getDate()),K(x.getHours()),K(x.getMinutes()),K(x.getSeconds()),Ge].join("")},be=w.__private__.convertPDFDateToDate=function(x){var F=parseInt(x.substr(2,4),10),oe=parseInt(x.substr(6,2),10)-1,ve=parseInt(x.substr(8,2),10),Ne=parseInt(x.substr(10,2),10),Ge=parseInt(x.substr(12,2),10),tt=parseInt(x.substr(14,2),10);return new Date(F,oe,ve,Ne,Ge,tt,0)},X=w.__private__.setCreationDate=function(x){var F;if(x===void 0&&(x=new Date),x instanceof Date)F=Ce(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=x}return Ae=F},P=w.__private__.getCreationDate=function(x){var F=Ae;return x==="jsDate"&&(F=be(Ae)),F};w.setCreationDate=function(x){return X(x),this},w.getCreationDate=function(x){return P(x)};var z,K=w.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},re=w.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},de=0,ye=[],Ee=[],Le=0,Ue=[],et=[],ot=!1,ct=Ee;w.__private__.setCustomOutputDestination=function(x){ot=!0,ct=x};var yt=function(x){ot||(ct=x)};w.__private__.resetCustomOutputDestination=function(){ot=!1,ct=Ee};var ne=w.__private__.out=function(x){return x=x.toString(),Le+=x.length+1,ct.push(x),ct},lt=w.__private__.write=function(x){return ne(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},$t=w.__private__.getArrayBuffer=function(x){for(var F=x.length,oe=new ArrayBuffer(F),ve=new Uint8Array(oe);F--;)ve[F]=x.charCodeAt(F);return oe},Mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Mt};var Be=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(x){return Be=H===ce?x/vt:x,this};var dt,ie=w.__private__.getFontSize=w.getFontSize=function(){return H===te?Be:Be*vt},ge=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(x){return ge=x,this},w.__private__.getR2L=w.getR2L=function(){return ge};var Se,Ke=w.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))dt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');dt=x}else dt=parseInt(x,10)};w.__private__.getZoomMode=function(){return dt};var He,Ve=w.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Se=x};w.__private__.getPageMode=function(){return Se};var it=w.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');He=x};w.__private__.getLayoutMode=function(){return He},w.__private__.setDisplayMode=w.setDisplayMode=function(x,F,oe){return Ke(x),it(F),Ve(oe),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(x){if(Object.keys(ft).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[x]},w.__private__.getDocumentProperties=function(){return ft},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(x){for(var F in ft)ft.hasOwnProperty(F)&&x[F]&&(ft[F]=x[F]);return this},w.__private__.setDocumentProperty=function(x,F){if(Object.keys(ft).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[x]=F};var st,vt,mt,fn,Zt,Pt={},Ft={},Qt=[],Ot={},yn={},St={},zt={},Mn=null,jt=0,Ct=[],ut=new Tx(w),_n=n.hotfixes||[],An={},cr={},Ar=[],pt=function x(F,oe,ve,Ne,Ge,tt){if(!(this instanceof x))return new x(F,oe,ve,Ne,Ge,tt);isNaN(F)&&(F=1),isNaN(oe)&&(oe=0),isNaN(ve)&&(ve=0),isNaN(Ne)&&(Ne=1),isNaN(Ge)&&(Ge=0),isNaN(tt)&&(tt=0),this._matrix=[F,oe,ve,Ne,Ge,tt]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(x)},pt.prototype.multiply=function(x){var F=x.sx*this.sx+x.shy*this.shx,oe=x.sx*this.shy+x.shy*this.sy,ve=x.shx*this.sx+x.sy*this.shx,Ne=x.shx*this.shy+x.sy*this.sy,Ge=x.tx*this.sx+x.ty*this.shx+this.tx,tt=x.tx*this.shy+x.ty*this.sy+this.ty;return new pt(F,oe,ve,Ne,Ge,tt)},pt.prototype.decompose=function(){var x=this.sx,F=this.shy,oe=this.shx,ve=this.sy,Ne=this.tx,Ge=this.ty,tt=Math.sqrt(x*x+F*F),wt=(x/=tt)*oe+(F/=tt)*ve;oe-=x*wt,ve-=F*wt;var It=Math.sqrt(oe*oe+ve*ve);return wt/=It,x*(ve/=It)<F*(oe/=It)&&(x=-x,F=-F,wt=-wt,tt=-tt),{scale:new pt(tt,0,0,It,0,0),translate:new pt(1,0,0,1,Ne,Ge),rotate:new pt(x,F,-F,x,0,0),skew:new pt(1,0,wt,1,0,0)}},pt.prototype.toString=function(x){return this.join(" ")},pt.prototype.inversed=function(){var x=this.sx,F=this.shy,oe=this.shx,ve=this.sy,Ne=this.tx,Ge=this.ty,tt=1/(x*ve-F*oe),wt=ve*tt,It=-F*tt,Yt=-oe*tt,Ut=x*tt;return new pt(wt,It,Yt,Ut,-wt*Ne-Yt*Ge,-It*Ne-Ut*Ge)},pt.prototype.applyToPoint=function(x){var F=x.x*this.sx+x.y*this.shx+this.tx,oe=x.x*this.shy+x.y*this.sy+this.ty;return new _i(F,oe)},pt.prototype.applyToRectangle=function(x){var F=this.applyToPoint(x),oe=this.applyToPoint(new _i(x.x+x.w,x.y+x.h));return new $s(F.x,F.y,oe.x-F.x,oe.y-F.y)},pt.prototype.clone=function(){var x=this.sx,F=this.shy,oe=this.shx,ve=this.sy,Ne=this.tx,Ge=this.ty;return new pt(x,F,oe,ve,Ne,Ge)},w.Matrix=pt;var Sr=w.matrixMult=function(x,F){return F.multiply(x)},Zr=new pt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Zr;var Zn=function(x,F){if(!yn[x]){var oe=(F instanceof Pu?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);F.id=oe,yn[x]=oe,Ot[oe]=F,ut.publish("addPattern",F)}};w.ShadingPattern=Pu,w.TilingPattern=$h,w.addShadingPattern=function(x,F){return D("addShadingPattern()"),Zn(x,F),this},w.beginTilingPattern=function(x){D("beginTilingPattern()"),Xs(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},w.endTilingPattern=function(x,F){D("endTilingPattern()"),F.stream=et[z].join(`
`),Zn(x,F),ut.publish("endTilingPattern",F),Ar.pop().restore()};var er,Bn=w.__private__.newObject=function(){var x=Tn();return Hr(x,!0),x},Tn=w.__private__.newObjectDeferred=function(){return de++,ye[de]=function(){return Le},de},Hr=function(x,F){return F=typeof F=="boolean"&&F,ye[x]=Le,F&&ne(x+" 0 obj"),x},Ri=w.__private__.newAdditionalObject=function(){var x={objId:Tn(),content:""};return Ue.push(x),x},vi=Tn(),Gn=Tn(),rr=w.__private__.decodeColorString=function(x){var F=x.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var oe=parseFloat(F[0]);F=[oe,oe,oe,"r"]}for(var ve="#",Ne=0;Ne<3;Ne++)ve+=("0"+Math.floor(255*parseFloat(F[Ne])).toString(16)).slice(-2);return ve},ei=w.__private__.encodeColorString=function(x){var F;typeof x=="string"&&(x={ch1:x});var oe=x.ch1,ve=x.ch2,Ne=x.ch3,Ge=x.ch4,tt=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var wt=new BS(oe);if(wt.ok)oe=wt.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var It=parseInt(oe.substr(1),16);oe=It>>16&255,ve=It>>8&255,Ne=255&It}if(ve===void 0||Ge===void 0&&oe===ve&&ve===Ne)F=typeof oe=="string"?oe+" "+tt[0]:x.precision===2?T(oe/255)+" "+tt[0]:R(oe/255)+" "+tt[0];else if(Ge===void 0||lr(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",tt[1]].join(" ");F=typeof oe=="string"?[oe,ve,Ne,tt[1]].join(" "):x.precision===2?[T(oe/255),T(ve/255),T(Ne/255),tt[1]].join(" "):[R(oe/255),R(ve/255),R(Ne/255),tt[1]].join(" ")}else F=typeof oe=="string"?[oe,ve,Ne,Ge,tt[2]].join(" "):x.precision===2?[T(oe),T(ve),T(Ne),T(Ge),tt[2]].join(" "):[R(oe),R(ve),R(Ne),R(Ge),tt[2]].join(" ");return F},Hi=w.__private__.getFilters=function(){return c},_s=w.__private__.putStream=function(x){var F=(x=x||{}).data||"",oe=x.filters||Hi(),ve=x.alreadyAppliedFilters||[],Ne=x.addLength1||!1,Ge=F.length,tt=x.objectId,wt=function(E){return E};if(g!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(wt=yr.encryptor(tt,0));var It={};oe===!0&&(oe=["FlateEncode"]);var Yt=x.additionalKeyValues||[],Ut=(It=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(F,oe):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(It.data.length!==0&&(Yt.push({key:"Length",value:It.data.length}),Ne===!0&&Yt.push({key:"Length1",value:Ge})),Ut.length!=0)if(Ut.split("/").length-1==1)Yt.push({key:"Filter",value:Ut});else{Yt.push({key:"Filter",value:"["+Ut+"]"});for(var wn=0;wn<Yt.length;wn+=1)if(Yt[wn].key==="DecodeParms"){for(var ur=[],tr=0;tr<It.reverseChain.split("/").length-1;tr+=1)ur.push("null");ur.push(Yt[wn].value),Yt[wn].value="["+ur.join(" ")+"]"}}ne("<<");for(var m=0;m<Yt.length;m++)ne("/"+Yt[m].key+" "+Yt[m].value);ne(">>"),It.data.length!==0&&(ne("stream"),ne(wt(It.data)),ne("endstream"))},Va=w.__private__.putPage=function(x){var F=x.number,oe=x.data,ve=x.objId,Ne=x.contentsObjId;Hr(ve,!0),ne("<</Type /Page"),ne("/Parent "+x.rootDictionaryObjId+" 0 R"),ne("/Resources "+x.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(k(x.mediaBox.bottomLeftX))+" "+parseFloat(k(x.mediaBox.bottomLeftY))+" "+k(x.mediaBox.topRightX)+" "+k(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&ne("/CropBox ["+k(x.cropBox.bottomLeftX)+" "+k(x.cropBox.bottomLeftY)+" "+k(x.cropBox.topRightX)+" "+k(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&ne("/BleedBox ["+k(x.bleedBox.bottomLeftX)+" "+k(x.bleedBox.bottomLeftY)+" "+k(x.bleedBox.topRightX)+" "+k(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&ne("/TrimBox ["+k(x.trimBox.bottomLeftX)+" "+k(x.trimBox.bottomLeftY)+" "+k(x.trimBox.topRightX)+" "+k(x.trimBox.topRightY)+"]"),x.artBox!==null&&ne("/ArtBox ["+k(x.artBox.bottomLeftX)+" "+k(x.artBox.bottomLeftY)+" "+k(x.artBox.topRightX)+" "+k(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&ne("/UserUnit "+x.userUnit),ut.publish("putPage",{objId:ve,pageContext:Ct[F],pageNumber:F,page:oe}),ne("/Contents "+Ne+" 0 R"),ne(">>"),ne("endobj");var Ge=oe.join(`
`);return H===ce&&(Ge+=`
Q`),Hr(Ne,!0),_s({data:Ge,filters:Hi(),objectId:Ne}),ne("endobj"),ve},js=w.__private__.putPages=function(){var x,F,oe=[];for(x=1;x<=jt;x++)Ct[x].objId=Tn(),Ct[x].contentsObjId=Tn();for(x=1;x<=jt;x++)oe.push(Va({number:x,data:et[x],objId:Ct[x].objId,contentsObjId:Ct[x].contentsObjId,mediaBox:Ct[x].mediaBox,cropBox:Ct[x].cropBox,bleedBox:Ct[x].bleedBox,trimBox:Ct[x].trimBox,artBox:Ct[x].artBox,userUnit:Ct[x].userUnit,rootDictionaryObjId:vi,resourceDictionaryObjId:Gn}));Hr(vi,!0),ne("<</Type /Pages");var ve="/Kids [";for(F=0;F<jt;F++)ve+=oe[F]+" 0 R ";ne(ve+"]"),ne("/Count "+jt),ne(">>"),ne("endobj"),ut.publish("postPutPages")},Gi=function(x){ut.publish("putFont",{font:x,out:ne,newObject:Bn,putStream:_s}),x.isAlreadyPutted!==!0&&(x.objectNumber=Bn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Gh(x.postScriptName)),ne("/Subtype /Type1"),typeof x.encoding=="string"&&ne("/Encoding /"+x.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},_a=function(x){x.objectNumber=Bn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[k(x.x),k(x.y),k(x.x+x.width),k(x.y+x.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var oe=x.pages[1].join(`
`);_s({data:oe,additionalKeyValues:F,objectId:x.objectNumber}),ne("endobj")},ss=function(x,F){F||(F=21);var oe=Bn(),ve=(function(tt,wt){var It,Yt=[],Ut=1/(wt-1);for(It=0;It<1;It+=Ut)Yt.push(It);if(Yt.push(1),tt[0].offset!=0){var wn={offset:0,color:tt[0].color};tt.unshift(wn)}if(tt[tt.length-1].offset!=1){var ur={offset:1,color:tt[tt.length-1].color};tt.push(ur)}for(var tr="",m=0,E=0;E<Yt.length;E++){for(It=Yt[E];It>tt[m+1].offset;)m++;var O=tt[m].offset,J=(It-O)/(tt[m+1].offset-O),Ie=tt[m].color,Me=tt[m+1].color;tr+=re(Math.round((1-J)*Ie[0]+J*Me[0]).toString(16))+re(Math.round((1-J)*Ie[1]+J*Me[1]).toString(16))+re(Math.round((1-J)*Ie[2]+J*Me[2]).toString(16))}return tr.trim()})(x.colors,F),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+F+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_s({data:ve,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ne("endobj"),x.objectNumber=Bn(),ne("<< /ShadingType "+x.type),ne("/ColorSpace /DeviceRGB");var Ge="/Coords ["+k(parseFloat(x.coords[0]))+" "+k(parseFloat(x.coords[1]))+" ";x.type===2?Ge+=k(parseFloat(x.coords[2]))+" "+k(parseFloat(x.coords[3])):Ge+=k(parseFloat(x.coords[2]))+" "+k(parseFloat(x.coords[3]))+" "+k(parseFloat(x.coords[4]))+" "+k(parseFloat(x.coords[5])),ne(Ge+="]"),x.matrix&&ne("/Matrix ["+x.matrix.toString()+"]"),ne("/Function "+oe+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Li=function(x,F){var oe=Tn(),ve=Bn();F.push({resourcesOid:oe,objectOid:ve}),x.objectNumber=ve;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+x.boundingBox.map(k).join(" ")+"]"}),Ne.push({key:"XStep",value:k(x.xStep)}),Ne.push({key:"YStep",value:k(x.yStep)}),Ne.push({key:"Resources",value:oe+" 0 R"}),x.matrix&&Ne.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),_s({data:x.stream,additionalKeyValues:Ne,objectId:x.objectNumber}),ne("endobj")},as=function(x){for(var F in x.objectNumber=Bn(),ne("<<"),x)switch(F){case"opacity":ne("/ca "+T(x[F]));break;case"stroke-opacity":ne("/CA "+T(x[F]))}ne(">>"),ne("endobj")},ws=function(x){Hr(x.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in ne("/Font <<"),Pt)Pt.hasOwnProperty(F)&&(b===!1||b===!0&&A.hasOwnProperty(F))&&ne("/"+F+" "+Pt[F].objectNumber+" 0 R");ne(">>")})(),(function(){if(Object.keys(Ot).length>0){for(var F in ne("/Shading <<"),Ot)Ot.hasOwnProperty(F)&&Ot[F]instanceof Pu&&Ot[F].objectNumber>=0&&ne("/"+F+" "+Ot[F].objectNumber+" 0 R");ut.publish("putShadingPatternDict"),ne(">>")}})(),(function(F){if(Object.keys(Ot).length>0){for(var oe in ne("/Pattern <<"),Ot)Ot.hasOwnProperty(oe)&&Ot[oe]instanceof w.TilingPattern&&Ot[oe].objectNumber>=0&&Ot[oe].objectNumber<F&&ne("/"+oe+" "+Ot[oe].objectNumber+" 0 R");ut.publish("putTilingPatternDict"),ne(">>")}})(x.objectOid),(function(){if(Object.keys(St).length>0){var F;for(F in ne("/ExtGState <<"),St)St.hasOwnProperty(F)&&St[F].objectNumber>=0&&ne("/"+F+" "+St[F].objectNumber+" 0 R");ut.publish("putGStateDict"),ne(">>")}})(),(function(){for(var F in ne("/XObject <<"),An)An.hasOwnProperty(F)&&An[F].objectNumber>=0&&ne("/"+F+" "+An[F].objectNumber+" 0 R");ut.publish("putXobjectDict"),ne(">>")})(),ne(">>"),ne("endobj")},Cr=function(x){Ft[x.fontName]=Ft[x.fontName]||{},Ft[x.fontName][x.fontStyle]=x.id},Bo=function(x,F,oe,ve,Ne){var Ge={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:x,fontName:F,fontStyle:oe,encoding:ve,isStandardFont:Ne||!1,metadata:{}};return ut.publish("addFont",{font:Ge,instance:this}),Pt[Ge.id]=Ge,Cr(Ge),Ge.id},Yi=w.__private__.pdfEscape=w.pdfEscape=function(x,F){return(function(oe,ve){var Ne,Ge,tt,wt,It,Yt,Ut,wn,ur;if(tt=(ve=ve||{}).sourceEncoding||"Unicode",It=ve.outputEncoding,(ve.autoencode||It)&&Pt[st].metadata&&Pt[st].metadata[tt]&&Pt[st].metadata[tt].encoding&&(wt=Pt[st].metadata[tt].encoding,!It&&Pt[st].encoding&&(It=Pt[st].encoding),!It&&wt.codePages&&(It=wt.codePages[0]),typeof It=="string"&&(It=wt[It]),It)){for(Ut=!1,Yt=[],Ne=0,Ge=oe.length;Ne<Ge;Ne++)(wn=It[oe.charCodeAt(Ne)])?Yt.push(String.fromCharCode(wn)):Yt.push(oe[Ne]),Yt[Ne].charCodeAt(0)>>8&&(Ut=!0);oe=Yt.join("")}for(Ne=oe.length;Ut===void 0&&Ne!==0;)oe.charCodeAt(Ne-1)>>8&&(Ut=!0),Ne--;if(!Ut)return oe;for(Yt=ve.noBOM?[]:[254,255],Ne=0,Ge=oe.length;Ne<Ge;Ne++){if((ur=(wn=oe.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(ur),Yt.push(wn-(ur<<8))}return String.fromCharCode.apply(void 0,Yt)})(x,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xs=w.__private__.beginPage=function(x){et[++jt]=[],Ct[jt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},zo(jt),yt(et[z])},Vs=function(x,F){var oe,ve,Ne;switch(t=F||t,typeof x=="string"&&(oe=j(x.toLowerCase()),Array.isArray(oe)&&(ve=oe[0],Ne=oe[1])),Array.isArray(x)&&(ve=x[0]*vt,Ne=x[1]*vt),isNaN(ve)&&(ve=a[0],Ne=a[1]),(ve>14400||Ne>14400)&&(wr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ne=Math.min(14400,Ne)),a=[ve,Ne],t.substr(0,1)){case"l":Ne>ve&&(a=[Ne,ve]);break;case"p":ve>Ne&&(a=[Ne,ve])}xs(a),qt(Ki),ne(ls),us!==0&&ne(us+" J"),Yr!==0&&ne(Yr+" j"),ut.publish("addPage",{pageNumber:jt})},lo=function(x){x>0&&x<=jt&&(et.splice(x,1),Ct.splice(x,1),jt--,z>jt&&(z=jt),this.setPage(z))},zo=function(x){x>0&&x<=jt&&(z=x)},qo=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return et.length-1},wl=function(x,F,oe){var ve,Ne=void 0;return oe=oe||{},x=x!==void 0?x:Pt[st].fontName,F=F!==void 0?F:Pt[st].fontStyle,ve=x.toLowerCase(),Ft[ve]!==void 0&&Ft[ve][F]!==void 0?Ne=Ft[ve][F]:Ft[x]!==void 0&&Ft[x][F]!==void 0?Ne=Ft[x][F]:oe.disableWarning===!1&&wr.warn("Unable to look up font label for font '"+x+"', '"+F+"'. Refer to getFontList() for available fonts."),Ne||oe.noFallback||(Ne=Ft.times[F])==null&&(Ne=Ft.times.normal),Ne},os=w.__private__.putInfo=function(){var x=Bn(),F=function(ve){return ve};for(var oe in g!==null&&(F=yr.encryptor(x,0)),ne("<<"),ne("/Producer ("+Yi(F("jsPDF "+Bt.version))+")"),ft)ft.hasOwnProperty(oe)&&ft[oe]&&ne("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+Yi(F(ft[oe]))+")");ne("/CreationDate ("+Yi(F(Ae))+")"),ne(">>"),ne("endobj")},bi=w.__private__.putCatalog=function(x){var F=(x=x||{}).rootDictionaryObjId||vi;switch(Bn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+F+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+dt;oe.substr(oe.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+T(dt)+"]")}switch(He||(He="continuous"),He){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Se&&ne("/PageMode /"+Se),ut.publish("putCatalog"),ne(">>"),ne("endobj")},Mr=w.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(de+1)),ne("/Root "+de+" 0 R"),ne("/Info "+(de-1)+" 0 R"),g!==null&&ne("/Encrypt "+yr.oid+" 0 R"),ne("/ID [ <"+ee+"> <"+ee+"> ]"),ne(">>")},vn=w.__private__.putHeader=function(){ne("%PDF-"+M),ne("%")},wa=w.__private__.putXRef=function(){var x="0000000000";ne("xref"),ne("0 "+(de+1)),ne("0000000000 65535 f ");for(var F=1;F<=de;F++)typeof ye[F]=="function"?ne((x+ye[F]()).slice(-10)+" 00000 n "):ye[F]!==void 0?ne((x+ye[F]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},As=w.__private__.buildDocument=function(){var x;de=0,Le=0,Ee=[],ye=[],Ue=[],vi=Tn(),Gn=Tn(),yt(Ee),ut.publish("buildDocument"),vn(),js(),(function(){ut.publish("putAdditionalObjects");for(var oe=0;oe<Ue.length;oe++){var ve=Ue[oe];Hr(ve.objId,!0),ne(ve.content),ne("endobj")}ut.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var oe in Pt)Pt.hasOwnProperty(oe)&&(b===!1||b===!0&&A.hasOwnProperty(oe))&&Gi(Pt[oe])})(),(function(){var oe;for(oe in St)St.hasOwnProperty(oe)&&as(St[oe])})(),(function(){for(var oe in An)An.hasOwnProperty(oe)&&_a(An[oe])})(),(function(oe){var ve;for(ve in Ot)Ot.hasOwnProperty(ve)&&(Ot[ve]instanceof Pu?ss(Ot[ve]):Ot[ve]instanceof $h&&Li(Ot[ve],oe))})(x),ut.publish("putResources"),x.forEach(ws),ws({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),ut.publish("postPutResources"),g!==null&&(yr.oid=Bn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+yr.v),ne("/R "+yr.r),ne("/U <"+yr.toHexString(yr.U)+">"),ne("/O <"+yr.toHexString(yr.O)+">"),ne("/P "+yr.P),ne(">>"),ne("endobj")),os(),bi();var F=Le;return wa(),Mr(),ne("startxref"),ne(""+F),ne("%%EOF"),yt(et[z]),Ee.join(`
`)},Cn=w.__private__.getBlob=function(x){return new Blob([$t(x)],{type:"application/pdf"})},Fa=w.output=w.__private__.output=(er=function(x,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",x){case void 0:return As();case"save":w.save(F.filename);break;case"arraybuffer":return $t(As());case"blob":return Cn(As());case"bloburi":case"bloburl":if(sn.URL!==void 0&&typeof sn.URL.createObjectURL=="function")return sn.URL&&sn.URL.createObjectURL(Cn(As()))||void 0;wr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",ve=As();try{oe=Sx(ve)}catch{oe=Sx(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+F.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(Ne=F.pdfObjectUrl,Ge="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",wt=sn.open();return wt!==null&&wt.document.write(tt),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Yt=sn.open();if(Yt!==null){Yt.document.write(It);var Ut=this;Yt.document.documentElement.querySelector("#pdfViewer").onload=function(){Yt.document.title=F.filename,Yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ut.output("bloburl"))}}return Yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',ur=sn.open();if(ur!==null&&(ur.document.write(wn),ur.document.title=F.filename),ur||typeof safari>"u")return ur;break;case"datauri":case"dataurl":return sn.document.location.href=this.output("datauristring",F);default:return null}},er.foo=function(){try{return er.apply(this,arguments)}catch(oe){var x=oe.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var F="Error in function "+x.split(`
`)[0].split("<")[0]+": "+oe.message;if(!sn.console)throw new Error(F);sn.console.error(F,oe),sn.alert&&alert(F)}},er.foo.bar=er,er.foo),Gr=function(x){return Array.isArray(_n)===!0&&_n.indexOf(x)>-1};switch(r){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=Gr("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);vt=r}var yr=null;X(),ue();var jr=w.__private__.getPageInfo=w.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[x].objId,pageNumber:x,pageContext:Ct[x]}},co=w.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Ct)if(Ct[F].objId===x)break;return jr(F)},cc=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Ct[z].objId,pageNumber:z,pageContext:Ct[z]}};w.addPage=function(){return Vs.apply(this,arguments),this},w.setPage=function(){return zo.apply(this,arguments),yt.call(this,et[z]),this},w.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},w.movePage=function(x,F){var oe,ve;if(x>F){oe=et[x],ve=Ct[x];for(var Ne=x;Ne>F;Ne--)et[Ne]=et[Ne-1],Ct[Ne]=Ct[Ne-1];et[F]=oe,Ct[F]=ve,this.setPage(F)}else if(x<F){oe=et[x],ve=Ct[x];for(var Ge=x;Ge<F;Ge++)et[Ge]=et[Ge+1],Ct[Ge]=Ct[Ge+1];et[F]=oe,Ct[F]=ve,this.setPage(F)}return this},w.deletePage=function(){return lo.apply(this,arguments),this},w.__private__.text=w.text=function(x,F,oe,ve,Ne){var Ge,tt,wt,It,Yt,Ut,wn,ur,tr,m=(ve=ve||{}).scope||this;if(typeof x=="number"&&typeof F=="number"&&(typeof oe=="string"||Array.isArray(oe))){var E=oe;oe=F,F=x,x=E}if(arguments[3]instanceof pt==0?(wt=arguments[4],It=arguments[5],lr(wn=arguments[3])==="object"&&wn!==null||(typeof wt=="string"&&(It=wt,wt=null),typeof wn=="string"&&(It=wn,wn=null),typeof wn=="number"&&(wt=wn,wn=null),ve={flags:wn,angle:wt,align:It})):(D("The transform parameter of text() with a Matrix value"),tr=Ne),isNaN(F)||isNaN(oe)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return m;var O,J="",Ie=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Sa,Me=m.internal.scaleFactor;function at(zn){return zn=zn.split("	").join(Array(ve.TabLen||9).join(" ")),Yi(zn,wn)}function nn(zn){for(var Pn,fr=zn.concat(),Kr=[],Qa=fr.length;Qa--;)typeof(Pn=fr.shift())=="string"?Kr.push(Pn):Array.isArray(zn)&&(Pn.length===1||Pn[1]===void 0&&Pn[2]===void 0)?Kr.push(Pn[0]):Kr.push([Pn[0],Pn[1],Pn[2]]);return Kr}function hr(zn,Pn){var fr;if(typeof zn=="string")fr=Pn(zn)[0];else if(Array.isArray(zn)){for(var Kr,Qa,Ca=zn.concat(),Il=[],gu=Ca.length;gu--;)typeof(Kr=Ca.shift())=="string"?Il.push(Pn(Kr)[0]):Array.isArray(Kr)&&typeof Kr[0]=="string"&&(Qa=Pn(Kr[0],Kr[1],Kr[2]),Il.push([Qa[0],Qa[1],Qa[2]]));fr=Il}return fr}var mn=!1,Wn=!0;if(typeof x=="string")mn=!0;else if(Array.isArray(x)){var wi=x.concat();tt=[];for(var Di,ir=wi.length;ir--;)(typeof(Di=wi.shift())!="string"||Array.isArray(Di)&&typeof Di[0]!="string")&&(Wn=!1);mn=Wn}if(mn===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Pi=Be/m.internal.scaleFactor,zs=Pi*(Ie-1);switch(ve.baseline){case"bottom":oe-=zs;break;case"top":oe+=Pi-zs;break;case"hanging":oe+=Pi-2*zs;break;case"middle":oe+=Pi/2-zs}if((Ut=ve.maxWidth||0)>0&&(typeof x=="string"?x=m.splitTextToSize(x,Ut):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(zn,Pn){return zn.concat(m.splitTextToSize(Pn,Ut))},[]))),Ge={text:x,x:F,y:oe,options:ve,mutex:{pdfEscape:Yi,activeFontKey:st,fonts:Pt,activeFontSize:Be}},ut.publish("preProcessText",Ge),x=Ge.text,wt=(ve=Ge.options).angle,tr instanceof pt==0&&wt&&typeof wt=="number"){wt*=Math.PI/180,ve.rotationDirection===0&&(wt=-wt),H===ce&&(wt=-wt);var Ha=Math.cos(wt),Ga=Math.sin(wt);tr=new pt(Ha,Ga,-Ga,Ha,0,0)}else wt&&wt instanceof pt&&(tr=wt);H!==ce||tr||(tr=Zr),(Yt=ve.charSpace||cs)!==void 0&&(J+=k(L(Yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ur=ve.horizontalScale)!==void 0&&(J+=k(100*ur)+` Tz
`),ve.lang;var fs=-1,mo=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,uc=m.internal.getCurrentPageInfo().pageContext;switch(mo){case 0:case!1:case"fill":fs=0;break;case 1:case!0:case"stroke":fs=1;break;case 2:case"fillThenStroke":fs=2;break;case 3:case"invisible":fs=3;break;case 4:case"fillAndAddForClipping":fs=4;break;case 5:case"strokeAndAddPathForClipping":fs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fs=6;break;case 7:case"addToPathForClipping":fs=7}var pu=uc.usedRenderingMode!==void 0?uc.usedRenderingMode:-1;fs!==-1?J+=fs+` Tr
`:pu!==-1&&(J+=`0 Tr
`),fs!==-1&&(uc.usedRenderingMode=fs),It=ve.align||"left";var qs,Na=Be*Ie,go=m.internal.pageSize.getWidth(),mu=Pt[st];Yt=ve.charSpace||cs,Ut=ve.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Ta=[],$o=function(zn){return m.getStringUnitWidth(zn,{font:mu,charSpace:Yt,fontSize:Be,doKerning:!1})*Be/Me};if(Object.prototype.toString.call(x)==="[object Array]"){var Es;tt=nn(x),It!=="left"&&(qs=tt.map($o));var ds,Ya=0;if(It==="right"){F-=qs[0],x=[],ir=tt.length;for(var Wa=0;Wa<ir;Wa++)Wa===0?(ds=ui(F),Es=ti(oe)):(ds=L(Ya-qs[Wa]),Es=-Na),x.push([tt[Wa],ds,Es]),Ya=qs[Wa]}else if(It==="center"){F-=qs[0]/2,x=[],ir=tt.length;for(var yo=0;yo<ir;yo++)yo===0?(ds=ui(F),Es=ti(oe)):(ds=L((Ya-qs[yo])/2),Es=-Na),x.push([tt[yo],ds,Es]),Ya=qs[yo]}else if(It==="left"){x=[],ir=tt.length;for(var hc=0;hc<ir;hc++)x.push(tt[hc])}else if(It==="justify"&&mu.encoding==="Identity-H"){x=[],ir=tt.length,Ut=Ut!==0?Ut:go;for(var fc=0,Wr=0;Wr<ir;Wr++)if(Es=Wr===0?ti(oe):-Na,ds=Wr===0?ui(F):fc,Wr<ir-1){var eh=L((Ut-qs[Wr])/(tt[Wr].split(" ").length-1)),Ka=tt[Wr].split(" ");x.push([Ka[0]+" ",ds,Es]),fc=0;for(var $a=1;$a<Ka.length;$a++){var Oi=($o(Ka[$a-1]+" "+Ka[$a])-$o(Ka[$a]))*Me+eh;$a==Ka.length-1?x.push([Ka[$a],Oi,0]):x.push([Ka[$a]+" ",Oi,0]),fc-=Oi}}else x.push([tt[Wr],ds,Es]);x.push(["",fc,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],ir=tt.length,Ut=Ut!==0?Ut:go,Wr=0;Wr<ir;Wr++){Es=Wr===0?ti(oe):-Na,ds=Wr===0?ui(F):0;var vo=tt[Wr].split(" ").length-1,dc=vo>0?(Ut-qs[Wr])/vo:0;Wr<ir-1?Ta.push(k(L(dc))):Ta.push(0),x.push([tt[Wr],ds,Es])}}}(typeof ve.R2L=="boolean"?ve.R2L:ge)===!0&&(x=hr(x,function(zn,Pn,fr){return[zn.split("").reverse().join(""),Pn,fr]})),Ge={text:x,x:F,y:oe,options:ve,mutex:{pdfEscape:Yi,activeFontKey:st,fonts:Pt,activeFontSize:Be}},ut.publish("postProcessText",Ge),x=Ge.text,O=Ge.mutex.isHex||!1;var pc=Pt[st].encoding;pc!=="WinAnsiEncoding"&&pc!=="StandardEncoding"||(x=hr(x,function(zn,Pn,fr){return[at(zn),Pn,fr]})),tt=nn(x),x=[];for(var bo,_o,Xa,Cl=Array.isArray(tt[0])?1:0,Hs="",wo=function(zn,Pn,fr){var Kr="";return fr instanceof pt?(fr=typeof ve.angle=="number"?Sr(fr,new pt(1,0,0,1,zn,Pn)):Sr(new pt(1,0,0,1,zn,Pn),fr),H===ce&&(fr=Sr(new pt(1,0,0,-1,0,0),fr)),Kr=fr.join(" ")+` Tm
`):Kr=k(zn)+" "+k(Pn)+` Td
`,Kr},$i=0;$i<tt.length;$i++){switch(Hs="",Cl){case 1:Xa=(O?"<":"(")+tt[$i][0]+(O?">":")"),bo=parseFloat(tt[$i][1]),_o=parseFloat(tt[$i][2]);break;case 0:Xa=(O?"<":"(")+tt[$i]+(O?">":")"),bo=ui(F),_o=ti(oe)}Ta!==void 0&&Ta[$i]!==void 0&&(Hs=Ta[$i]+` Tw
`),$i===0?x.push(Hs+wo(bo,_o,tr)+Xa):Cl===0?x.push(Hs+Xa):Cl===1&&x.push(Hs+wo(bo,_o,tr)+Xa)}x=Cl===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Zs=`BT
/`;return Zs+=st+" "+Be+` Tf
`,Zs+=k(Be*Ie)+` TL
`,Zs+=Us+`
`,Zs+=J,Zs+=x,ne(Zs+="ET"),A[st]=!0,m};var xl=w.__private__.clip=w.clip=function(x){return ne(x==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return xl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return ne("n"),this};var ki=w.__private__.isValidStyle=function(x){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(F=!0),F};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(x){return ki(x)&&(f=x),this};var Al=w.__private__.getStyle=w.getStyle=function(x){var F=f;switch(x){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=x}return F},xa=w.close=function(){return ne("h"),this};w.stroke=function(){return ne("S"),this},w.fill=function(x){return ci("f",x),this},w.fillEvenOdd=function(x){return ci("f*",x),this},w.fillStroke=function(x){return ci("B",x),this},w.fillStrokeEvenOdd=function(x){return ci("B*",x),this};var ci=function(x,F){lr(F)==="object"?El(F,x):ne(x)},Ua=function(x){x===null||H===ce&&x===void 0||(x=Al(x),ne(x))};function Sl(x,F,oe,ve,Ne){var Ge=new $h(F||this.boundingBox,oe||this.xStep,ve||this.yStep,this.gState,Ne||this.matrix);Ge.stream=this.stream;var tt=x+"$$"+this.cloneIndex+++"$$";return Zn(tt,Ge),Ge}var El=function(x,F){var oe=yn[x.key],ve=Ot[oe];if(ve instanceof Pu)ne("q"),ne(Ho(F)),ve.gState&&w.setGState(ve.gState),ne(x.matrix.toString()+" cm"),ne("/"+oe+" sh"),ne("Q");else if(ve instanceof $h){var Ne=new pt(1,0,0,-1,0,Bs());x.matrix&&(Ne=Ne.multiply(x.matrix||Zr),oe=Sl.call(ve,x.key,x.boundingBox,x.xStep,x.yStep,Ne).id),ne("q"),ne("/Pattern cs"),ne("/"+oe+" scn"),ve.gState&&w.setGState(ve.gState),ne(F),ne("Q")}},Ho=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Go=w.moveTo=function(x,F){return ne(k(L(x))+" "+k(he(F))+" m"),this},Aa=w.lineTo=function(x,F){return ne(k(L(x))+" "+k(he(F))+" l"),this},Wi=w.curveTo=function(x,F,oe,ve,Ne,Ge){return ne([k(L(x)),k(he(F)),k(L(oe)),k(he(ve)),k(L(Ne)),k(he(Ge)),"c"].join(" ")),this};w.__private__.line=w.line=function(x,F,oe,ve,Ne){if(isNaN(x)||isNaN(F)||isNaN(oe)||isNaN(ve)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return H===te?this.lines([[oe-x,ve-F]],x,F,[1,1],Ne||"S"):this.lines([[oe-x,ve-F]],x,F,[1,1]).stroke()},w.__private__.lines=w.lines=function(x,F,oe,ve,Ne,Ge){var tt,wt,It,Yt,Ut,wn,ur,tr,m,E,O,J;if(typeof x=="number"&&(J=oe,oe=F,F=x,x=J),ve=ve||[1,1],Ge=Ge||!1,isNaN(F)||isNaN(oe)||!Array.isArray(x)||!Array.isArray(ve)||!ki(Ne)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Go(F,oe),tt=ve[0],wt=ve[1],Yt=x.length,E=F,O=oe,It=0;It<Yt;It++)(Ut=x[It]).length===2?(E=Ut[0]*tt+E,O=Ut[1]*wt+O,Aa(E,O)):(wn=Ut[0]*tt+E,ur=Ut[1]*wt+O,tr=Ut[2]*tt+E,m=Ut[3]*wt+O,E=Ut[4]*tt+E,O=Ut[5]*wt+O,Wi(wn,ur,tr,m,E,O));return Ge&&xa(),Ua(Ne),this},w.path=function(x){for(var F=0;F<x.length;F++){var oe=x[F],ve=oe.c;switch(oe.op){case"m":Go(ve[0],ve[1]);break;case"l":Aa(ve[0],ve[1]);break;case"c":Wi.apply(this,ve);break;case"h":xa()}}return this},w.__private__.rect=w.rect=function(x,F,oe,ve,Ne){if(isNaN(x)||isNaN(F)||isNaN(oe)||isNaN(ve)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return H===te&&(ve=-ve),ne([k(L(x)),k(he(F)),k(L(oe)),k(L(ve)),"re"].join(" ")),Ua(Ne),this},w.__private__.triangle=w.triangle=function(x,F,oe,ve,Ne,Ge,tt){if(isNaN(x)||isNaN(F)||isNaN(oe)||isNaN(ve)||isNaN(Ne)||isNaN(Ge)||!ki(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-x,ve-F],[Ne-oe,Ge-ve],[x-Ne,F-Ge]],x,F,[1,1],tt,!0),this},w.__private__.roundedRect=w.roundedRect=function(x,F,oe,ve,Ne,Ge,tt){if(isNaN(x)||isNaN(F)||isNaN(oe)||isNaN(ve)||isNaN(Ne)||isNaN(Ge)||!ki(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*oe),Ge=Math.min(Ge,.5*ve),this.lines([[oe-2*Ne,0],[Ne*wt,0,Ne,Ge-Ge*wt,Ne,Ge],[0,ve-2*Ge],[0,Ge*wt,-Ne*wt,Ge,-Ne,Ge],[2*Ne-oe,0],[-Ne*wt,0,-Ne,-Ge*wt,-Ne,-Ge],[0,2*Ge-ve],[0,-Ge*wt,Ne*wt,-Ge,Ne,-Ge]],x+Ne,F,[1,1],tt,!0),this},w.__private__.ellipse=w.ellipse=function(x,F,oe,ve,Ne){if(isNaN(x)||isNaN(F)||isNaN(oe)||isNaN(ve)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*oe,tt=4/3*(Math.SQRT2-1)*ve;return Go(x+oe,F),Wi(x+oe,F-tt,x+Ge,F-ve,x,F-ve),Wi(x-Ge,F-ve,x-oe,F-tt,x-oe,F),Wi(x-oe,F+tt,x-Ge,F+ve,x,F+ve),Wi(x+Ge,F+ve,x+oe,F+tt,x+oe,F),Ua(Ne),this},w.__private__.circle=w.circle=function(x,F,oe,ve){if(isNaN(x)||isNaN(F)||isNaN(oe)||!ki(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,F,oe,oe,ve)},w.setFont=function(x,F,oe){return oe&&(F=q(F,oe)),st=wl(x,F,{disableWarning:!1}),this};var Fs=w.__private__.getFont=w.getFont=function(){return Pt[wl.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var x,F,oe={};for(x in Ft)if(Ft.hasOwnProperty(x))for(F in oe[x]=[],Ft[x])Ft[x].hasOwnProperty(F)&&oe[x].push(F);return oe},w.addFont=function(x,F,oe,ve,Ne){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(oe=q(oe,ve)),Bo.call(this,x,F,oe,Ne=Ne||"Identity-H")};var Sa,Ki=n.lineWidth||.200025,Ba=w.__private__.getLineWidth=w.getLineWidth=function(){return Ki},qt=w.__private__.setLineWidth=w.setLineWidth=function(x){return Ki=x,ne(k(L(x))+" w"),this};w.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(x,F){if(x=x||[],F=F||0,isNaN(F)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(oe){return k(L(oe))}).join(" "),F=k(L(F)),ne("["+x+"] "+F+" d"),this};var uo=w.__private__.getLineHeight=w.getLineHeight=function(){return Be*Sa};w.__private__.getLineHeight=w.getLineHeight=function(){return Be*Sa};var Yo=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Sa=x),this},za=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Sa};Yo(n.lineHeight);var ui=w.__private__.getHorizontalCoordinate=function(x){return L(x)},ti=w.__private__.getVerticalCoordinate=function(x){return H===ce?x:Ct[z].mediaBox.topRightY-Ct[z].mediaBox.bottomLeftY-L(x)},ho=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(x){return k(ui(x))},Yn=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(x){return k(ti(x))},ls=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return rr(ls)},w.__private__.setStrokeColor=w.setDrawColor=function(x,F,oe,ve){return ls=ei({ch1:x,ch2:F,ch3:oe,ch4:ve,pdfColorType:"draw",precision:2}),ne(ls),this};var fo=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return rr(fo)},w.__private__.setFillColor=w.setFillColor=function(x,F,oe,ve){return fo=ei({ch1:x,ch2:F,ch3:oe,ch4:ve,pdfColorType:"fill",precision:2}),ne(fo),this};var Us=n.textColor||"0 g",Nl=w.__private__.getTextColor=w.getTextColor=function(){return rr(Us)};w.__private__.setTextColor=w.setTextColor=function(x,F,oe,ve){return Us=ei({ch1:x,ch2:F,ch3:oe,ch4:ve,pdfColorType:"text",precision:3}),this};var cs=n.charSpace,Ea=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(cs||0)};w.__private__.setCharSpace=w.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cs=x,this};var us=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(x){var F=w.CapJoinStyles[x];if(F===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return us=F,ne(F+" J"),this};var Yr=0;w.__private__.setLineJoin=w.setLineJoin=function(x){var F=w.CapJoinStyles[x];if(F===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yr=F,ne(F+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(k(L(x))+" M"),this},w.GState=sg,w.setGState=function(x){(x=typeof x=="string"?St[zt[x]]:Ks(null,x)).equals(Mn)||(ne("/"+x.id+" gs"),Mn=x)};var Ks=function(x,F){if(!x||!zt[x]){var oe=!1;for(var ve in St)if(St.hasOwnProperty(ve)&&St[ve].equals(F)){oe=!0;break}if(oe)F=St[ve];else{var Ne="GS"+(Object.keys(St).length+1).toString(10);St[Ne]=F,F.id=Ne}return x&&(zt[x]=F.id),ut.publish("addGState",F),F}};w.addGState=function(x,F){return Ks(x,F),this},w.saveGraphicsState=function(){return ne("q"),Qt.push({key:st,size:Be,color:Us}),this},w.restoreGraphicsState=function(){ne("Q");var x=Qt.pop();return st=x.key,Be=x.size,Us=x.color,Mn=null,this},w.setCurrentTransformationMatrix=function(x){return ne(x.toString()+" cm"),this},w.comment=function(x){return ne("#"+x),this};var _i=function(x,F){var oe=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Ge){isNaN(Ge)||(oe=parseFloat(Ge))}});var ve=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ge){isNaN(Ge)||(ve=parseFloat(Ge))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Ge){Ne=Ge.toString()}}),this},$s=function(x,F,oe,ve){_i.call(this,x,F),this.type="rect";var Ne=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(tt){isNaN(tt)||(Ne=parseFloat(tt))}});var Ge=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(tt){isNaN(tt)||(Ge=parseFloat(tt))}}),this},qa=function(){this.page=jt,this.currentPage=z,this.pages=et.slice(0),this.pagesContext=Ct.slice(0),this.x=mt,this.y=fn,this.matrix=Zt,this.width=Ss(z),this.height=Wo(z),this.outputDestination=ct,this.id="",this.objectNumber=-1};qa.prototype.restore=function(){jt=this.page,z=this.currentPage,Ct=this.pagesContext,et=this.pages,mt=this.x,fn=this.y,Zt=this.matrix,po(z,this.width),hs(z,this.height),ct=this.outputDestination};var Xs=function(x,F,oe,ve,Ne){Ar.push(new qa),jt=z=0,et=[],mt=x,fn=F,Zt=Ne,xs([oe,ve])};for(var Qs in w.beginFormObject=function(x,F,oe,ve,Ne){return Xs(x,F,oe,ve,Ne),this},w.endFormObject=function(x){return(function(F){if(cr[F])Ar.pop().restore();else{var oe=new qa,ve="Xo"+(Object.keys(An).length+1).toString(10);oe.id=ve,cr[F]=ve,An[ve]=oe,ut.publish("addFormObject",oe),Ar.pop().restore()}})(x),this},w.doFormObject=function(x,F){var oe=An[cr[x]];return ne("q"),ne(F.toString()+" cm"),ne("/"+oe.id+" Do"),ne("Q"),this},w.getFormObject=function(x){var F=An[cr[x]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},w.save=function(x,F){return x=x||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Du(Cn(As()),x),typeof Du.unload=="function"&&sn.setTimeout&&setTimeout(Du.unload,911),this):new Promise(function(oe,ve){try{var Ne=Du(Cn(As()),x);typeof Du.unload=="function"&&sn.setTimeout&&setTimeout(Du.unload,911),oe(Ne)}catch(Ge){ve(Ge.message)}})},Bt.API)Bt.API.hasOwnProperty(Qs)&&(Qs==="events"&&Bt.API.events.length?(function(x,F){var oe,ve,Ne;for(Ne=F.length-1;Ne!==-1;Ne--)oe=F[Ne][0],ve=F[Ne][1],x.subscribe.apply(x,[oe].concat(typeof ve=="function"?[ve]:ve))})(ut,Bt.API.events):w[Qs]=Bt.API[Qs]);function Ss(x){return Ct[x].mediaBox.topRightX-Ct[x].mediaBox.bottomLeftX}function po(x,F){Ct[x].mediaBox.topRightX=F+Ct[x].mediaBox.bottomLeftX}function Wo(x){return Ct[x].mediaBox.topRightY-Ct[x].mediaBox.bottomLeftY}function hs(x,F){Ct[x].mediaBox.topRightY=F+Ct[x].mediaBox.bottomLeftY}var Js=w.getPageWidth=function(x){return Ss(x=x||z)/vt},Tl=w.setPageWidth=function(x,F){po(x,F*vt)},Bs=w.getPageHeight=function(x){return Wo(x=x||z)/vt},Ko=w.setPageHeight=function(x,F){hs(x,F*vt)};return w.internal={pdfEscape:Yi,getStyle:Al,getFont:Fs,getFontSize:ie,getCharSpace:Ea,getTextColor:Nl,getLineHeight:uo,getLineHeightFactor:za,getLineWidth:Ba,write:lt,getHorizontalCoordinate:ui,getVerticalCoordinate:ti,getCoordinateString:ho,getVerticalCoordinateString:Yn,collections:{},newObject:Bn,newAdditionalObject:Ri,newObjectDeferred:Tn,newObjectDeferredBegin:Hr,getFilters:Hi,putStream:_s,events:ut,scaleFactor:vt,pageSize:{getWidth:function(){return Js(z)},setWidth:function(x){Tl(z,x)},getHeight:function(){return Bs(z)},setHeight:function(x){Ko(z,x)}},encryptionOptions:g,encryption:yr,getEncryptor:function(x){return g!==null?yr.encryptor(x,0):function(F){return F}},output:Fa,getNumberOfPages:qo,get pages(){return et},out:ne,f2:T,f3:R,getPageInfo:jr,getPageInfoByObjId:co,getCurrentPageInfo:cc,getPDFVersion:V,Point:_i,Rectangle:$s,Matrix:pt,hasHotfix:Gr},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Js(z)},set:function(x){Tl(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Bs(z)},set:function(x){Ko(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var F=0,oe=Mt.length;F<oe;F++){var ve=Bo.call(this,x[F][0],x[F][1],x[F][2],Mt[F][3],!0);b===!1&&(A[ve]=!0);var Ne=x[F][0].split("-");Cr({id:ve,fontName:Ne[0],fontStyle:Ne[1]||""})}ut.publish("addFonts",{fonts:Pt,dictionary:Ft})}).call(w,Mt),st="F1",Vs(a,t),ut.publish("initialized"),w}Hh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Hh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Hh.prototype.processOwnerPassword=function(n,e){return K2(W2(e).substr(0,5),n)},Hh.prototype.encryptor=function(n,e){var t=W2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return K2(t,r)}},sg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||lr(n)!==lr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Bt.API={events:[]},Bt.version="4.1.0";var li=Bt.API,rv=1,Zu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ag=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},cn=function(n){return n.toFixed(2)},zc=function(n){return n.toFixed(5)};li.__acroform__={};var ba=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Cx=function(n){return n*rv},hl=function(n){var e=new GS,t=Dt.internal.getHeight(n)||0,r=Dt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(cn(r)),Number(cn(t))],e},s9=li.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},a9=li.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},o9=li.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},mi=li.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return o9(n,e-1)},gi=li.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return s9(n,e-1)},yi=li.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return a9(n,e-1)},l9=li.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],u=n[3],d={};return d.lowerLeft_X=t(a)||0,d.lowerLeft_Y=r(o+u)||0,d.upperRight_X=t(a+c)||0,d.upperRight_Y=r(o)||0,[Number(cn(d.lowerLeft_X)),Number(cn(d.lowerLeft_Y)),Number(cn(d.upperRight_X)),Number(cn(d.upperRight_Y))]},c9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=$2(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+cn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=hl(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},$2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var o=t,c=Dt.internal.getHeight(n)||0;c=c<0?-c:c;var u=Dt.internal.getWidth(n)||0;u=u<0?-u:u;var d=function(T,R,L){if(T+1<a.length){var he=R+" "+a[T+1][0];return dm(he,n,L).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var f,g,b=dm("3",n,o).height,A=n.multiline?c-o:(c-b)/2,w=A+=2,M=0,V=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+dm(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var j="",te=0,ce=0;ce<a.length;ce++)if(a.hasOwnProperty(ce)){var H=!1;if(a[ce].length!==1&&U!==a[ce].length-1){if((b+2)*(te+2)+2>c)continue e;j+=a[ce][U],H=!0,V=ce,ce--}else{j=(j+=a[ce][U]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var se=parseInt(ce),fe=d(se,j,o),q=ce>=a.length-1;if(fe&&!q){j+=" ",U=0;continue}if(fe||q){if(q)V=se;else if(n.multiline&&(b+2)*(te+2)+2>c)continue e}else{if(!n.multiline||(b+2)*(te+2)+2>c)continue e;V=se}}for(var k="",D=M;D<=V;D++){var Y=a[D];if(n.multiline){if(D===V){k+=Y[U]+" ",U=(U+1)%Y.length;continue}if(D===M){k+=Y[Y.length-1]+" ";continue}}k+=Y[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,g=dm(k,n,o).width,n.textAlign){case"right":f=u-g-2;break;case"center":f=(u-g)/2;break;default:f=2}e+=cn(f)+" "+cn(w)+` Td
`,e+="("+Zu(k)+`) Tj
`,e+=-cn(f)+` 0 Td
`,w=-(o+2),g=0,M=H?V:V+1,te++,j=""}break}return r.text=e,r.fontSize=o,r},dm=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},u9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},h9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},f9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Fo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(u9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rv=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new YS,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&h9(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var u=r[c],d=[],f=u.Rect;if(u.Rect&&(u.Rect=l9(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Dt.createDefaultAppearanceStream(u),lr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var g=c9(u);d.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(u.appearanceStreamContent){var b="";for(var A in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(A)){var w=u.appearanceStreamContent[A];if(b+="/"+A+" ",b+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var M=w[c];typeof M=="function"&&(M=M.call(a,u)),b+="/"+c+" "+M+" ",a.internal.acroformPlugin.xForms.indexOf(M)>=0||a.internal.acroformPlugin.xForms.push(M)}}else typeof(M=w)=="function"&&(M=M.call(a,u)),b+="/"+c+" "+M,a.internal.acroformPlugin.xForms.indexOf(M)>=0||a.internal.acroformPlugin.xForms.push(M);b+=">>"}d.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:u.objId}),a.internal.out("endobj")}o&&(function(V,U){for(var j in V)if(V.hasOwnProperty(j)){var te=j,ce=V[j];U.internal.newObjectDeferredBegin(ce.objId,!0),lr(ce)==="object"&&typeof ce.putStream=="function"&&ce.putStream(),delete V[te]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},HS=li.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),lr(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?a+="/"+ag(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Zu(r(n[o].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},X0=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Zu(r(n))+")"},pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pl.prototype.toString=function(){return this.objId+" 0 R"},pl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},pl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:HS(a,this.objId,this.scope)}):a instanceof pl?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var GS=function(){pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ba(GS,pl);var YS=function(){pl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Zu(t(n))+")"}},set:function(t){n=t}})};ba(YS,pl);var Fo=function n(){pl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mi(e,3)},set:function(j){j?this.F=gi(e,3):this.F=yi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof og)return;o="FieldObject"+n.FieldNum++}var j=function(te){return te};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Zu(j(o))+")"},set:function(j){o=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(j){o=j}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/rv:f},set:function(j){f=j}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){g=j}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof og||this instanceof Fu))return X0(b,this.objId,this.scope)},set:function(j){j=j.toString(),b=j}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof ns==0?X0(A,this.objId,this.scope):A},set:function(j){j=j.toString(),A=this instanceof ns==0?j.substr(0,1)==="("?jh(j.substr(1,j.length-2)):jh(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ns==1?jh(A.substr(1,A.length-1)):A},set:function(j){j=j.toString(),A=this instanceof ns==1?"/"+ag(j):j}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ns==0?X0(w,this.objId,this.scope):w},set:function(j){j=j.toString(),w=this instanceof ns==0?j.substr(0,1)==="("?jh(j.substr(1,j.length-2)):jh(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ns==1?jh(w.substr(1,w.length-1)):w},set:function(j){j=j.toString(),w=this instanceof ns==1?"/"+ag(j):j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,V=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return V},set:function(j){j=!!j,V=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(j){M=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,1)},set:function(j){j?this.Ff=gi(this.Ff,1):this.Ff=yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,2)},set:function(j){j?this.Ff=gi(this.Ff,2):this.Ff=yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,3)},set:function(j){j?this.Ff=gi(this.Ff,3):this.Ff=yi(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');U=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(U){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};ba(Fo,pl);var nf=function(){Fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return HS(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,c,u){u||(u=1);for(var d,f=[];d=c.exec(o);)f.push(d[u]);return f})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,18)},set:function(t){t?this.Ff=gi(this.Ff,18):this.Ff=yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=gi(this.Ff,19):this.Ff=yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,20)},set:function(t){t?(this.Ff=gi(this.Ff,20),e.sort()):this.Ff=yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,22)},set:function(t){t?this.Ff=gi(this.Ff,22):this.Ff=yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,23)},set:function(t){t?this.Ff=gi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,27)},set:function(t){t?this.Ff=gi(this.Ff,27):this.Ff=yi(this.Ff,27)}}),this.hasAppearanceStream=!1};ba(nf,Fo);var rf=function(){nf.call(this),this.fontName="helvetica",this.combo=!1};ba(rf,nf);var sf=function(){rf.call(this),this.combo=!0};ba(sf,rf);var Im=function(){sf.call(this),this.edit=!0};ba(Im,sf);var ns=function(){Fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,15)},set:function(t){t?this.Ff=gi(this.Ff,15):this.Ff=yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,16)},set:function(t){t?this.Ff=gi(this.Ff,16):this.Ff=yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,17)},set:function(t){t?this.Ff=gi(this.Ff,17):this.Ff=yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,26)},set:function(t){t?this.Ff=gi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Zu(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){lr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+ag(t)}})};ba(ns,Fo);var Rm=function(){ns.call(this),this.pushButton=!0};ba(Rm,ns);var af=function(){ns.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ba(af,ns);var og=function(){var n,e;Fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+Zu(a(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){lr(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ba(og,Fo),af.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},af.prototype.createOption=function(n){var e=new og;return e.Parent=this,e.optionName=n,this.Kids.push(e),d9.call(this.scope,e),e};var Lm=function(){ns.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};ba(Lm,ns);var Fu=function(){Fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,13)},set:function(e){e?this.Ff=gi(this.Ff,13):this.Ff=yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,21)},set:function(e){e?this.Ff=gi(this.Ff,21):this.Ff=yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,23)},set:function(e){e?this.Ff=gi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,24)},set:function(e){e?this.Ff=gi(this.Ff,24):this.Ff=yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,25)},set:function(e){e?this.Ff=gi(this.Ff,25):this.Ff=yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,26)},set:function(e){e?this.Ff=gi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ba(Fu,Fo);var km=function(){Fu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,14)},set:function(n){n?this.Ff=gi(this.Ff,14):this.Ff=yi(this.Ff,14)}}),this.password=!0};ba(km,Fu);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=$2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+cn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=hl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=Dt.internal.getHeight(n),c=Dt.internal.getWidth(n),u=$2(n,n.caption);return a.push("1 g"),a.push("0 0 "+cn(c)+" "+cn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+cn(c-1)+" "+cn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+cn(u.fontSize)+" Tf "+r),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Circle.YesNormal,e.D[n]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Dt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+zc(Dt.internal.getWidth(n)/2)+" "+zc(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*Dt.internal.Bezier_C).toFixed(5)),c=Number((r*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zc(Dt.internal.getWidth(n)/2)+" "+zc(Dt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+zc(Dt.internal.getWidth(n)/2)+" "+zc(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zc(Dt.internal.getWidth(n)/2)+" "+zc(Dt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Cross.YesNormal,e.D[n]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=Dt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+cn(Dt.internal.getWidth(n)-2)+" "+cn(Dt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(cn(r.x1.x)+" "+cn(r.x1.y)+" m"),t.push(cn(r.x2.x)+" "+cn(r.x2.y)+" l"),t.push(cn(r.x4.x)+" "+cn(r.x4.y)+" m"),t.push(cn(r.x3.x)+" "+cn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=Dt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+cn(Dt.internal.getWidth(n)-2)+" "+cn(Dt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(cn(t.x1.x)+" "+cn(t.x1.y)+" m"),r.push(cn(t.x2.x)+" "+cn(t.x2.y)+" l"),r.push(cn(t.x4.x)+" "+cn(t.x4.y)+" m"),r.push(cn(t.x3.x)+" "+cn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Dt.internal.getWidth(n),t=Dt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Dt.internal.getWidth=function(n){var e=0;return lr(n)==="object"&&(e=Cx(n.Rect[2])),e},Dt.internal.getHeight=function(n){var e=0;return lr(n)==="object"&&(e=Cx(n.Rect[3])),e};var d9=li.addField=function(n){if(f9(this,n),!(n instanceof Fo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};li.AcroFormChoiceField=nf,li.AcroFormListBox=rf,li.AcroFormComboBox=sf,li.AcroFormEditBox=Im,li.AcroFormButton=ns,li.AcroFormPushButton=Rm,li.AcroFormRadioButton=af,li.AcroFormCheckBox=Lm,li.AcroFormTextField=Fu,li.AcroFormPasswordField=km,li.AcroFormAppearance=Dt,li.AcroForm={ChoiceField:nf,ListBox:rf,ComboBox:sf,EditBox:Im,Button:ns,PushButton:Rm,RadioButton:af,CheckBox:Lm,TextField:Fu,PasswordField:km,Appearance:Dt},Bt.AcroForm={ChoiceField:nf,ListBox:rf,ComboBox:sf,EditBox:Im,Button:ns,PushButton:Rm,RadioButton:af,CheckBox:Lm,TextField:Fu,PasswordField:km,Appearance:Dt};Bt.AcroForm;function WS(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(T,R){var L,he,Ae,ee,pe,ue=t;if((R=R||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(fe(T))for(pe in r)for(Ae=r[pe],L=0;L<Ae.length;L+=1){for(ee=!0,he=0;he<Ae[L].length;he+=1)if(Ae[L][he]!==void 0&&Ae[L][he]!==T[he]){ee=!1;break}if(ee===!0){ue=pe;break}}else for(pe in r)for(Ae=r[pe],L=0;L<Ae.length;L+=1){for(ee=!0,he=0;he<Ae[L].length;he+=1)if(Ae[L][he]!==void 0&&Ae[L][he]!==T.charCodeAt(he)){ee=!1;break}if(ee===!0){ue=pe;break}}return ue===t&&R!==t&&(ue=R),ue},o=function T(R){for(var L=this.internal.write,he=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:R.width}),ee.push({key:"Height",value:R.height}),R.colorSpace===j.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===j.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var pe="",ue=0,Ce=R.transparency.length;ue<Ce;ue++)pe+=R.transparency[ue]+" "+R.transparency[ue]+" ";ee.push({key:"Mask",value:"["+pe+"]"})}R.sMask!==void 0&&ee.push({key:"SMask",value:R.objectId+1+" 0 R"});var be=R.filter!==void 0?["/"+R.filter]:void 0;if(he({data:R.data,additionalKeyValues:ee,alreadyAppliedFilters:be,objectId:R.objectId}),L("endobj"),"sMask"in R&&R.sMask!==void 0){var X,P=(X=R.sMaskBitsPerComponent)!==null&&X!==void 0?X:R.bitsPerComponent,z={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:R.sMask};"filter"in R&&(z.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(R.width),z.filter=R.filter),T.call(this,z)}if(R.colorSpace===j.INDEXED){var K=this.internal.newObject();he({data:k(new Uint8Array(R.palette)),objectId:K}),L("endobj")}},c=function(){var T=this.internal.collections[e+"images"];for(var R in T)o.call(this,T[R])},u=function(){var T,R=this.internal.collections[e+"images"],L=this.internal.write;for(var he in R)L("/I"+(T=R[he]).index,T.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var T=this.internal.collections[e+"images"];return d.call(this),T},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(T){return typeof n["process"+T.toUpperCase()]=="function"},A=function(T){return lr(T)==="object"&&T.nodeType===1},w=function(T,R){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return Cm(unescape(L).split("base64,").pop());var he=n.loadFile(L,!0);if(he!==void 0)return he}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Ae;switch(R){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;default:Ae="image/jpeg"}return Cm(T.toDataURL(Ae,1).split("base64,").pop())}},M=function(T){var R=this.internal.collections[e+"images"];if(R){for(var L in R)if(T===R[L].alias)return R[L]}},V=function(T,R,L){return T||R||(T=-96,R=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),R<0&&(R=-1*L.height*72/R/this.internal.scaleFactor),T===0&&(T=R*L.width/L.height),R===0&&(R=T*L.height/L.width),[T,R]},U=function(T,R,L,he,Ae,ee){var pe=V.call(this,L,he,Ae),ue=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,be=f.call(this);if(L=pe[0],he=pe[1],be[Ae.index]=Ae,ee){ee*=Math.PI/180;var X=Math.cos(ee),P=Math.sin(ee),z=function(re){return re.toFixed(4)},K=[z(X),z(P),z(-1*P),z(X),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,ue(T),Ce(R+he),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ue(L),"0","0",ue(he),"0","0","cm"].join(" "))):this.internal.write([ue(L),"0","0",ue(he),ue(T),Ce(R+he),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var te=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ce=n.__addimage__.sHashCode=function(T){var R,L,he=0;if(typeof T=="string")for(L=T.length,R=0;R<L;R++)he=(he<<5)-he+T.charCodeAt(R),he|=0;else if(fe(T))for(L=T.byteLength/2,R=0;R<L;R++)he=(he<<5)-he+T[R],he|=0;return he},H=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var R=!0;return T.length===0&&(R=!1),T.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(R=!1),R},se=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var R=T.indexOf(",");return R<0?null:T.substring(0,R).trim().endsWith("base64")?T.substring(R+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var fe=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},q=n.__addimage__.binaryStringToUint8Array=function(T){for(var R=T.length,L=new Uint8Array(R),he=0;he<R;he++)L[he]=T.charCodeAt(he);return L},k=n.__addimage__.arrayBufferToBinaryString=function(T){for(var R="",L=fe(T)?T:new Uint8Array(T),he=0;he<L.length;he+=8192)R+=String.fromCharCode.apply(null,L.subarray(he,he+8192));return R};n.addImage=function(){var T,R,L,he,Ae,ee,pe,ue,Ce;if(typeof arguments[1]=="number"?(R=t,L=arguments[1],he=arguments[2],Ae=arguments[3],ee=arguments[4],pe=arguments[5],ue=arguments[6],Ce=arguments[7]):(R=arguments[1],L=arguments[2],he=arguments[3],Ae=arguments[4],ee=arguments[5],pe=arguments[6],ue=arguments[7],Ce=arguments[8]),lr(T=arguments[0])==="object"&&!A(T)&&"imageData"in T){var be=T;T=be.imageData,R=be.format||R||t,L=be.x||L||0,he=be.y||he||0,Ae=be.w||be.width||Ae,ee=be.h||be.height||ee,pe=be.alias||pe,ue=be.compression||ue,Ce=be.rotation||be.angle||Ce}var X=this.internal.getFilters();if(ue===void 0&&X.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(L)||isNaN(he))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var P=D.call(this,T,R,pe,ue);return U.call(this,L,he,Ae,ee,P,Ce),this};var D=function(T,R,L,he){var Ae,ee,pe;if(typeof T=="string"&&a(T)===t){T=unescape(T);var ue=Y(T,!1);(ue!==""||(ue=n.loadFile(T,!0))!==void 0)&&(T=ue)}if(A(T)&&(T=w(T,R)),R=a(T,R),!b(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((pe=L)==null||pe.length===0)&&(L=(function(Ce){return typeof Ce=="string"||fe(Ce)?ce(Ce):fe(Ce.data)?ce(Ce.data):null})(T)),(Ae=M.call(this,L))||(T instanceof Uint8Array||R==="RGBA"||(ee=T,T=q(T)),Ae=this["process"+R.toUpperCase()](T,g.call(this),L,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in n.image_compression?Ce:te.NONE})(he),ee)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},Y=n.__addimage__.convertBase64ToBinaryString=function(T,R){R=typeof R!="boolean"||R;var L,he="";if(typeof T=="string"){var Ae;L=(Ae=se(T))!==null&&Ae!==void 0?Ae:T;try{he=Cm(L)}catch(ee){if(R)throw H(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return he};n.getImageProperties=function(T){var R,L,he="";if(A(T)&&(T=w(T)),typeof T=="string"&&a(T)===t&&((he=Y(T,!1))===""&&(he=n.loadFile(T)||""),T=he),L=a(T),!b(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(T instanceof Uint8Array||(T=q(T)),!(R=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=L,R}})(Bt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,g=!1,b=0;b<f.length&&!g;b++)switch((r=f[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var A=0;A<f.length;A++){r=f[A];var w=this.internal.pdfEscape,M=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var V=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(V.objId),te=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+w(j(r.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+w(j(te))+") >>",V.content=o;var ce=V.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+ce,r.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(V.objId,"0 R",U.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var se=this.annotations._nameMap[r.options.name];r.options.pageNumber=se.page,r.options.top=se.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var fe=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+fe+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(t),y:f(r),w:d(t+a),h:f(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,a,o){var c,u,d=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var g=this.splitTextToSize(t,u).length;c=Math.ceil(f*g)}else u=d,c=f;return this.text(t,r,a,o),a+=.2*f,o.align==="center"&&(r-=d/2),o.align==="right"&&(r-=d),this.link(r,a-f,u,c,o),d},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Bt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(V){return e[V.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(V){return typeof V=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(V)},u=n.__arabicParser__.isArabicEndLetter=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(V){return c(V)&&a.indexOf(V.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(V){var U=0,j=t,te="",ce=0;for(U=0;U<V.length;U+=1)j[V.charCodeAt(U)]!==void 0?(ce++,typeof(j=j[V.charCodeAt(U)])=="number"&&(te+=String.fromCharCode(j),j=t,ce=0),U===V.length-1&&(j=t,te+=V.charAt(U-(ce-1)),U-=ce-1,ce=0)):(j=t,te+=V.charAt(U-ce),U-=ce,ce=0);return te};n.__arabicParser__.isArabicDiacritic=function(V){return V!==void 0&&r[V.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(V,U,j){return c(V)?o(V)===!1?-1:!f(V)||!c(U)&&!c(j)||!c(j)&&u(U)||u(V)&&!c(U)||u(V)&&d(U)||u(V)&&u(U)?0:g(V)&&c(U)&&!u(U)&&c(j)&&f(j)?3:u(V)||!c(j)?1:2:-1},w=function(V){var U=0,j=0,te=0,ce="",H="",se="",fe=(V=V||"").split("\\s+"),q=[];for(U=0;U<fe.length;U+=1){for(q.push(""),j=0;j<fe[U].length;j+=1)ce=fe[U][j],H=fe[U][j-1],se=fe[U][j+1],c(ce)?(te=A(ce,H,se),q[U]+=te!==-1?String.fromCharCode(e[ce.charCodeAt(0)][te]):ce):q[U]+=ce;q[U]=b(q[U])}return q.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var V,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(U)){var te=0;for(j=[],te=0;te<U.length;te+=1)Array.isArray(U[te])?j.push([w(U[te][0]),U[te][1],U[te][2]]):j.push([w(U[te])]);V=j}else V=w(U);return typeof arguments[0]=="string"?V:(arguments[0].text=V,arguments[0])};n.events.push(["preProcessText",M])})(Bt.API),Bt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Bt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(V){d=V}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(V){f=V}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(V){g=V}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(V){b=V}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(V){A=V}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(V){w=V}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(V){M=V}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,f){r.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),b=f.font||this.getFont(),A=f.scaleFactor||this.internal.scaleFactor,w=0,M=0,V=0,U=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var j=f.maxWidth;j>0?typeof d=="string"?d=this.splitTextToSize(d,j):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(ce,H){return ce.concat(U.splitTextToSize(H,j))},[])):d=Array.isArray(d)?d:[d];for(var te=0;te<d.length;te++)w<(V=this.getStringUnitWidth(d[te],{font:b})*g)&&(w=V);return w!==0&&(M=d.length),{w:w/=A,h:Math.max((M*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=b.top,w&&A&&(this.printHeaderRow(d.lineNumber,!0),d.y+=A[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-g,d.y+g,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+g,{align:"center",baseline:"top",maxWidth:d.width-g-g}):this.text(d.text,d.x+g,d.y+g,{align:"left",baseline:"top",maxWidth:d.width-g-g})),this.internal.__cell__.lastCell=d,this};n.table=function(d,f,g,b,A){if(r.call(this),!g)throw new Error("No data for PDF table.");var w,M,V,U,j=[],te=[],ce=[],H={},se={},fe=[],q=[],k=(A=A||{}).autoSize||!1,D=A.printHeaders!==!1,Y=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,T=A.margins||Object.assign({width:this.getPageWidth()},e),R=typeof A.padding=="number"?A.padding:3,L=A.headerBackgroundColor||"#c8c8c8",he=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=he,this.setFontSize(Y),b==null)te=j=Object.keys(g[0]),ce=j.map(function(){return"left"});else if(Array.isArray(b)&&lr(b[0])==="object")for(j=b.map(function(be){return be.name}),te=b.map(function(be){return be.prompt||be.name||""}),ce=b.map(function(be){return be.align||"left"}),w=0;w<b.length;w+=1)se[b[w].name]=.7499990551181103*b[w].width;else Array.isArray(b)&&typeof b[0]=="string"&&(te=j=b,ce=j.map(function(){return"left"}));if(k||Array.isArray(b)&&typeof b[0]=="string")for(w=0;w<j.length;w+=1){for(H[U=j[w]]=g.map(function(be){return be[U]}),this.setFont(void 0,"bold"),fe.push(this.getTextDimensions(te[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=H[U],this.setFont(void 0,"normal"),V=0;V<M.length;V+=1)fe.push(this.getTextDimensions(M[V],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[U]=Math.max.apply(null,fe)+R+R,fe=[]}if(D){var Ae={};for(w=0;w<j.length;w+=1)Ae[j[w]]={},Ae[j[w]].text=te[w],Ae[j[w]].align=ce[w];var ee=u.call(this,Ae,se);q=j.map(function(be){return new o(d,f,se[be],ee,Ae[be].text,void 0,Ae[be].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var pe=b.reduce(function(be,X){return be[X.name]=X.align,be},{});for(w=0;w<g.length;w+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:w,data:g[w]},this);var ue=u.call(this,g[w],se);for(V=0;V<j.length;V+=1){var Ce=g[w][j[V]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:w,col:V,data:Ce},this),c.call(this,new o(d,f,se[j[V]],ue,Ce,w+2,pe[j[V]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var u=function(d,f){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(d).map(function(w){var M=d[w];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,f[w]-g-g)},this).map(function(w){return this.getLineHeightFactor()*w.length*b/A+g+g},this).reduce(function(w,M){return Math.max(w,M)},0)};n.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,A.push(g)),g.lineNumber=d;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(M)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}})(Bt.API);var KS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$S=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X2=WS($S),XS=[100,200,300,400,500,600,700,800,900],p9=WS(XS);function Q0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return KS[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof X2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function Ix(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var m9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Lx(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function kx(n){return n.trimLeft()}function g9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function y9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Vh,pm,Dx,Px,Ox,J0=["times"];function Mx(n,e,t,r,a){var o=4,c=Vx;switch(a){case Bt.API.image_compression.FAST:o=1,c=jx;break;case Bt.API.image_compression.MEDIUM:o=6,c=Fx;break;case Bt.API.image_compression.SLOW:o=9,c=Ux}n=(function(d,f,g,b){for(var A,w=d.length/f,M=new Uint8Array(d.length+w),V=[v9,jx,Vx,Fx,Ux],U=0;U<w;U+=1){var j=U*f,te=d.subarray(j,j+f);if(b)M.set(b(te,g,A),j+U);else{for(var ce=V.length,H=[],se=0;se<ce;se+=1)H[se]=V[se](te,g,A);var fe=_9(H.concat());M.set(H[fe],j+U)}A=te}return M})(n,e,Math.ceil(t*r/8),c);var u=q2(n,{level:o});return Bt.API.__addimage__.arrayBufferToBinaryString(u)}function v9(n){var e=Array.apply([],n);return e.unshift(0),e}function jx(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;r[a+1]=n[a]-o+256&255}return r}function Vx(n,e,t){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;a[o+1]=n[o]-c+256&255}return a}function Fx(n,e,t){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,u=t&&t[o]||0;a[o+1]=n[o]+256-(c+u>>>1)&255}return a}function Ux(n,e,t){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var c=b9(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-c+256&255}return a}function b9(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=a&&r<=o?n:a<=o?e:t}function _9(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Z0(n,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),c=(1<<t)-1;return QS(n,a)>>o&c}function Bx(n,e,t,r){var a=t*r,o=Math.floor(a/8),c=16-(a-8*o+r),u=(1<<r)-1,d=(e&u)<<c;(function(f,g,b){if(g+1<f.byteLength)f.setUint16(g,b,!1);else{var A=b>>8&255;f.setUint8(g,A)}})(n,o,QS(n,o)&~(u<<c)&65535|d)}function QS(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function w9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,c=1<<1+(7&a);n[e++],n[e++];var u=null,d=null;o&&(u=e,d=c,e+=3*c);var f=!0,g=[],b=0,A=null,w=0,M=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,M=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var V=n[e++];b=n[e++]|n[e++]<<8,A=n[e++],1&V||(A=null),w=V>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var U=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,te=n[e++]|n[e++]<<8,ce=n[e++]|n[e++]<<8,H=n[e++],se=H>>6&1,fe=1<<1+(7&H),q=u,k=d,D=!1;H>>7&&(D=!0,q=e,k=fe,e+=3*fe);var Y=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}g.push({x:U,y:j,width:te,height:ce,has_local_palette:D,palette_offset:q,palette_size:k,data_offset:Y,data_length:e-Y,transparent_index:A,interlaced:!!se,delay:b,disposal:w});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return M},this.frameInfo=function(R){if(R<0||R>=g.length)throw new Error("Frame index out of range.");return g[R]},this.decodeAndBlitFrameBGRA=function(R,L){var he=this.frameInfo(R),Ae=he.width*he.height,ee=new Uint8Array(Ae);zx(n,he.data_offset,ee,Ae);var pe=he.palette_offset,ue=he.transparent_index;ue===null&&(ue=256);var Ce=he.width,be=t-Ce,X=Ce,P=4*(he.y*t+he.x),z=4*((he.y+he.height)*t+he.x),K=P,re=4*be;he.interlaced===!0&&(re+=4*t*7);for(var de=8,ye=0,Ee=ee.length;ye<Ee;++ye){var Le=ee[ye];if(X===0&&(X=Ce,(K+=re)>=z&&(re=4*be+4*t*(de-1),K=P+(Ce+be)*(de<<1),de>>=1)),Le===ue)K+=4;else{var Ue=n[pe+3*Le],et=n[pe+3*Le+1],ot=n[pe+3*Le+2];L[K++]=ot,L[K++]=et,L[K++]=Ue,L[K++]=255}--X}},this.decodeAndBlitFrameRGBA=function(R,L){var he=this.frameInfo(R),Ae=he.width*he.height,ee=new Uint8Array(Ae);zx(n,he.data_offset,ee,Ae);var pe=he.palette_offset,ue=he.transparent_index;ue===null&&(ue=256);var Ce=he.width,be=t-Ce,X=Ce,P=4*(he.y*t+he.x),z=4*((he.y+he.height)*t+he.x),K=P,re=4*be;he.interlaced===!0&&(re+=4*t*7);for(var de=8,ye=0,Ee=ee.length;ye<Ee;++ye){var Le=ee[ye];if(X===0&&(X=Ce,(K+=re)>=z&&(re=4*be+4*t*(de-1),K=P+(Ce+be)*(de<<1),de>>=1)),Le===ue)K+=4;else{var Ue=n[pe+3*Le],et=n[pe+3*Le+1],ot=n[pe+3*Le+2];L[K++]=Ue,L[K++]=et,L[K++]=ot,L[K++]=255}--X}}}function zx(n,e,t,r){for(var a=n[e++],o=1<<a,c=o+1,u=c+1,d=a+1,f=(1<<d)-1,g=0,b=0,A=0,w=n[e++],M=new Int32Array(4096),V=null;;){for(;g<16&&w!==0;)b|=n[e++]<<g,g+=8,w===1?w=n[e++]:--w;if(g<d)break;var U=b&f;if(b>>=d,g-=d,U!==o){if(U===c)break;for(var j=U<u?U:V,te=0,ce=j;ce>o;)ce=M[ce]>>8,++te;var H=ce;if(A+te+(j!==U?1:0)>r)return void wr.log("Warning, gif stream longer than expected.");t[A++]=H;var se=A+=te;for(j!==U&&(t[A++]=H),ce=j;te--;)ce=M[ce],t[--se]=255&ce,ce>>=8;V!==null&&u<4096&&(M[u++]=V<<8|H,u>=f+1&&d<12&&(++d,f=f<<1|1)),V=U}else u=c+1,f=(1<<(d=a+1))-1,V=null}return A!==r&&wr.log("Warning, gif stream shorter than expected."),t}function e2(n){var e,t,r,a,o,c=Math.floor,u=new Array(64),d=new Array(64),f=new Array(64),g=new Array(64),b=new Array(65535),A=new Array(65535),w=new Array(64),M=new Array(64),V=[],U=0,j=7,te=new Array(64),ce=new Array(64),H=new Array(64),se=new Array(256),fe=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(P,z){for(var K=0,re=0,de=new Array,ye=1;ye<=16;ye++){for(var Ee=1;Ee<=P[ye];Ee++)de[z[re]]=[],de[z[re]][0]=K,de[z[re]][1]=ye,re++,K++;K*=2}return de}function pe(P){for(var z=P[0],K=P[1]-1;K>=0;)z&1<<K&&(U|=1<<j),K--,--j<0&&(U==255?(ue(255),ue(0)):ue(U),j=7,U=0)}function ue(P){V.push(P)}function Ce(P){ue(P>>8&255),ue(255&P)}function be(P,z,K,re,de){for(var ye,Ee=de[0],Le=de[240],Ue=(function(Be,dt){var ie,ge,Se,Ke,He,Ve,it,ft,st,vt,mt=0;for(st=0;st<8;++st){ie=Be[mt],ge=Be[mt+1],Se=Be[mt+2],Ke=Be[mt+3],He=Be[mt+4],Ve=Be[mt+5],it=Be[mt+6];var fn=ie+(ft=Be[mt+7]),Zt=ie-ft,Pt=ge+it,Ft=ge-it,Qt=Se+Ve,Ot=Se-Ve,yn=Ke+He,St=Ke-He,zt=fn+yn,Mn=fn-yn,jt=Pt+Qt,Ct=Pt-Qt;Be[mt]=zt+jt,Be[mt+4]=zt-jt;var ut=.707106781*(Ct+Mn);Be[mt+2]=Mn+ut,Be[mt+6]=Mn-ut;var _n=.382683433*((zt=St+Ot)-(Ct=Ft+Zt)),An=.5411961*zt+_n,cr=1.306562965*Ct+_n,Ar=.707106781*(jt=Ot+Ft),pt=Zt+Ar,Sr=Zt-Ar;Be[mt+5]=Sr+An,Be[mt+3]=Sr-An,Be[mt+1]=pt+cr,Be[mt+7]=pt-cr,mt+=8}for(mt=0,st=0;st<8;++st){ie=Be[mt],ge=Be[mt+8],Se=Be[mt+16],Ke=Be[mt+24],He=Be[mt+32],Ve=Be[mt+40],it=Be[mt+48];var Zr=ie+(ft=Be[mt+56]),Zn=ie-ft,er=ge+it,Bn=ge-it,Tn=Se+Ve,Hr=Se-Ve,Ri=Ke+He,vi=Ke-He,Gn=Zr+Ri,rr=Zr-Ri,ei=er+Tn,Hi=er-Tn;Be[mt]=Gn+ei,Be[mt+32]=Gn-ei;var _s=.707106781*(Hi+rr);Be[mt+16]=rr+_s,Be[mt+48]=rr-_s;var Va=.382683433*((Gn=vi+Hr)-(Hi=Bn+Zn)),js=.5411961*Gn+Va,Gi=1.306562965*Hi+Va,_a=.707106781*(ei=Hr+Bn),ss=Zn+_a,Li=Zn-_a;Be[mt+40]=Li+js,Be[mt+24]=Li-js,Be[mt+8]=ss+Gi,Be[mt+56]=ss-Gi,mt++}for(st=0;st<64;++st)vt=Be[st]*dt[st],w[st]=vt>0?vt+.5|0:vt-.5|0;return w})(P,z),et=0;et<64;++et)M[q[et]]=Ue[et];var ot=M[0]-K;K=M[0],ot==0?pe(re[0]):(pe(re[A[ye=32767+ot]]),pe(b[ye]));for(var ct=63;ct>0&&M[ct]==0;)ct--;if(ct==0)return pe(Ee),K;for(var yt,ne=1;ne<=ct;){for(var lt=ne;M[ne]==0&&ne<=ct;)++ne;var $t=ne-lt;if($t>=16){yt=$t>>4;for(var Mt=1;Mt<=yt;++Mt)pe(Le);$t&=15}ye=32767+M[ne],pe(de[($t<<4)+A[ye]]),pe(b[ye]),ne++}return ct!=63&&pe(Ee),K}function X(P){P=Math.min(Math.max(P,1),100),o!=P&&((function(z){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var de=c((K[re]*z+50)/100);de=Math.min(Math.max(de,1),255),u[q[re]]=de}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var Le=c((ye[Ee]*z+50)/100);Le=Math.min(Math.max(Le,1),255),d[q[Ee]]=Le}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],et=0,ot=0;ot<8;ot++)for(var ct=0;ct<8;ct++)f[et]=1/(u[q[et]]*Ue[ot]*Ue[ct]*8),g[et]=1/(d[q[et]]*Ue[ot]*Ue[ct]*8),et++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),o=P)}this.encode=function(P,z){z&&X(z),V=new Array,U=0,j=7,Ce(65496),Ce(65504),Ce(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),Ce(1),Ce(1),ue(0),ue(0),(function(){Ce(65499),Ce(132),ue(0);for(var ge=0;ge<64;ge++)ue(u[ge]);ue(1);for(var Se=0;Se<64;Se++)ue(d[Se])})(),(function(ge,Se){Ce(65472),Ce(17),ue(8),Ce(Se),Ce(ge),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(P.width,P.height),(function(){Ce(65476),Ce(418),ue(0);for(var ge=0;ge<16;ge++)ue(k[ge+1]);for(var Se=0;Se<=11;Se++)ue(D[Se]);ue(16);for(var Ke=0;Ke<16;Ke++)ue(Y[Ke+1]);for(var He=0;He<=161;He++)ue(T[He]);ue(1);for(var Ve=0;Ve<16;Ve++)ue(R[Ve+1]);for(var it=0;it<=11;it++)ue(L[it]);ue(17);for(var ft=0;ft<16;ft++)ue(he[ft+1]);for(var st=0;st<=161;st++)ue(Ae[st])})(),Ce(65498),Ce(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var K=0,re=0,de=0;U=0,j=7,this.encode.displayName="_encode_";for(var ye,Ee,Le,Ue,et,ot,ct,yt,ne,lt=P.data,$t=P.width,Mt=P.height,Be=4*$t,dt=0;dt<Mt;){for(ye=0;ye<Be;){for(et=Be*dt+ye,ct=-1,yt=0,ne=0;ne<64;ne++)ot=et+(yt=ne>>3)*Be+(ct=4*(7&ne)),dt+yt>=Mt&&(ot-=Be*(dt+1+yt-Mt)),ye+ct>=Be&&(ot-=ye+ct-Be+4),Ee=lt[ot++],Le=lt[ot++],Ue=lt[ot++],te[ne]=(fe[Ee]+fe[Le+256|0]+fe[Ue+512|0]>>16)-128,ce[ne]=(fe[Ee+768|0]+fe[Le+1024|0]+fe[Ue+1280|0]>>16)-128,H[ne]=(fe[Ee+1280|0]+fe[Le+1536|0]+fe[Ue+1792|0]>>16)-128;K=be(te,f,K,e,r),re=be(ce,g,re,t,a),de=be(H,g,de,t,a),ye+=32}dt+=8}if(j>=0){var ie=[];ie[1]=j+1,ie[0]=(1<<j+1)-1,pe(ie)}return Ce(65497),new Uint8Array(V)},n=n||50,(function(){for(var P=String.fromCharCode,z=0;z<256;z++)se[z]=P(z)})(),e=ee(k,D),t=ee(R,L),r=ee(Y,T),a=ee(he,Ae),(function(){for(var P=1,z=2,K=1;K<=15;K++){for(var re=P;re<z;re++)A[32767+re]=K,b[32767+re]=[],b[32767+re][1]=K,b[32767+re][0]=re;for(var de=-(z-1);de<=-P;de++)A[32767+de]=K,b[32767+de]=[],b[32767+de][1]=K,b[32767+de][0]=z-1+de;P<<=1,z<<=1}})(),(function(){for(var P=0;P<256;P++)fe[P]=19595*P,fe[P+256|0]=38470*P,fe[P+512|0]=7471*P+32768,fe[P+768|0]=-11059*P,fe[P+1024|0]=-21709*P,fe[P+1280|0]=32768*P+8421375,fe[P+1536|0]=-27439*P,fe[P+1792|0]=-5329*P})(),X(n)}function Ro(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qx(n){function e(D){if(!D)throw Error("assert :P")}function t(D,Y,T){for(var R=0;4>R;R++)if(D[Y+R]!=T.charCodeAt(R))return!0;return!1}function r(D,Y,T,R,L){for(var he=0;he<L;he++)D[Y+he]=T[R+he]}function a(D,Y,T,R){for(var L=0;L<R;L++)D[Y+L]=T}function o(D){return new Int32Array(D)}function c(D,Y){for(var T=[],R=0;R<D;R++)T.push(new Y);return T}function u(D,Y){var T=[];return(function R(L,he,Ae){for(var ee=Ae[he],pe=0;pe<ee&&(L.push(Ae.length>he+1?[]:new Y),!(Ae.length<he+1));pe++)R(L[pe],he+1,Ae)})(T,0,D),T}var d=function(){var D=this;function Y(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function T(p,v,S,C,B){e(!(C%S));do p[v+(C-=S)]=B;while(0<C)}function R(p,v,S,C,B){if(e(2328>=B),512>=B)var G=o(512);else if((G=o(B))==null)return 0;return(function(W,Q,Z,le,_e,De){var ae,xe,Re=Q,qe=1<<Z,ke=o(16),ze=o(16);for(e(_e!=0),e(le!=null),e(W!=null),e(0<Z),xe=0;xe<_e;++xe){if(15<le[xe])return 0;++ke[le[xe]]}if(ke[0]==_e)return 0;for(ze[1]=0,ae=1;15>ae;++ae){if(ke[ae]>1<<ae)return 0;ze[ae+1]=ze[ae]+ke[ae]}for(xe=0;xe<_e;++xe)ae=le[xe],0<le[xe]&&(De[ze[ae]++]=xe);if(ze[15]==1)return(le=new L).g=0,le.value=De[0],T(W,Re,1,qe,le),qe;var We,rt=-1,Ze=qe-1,Rt=0,bt=1,rn=1,Et=1<<Z;for(xe=0,ae=1,_e=2;ae<=Z;++ae,_e<<=1){if(bt+=rn<<=1,0>(rn-=ke[ae]))return 0;for(;0<ke[ae];--ke[ae])(le=new L).g=ae,le.value=De[xe++],T(W,Re+Rt,_e,Et,le),Rt=Y(Rt,ae)}for(ae=Z+1,_e=2;15>=ae;++ae,_e<<=1){if(bt+=rn<<=1,0>(rn-=ke[ae]))return 0;for(;0<ke[ae];--ke[ae]){if(le=new L,(Rt&Ze)!=rt){for(Re+=Et,We=1<<(rt=ae)-Z;15>rt&&!(0>=(We-=ke[rt]));)++rt,We<<=1;qe+=Et=1<<(We=rt-Z),W[Q+(rt=Rt&Ze)].g=We+Z,W[Q+rt].value=Re-Q-rt}le.g=ae-Z,le.value=De[xe++],T(W,Re+(Rt>>Z),_e,Et,le),Rt=Y(Rt,ae)}}return bt!=2*ze[15]-1?0:qe})(p,v,S,C,B,G)}function L(){this.value=this.g=0}function he(){this.value=this.g=0}function Ae(){this.G=c(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c($o,he)}function ee(p,v,S,C){e(p!=null),e(v!=null),e(2147483648>C),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+C,p.Zc=4<=C?S+C-4+1:S,Ee(p)}function pe(p,v){for(var S=0;0<v--;)S|=Ue(p,128)<<v;return S}function ue(p,v){var S=pe(p,v);return Le(p)?-S:S}function Ce(p,v,S,C){var B,G=0;for(e(p!=null),e(v!=null),e(4294967288>C),p.Sb=C,p.Ra=0,p.u=0,p.h=0,4<C&&(C=4),B=0;B<C;++B)G+=v[S+B]<<8*B;p.Ra=G,p.bb=C,p.oa=v,p.pa=S}function be(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ya-8>>>0,++p.bb,p.u-=8;re(p)&&(p.h=1,p.u=0)}function X(p,v){if(e(0<=v),!p.h&&v<=ds){var S=K(p)&Es[v];return p.u+=v,be(p),S}return p.h=1,p.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(p){return p.Ra>>>(p.u&Ya-1)>>>0}function re(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ya}function de(p,v){p.u=v,p.h=re(p)}function ye(p){p.u>=Wa&&(e(p.u>=Wa),be(p))}function Ee(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Le(p){return pe(p,1)}function Ue(p,v){var S=p.Ca;0>p.b&&Ee(p);var C=p.b,B=S*v>>>8,G=(p.I>>>C>B)+0;for(G?(S-=B,p.I-=B+1<<C>>>0):S=B+1,C=S,B=0;256<=C;)B+=8,C>>=8;return C=7^B+yo[C],p.b-=C,p.Ca=(S<<C)-1,G}function et(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function ot(p,v){return p[v+0]|p[v+1]<<8}function ct(p,v){return ot(p,v)|p[v+2]<<16}function yt(p,v){return ot(p,v)|ot(p,v+2)<<16}function ne(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function lt(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function $t(){this.X=[],this.Xa=this.Mb=0}function Mt(p,v,S,C){e(S!=null),e(C!=null);var B=S[0],G=C[0];return B==0&&(B=(p*G+v/2)/v),G==0&&(G=(v*B+p/2)/p),0>=B||0>=G?0:(S[0]=B,C[0]=G,1)}function Be(p,v){return p+(1<<v)-1>>>v}function dt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function ie(p,v){D[v]=function(S,C,B,G,W,Q,Z){var le;for(le=0;le<W;++le){var _e=D[p](Q[Z+le-1],B,G+le);Q[Z+le]=dt(S[C+le],_e)}}}function ge(){this.ud=this.hd=this.jd=0}function Se(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Ke(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function He(p,v){return Ke(p+(p-v+.5>>1))}function Ve(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function it(p,v,S,C,B,G,W){for(C=G[W-1],S=0;S<B;++S)G[W+S]=C=dt(p[v+S],C)}function ft(p,v,S,C,B){var G;for(G=0;G<S;++G){var W=p[v+G],Q=W>>8&255,Z=16711935&(Z=(Z=16711935&W)+((Q<<16)+Q));C[B+G]=(4278255360&W)+Z>>>0}}function st(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function vt(p,v,S,C,B,G){var W;for(W=0;W<C;++W){var Q=v[S+W],Z=Q>>>8,le=Q,_e=255&(_e=(_e=Q>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));le=255&(le=(le+=(p.hd<<24>>24)*(Z<<24>>24)>>>5)+((p.ud<<24>>24)*(_e<<24>>24)>>>5)),B[G+W]=(4278255360&Q)+(_e<<16)+le}}function mt(p,v,S,C,B){D[v]=function(G,W,Q,Z,le,_e,De,ae,xe){for(Z=De;Z<ae;++Z)for(De=0;De<xe;++De)le[_e++]=B(Q[C(G[W++])])},D[p]=function(G,W,Q,Z,le,_e,De){var ae=8>>G.b,xe=G.Ea,Re=G.K[0],qe=G.w;if(8>ae)for(G=(1<<G.b)-1,qe=(1<<ae)-1;W<Q;++W){var ke,ze=0;for(ke=0;ke<xe;++ke)ke&G||(ze=C(Z[le++])),_e[De++]=B(Re[ze&qe]),ze>>=ae}else D["VP8LMapColor"+S](Z,le,Re,qe,_e,De,W,Q,xe)}}function fn(p,v,S,C,B){for(S=v+S;v<S;){var G=p[v++];C[B++]=G>>16&255,C[B++]=G>>8&255,C[B++]=255&G}}function Zt(p,v,S,C,B){for(S=v+S;v<S;){var G=p[v++];C[B++]=G>>16&255,C[B++]=G>>8&255,C[B++]=255&G,C[B++]=G>>24&255}}function Pt(p,v,S,C,B){for(S=v+S;v<S;){var G=(W=p[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;C[B++]=G,C[B++]=W}}function Ft(p,v,S,C,B){for(S=v+S;v<S;){var G=(W=p[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;C[B++]=G,C[B++]=W}}function Qt(p,v,S,C,B){for(S=v+S;v<S;){var G=p[v++];C[B++]=255&G,C[B++]=G>>8&255,C[B++]=G>>16&255}}function Ot(p,v,S,C,B,G){if(G==0)for(S=v+S;v<S;)et(C,((G=p[v++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),B+=32;else r(C,B,p,v,S)}function yn(p,v){D[v][0]=D[p+"0"],D[v][1]=D[p+"1"],D[v][2]=D[p+"2"],D[v][3]=D[p+"3"],D[v][4]=D[p+"4"],D[v][5]=D[p+"5"],D[v][6]=D[p+"6"],D[v][7]=D[p+"7"],D[v][8]=D[p+"8"],D[v][9]=D[p+"9"],D[v][10]=D[p+"10"],D[v][11]=D[p+"11"],D[v][12]=D[p+"12"],D[v][13]=D[p+"13"],D[v][14]=D[p+"0"],D[v][15]=D[p+"0"]}function St(p){return p==xu||p==sh||p==gc||p==ah}function zt(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new Mn,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _n(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function An(p,v){var S=p.T,C=v.ba.f.RGBA,B=C.eb,G=C.fb+p.ka*C.A,W=Vi[v.ba.S],Q=p.y,Z=p.O,le=p.f,_e=p.N,De=p.ea,ae=p.W,xe=v.cc,Re=v.dc,qe=v.Mc,ke=v.Nc,ze=p.ka,We=p.ka+p.T,rt=p.U,Ze=rt+1>>1;for(ze==0?W(Q,Z,null,null,le,_e,De,ae,le,_e,De,ae,B,G,null,null,rt):(W(v.ec,v.fc,Q,Z,xe,Re,qe,ke,le,_e,De,ae,B,G-C.A,B,G,rt),++S);ze+2<We;ze+=2)xe=le,Re=_e,qe=De,ke=ae,_e+=p.Rc,ae+=p.Rc,G+=2*C.A,W(Q,(Z+=2*p.fa)-p.fa,Q,Z,xe,Re,qe,ke,le,_e,De,ae,B,G-C.A,B,G,rt);return Z+=p.fa,p.j+We<p.o?(r(v.ec,v.fc,Q,Z,rt),r(v.cc,v.dc,le,_e,Ze),r(v.Mc,v.Nc,De,ae,Ze),S--):1&We||W(Q,Z,null,null,le,_e,De,ae,le,_e,De,ae,B,G+C.A,null,null,rt),S}function cr(p,v,S){var C=p.F,B=[p.J];if(C!=null){var G=p.U,W=v.ba.S,Q=W==wu||W==gc;v=v.ba.f.RGBA;var Z=[0],le=p.ka;Z[0]=p.T,p.Kb&&(le==0?--Z[0]:(--le,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-le));var _e=v.eb;le=v.fb+le*v.A,p=yu(C,B[0],p.width,G,Z,_e,le+(Q?0:3),v.A),e(S==Z),p&&St(W)&&Rl(_e,le,Q,G,Z,v.A)}return 0}function Ar(p){var v=p.ma,S=v.ba.S,C=11>S,B=S==Qi||S==ta||S==wu||S==mc||S==12||St(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!go(v.Oa,p,B?11:12))return 0;if(B&&St(S)&&nn(),p.da)alert("todo:use_scaling");else{if(C){if(v.Ib=_n,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=An,nn()}}else alert("todo:EmitYUV");B&&(v.Jb=cr,C&&Me())}if(C&&!nl){for(p=0;256>p;++p)Fi[p]=89858*(p-128)+bc>>oa,Yg[p]=-22014*(p-128)+bc,hp[p]=-45773*(p-128),hh[p]=113618*(p-128)+bc>>oa;for(p=Pl;p<tl;++p)v=76283*(p-16)+bc>>oa,Wg[p-Pl]=os(v,255),Kg[p-Pl]=os(v+8>>4,15);nl=1}return 1}function pt(p){var v=p.ma,S=p.U,C=p.T;return e(!(1&p.ka)),0>=S||0>=C?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Sr(p){p.ma.memory=null}function Zr(p,v,S,C){return X(p,8)!=47?0:(v[0]=X(p,14)+1,S[0]=X(p,14)+1,C[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Zn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+X(v,S)+1}function er(p,v){return 120<v?v-120:1<=(S=((S=ra[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Bn(p,v,S){var C=K(S),B=p[v+=255&C].g-8;return 0<B&&(de(S,S.u+8),C=K(S),v+=p[v].value,v+=C&(1<<B)-1),de(S,S.u+p[v].g),p[v].value}function Tn(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Hr(p,v,S){var C=p.xc;return e((v=C==0?0:p.vc[p.md*(S>>C)+(v>>C)])<p.Wb),p.Ya[v]}function Ri(p,v,S,C){var B=p.ab,G=p.c*v,W=p.C;v=W+v;var Q=S,Z=C;for(C=p.Ta,S=p.Ua;0<B--;){var le=p.gc[B],_e=W,De=v,ae=Q,xe=Z,Re=(Z=C,Q=S,le.Ea);switch(e(_e<De),e(De<=le.nc),le.hc){case 2:Wr(ae,xe,(De-_e)*Re,Z,Q);break;case 0:var qe=_e,ke=De,ze=Z,We=Q,rt=(Et=le).Ea;qe==0&&(hc(ae,xe,null,null,1,ze,We),it(ae,xe+1,0,0,rt-1,ze,We+1),xe+=rt,We+=rt,++qe);for(var Ze=1<<Et.b,Rt=Ze-1,bt=Be(rt,Et.b),rn=Et.K,Et=Et.w+(qe>>Et.b)*bt;qe<ke;){var xn=rn,br=Et,on=1;for(fc(ae,xe,ze,We-rt,1,ze,We);on<rt;){var _t=(on&~Rt)+Ze;_t>rt&&(_t=rt),(0,vo[xn[br++]>>8&15])(ae,xe+ +on,ze,We+on-rt,_t-on,ze,We+on),on=_t}xe+=rt,We+=rt,++qe&Rt||(Et+=bt)}De!=le.nc&&r(Z,Q-Re,Z,Q+(De-_e-1)*Re,Re);break;case 1:for(Re=ae,ke=xe,rt=(ae=le.Ea)-(We=ae&~(ze=(xe=1<<le.b)-1)),qe=Be(ae,le.b),Ze=le.K,le=le.w+(_e>>le.b)*qe;_e<De;){for(Rt=Ze,bt=le,rn=new ge,Et=ke+We,xn=ke+ae;ke<Et;)st(Rt[bt++],rn),dc(rn,Re,ke,xe,Z,Q),ke+=xe,Q+=xe;ke<xn&&(st(Rt[bt++],rn),dc(rn,Re,ke,rt,Z,Q),ke+=rt,Q+=rt),++_e&ze||(le+=qe)}break;case 3:if(ae==Z&&xe==Q&&0<le.b){for(ke=Z,ae=Re=Q+(De-_e)*Re-(We=(De-_e)*Be(le.Ea,le.b)),xe=Z,ze=Q,qe=[],We=(rt=We)-1;0<=We;--We)qe[We]=xe[ze+We];for(We=rt-1;0<=We;--We)ke[ae+We]=qe[We];eh(le,_e,De,Z,Re,Z,Q)}else eh(le,_e,De,ae,xe,Z,Q)}Q=C,Z=S}Z!=S&&r(C,S,Q,Z,G)}function vi(p,v){var S=p.V,C=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var G=p.l,W=p.Ta,Q=p.Ua,Z=G.width;if(Ri(p,B,S,C),B=Q=[Q],e((S=p.C)<(C=v)),e(G.v<G.va),C>G.o&&(C=G.o),S<G.j){var le=G.j-S;S=G.j,B[0]+=le*Z}if(S>=C?S=0:(B[0]+=4*G.v,G.ka=S-G.j,G.U=G.va-G.v,G.T=C-S,S=1),S){if(Q=Q[0],11>(S=p.ca).S){var _e=S.f.RGBA,De=(C=S.S,B=G.U,G=G.T,le=_e.eb,_e.A),ae=G;for(_e=_e.fb+p.Ma*_e.A;0<ae--;){var xe=W,Re=Q,qe=B,ke=le,ze=_e;switch(C){case rh:pc(xe,Re,qe,ke,ze);break;case Qi:bo(xe,Re,qe,ke,ze);break;case xu:bo(xe,Re,qe,ke,ze),Rl(ke,ze,0,qe,1,0);break;case ih:Cl(xe,Re,qe,ke,ze);break;case ta:Ot(xe,Re,qe,ke,ze,1);break;case sh:Ot(xe,Re,qe,ke,ze,1),Rl(ke,ze,0,qe,1,0);break;case wu:Ot(xe,Re,qe,ke,ze,0);break;case gc:Ot(xe,Re,qe,ke,ze,0),Rl(ke,ze,1,qe,1,0);break;case mc:_o(xe,Re,qe,ke,ze);break;case ah:_o(xe,Re,qe,ke,ze),ea(ke,ze,qe,1,0);break;case Xo:Xa(xe,Re,qe,ke,ze);break;default:e(0)}Q+=Z,_e+=De}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function Gn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,C=p.Ya[v].H;if(0<S[1][C[1]+0].g||0<S[2][C[2]+0].g||0<S[3][C[3]+0].g)return 0}return 1}function rr(p,v,S,C,B,G){if(p.Z!=0){var W=p.qd,Q=p.rd;for(e(Ao[p.Z]!=null);v<S;++v)Ao[p.Z](W,Q,C,B,C,B,G),W=C,Q=B,B+=G;p.qd=W,p.rd=Q}}function ei(p,v){var S=p.l.ma,C=S.Z==0||S.Z==1?p.l.j:p.C;if(C=p.C<C?C:p.C,e(v<=p.l.o),v>C){var B=p.l.width,G=S.ca,W=S.tb+B*C,Q=p.V,Z=p.Ba+p.c*C,le=p.gc;e(p.ab==1),e(le[0].hc==3),$a(le[0],C,v,Q,Z,G,W),rr(S,C,v,G,W,B)}p.C=p.Ma=v}function Hi(p,v,S,C,B,G,W){var Q=p.$/C,Z=p.$%C,le=p.m,_e=p.s,De=S+p.$,ae=De;B=S+C*B;var xe=S+C*G,Re=280+_e.ua,qe=p.Pb?Q:16777216,ke=0<_e.ua?_e.Wa:null,ze=_e.wc,We=De<xe?Hr(_e,Z,Q):null;e(p.C<G),e(xe<=B);var rt=!1;e:for(;;){for(;rt||De<xe;){var Ze=0;if(Q>=qe){var Rt=De-S;e((qe=p).Pb),qe.wd=qe.m,qe.xd=Rt,0<qe.s.ua&&lt(qe.s.Wa,qe.s.vb),qe=Q+Qo}if(Z&ze||(We=Hr(_e,Z,Q)),e(We!=null),We.Qb&&(v[De]=We.qb,rt=!0),!rt)if(ye(le),We.jc){Ze=le,Rt=v;var bt=De,rn=We.pd[K(Ze)&$o-1];e(We.jc),256>rn.g?(de(Ze,Ze.u+rn.g),Rt[bt]=rn.value,Ze=0):(de(Ze,Ze.u+rn.g-256),e(256<=rn.value),Ze=rn.value),Ze==0&&(rt=!0)}else Ze=Bn(We.G[0],We.H[0],le);if(le.h)break;if(rt||256>Ze){if(!rt)if(We.nd)v[De]=(We.qb|Ze<<8)>>>0;else{if(ye(le),rt=Bn(We.G[1],We.H[1],le),ye(le),Rt=Bn(We.G[2],We.H[2],le),bt=Bn(We.G[3],We.H[3],le),le.h)break;v[De]=(bt<<24|rt<<16|Ze<<8|Rt)>>>0}if(rt=!1,++De,++Z>=C&&(Z=0,++Q,W!=null&&Q<=G&&!(Q%16)&&W(p,Q),ke!=null))for(;ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else if(280>Ze){if(Ze=Zn(Ze-256,le),Rt=Bn(We.G[4],We.H[4],le),ye(le),Rt=er(C,Rt=Zn(Rt,le)),le.h)break;if(De-S<Rt||B-De<Ze)break e;for(bt=0;bt<Ze;++bt)v[De+bt]=v[De+bt-Rt];for(De+=Ze,Z+=Ze;Z>=C;)Z-=C,++Q,W!=null&&Q<=G&&!(Q%16)&&W(p,Q);if(e(De<=B),Z&ze&&(We=Hr(_e,Z,Q)),ke!=null)for(;ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else{if(!(Ze<Re))break e;for(rt=Ze-280,e(ke!=null);ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze;Ze=De,e(!(rt>>>(Rt=ke).Xa)),v[Ze]=Rt.X[rt],rt=!0}rt||e(le.h==re(le))}if(p.Pb&&le.h&&De<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&lt(p.s.vb,p.s.Wa);else{if(le.h)break e;W?.(p,Q>G?G:Q),p.a=0,p.$=De-S}return 1}return p.a=3,0}function _s(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Va(){var p=new Yt;return p==null?null:(p.a=0,p.xb=Of,yn("Predictor","VP8LPredictors"),yn("Predictor","VP8LPredictors_C"),yn("PredictorAdd","VP8LPredictorsAdd"),yn("PredictorAdd","VP8LPredictorsAdd_C"),Wr=ft,dc=vt,pc=fn,bo=Zt,_o=Pt,Xa=Ft,Cl=Qt,D.VP8LMapColor32b=Ka,D.VP8LMapColor8b=Oi,p)}function js(p,v,S,C,B){var G=1,W=[p],Q=[v],Z=C.m,le=C.s,_e=null,De=0;e:for(;;){if(S)for(;G&&X(Z,1);){var ae=W,xe=Q,Re=C,qe=1,ke=Re.m,ze=Re.gc[Re.ab],We=X(ke,2);if(Re.Oc&1<<We)G=0;else{switch(Re.Oc|=1<<We,ze.hc=We,ze.Ea=ae[0],ze.nc=xe[0],ze.K=[null],++Re.ab,e(4>=Re.ab),We){case 0:case 1:ze.b=X(ke,3)+2,qe=js(Be(ze.Ea,ze.b),Be(ze.nc,ze.b),0,Re,ze.K),ze.K=ze.K[0];break;case 3:var rt,Ze=X(ke,8)+1,Rt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(ae[0]=Be(ze.Ea,Rt),ze.b=Rt,rt=qe=js(Ze,1,0,Re,ze.K)){var bt,rn=Ze,Et=ze,xn=1<<(8>>Et.b),br=o(xn);if(br==null)rt=0;else{var on=Et.K[0],_t=Et.w;for(br[0]=Et.K[0][0],bt=1;bt<1*rn;++bt)br[bt]=dt(on[_t+bt],br[bt-1]);for(;bt<4*xn;++bt)br[bt]=0;Et.K[0]=null,Et.K[0]=br,rt=1}}qe=rt;break;case 2:break;default:e(0)}G=qe}}if(W=W[0],Q=Q[0],G&&X(Z,1)&&!(G=1<=(De=X(Z,4))&&11>=De)){C.a=3;break e}var ht;if(ht=G)t:{var Ir,Xt,hn,Xn=C,hi=W,Ui=Q,dr=De,ni=S,Ji=Xn.m,ri=Xn.s,gn=[null],jn=1,Rr=0,qn=ia[dr];n:for(;;){if(ni&&X(Ji,1)){var fi=X(Ji,3)+2,Lr=Be(hi,fi),Vn=Be(Ui,fi),Xr=Lr*Vn;if(!js(Lr,Vn,0,Xn,gn))break n;for(gn=gn[0],ri.xc=fi,Ir=0;Ir<Xr;++Ir){var Qn=gn[Ir]>>8&65535;gn[Ir]=Qn,Qn>=jn&&(jn=Qn+1)}}if(Ji.h)break n;for(Xt=0;5>Xt;++Xt){var ii=kl[Xt];!Xt&&0<dr&&(ii+=1<<dr),Rr<ii&&(Rr=ii)}var si=c(jn*qn,L),sr=jn,On=c(sr,Ae);if(On==null)var Zi=null;else e(65536>=sr),Zi=On;var Fr=o(Rr);if(Zi==null||Fr==null||si==null){Xn.a=1;break n}var Ht=si;for(Ir=hn=0;Ir<jn;++Ir){var Wt=Zi[Ir],Fn=Wt.G,Ns=Wt.H,la=0,ms=1,ai=0;for(Xt=0;5>Xt;++Xt){ii=kl[Xt],Fn[Xt]=Ht,Ns[Xt]=hn,!Xt&&0<dr&&(ii+=1<<dr);i:{var rl,il=ii,dh=Xn,pr=Fr,jf=Ht,Vf=hn,ph=0,So=dh.m,$g=X(So,1);if(a(pr,0,0,il),$g){var Ff=X(So,1)+1,Uf=X(So,1),mh=X(So,Uf==0?1:8);pr[mh]=1,Ff==2&&(pr[mh=X(So,8)]=1);var xi=1}else{var Ur=o(19),Nu=X(So,4)+4;if(19<Nu){dh.a=3;var sl=0;break i}for(rl=0;rl<Nu;++rl)Ur[Au[rl]]=X(So,3);var wc=void 0,Ol=void 0,Za=dh,gh=Ur,xc=il,yh=pr,vh=0,Eo=Za.m,Bf=8,zf=c(128,L);r:for(;R(zf,0,7,gh,19);){if(X(Eo,1)){var fp=2+2*X(Eo,3);if((wc=2+X(Eo,fp))>xc)break r}else wc=xc;for(Ol=0;Ol<xc&&wc--;){ye(Eo);var qf=zf[0+(127&K(Eo))];de(Eo,Eo.u+qf.g);var al=qf.value;if(16>al)yh[Ol++]=al,al!=0&&(Bf=al);else{var dp=al==16,pp=al-16,mp=yc[pp],Hf=X(Eo,na[pp])+mp;if(Ol+Hf>xc)break r;for(var gp=dp?Bf:0;0<Hf--;)yh[Ol++]=gp}}vh=1;break r}vh||(Za.a=3),xi=vh}(xi=xi&&!So.h)&&(ph=R(jf,Vf,8,pr,il)),xi&&ph!=0?sl=ph:(dh.a=3,sl=0)}if(sl==0)break n;if(ms&&oh[Xt]==1&&(ms=Ht[hn].g==0),la+=Ht[hn].g,hn+=sl,3>=Xt){var Ml,bh=Fr[0];for(Ml=1;Ml<ii;++Ml)Fr[Ml]>bh&&(bh=Fr[Ml]);ai+=bh}}if(Wt.nd=ms,Wt.Qb=0,ms&&(Wt.qb=(Fn[3][Ns[3]+0].value<<24|Fn[1][Ns[1]+0].value<<16|Fn[2][Ns[2]+0].value)>>>0,la==0&&256>Fn[0][Ns[0]+0].value&&(Wt.Qb=1,Wt.qb+=Fn[0][Ns[0]+0].value<<8)),Wt.jc=!Wt.Qb&&6>ai,Wt.jc){var Tu,eo=Wt;for(Tu=0;Tu<$o;++Tu){var No=Tu,To=eo.pd[No],_h=eo.G[0][eo.H[0]+No];256<=_h.value?(To.g=_h.g+256,To.value=_h.value):(To.g=0,To.value=0,No>>=Tn(_h,8,To),No>>=Tn(eo.G[1][eo.H[1]+No],16,To),No>>=Tn(eo.G[2][eo.H[2]+No],0,To),Tn(eo.G[3][eo.H[3]+No],24,To))}}}ri.vc=gn,ri.Wb=jn,ri.Ya=Zi,ri.yc=si,ht=1;break t}ht=0}if(!(G=ht)){C.a=3;break e}if(0<De){if(le.ua=1<<De,!ne(le.Wa,De)){C.a=1,G=0;break e}}else le.ua=0;var wh=C,jl=W,yp=Q,Ac=wh.s,Sc=Ac.xc;if(wh.c=jl,wh.i=yp,Ac.md=Be(jl,Sc),Ac.wc=Sc==0?-1:(1<<Sc)-1,S){C.xb=Jo;break e}if((_e=o(W*Q))==null){C.a=1,G=0;break e}G=(G=Hi(C,_e,0,W,Q,Q,null))&&!Z.h;break e}return G?(B!=null?B[0]=_e:(e(_e==null),e(S)),C.$=0,S||_s(le)):_s(le),G}function Gi(p,v){var S=p.c*p.i,C=S+v+16*v;return e(p.c<=v),p.V=o(C),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function _a(p,v){var S=p.C,C=v-S,B=p.V,G=p.Ba+p.c*S;for(e(v<=p.l.o);0<C;){var W=16<C?16:C,Q=p.l.ma,Z=p.l.width,le=Z*W,_e=Q.ca,De=Q.tb+Z*S,ae=p.Ta,xe=p.Ua;Ri(p,W,B,G),Gs(ae,xe,_e,De,le),rr(Q,S,S+W,_e,De,Z),C-=W,B+=W*p.c,S+=W}e(S==v),p.C=p.Ma=v}function ss(){this.ub=this.yd=this.td=this.Rb=0}function Li(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function as(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ws(){this.Yb=(function(){var p=[];return(function v(S,C,B){for(var G=B[C],W=0;W<G&&(S.push(B.length>C+1?[]:0),!(B.length<C+1));W++)v(S[W],C+1,B)})(p,0,[3,11]),p})()}function Cr(){this.jb=o(3),this.Wc=u([4,8],ws),this.Xc=u([4,17],ws)}function Bo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Yi(){this.ld=this.La=this.dd=this.tc=0}function xs(){this.Na=this.la=0}function Vs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function lo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yi),this.Y=0,this.ya=Array(new lo),this.aa=0,this.l=new bi}function qo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function wl(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new ss,this.Kc=new Li,this.ed=new Bo,this.Qa=new as,this.Ic=this.$c=this.Aa=0,this.D=new zo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,P),this.ia=0,this.pb=c(4,Vs),this.Pa=new Cr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qo),this.Hd=0,this.rb=Array(new xs),this.sb=0,this.wa=Array(new Yi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new lo),this.L=this.aa=0,this.gd=u([4,2],Yi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function os(p,v){return 0>p?0:p>v?v:p}function bi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mr(){var p=new wl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ys||(Ys=Cn)),p}function vn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function wa(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function As(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return vn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,C=v.w,B=v.ha;if(4>B)return vn(p,7,"Truncated header.");var G=S[C+0]|S[C+1]<<8|S[C+2]<<16,W=p.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return vn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return vn(p,4,"Frame not displayable.");C+=3,B-=3;var Q=p.Kc;if(W.Rb){if(7>B)return vn(p,7,"cannot parse picture header");if(!wa(S,C,B))return vn(p,3,"Bad code word");Q.c=16383&(S[C+4]<<8|S[C+3]),Q.Td=S[C+4]>>6,Q.i=16383&(S[C+6]<<8|S[C+5]),Q.Ud=S[C+6]>>6,C+=7,B-=7,p.za=Q.c+15>>4,p.Ub=Q.i+15>>4,v.width=Q.c,v.height=Q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((G=p.Pa).jb,0,255,G.jb.length),e((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(W.ub>B)return vn(p,7,"bad partition length");ee(G=p.m,S,C,W.ub),C+=W.ub,B-=W.ub,W.Rb&&(Q.Ld=Le(G),Q.Kd=Le(G)),Q=p.Qa;var Z,le=p.Pa;if(e(G!=null),e(Q!=null),Q.Cb=Le(G),Q.Cb){if(Q.Bb=Le(G),Le(G)){for(Q.Fb=Le(G),Z=0;4>Z;++Z)Q.Zb[Z]=Le(G)?ue(G,7):0;for(Z=0;4>Z;++Z)Q.Lb[Z]=Le(G)?ue(G,6):0}if(Q.Bb)for(Z=0;3>Z;++Z)le.jb[Z]=Le(G)?pe(G,8):255}else Q.Bb=0;if(G.Ka)return vn(p,3,"cannot parse segment header");if((Q=p.ed).zd=Le(G),Q.Tb=pe(G,6),Q.wb=pe(G,3),Q.Pc=Le(G),Q.Pc&&Le(G)){for(le=0;4>le;++le)Le(G)&&(Q.vd[le]=ue(G,6));for(le=0;4>le;++le)Le(G)&&(Q.od[le]=ue(G,6))}if(p.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return vn(p,3,"cannot parse filter header");var _e=B;if(B=Z=C,C=Z+_e,Q=_e,p.Xb=(1<<pe(p.m,2))-1,_e<3*(le=p.Xb))S=7;else{for(Z+=3*le,Q-=3*le,_e=0;_e<le;++_e){var De=S[B+0]|S[B+1]<<8|S[B+2]<<16;De>Q&&(De=Q),ee(p.Jc[+_e],S,Z,De),Z+=De,Q-=De,B+=3}ee(p.Jc[+le],S,Z,Q),S=Z<C?0:5}if(S!=0)return vn(p,S,"cannot parse partitions");for(S=pe(Z=p.m,7),B=Le(Z)?ue(Z,4):0,C=Le(Z)?ue(Z,4):0,Q=Le(Z)?ue(Z,4):0,le=Le(Z)?ue(Z,4):0,Z=Le(Z)?ue(Z,4):0,_e=p.Qa,De=0;4>De;++De){if(_e.Cb){var ae=_e.Zb[De];_e.Fb||(ae+=S)}else{if(0<De){p.pb[De]=p.pb[0];continue}ae=S}var xe=p.pb[De];xe.Sc[0]=sa[os(ae+B,127)],xe.Sc[1]=aa[os(ae+0,127)],xe.Eb[0]=2*sa[os(ae+C,127)],xe.Eb[1]=101581*aa[os(ae+Q,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=sa[os(ae+le,117)],xe.Qc[1]=aa[os(ae+Z,127)],xe.lc=ae+Z}if(!W.Rb)return vn(p,4,"Not a key frame.");for(Le(G),W=p.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(C=0;3>C;++C)for(Q=0;11>Q;++Q)le=Ue(G,vr[S][B][C][Q])?pe(G,8):up[S][B][C][Q],W.Wc[S][B].Yb[C][Q]=le;for(B=0;17>B;++B)W.Xc[S][B]=W.Wc[S][Sn[B]]}return p.kc=Le(G),p.kc&&(p.Bd=pe(G,8)),p.cb=1}function Cn(p,v,S,C,B,G,W){var Q=v[B].Yb[S];for(S=0;16>B;++B){if(!Ue(p,Q[S+0]))return B;for(;!Ue(p,Q[S+1]);)if(Q=v[++B].Yb[0],S=0,B==16)return 16;var Z=v[B+1].Yb;if(Ue(p,Q[S+2])){var le=p,_e=0;if(Ue(le,(ae=Q)[(De=S)+3]))if(Ue(le,ae[De+6])){for(Q=0,De=2*(_e=Ue(le,ae[De+8]))+(ae=Ue(le,ae[De+9+_e])),_e=0,ae=cp[De];ae[Q];++Q)_e+=_e+Ue(le,ae[Q]);_e+=3+(8<<De)}else Ue(le,ae[De+7])?(_e=7+2*Ue(le,165),_e+=Ue(le,145)):_e=5+Ue(le,159);else _e=Ue(le,ae[De+4])?3+Ue(le,ae[De+5]):2;Q=Z[2]}else _e=1,Q=Z[1];Z=W+Pf[B],0>(le=p).b&&Ee(le);var De,ae=le.b,xe=(De=le.Ca>>1)-(le.I>>ae)>>31;--le.b,le.Ca+=xe,le.Ca|=1,le.I-=(De+1&xe)<<ae,G[Z]=((_e^xe)-xe)*C[(0<B)+0]}return 16}function Fa(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Gr(p,v,S,C,B){B=p[v+S+32*C]+(B>>3),p[v+S+32*C]=-256&B?0>B?0:255:B}function yr(p,v,S,C,B,G){Gr(p,v,0,S,C+B),Gr(p,v,1,S,C+G),Gr(p,v,2,S,C-G),Gr(p,v,3,S,C-B)}function jr(p){return(20091*p>>16)+p}function co(p,v,S,C){var B,G=0,W=o(16);for(B=0;4>B;++B){var Q=p[v+0]+p[v+8],Z=p[v+0]-p[v+8],le=(35468*p[v+4]>>16)-jr(p[v+12]),_e=jr(p[v+4])+(35468*p[v+12]>>16);W[G+0]=Q+_e,W[G+1]=Z+le,W[G+2]=Z-le,W[G+3]=Q-_e,G+=4,v++}for(B=G=0;4>B;++B)Q=(p=W[G+0]+4)+W[G+8],Z=p-W[G+8],le=(35468*W[G+4]>>16)-jr(W[G+12]),Gr(S,C,0,0,Q+(_e=jr(W[G+4])+(35468*W[G+12]>>16))),Gr(S,C,1,0,Z+le),Gr(S,C,2,0,Z-le),Gr(S,C,3,0,Q-_e),G++,C+=32}function cc(p,v,S,C){var B=p[v+0]+4,G=35468*p[v+4]>>16,W=jr(p[v+4]),Q=35468*p[v+1]>>16;yr(S,C,0,B+W,p=jr(p[v+1]),Q),yr(S,C,1,B+G,p,Q),yr(S,C,2,B-G,p,Q),yr(S,C,3,B-W,p,Q)}function xl(p,v,S,C,B){co(p,v,S,C),B&&co(p,v+16,S,C+4)}function ki(p,v,S,C){wo(p,v+0,S,C,1),wo(p,v+32,S,C+128,1)}function Al(p,v,S,C){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)Gr(S,C,v,B,p)}function xa(p,v,S,C){p[v+0]&&zn(p,v+0,S,C),p[v+16]&&zn(p,v+16,S,C+4),p[v+32]&&zn(p,v+32,S,C+128),p[v+48]&&zn(p,v+48,S,C+128+4)}function ci(p,v,S,C){var B,G=o(16);for(B=0;4>B;++B){var W=p[v+0+B]+p[v+12+B],Q=p[v+4+B]+p[v+8+B],Z=p[v+4+B]-p[v+8+B],le=p[v+0+B]-p[v+12+B];G[0+B]=W+Q,G[8+B]=W-Q,G[4+B]=le+Z,G[12+B]=le-Z}for(B=0;4>B;++B)W=(p=G[0+4*B]+3)+G[3+4*B],Q=G[1+4*B]+G[2+4*B],Z=G[1+4*B]-G[2+4*B],le=p-G[3+4*B],S[C+0]=W+Q>>3,S[C+16]=le+Z>>3,S[C+32]=W-Q>>3,S[C+48]=le-Z>>3,C+=64}function Ua(p,v,S){var C,B=v-32,G=Xi,W=255-p[B-1];for(C=0;C<S;++C){var Q,Z=G,le=W+p[v-1];for(Q=0;Q<S;++Q)p[v+Q]=Z[le+p[B+Q]];v+=32}}function Sl(p,v){Ua(p,v,4)}function El(p,v){Ua(p,v,8)}function Ho(p,v){Ua(p,v,16)}function Go(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function Aa(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function Wi(p,v,S){var C;for(C=0;16>C;++C)a(v,S+32*C,p,16)}function Fs(p,v){var S,C=16;for(S=0;16>S;++S)C+=p[v-1+32*S]+p[v+S-32];Wi(C>>5,p,v)}function Sa(p,v){var S,C=8;for(S=0;16>S;++S)C+=p[v-1+32*S];Wi(C>>4,p,v)}function Ki(p,v){var S,C=8;for(S=0;16>S;++S)C+=p[v+S-32];Wi(C>>4,p,v)}function Ba(p,v){Wi(128,p,v)}function qt(p,v,S){return p+2*v+S+2>>2}function uo(p,v){var S,C=v-32;for(C=new Uint8Array([qt(p[C-1],p[C+0],p[C+1]),qt(p[C+0],p[C+1],p[C+2]),qt(p[C+1],p[C+2],p[C+3]),qt(p[C+2],p[C+3],p[C+4])]),S=0;4>S;++S)r(p,v+32*S,C,0,C.length)}function Yo(p,v){var S=p[v-1],C=p[v-1+32],B=p[v-1+64],G=p[v-1+96];et(p,v+0,16843009*qt(p[v-1-32],S,C)),et(p,v+32,16843009*qt(S,C,B)),et(p,v+64,16843009*qt(C,B,G)),et(p,v+96,16843009*qt(B,G,G))}function za(p,v){var S,C=4;for(S=0;4>S;++S)C+=p[v+S-32]+p[v-1+32*S];for(C>>=3,S=0;4>S;++S)a(p,v+32*S,C,4)}function ui(p,v){var S=p[v-1+0],C=p[v-1+32],B=p[v-1+64],G=p[v-1-32],W=p[v+0-32],Q=p[v+1-32],Z=p[v+2-32],le=p[v+3-32];p[v+0+96]=qt(C,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=qt(S,C,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=qt(G,S,C),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=qt(W,G,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=qt(Q,W,G),p[v+3+32]=p[v+2+0]=qt(Z,Q,W),p[v+3+0]=qt(le,Z,Q)}function ti(p,v){var S=p[v+1-32],C=p[v+2-32],B=p[v+3-32],G=p[v+4-32],W=p[v+5-32],Q=p[v+6-32],Z=p[v+7-32];p[v+0+0]=qt(p[v+0-32],S,C),p[v+1+0]=p[v+0+32]=qt(S,C,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=qt(C,B,G),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=qt(B,G,W),p[v+3+32]=p[v+2+64]=p[v+1+96]=qt(G,W,Q),p[v+3+64]=p[v+2+96]=qt(W,Q,Z),p[v+3+96]=qt(Q,Z,Z)}function ho(p,v){var S=p[v-1+0],C=p[v-1+32],B=p[v-1+64],G=p[v-1-32],W=p[v+0-32],Q=p[v+1-32],Z=p[v+2-32],le=p[v+3-32];p[v+0+0]=p[v+1+64]=G+W+1>>1,p[v+1+0]=p[v+2+64]=W+Q+1>>1,p[v+2+0]=p[v+3+64]=Q+Z+1>>1,p[v+3+0]=Z+le+1>>1,p[v+0+96]=qt(B,C,S),p[v+0+64]=qt(C,S,G),p[v+0+32]=p[v+1+96]=qt(S,G,W),p[v+1+32]=p[v+2+96]=qt(G,W,Q),p[v+2+32]=p[v+3+96]=qt(W,Q,Z),p[v+3+32]=qt(Q,Z,le)}function Yn(p,v){var S=p[v+0-32],C=p[v+1-32],B=p[v+2-32],G=p[v+3-32],W=p[v+4-32],Q=p[v+5-32],Z=p[v+6-32],le=p[v+7-32];p[v+0+0]=S+C+1>>1,p[v+1+0]=p[v+0+64]=C+B+1>>1,p[v+2+0]=p[v+1+64]=B+G+1>>1,p[v+3+0]=p[v+2+64]=G+W+1>>1,p[v+0+32]=qt(S,C,B),p[v+1+32]=p[v+0+96]=qt(C,B,G),p[v+2+32]=p[v+1+96]=qt(B,G,W),p[v+3+32]=p[v+2+96]=qt(G,W,Q),p[v+3+64]=qt(W,Q,Z),p[v+3+96]=qt(Q,Z,le)}function ls(p,v){var S=p[v-1+0],C=p[v-1+32],B=p[v-1+64],G=p[v-1+96];p[v+0+0]=S+C+1>>1,p[v+2+0]=p[v+0+32]=C+B+1>>1,p[v+2+32]=p[v+0+64]=B+G+1>>1,p[v+1+0]=qt(S,C,B),p[v+3+0]=p[v+1+32]=qt(C,B,G),p[v+3+32]=p[v+1+64]=qt(B,G,G),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=G}function fo(p,v){var S=p[v-1+0],C=p[v-1+32],B=p[v-1+64],G=p[v-1+96],W=p[v-1-32],Q=p[v+0-32],Z=p[v+1-32],le=p[v+2-32];p[v+0+0]=p[v+2+32]=S+W+1>>1,p[v+0+32]=p[v+2+64]=C+S+1>>1,p[v+0+64]=p[v+2+96]=B+C+1>>1,p[v+0+96]=G+B+1>>1,p[v+3+0]=qt(Q,Z,le),p[v+2+0]=qt(W,Q,Z),p[v+1+0]=p[v+3+32]=qt(S,W,Q),p[v+1+32]=p[v+3+64]=qt(C,S,W),p[v+1+64]=p[v+3+96]=qt(B,C,S),p[v+1+96]=qt(G,B,C)}function Us(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function Nl(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function cs(p,v,S){var C;for(C=0;8>C;++C)a(v,S+32*C,p,8)}function Ea(p,v){var S,C=8;for(S=0;8>S;++S)C+=p[v+S-32]+p[v-1+32*S];cs(C>>4,p,v)}function us(p,v){var S,C=4;for(S=0;8>S;++S)C+=p[v+S-32];cs(C>>3,p,v)}function Yr(p,v){var S,C=4;for(S=0;8>S;++S)C+=p[v-1+32*S];cs(C>>3,p,v)}function Ks(p,v){cs(128,p,v)}function _i(p,v,S){var C=p[v-S],B=p[v+0],G=3*(B-C)+xo[1020+p[v-2*S]-p[v+S]],W=_u[112+(G+4>>3)];p[v-S]=Xi[255+C+_u[112+(G+3>>3)]],p[v+0]=Xi[255+B-W]}function $s(p,v,S,C){var B=p[v+0],G=p[v+S];return Mi[255+p[v-2*S]-p[v-S]]>C||Mi[255+G-B]>C}function qa(p,v,S,C){return 4*Mi[255+p[v-S]-p[v+0]]+Mi[255+p[v-2*S]-p[v+S]]<=C}function Xs(p,v,S,C,B){var G=p[v-3*S],W=p[v-2*S],Q=p[v-S],Z=p[v+0],le=p[v+S],_e=p[v+2*S],De=p[v+3*S];return 4*Mi[255+Q-Z]+Mi[255+W-le]>C?0:Mi[255+p[v-4*S]-G]<=B&&Mi[255+G-W]<=B&&Mi[255+W-Q]<=B&&Mi[255+De-_e]<=B&&Mi[255+_e-le]<=B&&Mi[255+le-Z]<=B}function Qs(p,v,S,C){var B=2*C+1;for(C=0;16>C;++C)qa(p,v+C,S,B)&&_i(p,v+C,S)}function Ss(p,v,S,C){var B=2*C+1;for(C=0;16>C;++C)qa(p,v+C*S,1,B)&&_i(p,v+C*S,1)}function po(p,v,S,C){var B;for(B=3;0<B;--B)Qs(p,v+=4*S,S,C)}function Wo(p,v,S,C){var B;for(B=3;0<B;--B)Ss(p,v+=4,S,C)}function hs(p,v,S,C,B,G,W,Q){for(G=2*G+1;0<B--;){if(Xs(p,v,S,G,W))if($s(p,v,S,Q))_i(p,v,S);else{var Z=p,le=v,_e=S,De=Z[le-2*_e],ae=Z[le-_e],xe=Z[le+0],Re=Z[le+_e],qe=Z[le+2*_e],ke=27*(We=xo[1020+3*(xe-ae)+xo[1020+De-Re]])+63>>7,ze=18*We+63>>7,We=9*We+63>>7;Z[le-3*_e]=Xi[255+Z[le-3*_e]+We],Z[le-2*_e]=Xi[255+De+ze],Z[le-_e]=Xi[255+ae+ke],Z[le+0]=Xi[255+xe-ke],Z[le+_e]=Xi[255+Re-ze],Z[le+2*_e]=Xi[255+qe-We]}v+=C}}function Js(p,v,S,C,B,G,W,Q){for(G=2*G+1;0<B--;){if(Xs(p,v,S,G,W))if($s(p,v,S,Q))_i(p,v,S);else{var Z=p,le=v,_e=S,De=Z[le-_e],ae=Z[le+0],xe=Z[le+_e],Re=_u[112+(4+(qe=3*(ae-De))>>3)],qe=_u[112+(qe+3>>3)],ke=Re+1>>1;Z[le-2*_e]=Xi[255+Z[le-2*_e]+ke],Z[le-_e]=Xi[255+De+qe],Z[le+0]=Xi[255+ae-Re],Z[le+_e]=Xi[255+xe-ke]}v+=C}}function Tl(p,v,S,C,B,G){hs(p,v,S,1,16,C,B,G)}function Bs(p,v,S,C,B,G){hs(p,v,1,S,16,C,B,G)}function Ko(p,v,S,C,B,G){var W;for(W=3;0<W;--W)Js(p,v+=4*S,S,1,16,C,B,G)}function x(p,v,S,C,B,G){var W;for(W=3;0<W;--W)Js(p,v+=4,1,S,16,C,B,G)}function F(p,v,S,C,B,G,W,Q){hs(p,v,B,1,8,G,W,Q),hs(S,C,B,1,8,G,W,Q)}function oe(p,v,S,C,B,G,W,Q){hs(p,v,1,B,8,G,W,Q),hs(S,C,1,B,8,G,W,Q)}function ve(p,v,S,C,B,G,W,Q){Js(p,v+4*B,B,1,8,G,W,Q),Js(S,C+4*B,B,1,8,G,W,Q)}function Ne(p,v,S,C,B,G,W,Q){Js(p,v+4,1,B,8,G,W,Q),Js(S,C+4,1,B,8,G,W,Q)}function Ge(){this.ba=new jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function wt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function It(){this.ua=0,this.Wa=new $t,this.vb=new $t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ae,this.yc=new L}function Yt(){this.xb=this.a=0,this.l=new bi,this.ca=new jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new It,this.ab=0,this.gc=c(4,wt),this.Oc=0}function Ut(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wn(p,v,S,C,B,G,W){for(p=p==null?0:p[v+0],v=0;v<W;++v)B[G+v]=p+S[C+v]&255,p=B[G+v]}function ur(p,v,S,C,B,G,W){var Q;if(p==null)wn(null,null,S,C,B,G,W);else for(Q=0;Q<W;++Q)B[G+Q]=p[v+Q]+S[C+Q]&255}function tr(p,v,S,C,B,G,W){if(p==null)wn(null,null,S,C,B,G,W);else{var Q,Z=p[v+0],le=Z,_e=Z;for(Q=0;Q<W;++Q)le=_e+(Z=p[v+Q])-le,_e=S[C+Q]+(-256&le?0>le?0:255:le)&255,le=Z,B[G+Q]=_e}}function m(p,v,S,C){var B=v.width,G=v.o;if(e(p!=null&&v!=null),0>S||0>=C||S+C>G)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Ut,(W=p.ga==null)||(W=v.width*v.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var Q=p.Fa,Z=p.P,le=p.qc,_e=p.mb,De=p.nb,ae=Z+1,xe=le-1,Re=W.l;if(e(Q!=null&&_e!=null&&v!=null),Ao[0]=null,Ao[1]=wn,Ao[2]=ur,Ao[3]=tr,W.ca=_e,W.tb=De,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=le)v=0;else if(W.$a=3&Q[Z+0],W.Z=Q[Z+0]>>2&3,W.Lc=Q[Z+0]>>4&3,Z=Q[Z+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Z)v=0;else if(Re.put=pt,Re.ac=Ar,Re.bc=Sr,Re.ma=W,Re.width=v.width,Re.height=v.height,Re.Da=v.Da,Re.v=v.v,Re.va=v.va,Re.j=v.j,Re.o=v.o,W.$a)e:{e(W.$a==1),v=Va();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,Ce(v.m,Q,ae,xe),!js(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Gn(v.s)?(W.ic=1,Q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Gi(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=xe>=W.c*W.i;W=!v}if(W)return null;p.ga.Lc!=1?p.Ga=0:C=G-S}e(p.ga!=null),e(S+C<=G);e:{if(v=(Q=p.ga).c,G=Q.l.o,Q.$a==0){if(ae=p.rc,xe=p.Vc,Re=p.Fa,Z=p.P+1+S*v,le=p.mb,_e=p.nb+S*v,e(Z<=p.P+p.qc),Q.Z!=0)for(e(Ao[Q.Z]!=null),W=0;W<C;++W)Ao[Q.Z](ae,xe,Re,Z,le,_e,v),ae=le,xe=_e,_e+=v,Z+=v;else for(W=0;W<C;++W)r(le,_e,Re,Z,v),ae=le,xe=_e,_e+=v,Z+=v;p.rc=ae,p.Vc=xe}else{if(e(Q.mc!=null),v=S+C,e((W=Q.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(Q.ic||Me(),Q.ic){Q=W.V,ae=W.Ba,xe=W.c;var qe=W.i,ke=(Re=1,Z=W.$/xe,le=W.$%xe,_e=W.m,De=W.s,W.$),ze=xe*qe,We=xe*v,rt=De.wc,Ze=ke<We?Hr(De,le,Z):null;e(ke<=ze),e(v<=qe),e(Gn(De));t:for(;;){for(;!_e.h&&ke<We;){if(le&rt||(Ze=Hr(De,le,Z)),e(Ze!=null),ye(_e),256>(qe=Bn(Ze.G[0],Ze.H[0],_e)))Q[ae+ke]=qe,++ke,++le>=xe&&(le=0,++Z<=v&&!(Z%16)&&ei(W,Z));else{if(!(280>qe)){Re=0;break t}qe=Zn(qe-256,_e);var Rt,bt=Bn(Ze.G[4],Ze.H[4],_e);if(ye(_e),!(ke>=(bt=er(xe,bt=Zn(bt,_e)))&&ze-ke>=qe)){Re=0;break t}for(Rt=0;Rt<qe;++Rt)Q[ae+ke+Rt]=Q[ae+ke+Rt-bt];for(ke+=qe,le+=qe;le>=xe;)le-=xe,++Z<=v&&!(Z%16)&&ei(W,Z);ke<We&&le&rt&&(Ze=Hr(De,le,Z))}e(_e.h==re(_e))}ei(W,Z>v?v:Z);break t}!Re||_e.h&&ke<ze?(Re=0,W.a=_e.h?5:3):W.$=ke,v=Re}else v=Hi(W,W.V,W.Ba,W.c,W.i,v,_a);if(!v){C=0;break e}}S+C>=G&&(p.Cc=1),C=1}if(!C)return null;if(p.Cc&&((C=p.ga)!=null&&(C.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*B}function E(p,v,S,C,B,G){for(;0<B--;){var W,Q=p,Z=v+(S?1:0),le=p,_e=v+(S?0:3);for(W=0;W<C;++W){var De=le[_e+4*W];De!=255&&(De*=32897,Q[Z+4*W+0]=Q[Z+4*W+0]*De>>23,Q[Z+4*W+1]=Q[Z+4*W+1]*De>>23,Q[Z+4*W+2]=Q[Z+4*W+2]*De>>23)}v+=G}}function O(p,v,S,C,B){for(;0<C--;){var G;for(G=0;G<S;++G){var W=p[v+2*G+0],Q=15&(le=p[v+2*G+1]),Z=4369*Q,le=(240&le|le>>4)*Z>>16;p[v+2*G+0]=(240&W|W>>4)*Z>>16&240|(15&W|W<<4)*Z>>16>>4&15,p[v+2*G+1]=240&le|Q}v+=B}}function J(p,v,S,C,B,G,W,Q){var Z,le,_e=255;for(le=0;le<B;++le){for(Z=0;Z<C;++Z){var De=p[v+Z];G[W+4*Z]=De,_e&=De}v+=S,W+=Q}return _e!=255}function Ie(p,v,S,C,B){var G;for(G=0;G<B;++G)S[C+G]=p[v+G]>>8}function Me(){Rl=E,ea=O,yu=J,Gs=Ie}function at(p,v,S){D[p]=function(C,B,G,W,Q,Z,le,_e,De,ae,xe,Re,qe,ke,ze,We,rt){var Ze,Rt=rt-1>>1,bt=Q[Z+0]|le[_e+0]<<16,rn=De[ae+0]|xe[Re+0]<<16;e(C!=null);var Et=3*bt+rn+131074>>2;for(v(C[B+0],255&Et,Et>>16,qe,ke),G!=null&&(Et=3*rn+bt+131074>>2,v(G[W+0],255&Et,Et>>16,ze,We)),Ze=1;Ze<=Rt;++Ze){var xn=Q[Z+Ze]|le[_e+Ze]<<16,br=De[ae+Ze]|xe[Re+Ze]<<16,on=bt+xn+rn+br+524296,_t=on+2*(xn+rn)>>3;Et=_t+bt>>1,bt=(on=on+2*(bt+br)>>3)+xn>>1,v(C[B+2*Ze-1],255&Et,Et>>16,qe,ke+(2*Ze-1)*S),v(C[B+2*Ze-0],255&bt,bt>>16,qe,ke+(2*Ze-0)*S),G!=null&&(Et=on+rn>>1,bt=_t+br>>1,v(G[W+2*Ze-1],255&Et,Et>>16,ze,We+(2*Ze-1)*S),v(G[W+2*Ze+0],255&bt,bt>>16,ze,We+(2*Ze+0)*S)),bt=xn,rn=br}1&rt||(Et=3*bt+rn+131074>>2,v(C[B+rt-1],255&Et,Et>>16,qe,ke+(rt-1)*S),G!=null&&(Et=3*rn+bt+131074>>2,v(G[W+rt-1],255&Et,Et>>16,ze,We+(rt-1)*S)))}}function nn(){Vi[rh]=Dl,Vi[Qi]=vc,Vi[ih]=Mf,Vi[ta]=ch,Vi[wu]=Zo,Vi[mc]=Ja,Vi[Xo]=el,Vi[xu]=vc,Vi[sh]=ch,Vi[gc]=Zo,Vi[ah]=Ja}function hr(p){return p&-16384?0>p?0:255:p>>uh}function mn(p,v){return hr((19077*p>>8)+(26149*v>>8)-14234)}function Wn(p,v,S){return hr((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function wi(p,v){return hr((19077*p>>8)+(33050*v>>8)-17685)}function Di(p,v,S,C,B){C[B+0]=mn(p,S),C[B+1]=Wn(p,v,S),C[B+2]=wi(p,v)}function ir(p,v,S,C,B){C[B+0]=wi(p,v),C[B+1]=Wn(p,v,S),C[B+2]=mn(p,S)}function Pi(p,v,S,C,B){var G=Wn(p,v,S);v=G<<3&224|wi(p,v)>>3,C[B+0]=248&mn(p,S)|G>>5,C[B+1]=v}function zs(p,v,S,C,B){var G=240&wi(p,v)|15;C[B+0]=240&mn(p,S)|Wn(p,v,S)>>4,C[B+1]=G}function Ha(p,v,S,C,B){C[B+0]=255,Di(p,v,S,C,B+1)}function Ga(p,v,S,C,B){ir(p,v,S,C,B),C[B+3]=255}function fs(p,v,S,C,B){Di(p,v,S,C,B),C[B+3]=255}function mo(p,v,S){D[p]=function(C,B,G,W,Q,Z,le,_e,De){for(var ae=_e+(-2&De)*S;_e!=ae;)v(C[B+0],G[W+0],Q[Z+0],le,_e),v(C[B+1],G[W+0],Q[Z+0],le,_e+S),B+=2,++W,++Z,_e+=2*S;1&De&&v(C[B+0],G[W+0],Q[Z+0],le,_e)}}function uc(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function pu(p,v,S,C,B){switch(p>>>30){case 3:wo(v,S,C,B,0);break;case 2:$i(v,S,C,B);break;case 1:zn(v,S,C,B)}}function qs(p,v){var S,C,B=v.M,G=v.Nb,W=p.oc,Q=p.pc+40,Z=p.oc,le=p.pc+584,_e=p.oc,De=p.pc+600;for(S=0;16>S;++S)W[Q+32*S-1]=129;for(S=0;8>S;++S)Z[le+32*S-1]=129,_e[De+32*S-1]=129;for(0<B?W[Q-1-32]=Z[le-1-32]=_e[De-1-32]=129:(a(W,Q-32-1,127,21),a(Z,le-32-1,127,9),a(_e,De-32-1,127,9)),C=0;C<p.za;++C){var ae=v.ya[v.aa+C];if(0<C){for(S=-1;16>S;++S)r(W,Q+32*S-4,W,Q+32*S+12,4);for(S=-1;8>S;++S)r(Z,le+32*S-4,Z,le+32*S+4,4),r(_e,De+32*S-4,_e,De+32*S+4,4)}var xe=p.Gd,Re=p.Hd+C,qe=ae.ad,ke=ae.Hc;if(0<B&&(r(W,Q-32,xe[Re].y,0,16),r(Z,le-32,xe[Re].f,0,8),r(_e,De-32,xe[Re].ea,0,8)),ae.Za){var ze=W,We=Q-32+16;for(0<B&&(C>=p.za-1?a(ze,We,xe[Re].y[15],4):r(ze,We,xe[Re+1].y,0,4)),S=0;4>S;S++)ze[We+128+S]=ze[We+256+S]=ze[We+384+S]=ze[We+0+S];for(S=0;16>S;++S,ke<<=2)ze=W,We=Q+$r[S],Vr[ae.Ob[S]](ze,We),pu(ke,qe,16*+S,ze,We)}else if(ze=uc(C,B,ae.Ob[0]),ps[ze](W,Q),ke!=0)for(S=0;16>S;++S,ke<<=2)pu(ke,qe,16*+S,W,Q+$r[S]);for(S=ae.Gc,ze=uc(C,B,ae.Dd),Ia[ze](Z,le),Ia[ze](_e,De),ke=qe,ze=Z,We=le,255&(ae=0|S)&&(170&ae?Zs(ke,256,ze,We):Pn(ke,256,ze,We)),ae=_e,ke=De,255&(S>>=8)&&(170&S?Zs(qe,320,ae,ke):Pn(qe,320,ae,ke)),B<p.Ub-1&&(r(xe[Re].y,0,W,Q+480,16),r(xe[Re].f,0,Z,le+224,8),r(xe[Re].ea,0,_e,De+224,8)),S=8*G*p.B,xe=p.sa,Re=p.ta+16*C+16*G*p.R,qe=p.qa,ae=p.ra+8*C+S,ke=p.Ha,ze=p.Ia+8*C+S,S=0;16>S;++S)r(xe,Re+S*p.R,W,Q+32*S,16);for(S=0;8>S;++S)r(qe,ae+S*p.B,Z,le+32*S,8),r(ke,ze+S*p.B,_e,De+32*S,8)}}function Na(p,v,S,C,B,G,W,Q,Z){var le=[0],_e=[0],De=0,ae=Z!=null?Z.kd:0,xe=Z??new tt;if(p==null||12>S)return 7;xe.data=p,xe.w=v,xe.ha=S,v=[v],S=[S],xe.gb=[xe.gb];e:{var Re=v,qe=S,ke=xe.gb;if(e(p!=null),e(qe!=null),e(ke!=null),ke[0]=0,12<=qe[0]&&!t(p,Re[0],"RIFF")){if(t(p,Re[0]+8,"WEBP")){ke=3;break e}var ze=yt(p,Re[0]+4);if(12>ze||4294967286<ze){ke=3;break e}if(ae&&ze>qe[0]-8){ke=7;break e}ke[0]=ze,Re[0]+=12,qe[0]-=12}ke=0}if(ke!=0)return ke;for(ze=0<xe.gb[0],S=S[0];;){e:{var We=p;qe=v,ke=S;var rt=le,Ze=_e,Rt=Re=[0];if((Et=De=[De])[0]=0,8>ke[0])ke=7;else{if(!t(We,qe[0],"VP8X")){if(yt(We,qe[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var bt=yt(We,qe[0]+8),rn=1+ct(We,qe[0]+12);if(2147483648<=rn*(We=1+ct(We,qe[0]+15))){ke=3;break e}Rt!=null&&(Rt[0]=bt),rt!=null&&(rt[0]=rn),Ze!=null&&(Ze[0]=We),qe[0]+=18,ke[0]-=18,Et[0]=1}ke=0}}if(De=De[0],Re=Re[0],ke!=0)return ke;if(qe=!!(2&Re),!ze&&De)return 3;if(G!=null&&(G[0]=!!(16&Re)),W!=null&&(W[0]=qe),Q!=null&&(Q[0]=0),W=le[0],Re=_e[0],De&&qe&&Z==null){ke=0;break}if(4>S){ke=7;break}if(ze&&De||!ze&&!De&&!t(p,v[0],"ALPH")){S=[S],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{bt=p,ke=v,ze=S;var Et=xe.gb;rt=xe.na,Ze=xe.P,Rt=xe.Sa,rn=22,e(bt!=null),e(ze!=null),We=ke[0];var xn=ze[0];for(e(rt!=null),e(Rt!=null),rt[0]=null,Ze[0]=null,Rt[0]=0;;){if(ke[0]=We,ze[0]=xn,8>xn){ke=7;break e}var br=yt(bt,We+4);if(4294967286<br){ke=3;break e}var on=8+br+1&-2;if(rn+=on,0<Et&&rn>Et){ke=3;break e}if(!t(bt,We,"VP8 ")||!t(bt,We,"VP8L")){ke=0;break e}if(xn[0]<on){ke=7;break e}t(bt,We,"ALPH")||(rt[0]=bt,Ze[0]=We+8,Rt[0]=br),We+=on,xn-=on}}if(S=S[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],ke!=0)break}S=[S],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(Et=p,ke=v,ze=S,rt=xe.gb[0],Ze=xe.Ja,Rt=xe.xa,bt=ke[0],We=!t(Et,bt,"VP8 "),rn=!t(Et,bt,"VP8L"),e(Et!=null),e(ze!=null),e(Ze!=null),e(Rt!=null),8>ze[0])ke=7;else{if(We||rn){if(Et=yt(Et,bt+4),12<=rt&&Et>rt-12){ke=3;break e}if(ae&&Et>ze[0]-8){ke=7;break e}Ze[0]=Et,ke[0]+=8,ze[0]-=8,Rt[0]=rn}else Rt[0]=5<=ze[0]&&Et[bt+0]==47&&!(Et[bt+4]>>5),Ze[0]=ze[0];ke=0}if(S=S[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],v=v[0],ke!=0)break;if(4294967286<xe.Ja)return 3;if(Q==null||qe||(Q[0]=xe.xa?2:1),W=[W],Re=[Re],xe.xa){if(5>S){ke=7;break}Q=W,ae=Re,qe=G,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(ze=[0],Et=[0],rt=[0],Ce(Ze=new z,p,v,S),Zr(Ze,ze,Et,rt)?(Q!=null&&(Q[0]=ze[0]),ae!=null&&(ae[0]=Et[0]),qe!=null&&(qe[0]=rt[0]),p=1):p=0):p=0}else{if(10>S){ke=7;break}Q=Re,p==null||10>S||!wa(p,v+3,S-3)?p=0:(ae=p[v+0]|p[v+1]<<8|p[v+2]<<16,qe=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=xe.Ja||!qe||!p?p=0:(W&&(W[0]=qe),Q&&(Q[0]=p),p=1))}if(!p||(W=W[0],Re=Re[0],De&&(le[0]!=W||_e[0]!=Re)))return 3;Z!=null&&(Z[0]=xe,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-S));break}return ke==0||ke==7&&De&&Z==null?(G!=null&&(G[0]|=xe.na!=null&&0<xe.na.length),C!=null&&(C[0]=W),B!=null&&(B[0]=Re),0):ke}function go(p,v,S){var C=v.width,B=v.height,G=0,W=0,Q=C,Z=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(Q=p.cd,Z=p.bd,G=p.v,W=p.j,11>S||(G&=-2,W&=-2),0>G||0>W||0>=Q||0>=Z||G+Q>C||W+Z>B))return 0;if(v.v=G,v.j=W,v.va=G+Q,v.o=W+Z,v.U=Q,v.T=Z,v.da=p!=null&&0<p.da,v.da){if(!Mt(Q,Z,S=[p.ib],G=[p.hb]))return 0;v.ib=S[0],v.hb=G[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*C/4&&v.hb<3*B/4,v.Kb=0),1}function mu(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Ta(p,v,S,C){if(C==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var B=S.cd,G=S.bd,W=-2&S.v,Q=-2&S.j;if(0>W||0>Q||0>=B||0>=G||W+B>p||Q+G>v)return 2;p=B,v=G}if(S.da){if(!Mt(p,v,B=[S.ib],G=[S.hb]))return 2;p=B[0],v=G[0]}}C.width=p,C.height=v;e:{var Z=C.width,le=C.height;if(p=C.S,0>=Z||0>=le||!(p>=rh&&13>p))p=2;else{if(0>=C.Rd&&C.sd==null){W=G=B=v=0;var _e=(Q=Z*fh[p])*le;if(11>p||(G=(le+1)/2*(v=(Z+1)/2),p==12&&(W=(B=Z)*le)),(le=o(_e+2*G+W))==null){p=1;break e}C.sd=le,11>p?((Z=C.f.RGBA).eb=le,Z.fb=0,Z.A=Q,Z.size=_e):((Z=C.f.kb).y=le,Z.O=0,Z.fa=Q,Z.Fd=_e,Z.f=le,Z.N=0+_e,Z.Ab=v,Z.Cd=G,Z.ea=le,Z.W=0+_e+G,Z.Db=v,Z.Ed=G,p==12&&(Z.F=le,Z.J=0+_e+2*G),Z.Tc=W,Z.lb=B)}if(v=1,B=C.S,G=C.width,W=C.height,B>=rh&&13>B)if(11>B)p=C.f.RGBA,v&=(Q=Math.abs(p.A))*(W-1)+G<=p.size,v&=Q>=G*fh[B],v&=p.eb!=null;else{p=C.f.kb,Q=(G+1)/2,_e=(W+1)/2,Z=Math.abs(p.fa),le=Math.abs(p.Ab);var De=Math.abs(p.Db),ae=Math.abs(p.lb),xe=ae*(W-1)+G;v&=Z*(W-1)+G<=p.Fd,v&=le*(_e-1)+Q<=p.Cd,v=(v&=De*(_e-1)+Q<=p.Ed)&Z>=G&le>=Q&De>=Q,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=ae>=G,v&=xe<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=mu(C)),p}var $o=64,Es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ds=24,Ya=32,Wa=8,yo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ie("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(p){return p},D.Predictor2=function(p,v,S){return v[S+0]},D.Predictor3=function(p,v,S){return v[S+1]},D.Predictor4=function(p,v,S){return v[S-1]},D.Predictor5=function(p,v,S){return Se(Se(p,v[S+1]),v[S+0])},D.Predictor6=function(p,v,S){return Se(p,v[S-1])},D.Predictor7=function(p,v,S){return Se(p,v[S+0])},D.Predictor8=function(p,v,S){return Se(v[S-1],v[S+0])},D.Predictor9=function(p,v,S){return Se(v[S+0],v[S+1])},D.Predictor10=function(p,v,S){return Se(Se(p,v[S-1]),Se(v[S+0],v[S+1]))},D.Predictor11=function(p,v,S){var C=v[S+0];return 0>=Ve(C>>24&255,p>>24&255,(v=v[S-1])>>24&255)+Ve(C>>16&255,p>>16&255,v>>16&255)+Ve(C>>8&255,p>>8&255,v>>8&255)+Ve(255&C,255&p,255&v)?C:p},D.Predictor12=function(p,v,S){var C=v[S+0];return(Ke((p>>24&255)+(C>>24&255)-((v=v[S-1])>>24&255))<<24|Ke((p>>16&255)+(C>>16&255)-(v>>16&255))<<16|Ke((p>>8&255)+(C>>8&255)-(v>>8&255))<<8|Ke((255&p)+(255&C)-(255&v)))>>>0},D.Predictor13=function(p,v,S){var C=v[S-1];return(He((p=Se(p,v[S+0]))>>24&255,C>>24&255)<<24|He(p>>16&255,C>>16&255)<<16|He(p>>8&255,C>>8&255)<<8|He(255&p,255&C))>>>0};var hc=D.PredictorAdd0;D.PredictorAdd1=it,ie("Predictor2","PredictorAdd2"),ie("Predictor3","PredictorAdd3"),ie("Predictor4","PredictorAdd4"),ie("Predictor5","PredictorAdd5"),ie("Predictor6","PredictorAdd6"),ie("Predictor7","PredictorAdd7"),ie("Predictor8","PredictorAdd8"),ie("Predictor9","PredictorAdd9"),ie("Predictor10","PredictorAdd10"),ie("Predictor11","PredictorAdd11"),ie("Predictor12","PredictorAdd12"),ie("Predictor13","PredictorAdd13");var fc=D.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Wr,eh=D.ColorIndexInverseTransform,Ka=D.MapARGB,$a=D.VP8LColorIndexInverseTransformAlpha,Oi=D.MapAlpha,vo=D.VP8LPredictorsAdd=[];vo.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var dc,pc,bo,_o,Xa,Cl,Hs,wo,$i,Zs,zn,Pn,fr,Kr,Qa,Ca,Il,gu,Lf,ap,op,lp,kf,Df,Rl,ea,yu,Gs,Ll=o(511),th=o(2041),vu=o(225),bu=o(767),nh=0,xo=th,_u=vu,Xi=bu,Mi=Ll,rh=0,Qi=1,ih=2,ta=3,wu=4,mc=5,Xo=6,xu=7,sh=8,gc=9,ah=10,na=[2,3,7],yc=[3,3,11],kl=[280,256,256,256,40],oh=[0,1,1,1,0],Au=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ra=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ia=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qo=8,sa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],aa=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ys=null,cp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],up=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ji=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ps=[],Vr=[],Ia=[],Jo=1,Of=2,Ao=[],Vi=[];at("UpsampleRgbLinePair",Di,3),at("UpsampleBgrLinePair",ir,3),at("UpsampleRgbaLinePair",fs,4),at("UpsampleBgraLinePair",Ga,4),at("UpsampleArgbLinePair",Ha,4),at("UpsampleRgba4444LinePair",zs,2),at("UpsampleRgb565LinePair",Pi,2);var Dl=D.UpsampleRgbLinePair,Mf=D.UpsampleBgrLinePair,vc=D.UpsampleRgbaLinePair,ch=D.UpsampleBgraLinePair,Zo=D.UpsampleArgbLinePair,Ja=D.UpsampleRgba4444LinePair,el=D.UpsampleRgb565LinePair,oa=16,bc=1<<oa-1,Pl=-227,tl=482,uh=6,nl=0,Fi=o(256),hh=o(256),hp=o(256),Yg=o(256),Wg=o(tl-Pl),Kg=o(tl-Pl);mo("YuvToRgbRow",Di,3),mo("YuvToBgrRow",ir,3),mo("YuvToRgbaRow",fs,4),mo("YuvToBgraRow",Ga,4),mo("YuvToArgbRow",Ha,4),mo("YuvToRgba4444Row",zs,2),mo("YuvToRgb565Row",Pi,2);var $r=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_c=[0,2,8],Su=[8,7,6,4,4,2,2,2,1,1,1,1],Eu=1;this.WebPDecodeRGBA=function(p,v,S,C,B){var G=Qi,W=new Ge,Q=new jt;W.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var Z=Q.width,le=Q.height,_e=new Ct;if(_e==null||p==null)var De=2;else e(_e!=null),De=Na(p,v,S,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(De!=0?Z=0:(Z!=null&&(Z[0]=_e.width[0]),le!=null&&(le[0]=_e.height[0]),Z=1),Z){Q.width=Q.width[0],Q.height=Q.height[0],C!=null&&(C[0]=Q.width),B!=null&&(B[0]=Q.height);e:{if(C=new bi,(B=new tt).data=p,B.w=v,B.ha=S,B.kd=1,v=[0],e(B!=null),((p=Na(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(W!=null),C.data=B.data,C.w=B.w+B.offset,C.ha=B.ha-B.offset,C.put=pt,C.ac=Ar,C.bc=Sr,C.ma=W,B.xa){if((p=Va())==null){W=1;break e}if((function(ae,xe){var Re=[0],qe=[0],ke=[0];t:for(;;){if(ae==null)return 0;if(xe==null)return ae.a=2,0;if(ae.l=xe,ae.a=0,Ce(ae.m,xe.data,xe.w,xe.ha),!Zr(ae.m,Re,qe,ke)){ae.a=3;break t}if(ae.xb=Of,xe.width=Re[0],xe.height=qe[0],!js(Re[0],qe[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(p,C)){if(C=(v=Ta(C.width,C.height,W.Oa,W.ba))==0){t:{C=p;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((S=C.l)!=null),e((B=S.ma)!=null),C.xb!=0){if(C.ca=B.ba,C.tb=B.tb,e(C.ca!=null),!go(B.Oa,S,ta)){C.a=2;break n}if(!Gi(C,S.width)||S.da)break n;if((S.da||St(C.ca.S))&&Me(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Me()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!ne(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Hi(C,C.V,C.Ba,C.c,C.i,S.o,vi))break n;B.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(v=p.a)}else v=p.a}else{if((p=new Mr)==null){W=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,As(p,C)){if((v=Ta(C.width,C.height,W.Oa,W.ba))==0){if(p.Aa=0,S=W.Oa,e((B=p)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(le=_e=0;4>le;++le)12>(De=B.pb[le]).lc&&(De.ia=Z*Su[0>De.lc?0:De.lc]>>3),_e|=De.ia;_e&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(ae,xe){if(ae==null)return 0;if(xe==null)return vn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!As(ae,xe))return 0;if(e(ae.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(ae.L=0);var Re=_c[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=xe.v-Re>>4,ae.zb=xe.j-Re>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=xe.o+15+Re>>4,ae.Hb=xe.va+15+Re>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var qe=ae.ed;for(Re=0;4>Re;++Re){var ke;if(ae.Qa.Cb){var ze=ae.Qa.Lb[Re];ae.Qa.Fb||(ze+=qe.Tb)}else ze=qe.Tb;for(ke=0;1>=ke;++ke){var We=ae.gd[Re][ke],rt=ze;if(qe.Pc&&(rt+=qe.vd[0],ke&&(rt+=qe.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Ze=rt;0<qe.wb&&(Ze=4<qe.wb?Ze>>2:Ze>>1)>9-qe.wb&&(Ze=9-qe.wb),1>Ze&&(Ze=1),We.dd=Ze,We.tc=2*rt+Ze,We.ld=40<=rt?2:15<=rt?1:0}else We.tc=0;We.La=ke}}}Re=0}else vn(ae,6,"Frame setup failed"),Re=ae.a;if(Re=Re==0){if(Re){ae.$c=0,0<ae.Aa||(ae.Ic=Eu);t:{Re=ae.Ic,qe=4*(Ze=ae.za);var Rt=32*Ze,bt=Ze+1,rn=0<ae.L?Ze*(0<ae.Aa?2:1):0,Et=(ae.Aa==2?2:1)*Ze;if((We=qe+832+(ke=3*(16*Re+_c[ae.L])/2*Rt)+(ze=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=We)Re=0;else{if(We>ae.Vb){if(ae.Vb=0,ae.Ec=o(We),ae.Fc=0,ae.Ec==null){Re=vn(ae,1,"no memory during frame initialization.");break t}ae.Vb=We}We=ae.Ec,rt=ae.Fc,ae.Ac=We,ae.Bc=rt,rt+=qe,ae.Gd=c(Rt,qo),ae.Hd=0,ae.rb=c(bt+1,xs),ae.sb=1,ae.wa=rn?c(rn,Yi):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ze),e(!0),ae.oc=We,ae.pc=rt,rt+=832,ae.ya=c(Et,lo),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ze),ae.R=16*Ze,ae.B=8*Ze,Ze=(Rt=_c[ae.L])*ae.R,Rt=Rt/2*ae.B,ae.sa=We,ae.ta=rt+Ze,ae.qa=ae.sa,ae.ra=ae.ta+16*Re*ae.R+Rt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Re*ae.B+Rt,ae.$c=0,rt+=ke,ae.mb=ze?We:null,ae.nb=ze?rt:null,e(rt+ze<=ae.Fc+ae.Vb),Fa(ae),a(ae.Ac,ae.Bc,0,qe),Re=1}}if(Re){if(xe.ka=0,xe.y=ae.sa,xe.O=ae.ta,xe.f=ae.qa,xe.N=ae.ra,xe.ea=ae.Ha,xe.Vd=ae.Ia,xe.fa=ae.R,xe.Rc=ae.B,xe.F=null,xe.J=0,!nh){for(Re=-255;255>=Re;++Re)Ll[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)th[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)vu[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)bu[255+Re]=0>Re?0:255<Re?255:Re;nh=1}Hs=ci,wo=xl,Zs=ki,zn=Al,Pn=xa,$i=cc,fr=Tl,Kr=Bs,Qa=F,Ca=oe,Il=Ko,gu=x,Lf=ve,ap=Ne,op=Qs,lp=Ss,kf=po,Df=Wo,Vr[0]=za,Vr[1]=Sl,Vr[2]=uo,Vr[3]=Yo,Vr[4]=ui,Vr[5]=ho,Vr[6]=ti,Vr[7]=Yn,Vr[8]=fo,Vr[9]=ls,ps[0]=Fs,ps[1]=Ho,ps[2]=Go,ps[3]=Aa,ps[4]=Sa,ps[5]=Ki,ps[6]=Ba,Ia[0]=Ea,Ia[1]=El,Ia[2]=Us,Ia[3]=Nl,Ia[4]=Yr,Ia[5]=us,Ia[6]=Ks,Re=1}else Re=0}Re&&(Re=(function(xn,br){for(xn.M=0;xn.M<xn.Va;++xn.M){var on,_t=xn.Jc[xn.M&xn.Xb],ht=xn.m,Ir=xn;for(on=0;on<Ir.za;++on){var Xt=ht,hn=Ir,Xn=hn.Ac,hi=hn.Bc+4*on,Ui=hn.zc,dr=hn.ya[hn.aa+on];if(hn.Qa.Bb?dr.$b=Ue(Xt,hn.Pa.jb[0])?2+Ue(Xt,hn.Pa.jb[2]):Ue(Xt,hn.Pa.jb[1]):dr.$b=0,hn.kc&&(dr.Ad=Ue(Xt,hn.Bd)),dr.Za=!Ue(Xt,145)+0,dr.Za){var ni=dr.Ob,Ji=0;for(hn=0;4>hn;++hn){var ri,gn=Ui[0+hn];for(ri=0;4>ri;++ri){gn=ji[Xn[hi+ri]][gn];for(var jn=lh[Ue(Xt,gn[0])];0<jn;)jn=lh[2*jn+Ue(Xt,gn[jn])];gn=-jn,Xn[hi+ri]=gn}r(ni,Ji,Xn,hi,4),Ji+=4,Ui[0+hn]=gn}}else gn=Ue(Xt,156)?Ue(Xt,128)?1:3:Ue(Xt,163)?2:0,dr.Ob[0]=gn,a(Xn,hi,gn,4),a(Ui,0,gn,4);dr.Dd=Ue(Xt,142)?Ue(Xt,114)?Ue(Xt,183)?1:3:2:0}if(Ir.m.Ka)return vn(xn,7,"Premature end-of-partition0 encountered.");for(;xn.ja<xn.za;++xn.ja){if(Ir=_t,Xt=(ht=xn).rb[ht.sb-1],Xn=ht.rb[ht.sb+ht.ja],on=ht.ya[ht.aa+ht.ja],hi=ht.kc?on.Ad:0)Xt.la=Xn.la=0,on.Za||(Xt.Na=Xn.Na=0),on.Hc=0,on.Gc=0,on.ia=0;else{var Rr,qn;if(Xt=Xn,Xn=Ir,hi=ht.Pa.Xc,Ui=ht.ya[ht.aa+ht.ja],dr=ht.pb[Ui.$b],hn=Ui.ad,ni=0,Ji=ht.rb[ht.sb-1],gn=ri=0,a(hn,ni,0,384),Ui.Za)var fi=0,Lr=hi[3];else{jn=o(16);var Vn=Xt.Na+Ji.Na;if(Vn=Ys(Xn,hi[1],Vn,dr.Eb,0,jn,0),Xt.Na=Ji.Na=(0<Vn)+0,1<Vn)Hs(jn,0,hn,ni);else{var Xr=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)hn[ni+jn]=Xr}fi=1,Lr=hi[0]}var Qn=15&Xt.la,ii=15&Ji.la;for(jn=0;4>jn;++jn){var si=1&ii;for(Xr=qn=0;4>Xr;++Xr)Qn=Qn>>1|(si=(Vn=Ys(Xn,Lr,Vn=si+(1&Qn),dr.Sc,fi,hn,ni))>fi)<<7,qn=qn<<2|(3<Vn?3:1<Vn?2:hn[ni+0]!=0),ni+=16;Qn>>=4,ii=ii>>1|si<<7,ri=(ri<<8|qn)>>>0}for(Lr=Qn,fi=ii>>4,Rr=0;4>Rr;Rr+=2){for(qn=0,Qn=Xt.la>>4+Rr,ii=Ji.la>>4+Rr,jn=0;2>jn;++jn){for(si=1&ii,Xr=0;2>Xr;++Xr)Vn=si+(1&Qn),Qn=Qn>>1|(si=0<(Vn=Ys(Xn,hi[2],Vn,dr.Qc,0,hn,ni)))<<3,qn=qn<<2|(3<Vn?3:1<Vn?2:hn[ni+0]!=0),ni+=16;Qn>>=2,ii=ii>>1|si<<5}gn|=qn<<4*Rr,Lr|=Qn<<4<<Rr,fi|=(240&ii)<<Rr}Xt.la=Lr,Ji.la=fi,Ui.Hc=ri,Ui.Gc=gn,Ui.ia=43690&gn?0:dr.ia,hi=!(ri|gn)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[on.$b][on.Za],ht.wa[ht.Y+ht.ja].La|=!hi),Ir.Ka)return vn(xn,7,"Premature end-of-file encountered.")}if(Fa(xn),ht=br,Ir=1,on=(_t=xn).D,Xt=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(on.M=_t.M,on.uc=Xt,qs(_t,on),Ir=1,on=(qn=_t.D).Nb,Xt=(gn=_c[_t.L])*_t.R,Xn=gn/2*_t.B,jn=16*on*_t.R,Xr=8*on*_t.B,hi=_t.sa,Ui=_t.ta-Xt+jn,dr=_t.qa,hn=_t.ra-Xn+Xr,ni=_t.Ha,Ji=_t.Ia-Xn+Xr,ii=(Qn=qn.M)==0,ri=Qn>=_t.Va-1,_t.Aa==2&&qs(_t,qn),qn.uc)for(si=(Vn=_t).D.M,e(Vn.D.uc),qn=Vn.yb;qn<Vn.Hb;++qn){fi=qn,Lr=si;var sr=(On=(ai=Vn).D).Nb;Rr=ai.R;var On=On.wa[On.Y+fi],Zi=ai.sa,Fr=ai.ta+16*sr*Rr+16*fi,Ht=On.dd,Wt=On.tc;if(Wt!=0)if(e(3<=Wt),ai.L==1)0<fi&&lp(Zi,Fr,Rr,Wt+4),On.La&&Df(Zi,Fr,Rr,Wt),0<Lr&&op(Zi,Fr,Rr,Wt+4),On.La&&kf(Zi,Fr,Rr,Wt);else{var Fn=ai.B,Ns=ai.qa,la=ai.ra+8*sr*Fn+8*fi,ms=ai.Ha,ai=ai.Ia+8*sr*Fn+8*fi;sr=On.ld,0<fi&&(Kr(Zi,Fr,Rr,Wt+4,Ht,sr),Ca(Ns,la,ms,ai,Fn,Wt+4,Ht,sr)),On.La&&(gu(Zi,Fr,Rr,Wt,Ht,sr),ap(Ns,la,ms,ai,Fn,Wt,Ht,sr)),0<Lr&&(fr(Zi,Fr,Rr,Wt+4,Ht,sr),Qa(Ns,la,ms,ai,Fn,Wt+4,Ht,sr)),On.La&&(Il(Zi,Fr,Rr,Wt,Ht,sr),Lf(Ns,la,ms,ai,Fn,Wt,Ht,sr))}}if(_t.ia&&alert("todo:DitherRow"),ht.put!=null){if(qn=16*Qn,Qn=16*(Qn+1),ii?(ht.y=_t.sa,ht.O=_t.ta+jn,ht.f=_t.qa,ht.N=_t.ra+Xr,ht.ea=_t.Ha,ht.W=_t.Ia+Xr):(qn-=gn,ht.y=hi,ht.O=Ui,ht.f=dr,ht.N=hn,ht.ea=ni,ht.W=Ji),ri||(Qn-=gn),Qn>ht.o&&(Qn=ht.o),ht.F=null,ht.J=null,_t.Fa!=null&&0<_t.Fa.length&&qn<Qn&&(ht.J=m(_t,ht,qn,Qn-qn),ht.F=_t.mb,ht.F==null&&ht.F.length==0)){Ir=vn(_t,3,"Could not decode alpha data.");break t}qn<ht.j&&(gn=ht.j-qn,qn=ht.j,e(!(1&gn)),ht.O+=_t.R*gn,ht.N+=_t.B*(gn>>1),ht.W+=_t.B*(gn>>1),ht.F!=null&&(ht.J+=ht.width*gn)),qn<Qn&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=qn-ht.j,ht.U=ht.va-ht.v,ht.T=Qn-qn,Ir=ht.put(ht))}on+1!=_t.Ic||ri||(r(_t.sa,_t.ta-Xt,hi,Ui+16*_t.R,Xt),r(_t.qa,_t.ra-Xn,dr,hn+8*_t.B,Xn),r(_t.Ha,_t.Ia-Xn,ni,Ji+8*_t.B,Xn))}if(!Ir)return vn(xn,6,"Output aborted.")}return 1})(ae,xe)),xe.bc!=null&&xe.bc(xe),Re&=1}return Re?(ae.cb=0,Re):0})(p,C)||(v=p.a)}}else v=p.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=mu(W.ba))}W=v}G=W!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var fh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(D,Y){for(var T="",R=0;R<4;R++)T+=String.fromCharCode(D[Y++]);return T}function g(D,Y){return D[Y+0]|D[Y+1]<<8}function b(D,Y){return(D[Y+0]|D[Y+1]<<8|D[Y+2]<<16)>>>0}function A(D,Y){return(D[Y+0]|D[Y+1]<<8|D[Y+2]<<16|D[Y+3]<<24)>>>0}new d;var w=[0],M=[0],V=[],U=new d,j=n,te=(function(D,Y){var T={},R=0,L=!1,he=0,Ae=0;if(T.frames=[],!(function(P,z){for(var K=0;K<4;K++)if(P[z+K]!="RIFF".charCodeAt(K))return!0;return!1})(D,Y)){for(A(D,Y+=4),Y+=8;Y<D.length;){var ee=f(D,Y),pe=A(D,Y+=4);Y+=4;var ue=pe+(1&pe);switch(ee){case"VP8 ":case"VP8L":T.frames[R]===void 0&&(T.frames[R]={}),(X=T.frames[R]).src_off=L?Ae:Y-8,X.src_size=he+pe+8,R++,L&&(L=!1,he=0,Ae=0);break;case"VP8X":(X=T.header={}).feature_flags=D[Y];var Ce=Y+4;X.canvas_width=1+b(D,Ce),Ce+=3,X.canvas_height=1+b(D,Ce),Ce+=3;break;case"ALPH":L=!0,he=ue+8,Ae=Y-8;break;case"ANIM":(X=T.header).bgcolor=A(D,Y),Ce=Y+4,X.loop_count=g(D,Ce),Ce+=2;break;case"ANMF":var be,X;(X=T.frames[R]={}).offset_x=2*b(D,Y),Y+=3,X.offset_y=2*b(D,Y),Y+=3,X.width=1+b(D,Y),Y+=3,X.height=1+b(D,Y),Y+=3,X.duration=b(D,Y),Y+=3,be=D[Y++],X.dispose=1&be,X.blend=be>>1&1}ee!="ANMF"&&(Y+=ue)}return T}})(j,0);te.response=j,te.rgbaoutput=!0,te.dataurl=!1;var ce=te.header?te.header:null,H=te.frames?te.frames:null;if(ce){ce.loop_counter=ce.loop_count,w=[ce.canvas_height],M=[ce.canvas_width];for(var se=0;se<H.length&&H[se].blend!=0;se++);}var fe=H[0],q=U.WebPDecodeRGBA(j,fe.src_off,fe.src_size,M,w);fe.rgba=q,fe.imgwidth=M[0],fe.imgheight=w[0];for(var k=0;k<M[0]*w[0]*4;k++)V[k]=q[k];return this.width=M,this.height=w,this.data=V,this}function x9(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function A9(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,a,o,c,u,d,f,g=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new d,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new c,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new c,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,f=new g}]);var b=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=P;Object.defineProperty(this,"pdf",{get:function(){return z}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ne){K=!!ne}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ne){re=!!ne}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(ne){isNaN(ne)||(de=ne)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(ne){isNaN(ne)||(ye=ne)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ne){var lt;typeof ne=="number"?lt=[ne,ne,ne,ne]:((lt=new Array(4))[0]=ne[0],lt[1]=ne.length>=2?ne[1]:lt[0],lt[2]=ne.length>=3?ne[2]:lt[0],lt[3]=ne.length>=4?ne[3]:lt[1]),f.margin=lt}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(ne){Ee=ne}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(ne){Le=ne}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(ne){Ue=ne}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ne){ne instanceof g&&(f=ne)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ne){f.path=ne}});var et=[];Object.defineProperty(this,"ctxStack",{get:function(){return et},set:function(ne){et=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var lt;lt=A(ne),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var lt=A(ne);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var ot=null,ct=null,yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return yt},set:function(ne){ot=null,ct=null,yt=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var lt;if(this.ctx.font=ne,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var $t=lt[1];lt[2];var Mt=lt[3],Be=lt[4];lt[5];var dt=lt[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(ie==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var ge=(function(mt){var fn,Zt,Pt=[],Ft=mt.trim();if(Ft==="")return J0;if(Ft in Rx)return[Rx[Ft]];for(;Ft!=="";){switch(Zt=null,fn=(Ft=kx(Ft)).charAt(0)){case'"':case"'":Zt=g9(Ft.substring(1),fn);break;default:Zt=y9(Ft)}if(Zt===null||(Pt.push(Zt[0]),(Ft=kx(Zt[1]))!==""&&Ft.charAt(0)!==","))return J0;Ft=Ft.replace(/^,/,"")}return Pt})(dt);if(this.fontFaces){var Se=(function(mt,fn){var Zt=mt.getFontList(),Pt=JSON.stringify(Zt);if(ot===null||ct!==Pt){var Ft=(function(Qt){var Ot=[];return Object.keys(Qt).forEach(function(yn){Qt[yn].forEach(function(St){var zt=null;switch(St){case"bold":zt={family:yn,weight:"bold"};break;case"italic":zt={family:yn,style:"italic"};break;case"bolditalic":zt={family:yn,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:yn}}zt!==null&&(zt.ref={name:yn,style:St},Ot.push(zt))})}),Ot})(Zt);ot=(function(Qt){for(var Ot={},yn=0;yn<Qt.length;++yn){var St=Q0(Qt[yn]),zt=St.family,Mn=St.stretch,jt=St.style,Ct=St.weight;Ot[zt]=Ot[zt]||{},Ot[zt][Mn]=Ot[zt][Mn]||{},Ot[zt][Mn][jt]=Ot[zt][Mn][jt]||{},Ot[zt][Mn][jt][Ct]=St}return Ot})(Ft.concat(fn)),ct=Pt}return ot})(this.pdf,this.fontFaces),Ke=ge.map(function(mt){return{family:mt,stretch:"normal",weight:Mt,style:$t}}),He=(function(mt,fn,Zt){for(var Pt=(Zt=Zt||{}).defaultFontFamily||"times",Ft=Object.assign({},m9,Zt.genericFontFamilies||{}),Qt=null,Ot=null,yn=0;yn<fn.length;++yn)if(Ft[(Qt=Q0(fn[yn])).family]&&(Qt.family=Ft[Qt.family]),mt.hasOwnProperty(Qt.family)){Ot=mt[Qt.family];break}if(!(Ot=Ot||mt[Pt]))throw new Error("Could not find a font-family for the rule '"+Lx(Qt)+"' and default family '"+Pt+"'.");if(Ot=(function(St,zt){if(zt[St])return zt[St];var Mn=X2[St],jt=Mn<=X2.normal?-1:1,Ct=Ix(zt,$S,Mn,jt);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+St);return Ct})(Qt.stretch,Ot),Ot=(function(St,zt){if(zt[St])return zt[St];for(var Mn=KS[St],jt=0;jt<Mn.length;++jt)if(zt[Mn[jt]])return zt[Mn[jt]];throw new Error("Could not find a matching font-style for "+St)})(Qt.style,Ot),!(Ot=(function(St,zt){if(zt[St])return zt[St];if(St===400&&zt[500])return zt[500];if(St===500&&zt[400])return zt[400];var Mn=p9[St],jt=Ix(zt,XS,Mn,St<400?-1:1);if(!jt)throw new Error("Could not find a matching font-weight for value "+St);return jt})(Qt.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+Lx(Qt)+"'.");return Ot})(Se,Ke);this.pdf.setFont(He.ref.name,He.ref.style)}else{var Ve="";(Mt==="bold"||parseInt(Mt,10)>=700||$t==="bold")&&(Ve="bold"),$t==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var it="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<ge.length;st++){if(this.pdf.internal.getFont(ge[st],Ve,{noFallback:!0,disableWarning:!0})!==void 0){it=ge[st];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(ge[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=ge[st],Ve="bold";else if(this.pdf.internal.getFont(ge[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=ge[st],Ve="normal";break}}if(it===""){for(var vt=0;vt<ge.length;vt++)if(ft[ge[vt]]){it=ft[ge[vt]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};b.prototype.setLineDash=function(P){this.lineDash=P},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){H.call(this,"fill",!1)},b.prototype.stroke=function(){H.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(P,z){if(isNaN(P)||isNaN(z))throw wr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new c(P,z));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new c(P,z)},b.prototype.closePath=function(){var P=new c(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&lr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){P=new c(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(P.x,P.y)},b.prototype.lineTo=function(P,z){if(isNaN(P)||isNaN(z))throw wr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new c(P,z));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new c(K.x,K.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},b.prototype.quadraticCurveTo=function(P,z,K,re){if(isNaN(K)||isNaN(re)||isNaN(P)||isNaN(z))throw wr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new c(K,re)),ye=this.ctx.transform.applyToPoint(new c(P,z));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:de.x,y:de.y}),this.ctx.lastPoint=new c(de.x,de.y)},b.prototype.bezierCurveTo=function(P,z,K,re,de,ye){if(isNaN(de)||isNaN(ye)||isNaN(P)||isNaN(z)||isNaN(K)||isNaN(re))throw wr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new c(de,ye)),Le=this.ctx.transform.applyToPoint(new c(P,z)),Ue=this.ctx.transform.applyToPoint(new c(K,re));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:Ue.x,y2:Ue.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new c(Ee.x,Ee.y)},b.prototype.arc=function(P,z,K,re,de,ye){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(re)||isNaN(de))throw wr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new c(P,z));P=Ee.x,z=Ee.y;var Le=this.ctx.transform.applyToPoint(new c(0,K)),Ue=this.ctx.transform.applyToPoint(new c(0,0));K=Math.sqrt(Math.pow(Le.x-Ue.x,2)+Math.pow(Le.y-Ue.y,2))}Math.abs(de-re)>=2*Math.PI&&(re=0,de=2*Math.PI),this.path.push({type:"arc",x:P,y:z,radius:K,startAngle:re,endAngle:de,counterclockwise:ye})},b.prototype.arcTo=function(P,z,K,re,de){throw new Error("arcTo not implemented.")},b.prototype.rect=function(P,z,K,re){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(re))throw wr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,z),this.lineTo(P+K,z),this.lineTo(P+K,z+re),this.lineTo(P,z+re),this.lineTo(P,z),this.lineTo(P+K,z),this.lineTo(P,z)},b.prototype.fillRect=function(P,z,K,re){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(re))throw wr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,z,K,re),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},b.prototype.strokeRect=function(P,z,K,re){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(re))throw wr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(P,z,K,re),this.stroke())},b.prototype.clearRect=function(P,z,K,re){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(re))throw wr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,z,K,re))},b.prototype.save=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},b.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(z),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(P){var z,K,re,de;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))z=0,K=0,re=0,de=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ye!==null)z=parseInt(ye[1]),K=parseInt(ye[2]),re=parseInt(ye[3]),de=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)z=parseInt(ye[1]),K=parseInt(ye[2]),re=parseInt(ye[3]),de=parseFloat(ye[4]);else{if(de=1,typeof P=="string"&&P.charAt(0)!=="#"){var Ee=new BS(P);P=Ee.ok?Ee.toHex():"#000000"}P.length===4?(z=P.substring(1,2),z+=z,K=P.substring(2,3),K+=K,re=P.substring(3,4),re+=re):(z=P.substring(1,3),K=P.substring(3,5),re=P.substring(5,7)),z=parseInt(z,16),K=parseInt(K,16),re=parseInt(re,16)}}return{r:z,g:K,b:re,a:de,style:P}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(P,z,K,re){if(isNaN(z)||isNaN(K)||typeof P!="string")throw wr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!w.call(this)){var de=ue(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;R.call(this,{text:P,x:z,y:K,scale:ye,angle:de,align:this.textAlign,maxWidth:re})}},b.prototype.strokeText=function(P,z,K,re){if(isNaN(z)||isNaN(K)||typeof P!="string")throw wr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){re=isNaN(re)?void 0:re;var de=ue(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;R.call(this,{text:P,x:z,y:K,scale:ye,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:re})}},b.prototype.measureText=function(P){if(typeof P!="string")throw wr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,K=this.pdf.internal.scaleFactor,re=z.internal.getFontSize(),de=z.getStringUnitWidth(P)*re/z.internal.scaleFactor;return new function(ye){var Ee=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:de*=Math.round(96*K/72*1e4)/1e4})},b.prototype.scale=function(P,z){if(isNaN(P)||isNaN(z))throw wr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new d(P,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},b.prototype.rotate=function(P){if(isNaN(P))throw wr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new d(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},b.prototype.translate=function(P,z){if(isNaN(P)||isNaN(z))throw wr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new d(1,0,0,1,P,z);this.ctx.transform=this.ctx.transform.multiply(K)},b.prototype.transform=function(P,z,K,re,de,ye){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(re)||isNaN(de)||isNaN(ye))throw wr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new d(P,z,K,re,de,ye);this.ctx.transform=this.ctx.transform.multiply(Ee)},b.prototype.setTransform=function(P,z,K,re,de,ye){P=isNaN(P)?1:P,z=isNaN(z)?0:z,K=isNaN(K)?0:K,re=isNaN(re)?1:re,de=isNaN(de)?0:de,ye=isNaN(ye)?0:ye,this.ctx.transform=new d(P,z,K,re,de,ye)};var V=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(P,z,K,re,de,ye,Ee,Le,Ue){var et=this.pdf.getImageProperties(P),ot=1,ct=1,yt=1,ne=1;re!==void 0&&Le!==void 0&&(yt=Le/re,ne=Ue/de,ot=et.width/re*Le/re,ct=et.height/de*Ue/de),ye===void 0&&(ye=z,Ee=K,z=0,K=0),re!==void 0&&Le===void 0&&(Le=re,Ue=de),re===void 0&&Le===void 0&&(Le=et.width,Ue=et.height);var lt=this.ctx.transform.decompose(),$t=ue(lt.rotate.shx),Mt=new d,Be=(Mt=(Mt=(Mt=Mt.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new u(ye-z*yt,Ee-K*ne,re*ot,de*ct));if(this.autoPaging){for(var dt,ie=U.call(this,Be),ge=[],Se=0;Se<ie.length;Se+=1)ge.indexOf(ie[Se])===-1&&ge.push(ie[Se]);ce(ge);for(var Ke=ge[0],He=ge[ge.length-1],Ve=Ke;Ve<He+1;Ve++){this.pdf.setPage(Ve);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Ve===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ve===1?0:st+(Ve-2)*vt;if(this.ctx.clip_path.length!==0){var fn=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(dt,this.posX+this.margin[3],-mt+ft+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=fn}var Zt=JSON.parse(JSON.stringify(Be));Zt=te([Zt],this.posX+this.margin[3],-mt+ft+this.ctx.prevPageLastElemOffset)[0];var Pt=(Ve>Ke||Ve<He)&&V.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,vt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,$t),Pt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,$t)};var U=function(P,z,K){var re=[];z=z||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":re.push(Math.floor((P.y+de)/K)+1);break;case"arc":re.push(Math.floor((P.y+de-P.radius)/K)+1),re.push(Math.floor((P.y+de+P.radius)/K)+1);break;case"qct":var ye=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);re.push(Math.floor((ye.y+de)/K)+1),re.push(Math.floor((ye.y+ye.h+de)/K)+1);break;case"bct":var Ee=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);re.push(Math.floor((Ee.y+de)/K)+1),re.push(Math.floor((Ee.y+Ee.h+de)/K)+1);break;case"rect":re.push(Math.floor((P.y+de)/K)+1),re.push(Math.floor((P.y+P.h+de)/K)+1)}for(var Le=0;Le<re.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<re[Le];)j.call(this);return re},j=function(){var P=this.fillStyle,z=this.strokeStyle,K=this.font,re=this.lineCap,de=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=z,this.font=K,this.lineCap=re,this.lineWidth=de,this.lineJoin=ye},te=function(P,z,K){for(var re=0;re<P.length;re++)switch(P[re].type){case"bct":P[re].x2+=z,P[re].y2+=K;case"qct":P[re].x1+=z,P[re].y1+=K;default:P[re].x+=z,P[re].y+=K}return P},ce=function(P){return P.sort(function(z,K){return z-K})},H=function(P,z){var K=this.fillStyle,re=this.strokeStyle,de=this.lineCap,ye=this.lineWidth,Ee=Math.abs(ye*this.ctx.transform.scaleX),Le=this.lineJoin;if(this.autoPaging){for(var Ue,et,ot=JSON.parse(JSON.stringify(this.path)),ct=JSON.parse(JSON.stringify(this.path)),yt=[],ne=0;ne<ct.length;ne++)if(ct[ne].x!==void 0)for(var lt=U.call(this,ct[ne]),$t=0;$t<lt.length;$t+=1)yt.indexOf(lt[$t])===-1&&yt.push(lt[$t]);for(var Mt=0;Mt<yt.length;Mt++)for(;this.pdf.internal.getNumberOfPages()<yt[Mt];)j.call(this);ce(yt);for(var Be=yt[0],dt=yt[yt.length-1],ie=Be;ie<dt+1;ie++){this.pdf.setPage(ie),this.fillStyle=K,this.strokeStyle=re,this.lineCap=de,this.lineWidth=Ee,this.lineJoin=Le;var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=ie===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=ie===1?0:Ke+(ie-2)*He;if(this.ctx.clip_path.length!==0){var it=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Ue,this.posX+this.margin[3],-Ve+Se+this.ctx.prevPageLastElemOffset),se.call(this,P,!0),this.path=it}if(et=JSON.parse(JSON.stringify(ot)),this.path=te(et,this.posX+this.margin[3],-Ve+Se+this.ctx.prevPageLastElemOffset),z===!1||ie===0){var ft=(ie>Be||ie<dt)&&V.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,He,null).clip().discardPath()),se.call(this,P,z),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=ot}else this.lineWidth=Ee,se.call(this,P,z),this.lineWidth=ye},se=function(P,z){if((P!=="stroke"||z||!M.call(this))&&(P==="stroke"||z||!w.call(this))){for(var K,re,de=[],ye=this.path,Ee=0;Ee<ye.length;Ee++){var Le=ye[Ee];switch(Le.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Le,deltas:[],abs:[]});break;case"lt":var Ue=de.length;if(ye[Ee-1]&&!isNaN(ye[Ee-1].x)&&(K=[Le.x-ye[Ee-1].x,Le.y-ye[Ee-1].y],Ue>0)){for(;Ue>=0;Ue--)if(de[Ue-1].close!==!0&&de[Ue-1].begin!==!0){de[Ue-1].deltas.push(K),de[Ue-1].abs.push(Le);break}}break;case"bct":K=[Le.x1-ye[Ee-1].x,Le.y1-ye[Ee-1].y,Le.x2-ye[Ee-1].x,Le.y2-ye[Ee-1].y,Le.x-ye[Ee-1].x,Le.y-ye[Ee-1].y],de[de.length-1].deltas.push(K);break;case"qct":var et=ye[Ee-1].x+2/3*(Le.x1-ye[Ee-1].x),ot=ye[Ee-1].y+2/3*(Le.y1-ye[Ee-1].y),ct=Le.x+2/3*(Le.x1-Le.x),yt=Le.y+2/3*(Le.y1-Le.y),ne=Le.x,lt=Le.y;K=[et-ye[Ee-1].x,ot-ye[Ee-1].y,ct-ye[Ee-1].x,yt-ye[Ee-1].y,ne-ye[Ee-1].x,lt-ye[Ee-1].y],de[de.length-1].deltas.push(K);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Le)}}re=z?null:P==="stroke"?"stroke":"fill";for(var $t=!1,Mt=0;Mt<de.length;Mt++)if(de[Mt].arc)for(var Be=de[Mt].abs,dt=0;dt<Be.length;dt++){var ie=Be[dt];ie.type==="arc"?k.call(this,ie.x,ie.y,ie.radius,ie.startAngle,ie.endAngle,ie.counterclockwise,void 0,z,!$t):L.call(this,ie.x,ie.y),$t=!0}else if(de[Mt].close===!0)this.pdf.internal.out("h"),$t=!1;else if(de[Mt].begin!==!0){var ge=de[Mt].start.x,Se=de[Mt].start.y;he.call(this,de[Mt].deltas,ge,Se),$t=!0}re&&D.call(this,re),z&&Y.call(this)}},fe=function(P){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-K;case"top":return P+z-K;case"hanging":return P+z-2*K;case"middle":return P+z/2-K;default:return P}},q=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(z,K){this.colorStops.push([z,K])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(P,z,K,re,de,ye,Ee,Le,Ue){for(var et=ee.call(this,K,re,de,ye),ot=0;ot<et.length;ot++){var ct=et[ot];ot===0&&(Ue?T.call(this,ct.x1+P,ct.y1+z):L.call(this,ct.x1+P,ct.y1+z)),Ae.call(this,P,z,ct.x2,ct.y2,ct.x3,ct.y3,ct.x4,ct.y4)}Le?Y.call(this):D.call(this,Ee)},D=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(P,z){this.pdf.internal.out(t(P)+" "+r(z)+" m")},R=function(P){var z;switch(P.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var K,re,de,ye=this.pdf.getTextDimensions(P.text),Ee=fe.call(this,P.y),Le=q.call(this,Ee)-ye.h,Ue=this.ctx.transform.applyToPoint(new c(P.x,Ee));if(this.autoPaging){var et=this.ctx.transform.decompose(),ot=new d;ot=(ot=(ot=ot.multiply(et.translate)).multiply(et.skew)).multiply(et.scale);for(var ct=this.ctx.transform.applyToRectangle(new u(P.x,Ee,ye.w,ye.h)),yt=ot.applyToRectangle(new u(P.x,Le,ye.w,ye.h)),ne=U.call(this,yt),lt=[],$t=0;$t<ne.length;$t+=1)lt.indexOf(ne[$t])===-1&&lt.push(ne[$t]);ce(lt);for(var Mt=lt[0],Be=lt[lt.length-1],dt=Mt;dt<Be+1;dt++){this.pdf.setPage(dt);var ie=dt===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],Ke=Se-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Ve=He-this.margin[3],it=dt===1?0:ge+(dt-2)*Ke;if(this.ctx.clip_path.length!==0){var ft=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(K,this.posX+this.margin[3],-1*it+ie),se.call(this,"fill",!0),this.path=ft}var st=te([JSON.parse(JSON.stringify(yt))],this.posX+this.margin[3],-it+ie+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*P.scale),de=this.lineWidth,this.lineWidth=de*P.scale);var vt=this.autoPaging!=="text";if(vt||st.y+st.h<=Se){if(vt||st.y>=ie&&st.x<=He){var mt=vt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||He-st.x)[0],fn=te([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-it+ie+this.ctx.prevPageLastElemOffset)[0],Zt=vt&&(dt>Mt||dt<Be)&&V.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Ke,null).clip().discardPath()),this.pdf.text(mt,fn.x,fn.y,{angle:P.angle,align:z,renderingMode:P.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else st.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-st.y);P.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=de)}}else P.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*P.scale),de=this.lineWidth,this.lineWidth=de*P.scale),this.pdf.text(P.text,Ue.x+this.posX,Ue.y+this.posY,{angle:P.angle,align:z,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=de)},L=function(P,z,K,re){K=K||0,re=re||0,this.pdf.internal.out(t(P+K)+" "+r(z+re)+" l")},he=function(P,z,K){return this.pdf.lines(P,z,K,null,null)},Ae=function(P,z,K,re,de,ye,Ee,Le){this.pdf.internal.out([e(a(K+P)),e(o(re+z)),e(a(de+P)),e(o(ye+z)),e(a(Ee+P)),e(o(Le+z)),"c"].join(" "))},ee=function(P,z,K,re){for(var de=2*Math.PI,ye=Math.PI/2;z>K;)z-=de;var Ee=Math.abs(K-z);Ee<de&&re&&(Ee=de-Ee);for(var Le=[],Ue=re?-1:1,et=z;Ee>1e-5;){var ot=et+Ue*Math.min(Ee,ye);Le.push(pe.call(this,P,et,ot)),Ee-=Math.abs(ot-et),et=ot}return Le},pe=function(P,z,K){var re=(K-z)/2,de=P*Math.cos(re),ye=P*Math.sin(re),Ee=de,Le=-ye,Ue=Ee*Ee+Le*Le,et=Ue+Ee*de+Le*ye,ot=4/3*(Math.sqrt(2*Ue*et)-et)/(Ee*ye-Le*de),ct=Ee-ot*Le,yt=Le+ot*Ee,ne=ct,lt=-yt,$t=re+z,Mt=Math.cos($t),Be=Math.sin($t);return{x1:P*Math.cos(z),y1:P*Math.sin(z),x2:ct*Mt-yt*Be,y2:ct*Be+yt*Mt,x3:ne*Mt-lt*Be,y3:ne*Be+lt*Mt,x4:P*Math.cos(K),y4:P*Math.sin(K)}},ue=function(P){return 180*P/Math.PI},Ce=function(P,z,K,re,de,ye){var Ee=P+.5*(K-P),Le=z+.5*(re-z),Ue=de+.5*(K-de),et=ye+.5*(re-ye),ot=Math.min(P,de,Ee,Ue),ct=Math.max(P,de,Ee,Ue),yt=Math.min(z,ye,Le,et),ne=Math.max(z,ye,Le,et);return new u(ot,yt,ct-ot,ne-yt)},be=function(P,z,K,re,de,ye,Ee,Le){var Ue,et,ot,ct,yt,ne,lt,$t,Mt,Be,dt,ie,ge,Se,Ke=K-P,He=re-z,Ve=de-K,it=ye-re,ft=Ee-de,st=Le-ye;for(et=0;et<41;et++)Mt=(lt=(ot=P+(Ue=et/40)*Ke)+Ue*((yt=K+Ue*Ve)-ot))+Ue*(yt+Ue*(de+Ue*ft-yt)-lt),Be=($t=(ct=z+Ue*He)+Ue*((ne=re+Ue*it)-ct))+Ue*(ne+Ue*(ye+Ue*st-ne)-$t),et==0?(dt=Mt,ie=Be,ge=Mt,Se=Be):(dt=Math.min(dt,Mt),ie=Math.min(ie,Be),ge=Math.max(ge,Mt),Se=Math.max(Se,Be));return new u(Math.round(dt),Math.round(ie),Math.round(ge-dt),Math.round(Se-ie))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,z,K=(P=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:z}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Bt.API),(function(n){var e=function(c){var u,d,f,g,b,A,w,M,V,U;for(d=[],f=0,g=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;g>f;f+=4)(b=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(A=(b=((b=((b=((b=(b-(U=b%85))/85)-(V=b%85))/85)-(M=b%85))/85)-(w=b%85))/85)%85,d.push(A+33,w+33,M+33,V+33,U+33)):d.push(122);return(function(j,te){for(var ce=te;ce>0;ce--)j.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},t=function(c){var u,d,f,g,b,A=String,w="length",M=255,V="charCodeAt",U="slice",j="replace";for(c[U](-2),c=c[U](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),f=[],g=0,b=(c+=u="uuuuu"[U](c[w]%5||5))[w];b>g;g+=5)d=52200625*(c[V](g)-33)+614125*(c[V](g+1)-33)+7225*(c[V](g+2)-33)+85*(c[V](g+3)-33)+(c[V](g+4)-33),f.push(M&d>>24,M&d>>16,M&d>>8,M&d);return(function(te,ce){for(var H=ce;H>0;H--)te.pop()})(f,u[w]),A.fromCharCode.apply(A,f)},r=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",f=0;f<c.length;f+=2)d+=String.fromCharCode("0x"+(c[f]+c[f+1]));return d},o=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=q2(u)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};n.processDataByFilters=function(c,u){var d=0,f=c||"",g=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}})(Bt.API),(function(n){n.loadFile=function(e,t,r){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,f,g){var b=new XMLHttpRequest,A=0,w=function(M){var V=M.length,U=[],j=String.fromCharCode;for(A=0;A<V;A+=1)U.push(j(255&M.charCodeAt(A)));return U.join("")};if(b.open("GET",d,!f),b.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(b.onload=function(){b.status===200?g(w(this.responseText)):g(void 0)}),b.send(null),f&&b.status===200)return w(b.responseText)})(a,o,c)}catch{}return u})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Bt.API),(function(n){function e(){return(sn.html2canvas?Promise.resolve(sn.html2canvas):Nm(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(sn.DOMPurify?Promise.resolve(sn.DOMPurify):Nm(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var d=lr(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(u,d){var f=document.createElement(u);for(var g in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[g]=d.style[g];return f},o=function u(d,f){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)f!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(u(b,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g},c=function u(d){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),g=u.convert(Promise.resolve(),f);return(g=g.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var f=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var w=0;w<g.length;++w){var M=g[w],V=M.src.find(function(U){return U.format==="truetype"});V&&f.addFont(V.url,M.ref.name,M.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,f.context2d.save(!0),d(this.prop.container,A)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(r(u)!=="object")return this;var d=Object.keys(u||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var f=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(f):f})},c.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(u=u||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,f,g){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,f,g){return this.setProgress(u?this.progress.val+u:null,d||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(u,d){var f=this;return this.thenCore(u,d,function(g,b){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(A){return f.updateProgress(null,g),A}).then(g,b).then(function(A){return f.updateProgress(1),A})})},c.prototype.thenCore=function(u,d,f){f=f||Promise.prototype.then;var g=this;u&&(u=u.bind(g)),d&&(d=d.bind(g));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),A=f.call(b,u,d);return c.convert(A,g.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(f){d=d.thenCore(f)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Bt.getPageSize=function(u,d,f){if(lr(u)==="object"){var g=u;u=g.orientation,d=g.unit||d,f=g.format||f}d=d||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var b,A=(""+f).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+d}var M,V=0,U=0;if(w.hasOwnProperty(A))V=w[A][1]/b,U=w[A][0]/b;else try{V=f[1],U=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",U>V&&(M=U,U=V,V=M);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",V>U&&(M=U,U=V,V=M)}return{width:U,height:V,unit:d,k:b,orientation:u}},n.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Q0):null;var f=new c(d);return d.worker?f:f.from(u).doCallback()}})(Bt.API),Bt.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],u=r.exec(c);if(u!=null){var d=u[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(o=0;o<f;o++){var b=t.internal.newObject();g.push(b);var A=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var c={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Bt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,c,u){var d,f=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(b){for(var A,w=256*b.charCodeAt(4)+b.charCodeAt(5),M=b.length,V={width:0,height:0,numcomponents:1},U=4;U<M;U+=2){if(U+=w,e.indexOf(b.charCodeAt(U+1))!==-1){A=256*b.charCodeAt(U+5)+b.charCodeAt(U+6),V={width:256*b.charCodeAt(U+7)+b.charCodeAt(U+8),height:A,numcomponents:b.charCodeAt(U+9)};break}w=256*b.charCodeAt(U+2)+b.charCodeAt(U+3)}return V})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}g={data:t,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:a}}return g}})(Bt.API),Bt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=e9(n,{checkCrc:!0}),c=o.width,u=o.height,d=o.channels,f=o.palette,g=o.depth;a=f&&d===1?(function(k){for(var D=k.width,Y=k.height,T=k.data,R=k.palette,L=k.depth,he=!1,Ae=[],ee=[],pe=void 0,ue=!1,Ce=0,be=0;be<R.length;be++){var X=Vw(R[be],4),P=X[0],z=X[1],K=X[2],re=X[3];Ae.push(P,z,K),re!=null&&(re===0?(Ce++,ee.length<1&&ee.push(be)):re<255&&(ue=!0))}if(ue||Ce>1){he=!0,ee=void 0;var de=D*Y;pe=new Uint8Array(de);for(var ye=new DataView(T.buffer),Ee=0;Ee<de;Ee++){var Le=Z0(ye,Ee,L),Ue=Vw(R[Le],4)[3];pe[Ee]=Ue}}else Ce===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:he?8:void 0,colorBytes:T,alphaBytes:pe,needSMask:he,palette:Ae,mask:ee}})(o):d===2||d===4?(function(k){for(var D=k.data,Y=k.width,T=k.height,R=k.channels,L=k.depth,he=R===2?"DeviceGray":"DeviceRGB",Ae=R-1,ee=Y*T,pe=Ae,ue=ee*pe,Ce=1*ee,be=Math.ceil(ue*L/8),X=Math.ceil(Ce*L/8),P=new Uint8Array(be),z=new Uint8Array(X),K=new DataView(D.buffer),re=new DataView(P.buffer),de=new DataView(z.buffer),ye=!1,Ee=0;Ee<ee;Ee++){for(var Le=Ee*R,Ue=0;Ue<pe;Ue++)Bx(re,Z0(K,Le+Ue,L),Ee*pe+Ue,L);var et=Z0(K,Le+pe,L);et<(1<<L)-1&&(ye=!0),Bx(de,et,1*Ee,L)}return{colorSpace:he,colorsPerPixel:Ae,sMaskBitsPerComponent:ye?L:void 0,colorBytes:P,alphaBytes:z,needSMask:ye}})(o):(function(k){var D=k.data,Y=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Y,colorsPerPixel:Y==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(T){for(var R=T.length,L=new Uint8Array(2*R),he=new DataView(L.buffer,L.byteOffset,L.byteLength),Ae=0;Ae<R;Ae++)he.setUint16(2*Ae,T[Ae],!1);return L})(D):D,needSMask:!1}})(o);var b,A,w,M=a,V=M.colorSpace,U=M.colorsPerPixel,j=M.sMaskBitsPerComponent,te=M.colorBytes,ce=M.alphaBytes,H=M.needSMask,se=M.palette,fe=M.mask,q=null;return r!==Bt.API.image_compression.NONE&&typeof q2=="function"?(q=(function(k){var D;switch(k){case Bt.API.image_compression.FAST:D=11;break;case Bt.API.image_compression.MEDIUM:D=13;break;case Bt.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),b=this.decode.FLATE_DECODE,A="/Predictor ".concat(q," /Colors ").concat(U," /BitsPerComponent ").concat(g," /Columns ").concat(c),n=Mx(te,Math.ceil(c*U*g/8),U,g,r),H&&(w=Mx(ce,Math.ceil(c*j/8),1,j,r))):(b=void 0,A=void 0,n=te,H&&(w=ce)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:n,index:e,filter:b,decodeParameters:A,transparency:fe,palette:se,sMask:w,predictor:q,width:c,height:u,bitsPerComponent:g,sMaskBitsPerComponent:j,colorSpace:V}}},(function(n){n.processGIF89A=function(e,t,r,a){var o=new w9(e),c=o.width,u=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:c,height:u},g=new e2(100).encode(f,100);return n.processJPEG.call(this,g,t,r,a)},n.processGIF87A=n.processGIF89A})(Bt.API),Ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ro.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){wr.log("bit decode error:"+t)}},Ro.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var d=this.palette[o>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Ro.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,u=o>>4,d=15&o,f=this.palette[u];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[d],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Ro.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Ro.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,f=o>>15?255:0,g=r*this.width*4+4*a;this.data[g]=d,this.data[g+1]=u,this.data[g+2]=c,this.data[g+3]=f}this.pos+=n}},Ro.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&e)/e*255|0,d=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,g=a*this.width*4+4*o;this.data[g]=f,this.data[g+1]=d,this.data[g+2]=u,this.data[g+3]=255}this.pos+=n}},Ro.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},Ro.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=c}},Ro.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var o=new Ro(e,!1),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},f=new e2(100).encode(d,100);return n.processJPEG.call(this,f,t,r,a)}})(Bt.API),qx.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var o=new qx(e),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},f=new e2(100).encode(d,100);return n.processJPEG.call(this,f,t,r,a)}})(Bt.API),Bt.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),u=0,d=0,f=0;f<a;f+=4){var g=r[f],b=r[f+1],A=r[f+2],w=r[f+3];o[u++]=g,o[u++]=b,o[u++]=A,c[d++]=w}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:M,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Bt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vh=Bt.API,pm=Vh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,d=u.fof?u.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=f.fof?f.fof:1,b=e.doKerning!==!1,A=0,w=n.length,M=0,V=u[0]||d,U=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?U.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(A=b&&lr(f[r])==="object"&&!isNaN(parseInt(f[r][M],10))?f[r][M]/g:0,U.push((u[r]||V)/d+A)),M=r;return U},Dx=Vh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Vh.processArabic&&(n=Vh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:pm.apply(this,arguments).reduce(function(o,c){return o+c},0)},Px=function(n,e,t,r){for(var a=[],o=0,c=n.length,u=0;o!==c&&u+e[o]<t;)u+=e[o],o++;a.push(n.slice(0,o));var d=o;for(u=0;o!==c;)u+e[o]>r&&(a.push(n.slice(d,o)),u=0,d=o),u+=e[o],o++;return d!==o&&a.push(n.slice(d,o)),a},Ox=function(n,e,t){t||(t={});var r,a,o,c,u,d,f,g=[],b=[g],A=t.textIndent||0,w=0,M=0,V=n.split(" "),U=pm.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?V[0].length+2:t.lineIndent||0){var j=Array(d).join(" "),te=[];V.map(function(H){(H=H.split(/\s*\n/)).length>1?te=te.concat(H.map(function(se,fe){return(fe&&se.length?`
`:"")+se})):te.push(H[0])}),V=te,d=Dx.apply(this,[j,t])}for(o=0,c=V.length;o<c;o++){var ce=0;if(r=V[o],d&&r[0]==`
`&&(r=r.substr(1),ce=1),A+w+(M=(a=pm.apply(this,[r,t])).reduce(function(H,se){return H+se},0))>e||ce){if(M>e){for(u=Px.apply(this,[r,a,e-(A+w),e]),g.push(u.shift()),g=[u.pop()];u.length;)b.push([u.shift()]);M=a.slice(r.length-(g[0]?g[0].length:0)).reduce(function(H,se){return H+se},0)}else g=[r];b.push(g),A=M+d,w=U}else g.push(r),A+=w+M,w=U}return f=d?function(H,se){return(se?j:"")+H.join(" ")}:function(H){return H.join(" ")},b.map(f)},Vh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle),A="Unicode";return b.metadata[A]?{widths:b.metadata[A].widths||{0:1},kerning:b.metadata[A].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var u,d,f=[];for(u=0,d=r.length;u<d;u++)f=f.concat(Ox.apply(this,[r[u],c,o]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var c=function(A){return"0x"+parseInt(A,10).toString(16)},u=n.__fontmetrics__.compress=function(A){var w,M,V,U,j=["{"];for(var te in A){if(w=A[te],isNaN(parseInt(te,10))?M="'"+te+"'":(te=parseInt(te,10),M=(M=c(te).slice(2)).slice(0,-1)+a[M.slice(-1)]),typeof w=="number")w<0?(V=c(w).slice(3),U="-"):(V=c(w).slice(2),U=""),V=U+V.slice(0,-1)+a[V.slice(-1)];else{if(lr(w)!=="object")throw new Error("Don't know what to do with value type "+lr(w)+".");V=u(w)}j.push(M+V)}return j.push("}"),j.join("")},d=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,M,V,U,j={},te=1,ce=j,H=[],se="",fe="",q=A.length-1,k=1;k<q;k+=1)(U=A[k])=="'"?w?(V=w.join(""),w=void 0):w=[]:w?w.push(U):U=="{"?(H.push([ce,V]),ce={},V=void 0):U=="}"?((M=H.pop())[0][M[1]]=ce,V=void 0,ce=M[0]):U=="-"?te=-1:V===void 0?r.hasOwnProperty(U)?(se+=r[U],V=parseInt(se,16)*te,te=1,se=""):se+=U:r.hasOwnProperty(U)?(fe+=r[U],ce[V]=parseInt(fe,16)*te,te=1,V=void 0,fe=""):fe+=U;return j},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},b={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var w=A.font,M=b.Unicode[w.postScriptName];M&&(w.metadata.Unicode={},w.metadata.Unicode.widths=M.widths,w.metadata.Unicode.kerning=M.kerning);var V=g.Unicode[w.postScriptName];V&&(w.metadata.Unicode.encoding=V,w.encoding=V.codePages[0])}])})(Bt.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Cm(u)),c.metadata=n.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])})(Bt),Bt.API.addSvgAsImage=function(n,e,t,r,a,o,c,u){if(isNaN(e)||isNaN(t))throw wr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw wr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=a;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(sn.canvg?Promise.resolve(sn.canvg):Nm(()=>import("./index.es-Bam1EPxO.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(f,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(g)}).then(function(){b.addImage(d.toDataURL("image/jpeg",1),e,t,r,a,c,u)})},Bt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Bt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],f=0,g=0,b=0;function A(M,V){var U,j=!1;for(U=0;U<M.length;U+=1)M[U]===V&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=u.length;for(b=0;b<w;b+=1)t[u[b]].value=t[u[b]].defaultValue,t[u[b]].explicitSet=!1}if(lr(n)==="object"){for(a in n)if(o=n[a],A(u,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&A(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(f=0;f<o.length;f+=1)if(r=!0,o[f].length===1&&typeof o[f][0]=="number")d.push(String(o[f]-1));else if(o[f].length>1){for(g=0;g<o[f].length;g+=1)typeof o[f][g]!="number"&&(r=!1);r===!0&&d.push([o[f][0]-1,o[f][1]-1].join(" "))}t[a].value="["+d.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,V=[];for(M in t)t[M].explicitSet===!0&&(t[M].type==="name"?V.push("/"+M+" /"+t[M].value):V.push("/"+M+" "+t[M].value));V.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+V.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},Bt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",A9),this.internal.events.subscribe("postPutResources",x9)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var u,d=c.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],b=0,A=o.length;b<A;++b){if(u=c.metadata.characterToGlyph(o.charCodeAt(b)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(b),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return g.join("");u=u.toString(16),g.push(f[4-u.length],u)}return g.join("")},r=function(o){var c,u,d,f,g,b,A;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],b=0,A=(u=Object.keys(o).sort(function(w,M){return w-M})).length;b<A;b++)c=u[b],d.length>=100&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+f+">"));return d.length&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,f=c.newObject,g=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var b=u.metadata.Unicode.widths,A=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",M=0;M<A.length;M++)w+=String.fromCharCode(A[M]);var V=f();g({data:w,addLength1:!0,objectId:V}),d("endobj");var U=f();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:U}),d("endobj");var j=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Gh(u.fontName)),d("/FontFile2 "+V+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var te=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+Gh(u.fontName)),d("/FontDescriptor "+j+" 0 R"),d("/W "+n.API.PDFObject.convert(b)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+U+" 0 R"),d("/BaseFont /"+Gh(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+te+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,f=c.newObject,g=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var b=u.metadata.rawData,A="",w=0;w<b.length;w++)A+=String.fromCharCode(b[w]);var M=f();g({data:A,addLength1:!0,objectId:M}),d("endobj");var V=f();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:V}),d("endobj");var U=f();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+M+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Gh(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=f();for(var j=0;j<u.metadata.hmtx.widths.length;j++)u.metadata.hmtx.widths[j]=parseInt(u.metadata.hmtx.widths[j]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+V+" 0 R/BaseFont/"+Gh(u.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,u=o.text||"",d=o.x,f=o.y,g=o.options||{},b=o.mutex||{},A=b.pdfEscape,w=b.activeFontKey,M=b.fonts,V=w,U="",j=0,te="",ce=M[V].encoding;if(M[V].encoding!=="Identity-H")return{text:u,x:d,y:f,options:g,mutex:b};for(te=u,V=w,Array.isArray(u)&&(te=u[0]),j=0;j<te.length;j+=1)M[V].metadata.hasOwnProperty("cmap")&&(c=M[V].metadata.cmap.unicode.codeMap[te[j].charCodeAt(0)]),c||te[j].charCodeAt(0)<256&&M[V].metadata.hasOwnProperty("Unicode")?U+=te[j]:U+="";var H="";return parseInt(V.slice(1))<14||ce==="WinAnsiEncoding"?H=A(U,V).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):ce==="Identity-H"&&(H=t(U,M[V])),b.isHex=!0,{text:H,x:d,y:f,options:g,mutex:b}};e.events.push(["postProcessText",function(o){var c=o.text||"",u=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?u.push([a(Object.assign({},d,{text:c[f][0]})).text,c[f][1],c[f][2]]):u.push(a(Object.assign({},d,{text:c[f]})).text);o.text=u}else o.text=a(Object.assign({},d,{text:c})).text}])})(Bt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Bt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,c,u,d,f,g,b=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},V={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),te=!1,ce=0;this.__bidiEngine__={};var H=function(T){var R=T.charCodeAt(),L=R>>8,he=V[L];return he!==void 0?b[256*he+(255&R)]:L===252||L===253?"AL":j.test(L)?"L":L===8?"R":"N"},se=function(T){for(var R,L=0;L<T.length;L++){if((R=H(T.charAt(L)))==="L")return!1;if(R==="R")return!0}return!1},fe=function(T,R,L,he){var Ae,ee,pe,ue,Ce=R[he];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":te=!1;break;case"N":case"AN":break;case"EN":te&&(Ce="AN");break;case"AL":te=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":he<1||he+1>=R.length||(Ae=L[he-1])!=="EN"&&Ae!=="AN"||(ee=R[he+1])!=="EN"&&ee!=="AN"?Ce="N":te&&(ee="AN"),Ce=ee===Ae?ee:"N";break;case"ES":Ce=(Ae=he>0?L[he-1]:"B")==="EN"&&he+1<R.length&&R[he+1]==="EN"?"EN":"N";break;case"ET":if(he>0&&L[he-1]==="EN"){Ce="EN";break}if(te){Ce="N";break}for(pe=he+1,ue=R.length;pe<ue&&R[pe]==="ET";)pe++;Ce=pe<ue&&R[pe]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(ue=R.length,pe=he+1;pe<ue&&R[pe]==="NSM";)pe++;if(pe<ue){var be=T[he],X=be>=1425&&be<=2303||be===64286;if(Ae=R[pe],X&&(Ae==="R"||Ae==="AL")){Ce="R";break}}}Ce=he<1||(Ae=R[he-1])==="B"?"N":L[he-1];break;case"B":te=!1,a=!0,Ce=ce;break;case"S":o=!0,Ce="N"}return Ce},q=function(T,R,L){var he=T.split("");return L&&k(he,L,{hiLevel:ce}),he.reverse(),R&&R.reverse(),he.join("")},k=function(T,R,L){var he,Ae,ee,pe,ue,Ce=-1,be=T.length,X=0,P=[],z=ce?w:A,K=[];for(te=!1,a=!1,o=!1,Ae=0;Ae<be;Ae++)K[Ae]=H(T[Ae]);for(ee=0;ee<be;ee++){if(ue=X,P[ee]=fe(T,K,P,ee),he=240&(X=z[ue][M[P[ee]]]),X&=15,R[ee]=pe=z[X][5],he>0)if(he===16){for(Ae=Ce;Ae<ee;Ae++)R[Ae]=1;Ce=-1}else Ce=-1;if(z[X][6])Ce===-1&&(Ce=ee);else if(Ce>-1){for(Ae=Ce;Ae<ee;Ae++)R[Ae]=pe;Ce=-1}K[ee]==="B"&&(R[ee]=0),L.hiLevel|=pe}o&&(function(re,de,ye){for(var Ee=0;Ee<ye;Ee++)if(re[Ee]==="S"){de[Ee]=ce;for(var Le=Ee-1;Le>=0&&re[Le]==="WS";Le--)de[Le]=ce}})(K,R,be)},D=function(T,R,L,he,Ae){if(!(Ae.hiLevel<T)){if(T===1&&ce===1&&!a)return R.reverse(),void(L&&L.reverse());for(var ee,pe,ue,Ce,be=R.length,X=0;X<be;){if(he[X]>=T){for(ue=X+1;ue<be&&he[ue]>=T;)ue++;for(Ce=X,pe=ue-1;Ce<pe;Ce++,pe--)ee=R[Ce],R[Ce]=R[pe],R[pe]=ee,L&&(ee=L[Ce],L[Ce]=L[pe],L[pe]=ee);X=ue}X++}}},Y=function(T,R,L){var he=T.split(""),Ae={hiLevel:ce};return L||(L=[]),k(he,L,Ae),(function(ee,pe,ue){if(ue.hiLevel!==0&&g)for(var Ce,be=0;be<ee.length;be++)pe[be]===1&&(Ce=U.indexOf(ee[be]))>=0&&(ee[be]=U[Ce+1])})(he,L,Ae),D(2,he,R,L,Ae),D(1,he,R,L,Ae),he.join("")};return this.__bidiEngine__.doBidiReorder=function(T,R,L){if((function(Ae,ee){if(ee)for(var pe=0;pe<Ae.length;pe++)ee[pe]=pe;u===void 0&&(u=se(Ae)),f===void 0&&(f=se(Ae))})(T,R),c||!d||f)if(c&&d&&u^f)ce=u?1:0,T=q(T,R,L);else if(!c&&d&&f)ce=u?1:0,T=Y(T,R,L),T=q(T,R);else if(!c||u||d||f){if(c&&!d&&u^f)T=q(T,R),u?(ce=0,T=Y(T,R,L)):(ce=1,T=Y(T,R,L),T=q(T,R));else if(c&&u&&!d&&f)ce=1,T=Y(T,R,L),T=q(T,R);else if(!c&&!d&&u^f){var he=g;u?(ce=1,T=Y(T,R,L),ce=0,g=!1,T=Y(T,R,L),g=he):(ce=0,T=Y(T,R,L),T=q(T,R),ce=1,g=!1,T=Y(T,R,L),g=he,T=q(T,R))}}else ce=0,T=Y(T,R,L);else ce=u?1:0,T=Y(T,R,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,d=T.isOutputVisual,u=T.isInputRtl,f=T.isOutputRtl,g=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(c=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?c.push([t.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):c.push([t.doBidiReorder(a[u])]);r.text=c}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Bt),Bt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new uu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new V9(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new S9(this.contents),this.head=new N9(this),this.name=new L9(this),this.cmap=new JS(this),this.toUnicode={},this.hhea=new T9(this),this.maxp=new k9(this),this.hmtx=new D9(this),this.post=new I9(this),this.os2=new C9(this),this.loca=new j9(this),this.glyf=new P9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,d,f;for(f=[],c=0,u=(d=this.bbox).length;c<u;c++)e=d[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,c,u;for(c=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Uo,uu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,c,u,d;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*c+256*u+d},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),S9=(function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,c,u,d,f,g,b,A,w,M,V;for(V in w=Object.keys(t).length,d=Math.log(2),b=16*Math.floor(Math.log(w)/d),c=Math.floor(b/d),g=16*w-b,(a=new uu).writeInt(this.scalarType),a.writeShort(w),a.writeShort(b),a.writeShort(c),a.writeShort(g),o=16*w,f=a.pos+o,u=null,M=[],t)for(A=t[V],a.writeString(V),a.writeInt(n(A)),a.writeInt(f),a.writeInt(A.length),M=M.concat(A),V==="head"&&(u=f),f+=A.length;f%4;)M.push(0),f++;return a.write(M),r=2981146554-n(a.data),a.pos=u+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,c;for(t=ZS.call(t);t.length%4;)t.push(0);for(o=new uu(t),a=0,r=0,c=t.length;r<c;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),E9={}.hasOwnProperty,_l=function(n,e){for(var t in e)E9.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Uo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var N9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new uu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Hx=(function(){function n(e,t){var r,a,o,c,u,d,f,g,b,A,w,M,V,U,j,te,ce;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(w=e.readUInt16(),A=w/2,e.pos+=6,o=(function(){var H,se;for(se=[],d=H=0;0<=A?H<A:H>A;d=0<=A?++H:--H)se.push(e.readUInt16());return se})(),e.pos+=2,V=(function(){var H,se;for(se=[],d=H=0;0<=A?H<A:H>A;d=0<=A?++H:--H)se.push(e.readUInt16());return se})(),f=(function(){var H,se;for(se=[],d=H=0;0<=A?H<A:H>A;d=0<=A?++H:--H)se.push(e.readUInt16());return se})(),g=(function(){var H,se;for(se=[],d=H=0;0<=A?H<A:H>A;d=0<=A?++H:--H)se.push(e.readUInt16());return se})(),a=(this.length-e.pos+this.offset)/2,u=(function(){var H,se;for(se=[],d=H=0;0<=a?H<a:H>a;d=0<=a?++H:--H)se.push(e.readUInt16());return se})(),d=j=0,ce=o.length;j<ce;d=++j)for(U=o[d],r=te=M=V[d];M<=U?te<=U:te>=U;r=M<=U?++te:--te)g[d]===0?c=r+f[d]:(c=u[g[d]/2+(r-M)-(A-d)]||0)!==0&&(c+=f[d]),this.codeMap[r]=65535&c}e.pos=b}return n.encode=function(e,t){var r,a,o,c,u,d,f,g,b,A,w,M,V,U,j,te,ce,H,se,fe,q,k,D,Y,T,R,L,he,Ae,ee,pe,ue,Ce,be,X,P,z,K,re,de,ye,Ee,Le,Ue,et,ot;switch(he=new uu,c=Object.keys(e).sort(function(ct,yt){return ct-yt}),t){case"macroman":for(V=0,U=(function(){var ct=[];for(M=0;M<256;++M)ct.push(0);return ct})(),te={0:0},o={},Ae=0,Ce=c.length;Ae<Ce;Ae++)te[Le=e[a=c[Ae]]]==null&&(te[Le]=++V),o[a]={old:e[a],new:te[e[a]]},U[a]=te[e[a]];return he.writeUInt16(1),he.writeUInt16(0),he.writeUInt32(12),he.writeUInt16(0),he.writeUInt16(262),he.writeUInt16(0),he.write(U),{charMap:o,subtable:he.data,maxGlyphID:V+1};case"unicode":for(R=[],b=[],ce=0,te={},r={},j=f=null,ee=0,be=c.length;ee<be;ee++)te[se=e[a=c[ee]]]==null&&(te[se]=++ce),r[a]={old:se,new:te[se]},u=te[se]-a,j!=null&&u===f||(j&&b.push(j),R.push(a),f=u),j=a;for(j&&b.push(j),b.push(65535),R.push(65535),Y=2*(D=R.length),k=2*Math.pow(Math.log(D)/Math.LN2,2),A=Math.log(k/2)/Math.LN2,q=2*D-k,d=[],fe=[],w=[],M=pe=0,X=R.length;pe<X;M=++pe){if(T=R[M],g=b[M],T===65535){d.push(0),fe.push(0);break}if(T-(L=r[T].new)>=32768)for(d.push(0),fe.push(2*(w.length+D-M)),a=ue=T;T<=g?ue<=g:ue>=g;a=T<=g?++ue:--ue)w.push(r[a].new);else d.push(L-T),fe.push(0)}for(he.writeUInt16(3),he.writeUInt16(1),he.writeUInt32(12),he.writeUInt16(4),he.writeUInt16(16+8*D+2*w.length),he.writeUInt16(0),he.writeUInt16(Y),he.writeUInt16(k),he.writeUInt16(A),he.writeUInt16(q),ye=0,P=b.length;ye<P;ye++)a=b[ye],he.writeUInt16(a);for(he.writeUInt16(0),Ee=0,z=R.length;Ee<z;Ee++)a=R[Ee],he.writeUInt16(a);for(Ue=0,K=d.length;Ue<K;Ue++)u=d[Ue],he.writeUInt16(u);for(et=0,re=fe.length;et<re;et++)H=fe[et],he.writeUInt16(H);for(ot=0,de=w.length;ot<de;ot++)V=w[ot],he.writeUInt16(V);return{charMap:r,subtable:he.data,maxGlyphID:ce+1}}},n})(),JS=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new Hx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=Hx.encode(e,t),(a=new uu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),T9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),C9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),I9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(e.readUInt32());return d}).call(this)}},n})(),R9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},L9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,o,c,u,d,f,g,b,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},o=g=0,b=r.length;g<b;o=++g)a=r[o],e.pos=a.offset,f=e.readString(a.length),c=new R9(f,a),d[A=a.nameID]==null&&(d[A]=[]),d[a.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n})(),k9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),D9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,o,c,u,d;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,g;for(g=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)g.push(e.readInt16());return g})(),this.widths=(function(){var f,g,b,A;for(A=[],f=0,g=(b=this.metrics).length;f<g;f++)o=b[f],A.push(o.advance);return A}).call(this),r=this.widths[this.widths.length-1],d=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)d.push(this.widths.push(r));return d},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),ZS=[].slice,P9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,o,c,u,d,f,g,b;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(u=new uu(t.read(a))).readShort(),f=u.readShort(),b=u.readShort(),d=u.readShort(),g=u.readShort(),this.cache[e]=c===-1?new M9(u,f,b,d,g):new O9(u,c,f,b,d,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,o,c,u,d;for(c=[],o=[],u=0,d=t.length;u<d;u++)a=e[t[u]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),O9=(function(){function n(e,t,r,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),M9=(function(){function n(e,t,r,a,o){var c,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new uu(ZS.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),j9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<t.length&&t[o]==c){++o,r[c]=a;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(a+=d)}for(var f=new Array(4*r.length),g=0;g<r.length;++g)f[4*g+3]=255&r[g],f[4*g+2]=(65280&r[g])>>8,f[4*g+1]=(16711680&r[g])>>16,f[4*g]=(4278190080&r[g])>>24;return f},n})(),V9=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,c,u,d;for(a={},c=0,u=e.length;c<u;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))r=d[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,c,u,d,f,g,b,A,w,M,V,U,j;for(a in r=JS.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),w={0:0},j=r.charMap)w[(d=j[a]).old]=d.new;for(M in A=r.maxGlyphID,c)M in w||(w[M]=A++);return g=(function(te){var ce,H;for(ce in H={},te)H[te[ce]]=ce;return H})(w),b=Object.keys(g).sort(function(te,ce){return te-ce}),V=(function(){var te,ce,H;for(H=[],te=0,ce=b.length;te<ce;te++)u=b[te],H.push(g[u]);return H})(),o=this.font.glyf.encode(c,V,w),f=this.font.loca.encode(o.offsets,V),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n})();Bt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,c;if(Array.isArray(t))return"["+(function(){var u,d,f;for(f=[],u=0,d=t.length;u<d;u++)r=t[u],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function eE(n,e,t,r,a){r=r||{};var o=1.15,c=a.internal.scaleFactor,u=a.internal.getFontSize()/c,d=a.getLineHeightFactor?a.getLineHeightFactor():o,f=u*d,g=/\r\n|\r|\n/g,b="",A=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(b=typeof n=="string"?n.split(g):n,A=b.length||1),t+=u*(2-o),r.valign==="middle"?t-=A/2*f:r.valign==="bottom"&&(t-=A*f),r.halign==="center"||r.halign==="right"){var w=u;if(r.halign==="center"&&(w*=.5),b&&A>=1){for(var M=0;M<b.length;M++)a.text(b[M],e-a.getStringUnitWidth(b[M])*w,t),t+=f;return a}e-=a.getStringUnitWidth(n)*w}return r.halign==="justify"?a.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var Gx={},of=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Gx=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,a,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,d=c.fontName;if(e.font&&(d=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[d];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(d,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=n.unifyColor(e.textColor),g&&(a=this.jsPDFDocument).setTextColor.apply(a,g),g=n.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,a,o){return this.jsPDFDocument.rect(e,t,r,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Gx||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),Q2=function(n,e){return Q2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},Q2(n,e)};function tE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nE=(function(n){tE(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function F9(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function U9(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function lg(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],a=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return a}function rE(n,e,t,r){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var c=iE(a,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,c)}function iE(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Gg(n,e){var t,r,a,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function sE(n,e){var t=Gg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function B9(n,e,t,r,a){var o={},c=1.3333333333333333,u=t2(e,function(ce){return a.getComputedStyle(ce).backgroundColor});u!=null&&(o.fillColor=u);var d=t2(e,function(ce){return a.getComputedStyle(ce).color});d!=null&&(o.textColor=d);var f=q9(r,t);f&&(o.cellPadding=f);var g="borderTopColor",b=c*t,A=r.borderTopWidth;if(r.borderBottomWidth===A&&r.borderRightWidth===A&&r.borderLeftWidth===A){var w=(parseFloat(A)||0)/b;w&&(o.lineWidth=w)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/b,right:(parseFloat(r.borderRightWidth)||0)/b,bottom:(parseFloat(r.borderBottomWidth)||0)/b,left:(parseFloat(r.borderLeftWidth)||0)/b},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var M=t2(e,function(ce){return a.getComputedStyle(ce)[g]});M!=null&&(o.lineColor=M);var V=["left","right","center","justify"];V.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),V=["middle","bottom","top"],V.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var U=parseInt(r.fontSize||"");isNaN(U)||(o.fontSize=U/c);var j=z9(r);j&&(o.fontStyle=j);var te=(r.fontFamily||"").toLowerCase();return n.indexOf(te)!==-1&&(o.font=te),o}function z9(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function t2(n,e){var t=aE(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function aE(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:aE(n.parentElement,e):t}function q9(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(u){return parseInt(u||"0")/r}),c=Gg(o,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function oE(n,e,t,r,a){var o,c;r===void 0&&(r=!1),a===void 0&&(a=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var d=Object.keys(n.getFontList()),f=n.scaleFactor(),g=[],b=[],A=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:g,body:b,foot:A};for(var w=0;w<u.rows.length;w++){var M=u.rows[w],V=(c=(o=M?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),U=H9(d,f,t,M,r,a);U&&(V==="thead"?g.push(U):V==="tfoot"?A.push(U):b.push(U))}return{head:g,body:b,foot:A}}function H9(n,e,t,r,a,o){for(var c=new nE(r),u=0;u<r.cells.length;u++){var d=r.cells[u],f=t.getComputedStyle(d);if(a||f.display!=="none"){var g=void 0;o&&(g=B9(n,d,e,f,t)),c.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:g,_element:d,content:G9(d)})}}var b=t.getComputedStyle(r);if(c.length>0&&(a||b.display!=="none"))return c}function G9(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Y9(n,e,t){for(var r=0,a=[n,e,t];r<a.length;r++){var o=a[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function ec(n,e,t,r,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])}return o}function lE(n,e){var t=new of(n),r=t.getDocumentOptions(),a=t.getGlobalOptions();Y9(a,r,e);var o=ec({},a,r,e),c;typeof window<"u"&&(c=window);var u=W9(a,r,e),d=K9(a,r,e),f=$9(t,o),g=Q9(t,o,c);return{id:e.tableId,content:g,hooks:d,styles:u,settings:f}}function W9(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(d){if(d==="columnStyles"){var f=n[d],g=e[d],b=t[d];r.columnStyles=ec({},f,g,b)}else{var A=[n,e,t],w=A.map(function(M){return M[d]||{}});r[d]=ec({},w[0],w[1],w[2])}},o=0,c=Object.keys(r);o<c.length;o++){var u=c[o];a(u)}return r}function K9(n,e,t){for(var r=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=r;o<c.length;o++){var u=c[o];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function $9(n,e){var t,r,a,o,c,u,d,f,g,b,A,w,M=Gg(e.margin,40/n.scaleFactor()),V=(t=X9(n,e.startY))!==null&&t!==void 0?t:M.top,U;e.showFoot===!0?U="everyPage":e.showFoot===!1?U="never":U=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var te=(o=e.useCss)!==null&&o!==void 0?o:!1,ce=e.theme||(te?"plain":"striped"),H=!!e.horizontalPageBreak,se=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:te,theme:ce,startY:V,margin:M,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:j,showFoot:U,tableLineWidth:(b=e.tableLineWidth)!==null&&b!==void 0?b:0,tableLineColor:(A=e.tableLineColor)!==null&&A!==void 0?A:200,horizontalPageBreak:H,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(w=e.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function X9(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),a=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function Q9(n,e,t){var r=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var u=oE(n,e.html,t,c,e.useCss)||{};r=u.head||r,a=u.body||r,o=u.foot||r}else console.error("Cannot parse html in non browser environment")}var d=e.columns||J9(r,a,o);return{columns:d,head:r,body:a,foot:o}}function J9(n,e,t){var r=n[0]||e[0]||t[0]||[],a=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,u;Array.isArray(r)?u=r[parseInt(o)]:u=r[o],typeof u=="object"&&!Array.isArray(u)&&(c=u?.colSpan||1);for(var d=0;d<c;d++){var f=void 0;Array.isArray(r)?f=a.length:f=o+(d>0?"_".concat(d):"");var g={dataKey:f};a.push(g)}}),a}var J2=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),Z9=(function(n){tE(e,n);function e(t,r,a,o,c,u){var d=n.call(this,t,r,u)||this;return d.cell=a,d.row=o,d.column=c,d.section=o.section,d}return e})(J2),eM=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,a,o,c){for(var u=0,d=t;u<d.length;u++){var f=d[u],g=new Z9(e,this,r,a,o,c),b=f(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],b)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var o=a[r];o(new J2(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var o=a[r];o(new J2(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),cE=(function(){function n(e,t,r,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof nE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,a){var o;return Math.max(r,((o=t.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var a=t.cells[r.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(a,o){var c=r.cells[o.index];if(!c)return 0;var u=t.getLineHeight(c.styles.fontSize),d=c.padding("vertical"),f=d+u;return f>a?f:a},0)},n})(),uE=(function(){function n(e,t,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,o=r*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Gg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),tM=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,a=e.allRows();r<a.length;r++){var o=a[r],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function nM(n,e){rM(n,e);var t=[],r=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var a=e.getWidth(n.pageSize().width)-r;a&&(a=Z2(t,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=Z2(t,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),sM(e),aM(e,n),iM(e)}function rM(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,a=sE(n,e);e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var d=u[c],f=o.cells[d.index];if(f){var g=e.hooks.didParseCell;e.callCellHooks(n,g,f,o,d,null);var b=f.padding("horizontal");f.contentWidth=lg(f.text,f.styles,n)+b;var A=lg(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=A+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var w=10/t;f.minWidth=f.styles.minCellWidth||w,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var d=u[c],f=o.cells[d.index];if(f&&f.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,f.wrappedWidth),d.minWidth=Math.max(d.minWidth,f.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,f.minReadableWidth);else{var g=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},b=g.cellWidth||g.minCellWidth;b&&typeof b=="number"&&(d.minWidth=b,d.wrappedWidth=b)}f&&(f.colSpan>1&&!d.minWidth&&(d.minWidth=f.minWidth),f.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=f.minWidth))}})}function Z2(n,e,t){for(var r=e,a=n.reduce(function(w,M){return w+M.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],u=c.wrappedWidth/a,d=r*u,f=c.width+d,g=t(c),b=f<g?g:f;e-=b-c.width,c.width=b}if(e=Math.round(e*1e10)/1e10,e){var A=n.filter(function(w){return e<0?w.width>t(w):!0});A.length&&(e=Z2(A,e,t))}return e}function iM(n){for(var e={},t=1,r=n.allRows(),a=0;a<r.length;a++)for(var o=r[a],c=0,u=n.columns;c<u.length;c++){var d=u[c],f=e[d.index];if(t>1)t--,delete o.cells[d.index];else if(f)f.cell.height+=o.height,t=f.cell.colSpan,delete o.cells[d.index],f.left--,f.left<=1&&delete e[d.index];else{var g=o.cells[d.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var b=r.length-a,A=g.rowSpan>b?b:g.rowSpan;e[d.index]={cell:g,left:A,row:o}}}}}function sM(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],a=null,o=0,c=0,u=0;u<n.columns.length;u++){var d=n.columns[u];if(c-=1,c>1&&n.columns[u+1])o+=d.width,delete r.cells[d.index];else if(a){var f=a;delete r.cells[d.index],a=null,f.width=d.width+o}else{var f=r.cells[d.index];if(!f)continue;if(c=f.colSpan,o=0,f.colSpan>1){a=f,o+=d.width;continue}f.width=d.width+o}}}function aM(n,e){for(var t={count:0,height:0},r=0,a=n.allRows();r<a.length;r++){for(var o=a[r],c=0,u=n.columns;c<u.length;c++){var d=u[c],f=o.cells[d.index];if(f){e.applyStyles(f.styles,!0);var g=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,g+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=Yx(f.text,g,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=Yx(f.text,g,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var b=f.styles.overflow(f.text,g);typeof b=="string"?f.text=[b]:f.text=b}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var A=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<A*f.rowSpan?t={height:A,count:f.rowSpan}:t&&t.count>0&&t.height>A&&(A=t.height),A>o.height&&(o.height=A)}}t.count--}}function Yx(n,e,t,r,a){return n.map(function(o){return oM(o,e,t,r,a)})}function oM(n,e,t,r,a){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=lg(n,t,r))return n;for(;e<lg(n+a,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function hE(n,e){var t=new of(n),r=lM(e,t.scaleFactor()),a=new eM(e,r);return nM(t,a),t.applyStyles(t.userStyles),a}function lM(n,e){var t=n.content,r=uM(t.columns);if(t.head.length===0){var a=Wx(r,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=Wx(r,"foot");a&&t.foot.push(a)}var o=n.settings.theme,c=n.styles;return{columns:r,head:n2("head",t.head,r,c,o,e),body:n2("body",t.body,r,c,o,e),foot:n2("foot",t.foot,r,c,o,e)}}function n2(n,e,t,r,a,o){var c={},u=e.map(function(d,f){for(var g=0,b={},A=0,w=0,M=0,V=t;M<V.length;M++){var U=V[M];if(c[U.index]==null||c[U.index].left===0)if(w===0){var j=void 0;Array.isArray(d)?j=d[U.index-A-g]:j=d[U.dataKey];var te={};typeof j=="object"&&!Array.isArray(j)&&(te=j?.styles||{});var ce=hM(n,U,f,a,r,o,te),H=new uE(j,ce,n);b[U.dataKey]=H,b[U.index]=H,w=H.colSpan-1,c[U.index]={left:H.rowSpan-1,times:w}}else w--,A++;else c[U.index].left--,w=c[U.index].times,g++}return new cE(d,f,n,b)});return u}function Wx(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var a=cM(e,r.raw);a!=null&&(t[r.dataKey]=a)}}),Object.keys(t).length>0?t:null}function cM(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function uM(n){return n.map(function(e,t){var r,a;return typeof e=="object"?a=(r=e.dataKey)!==null&&r!==void 0?r:t:a=t,new tM(a,e,t)})}function hM(n,e,t,r,a,o,c){var u=U9(r),d;n==="head"?d=a.headStyles:n==="body"?d=a.bodyStyles:n==="foot"&&(d=a.footStyles);var f=ec({},u.table,u[n],a.styles,d),g=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},b=n==="body"?g:{},A=n==="body"&&t%2===0?ec({},u.alternateRow,a.alternateRowStyles):{},w=F9(o),M=ec({},w,f,A,b);return ec(M,c)}function fM(n,e,t){var r;t===void 0&&(t={});var a=sE(n,e),o=new Map,c=[],u=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(A){var w=e.columns.find(function(M){return M.dataKey===A||M.index===A});w&&!o.has(w.index)&&(o.set(w.index,!0),c.push(w.index),u.push(e.columns[w.index]),a-=w.wrappedWidth)});for(var f=!0,g=(r=t?.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(o.has(g)){g++;continue}var b=e.columns[g].wrappedWidth;if(f||a>=b)f=!1,c.push(g),u.push(e.columns[g]),a-=b;else break;g++}return{colIndexes:c,columns:u,lastIndex:g-1}}function dM(n,e){for(var t=[],r=0;r<e.columns.length;r++){var a=fM(n,e,{start:r});a.columns.length&&(t.push(a),r=a.lastIndex)}return t}function fE(n,e){var t=e.settings,r=t.startY,a=t.margin,o={x:a.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+a.bottom+c;if(t.pageBreak==="avoid"){var d=e.body,f=d.reduce(function(A,w){return A+w.height},0);u+=f}var g=new of(n);(t.pageBreak==="always"||t.startY!=null&&u>g.pageSize().height)&&(pE(g),o.y=a.top),e.callWillDrawPageHooks(g,o);var b=ec({},o);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?pM(g,e,b,o):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(A){return ac(g,e,A,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(A,w){var M=w===e.body.length-1;cg(g,e,A,M,b,o,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(A){return ac(g,e,A,o,e.columns)})),rE(g,e,b,o),e.callEndPageHooks(g,o),e.finalY=o.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function pM(n,e,t,r){var a=dM(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,g){n.applyStyles(n.userStyles),g>0?Pd(n,e,t,r,f.columns,!0):Kx(n,e,r,f.columns),mM(n,e,t,r,f.columns),r2(n,e,r,f.columns)});else for(var c=-1,u=a[0],d=function(){var f=c;if(u){n.applyStyles(n.userStyles);var g=u.columns;c>=0?Pd(n,e,t,r,g,!0):Kx(n,e,r,g),f=$x(n,e,c+1,r,g),r2(n,e,r,g)}var b=f-c;a.slice(1).forEach(function(A){n.applyStyles(n.userStyles),Pd(n,e,t,r,A.columns,!0),$x(n,e,c+1,r,A.columns,b),r2(n,e,r,A.columns)}),c=f};c<e.body.length-1;)d()}function Kx(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return ac(n,e,o,t,r)})}function mM(n,e,t,r,a){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var u=c===e.body.length-1;cg(n,e,o,u,t,r,a)})}function $x(n,e,t,r,a,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),u=-1;return e.body.slice(t,c).forEach(function(d,f){var g=t+f===e.body.length-1,b=dE(n,e,g,r);d.canEntireRowFit(b,a)&&(ac(n,e,d,r,a),u=t+f)}),u}function r2(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return ac(n,e,o,t,r)})}function gM(n,e,t){var r=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((e-a)/r);return Math.max(0,o)}function yM(n,e,t,r){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,u=t.columns;c<u.length;c++){var d=u[c],f=n.cells[d.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var g=new uE(f.raw,f.styles,f.section);g=ec(g,f),g.text=[];var b=gM(f,e,r);f.text.length>b&&(g.text=f.text.splice(b,f.text.length));var A=r.scaleFactor(),w=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(A,w),f.contentHeight>=e&&(f.contentHeight=e,g.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),g.contentHeight=g.getContentHeight(A,w),g.contentHeight>o&&(o=g.contentHeight),a[d.index]=g}}var M=new cE(n.raw,-1,n.section,a,!0);M.height=o;for(var V=0,U=t.columns;V<U.length;V++){var d=U[V],g=M.cells[d.index];g&&(g.height=M.height);var f=n.cells[d.index];f&&(f.height=n.height)}return M}function vM(n,e,t,r){var a=n.pageSize().height,o=r.settings.margin,c=o.top+o.bottom,u=a-c;e.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var d=e.getMinimumRowHeight(r.columns,n),f=d<t;if(d>u)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var g=e.hasRowSpan(r.columns),b=e.getMaxCellHeight(r.columns)>u;return b?(g&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function cg(n,e,t,r,a,o,c){var u=dE(n,e,r,o);if(t.canEntireRowFit(u,c))ac(n,e,t,o,c);else if(vM(n,t,u,e)){var d=yM(t,u,e,n);ac(n,e,t,o,c),Pd(n,e,a,o,c),cg(n,e,d,r,a,o,c)}else Pd(n,e,a,o,c),cg(n,e,t,r,a,o,c)}function ac(n,e,t,r,a){r.x=e.settings.margin.left;for(var o=0,c=a;o<c.length;o++){var u=c[o],d=t.cells[u.index];if(!d){r.x+=u.width;continue}n.applyStyles(d.styles),d.x=r.x,d.y=r.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,d,t,u,r);if(f===!1){r.x+=u.width;continue}bM(n,d,r);var g=d.getTextPos();eE(d.text,g.x,g.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,d,t,u,r),r.x+=u.width}r.y+=t.height}function bM(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=iE(r.lineWidth,r.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),_M(n,e,t,r.lineWidth))}function _M(n,e,t,r){var a,o,c,u;r.top&&(a=t.x,o=t.y,c=t.x+e.width,u=t.y,r.right&&(c+=.5*r.right),r.left&&(a-=.5*r.left),d(r.top,a,o,c,u)),r.bottom&&(a=t.x,o=t.y+e.height,c=t.x+e.width,u=t.y+e.height,r.right&&(c+=.5*r.right),r.left&&(a-=.5*r.left),d(r.bottom,a,o,c,u)),r.left&&(a=t.x,o=t.y,c=t.x,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),d(r.left,a,o,c,u)),r.right&&(a=t.x+e.width,o=t.y,c=t.x+e.width,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),d(r.right,a,o,c,u));function d(f,g,b,A,w){n.getDocument().setLineWidth(f),n.getDocument().line(g,b,A,w,"S")}}function dE(n,e,t,r){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-a}function Pd(n,e,t,r,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(u){return ac(n,e,u,r,a)}),e.callEndPageHooks(n,r);var c=e.settings.margin;rE(n,e,t,r),pE(n),e.pageNumber++,r.x=c.left,r.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return ac(n,e,u,r,a)}),n.applyStyles(n.userStyles))}function pE(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function wM(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=lE(this,r),o=hE(this,a);return fE(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,a){eE(e,t,r,a,this)},n.API.autoTableSetDefaults=function(e){return of.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){of.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new of(this),o=oE(a,e,window,t,!1),c=o.head,u=o.body,d=((r=c[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:d,rows:u,data:u}}}var i2;function xM(n,e){var t=lE(n,e),r=hE(n,t);fE(n,r)}try{if(typeof window<"u"&&window){var Xx=window,Qx=Xx.jsPDF||((i2=Xx.jspdf)===null||i2===void 0?void 0:i2.jsPDF);Qx&&wM(Qx)}}catch(n){console.error("Could not apply autoTable plugin",n)}const mE=n=>{try{const e=new Bt;e.setFontSize(18),e.text("SISTEMA DE CONTROL DE SEDE",105,15,{align:"center"}),e.setFontSize(10),e.setFontSize(11),e.text(`Boleta de Venta: ${n.id.slice(0,8).toUpperCase()}`,14,40);const t=new Date(n.createdAt);e.text(`Fecha: ${t.toLocaleDateString()} ${t.toLocaleTimeString()}`,14,45),e.text("Cliente:",14,55),e.setFontSize(10),e.text(`${n.customer.name}`,35,55),e.text(`${n.customer.address}`,35,60),n.customer.district&&e.text(`${n.customer.district}, ${n.customer.department||""}`,35,65);const r=n.items.map(f=>[`${f.productName} 
${f.color} / ${f.size}`,f.quantity,`S/ ${f.unitPrice.toFixed(2)}`,`S/ ${(f.unitPrice*f.quantity).toFixed(2)}`]);xM(e,{startY:75,head:[["Descripcin","Cant.","P. Unit","Importe"]],body:r,theme:"grid",headStyles:{fillColor:[40,40,40],textColor:255},styles:{fontSize:9,cellPadding:2},columnStyles:{0:{cellWidth:80},1:{halign:"center"},2:{halign:"right"},3:{halign:"right"}},didDrawPage:()=>{}});const o=(e.lastAutoTable?.finalY||150)+10;e.setFontSize(10),e.text("Subtotal:",140,o,{align:"right"}),e.text(`S/ ${n.subtotal.toFixed(2)}`,190,o,{align:"right"});let c=o;if(n.globalDiscount>0||n.items.some(f=>f.discount>0)){c+=5;const f=n.subtotal+n.shippingCost-n.total;e.text("Descuentos:",140,c,{align:"right"}),e.text(`- S/ ${f.toFixed(2)}`,190,c,{align:"right"})}const u=c+5;e.text("Envo:",140,u,{align:"right"}),e.text(`S/ ${n.shippingCost.toFixed(2)}`,190,u,{align:"right"});const d=u+10;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("TOTAL A PAGAR:",140,d,{align:"right"}),e.text(`S/ ${n.total.toFixed(2)}`,190,d,{align:"right"}),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("Gracias por su compra!",105,d+20,{align:"center"}),e.save(`boleta_${n.id.slice(0,8)}.pdf`)}catch(e){throw console.error("PDF Generation Error:",e),e}};function gE({isOpen:n,onClose:e,onConfirm:t,title:r,message:a,confirmText:o="Aceptar",cancelText:c="Cancelar",variant:u="info"}){return n?N.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:N.jsx("div",{className:"bg-card w-full max-w-md rounded-xl shadow-2xl border border-border overflow-hidden animate-in zoom-in-95 duration-200",children:N.jsxs("div",{className:"p-6 relative",children:[N.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground transition-colors",children:N.jsx(Dm,{className:"h-5 w-5"})}),N.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[N.jsx("div",{className:`p-3 rounded-full ${u==="danger"?"bg-red-100 text-red-600":"bg-primary/10 text-primary"}`,children:u==="danger"?N.jsx(ny,{className:"h-8 w-8"}):N.jsx(s2,{className:"h-8 w-8"})}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("h3",{className:"text-xl font-bold",children:r}),N.jsx("p",{className:"text-muted-foreground text-sm",children:a})]}),N.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[N.jsx(Pr,{variant:"outline",className:"flex-1",onClick:e,children:c}),N.jsx(Pr,{variant:u==="danger"?"destructive":"default",className:"flex-1",onClick:()=>{t(),e()},children:o})]})]})]})})}):null}function AM(){const n=vf(be=>be.products),e=zg(),{districts:t,globalShippingBase:r}=Jy(),[a,o]=Tt.useState(""),[c,u]=Tt.useState([]),[d,f]=Tt.useState(""),[g,b]=Tt.useState(!1),[A,w]=Tt.useState(null),[M,V]=Tt.useState("ENCUENTRO"),[U,j]=Tt.useState(!1),[te,ce]=Tt.useState(""),[H,se]=Tt.useState(""),[fe,q]=Tt.useState("LIMA"),[k,D]=Tt.useState(""),[Y,T]=Tt.useState(r.toString()),R=t.filter(be=>be.department===fe),[L,he]=Tt.useState({subtotal:0,discountTotal:0,shippingCost:0,total:0,appliedPromotions:[]});Tt.useEffect(()=>{if(M==="ENCUENTRO")T("0");else if(M==="PUERTA"&&k){const be=t.find(X=>X.name===k);be&&(be.allowDoorDelivery?(j(!1),T(be.basePrice.toString())):j(!0))}},[k,M,t]),Tt.useEffect(()=>{const be=parseFloat(d)||0,X=parseFloat(Y)||0,P=e.calculateCartTotal(c,be,X);he(P)},[c,d,Y,e]);const Ae=n.filter(be=>be.name.toLowerCase().includes(a.toLowerCase())||be.baseCode.toLowerCase().includes(a.toLowerCase())),ee=(be,X)=>{if((c.find(z=>z.variantId===be.id)?.quantity||0)+1>be.stock){dn.error(`Stock insuficiente! Solo quedan ${be.stock} unidades.`);return}u(z=>z.find(re=>re.variantId===be.id)?z.map(re=>re.variantId===be.id?{...re,quantity:re.quantity+1}:re):[...z,{variantId:be.id,sku:be.sku,productName:X.name,collection:X.collection,type:X.type,gender:X.gender,color:be.color,size:be.size,quantity:1,unitPrice:be.priceRetail,discount:0,subtotal:be.priceRetail}]),dn.success("Producto agregado al carrito")},pe=be=>{u(X=>X.filter(P=>P.variantId!==be))},ue=(be,X)=>{if(X>0){const P=c.find(re=>re.variantId===be),K=n.find(re=>re.variants.some(de=>de.id===be))?.variants.find(re=>re.id===be);if(P&&K&&P.quantity+X>K.stock){dn.error(`Stock insuficiente! Solo quedan ${K.stock} unidades.`);return}}u(P=>P.map(z=>{if(z.variantId===be){const K=z.quantity+X;return K>0?{...z,quantity:K}:z}return z}))},Ce=async()=>{if(c.length===0)return;if(!te.trim()){alert("Nombre del Cliente es obligatorio");return}if(!H.trim()){alert("Direccin de Entrega es obligatoria");return}if(!k){alert("Debe seleccionar un Distrito");return}const be={name:te,address:H,department:fe,district:k},X={id:crypto.randomUUID(),customer:be,items:c,subtotal:L.subtotal,globalDiscount:L.discountTotal,shippingCost:L.shippingCost,total:L.total,status:"ADELANTADO",paymentStatus:"PENDIENTE",promotionsApplied:L.appliedPromotions,createdAt:Date.now(),updatedAt:Date.now()};try{await e.addSale(X),w(X),b(!0),u([]),ce(""),se(""),f(""),D("")}catch(P){console.error(P)}};return N.jsxs("div",{className:"h-full grid grid-cols-12 gap-6 p-1",children:[N.jsxs("div",{className:"col-span-8 flex flex-col gap-4 h-full",children:[N.jsxs("div",{className:"relative",children:[N.jsx(hg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),N.jsx(qr,{placeholder:"Buscar producto por nombre o SKU...",className:"pl-10 h-12 text-lg bg-card",value:a,onChange:be=>o(be.target.value)})]}),N.jsx("div",{className:"flex-1 overflow-y-auto pr-2 grid grid-cols-3 gap-4 pb-20",children:Ae.map(be=>N.jsxs("div",{className:"bg-card border border-border rounded-xl p-4 hover:border-primary/50 transition-all cursor-pointer group shadow-sm",children:[N.jsxs("div",{className:"flex justify-between items-start mb-2",children:[N.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-accent rounded text-muted-foreground",children:be.collection}),N.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:be.baseCode})]}),N.jsx("h4",{className:"font-semibold leading-tight line-clamp-2 mb-2 group-hover:text-primary transition-colors",children:be.name}),N.jsx("div",{className:"space-y-2 mt-4",children:be.variants.map(X=>{const P=c.find(re=>re.variantId===X.id)?.quantity||0,z=X.stock===0,K=X.stock-P;return N.jsxs("button",{disabled:z,className:`w-full flex justify-between items-center text-xs p-2 rounded transition-colors border border-transparent
                                            ${z?"bg-muted opacity-50 cursor-not-allowed":"bg-muted/50 hover:bg-primary hover:text-primary-foreground"}
                                        `,onClick:()=>ee(X,be),children:[N.jsxs("div",{className:"flex gap-2",children:[N.jsx("span",{children:X.color}),N.jsx("span",{className:"font-mono opacity-80",children:X.size})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[K<=3&&!z&&N.jsxs("span",{className:"text-[10px] font-bold text-orange-500",children:["Quedan ",K,"!"]}),z&&N.jsx("span",{className:"text-[10px] font-bold text-destructive",children:"AGOTADO"}),N.jsxs("div",{className:"font-bold",children:["$",X.priceRetail]})]})]},X.id)})})]},be.id))})]}),N.jsxs("div",{className:"col-span-4 bg-card border border-border rounded-xl h-full flex flex-col shadow-xl overflow-hidden",children:[N.jsx("div",{className:"p-4 border-b border-border bg-muted/30",children:N.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[N.jsx(Pb,{className:"h-5 w-5"})," Carrito de Venta"]})}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:c.length===0?N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground opacity-50",children:[N.jsx(Pb,{className:"h-16 w-16 mb-4"}),N.jsx("p",{children:"Carrito vaco"})]}):c.map(be=>N.jsxs("div",{className:"flex flex-col p-3 bg-accent/20 rounded-lg border border-border/50",children:[N.jsxs("div",{className:"flex justify-between items-start mb-1",children:[N.jsx("span",{className:"font-medium text-sm line-clamp-1",children:be.productName}),N.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:be.sku})]}),N.jsxs("div",{className:"flex justify-between items-center mt-2",children:[N.jsxs("div",{className:"text-xs text-muted-foreground",children:[be.color," / ",be.size]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("div",{className:"flex items-center gap-1 bg-background rounded border border-border",children:[N.jsx("button",{onClick:()=>ue(be.variantId,-1),className:"p-1 hover:bg-accent",children:N.jsx(pN,{className:"h-3 w-3"})}),N.jsx("span",{className:"text-xs font-mono w-6 text-center",children:be.quantity}),N.jsx("button",{onClick:()=>ue(be.variantId,1),className:"p-1 hover:bg-accent",children:N.jsx(ug,{className:"h-3 w-3"})})]}),N.jsxs("span",{className:"font-bold text-sm min-w-[3rem] text-right",children:["$",(be.unitPrice*be.quantity).toFixed(2)]}),N.jsx("button",{onClick:()=>pe(be.variantId),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:N.jsx(ty,{className:"h-4 w-4"})})]})]})]},be.variantId))}),N.jsxs("div",{className:"p-4 bg-muted/10 border-t border-border space-y-3 text-sm",children:[N.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-1",children:[N.jsx(ry,{className:"h-3 w-3"})," Datos de Envo (Obligatorios)"]}),N.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 p-1 bg-muted rounded-md border border-border",children:[N.jsx("button",{className:`text-xs font-medium py-1.5 rounded-sm transition-all ${M==="PUERTA"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>V("PUERTA"),children:"A Puerta "}),N.jsx("button",{className:`text-xs font-medium py-1.5 rounded-sm transition-all ${M==="ENCUENTRO"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>V("ENCUENTRO"),children:"Punto Encuentro "})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[N.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none",value:fe,onChange:be=>{q(be.target.value),D("")},children:[N.jsx("option",{value:"LIMA",children:"LIMA"}),N.jsx("option",{value:"CALLAO",children:"CALLAO"})]}),N.jsxs("select",{className:`flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none ${U?"border-destructive":""}`,value:k,onChange:be=>D(be.target.value),children:[N.jsx("option",{value:"",children:"Distrito..."}),R.map(be=>N.jsxs("option",{value:be.name,children:[be.name," ",!be.allowDoorDelivery&&M==="PUERTA"?"(No Cob.)":""]},be.name))]})]}),M==="PUERTA"&&k&&(()=>{const be=t.find(X=>X.name===k);return be&&!be.allowDoorDelivery?N.jsxs("div",{className:"text-[10px] text-destructive font-bold bg-destructive/10 p-2 rounded flex items-center gap-2",children:[N.jsx(ny,{className:"h-3 w-3"}),"No hay cobertura a puerta en ",k,"."]}):null})(),N.jsx(qr,{placeholder:M==="PUERTA"?"Direccin Exacta *":"Punto de Encuentro (Estacin, CC...) *",value:H,onChange:be=>se(be.target.value),className:"bg-background h-9"}),N.jsx(qr,{placeholder:"Nombre Completo *",value:te,onChange:be=>ce(be.target.value),className:"bg-background h-9"})]}),N.jsxs("div",{className:"p-6 bg-card border-t-2 border-primary/20 space-y-3 shadow-inner",children:[N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{className:"relative",children:[N.jsx(Od,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),N.jsx(qr,{placeholder:"Desc. Global",className:"bg-background pl-9 h-9",type:"number",value:d,onChange:be=>f(be.target.value)})]}),N.jsxs("div",{className:"relative",children:[N.jsx(s4,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),N.jsx(qr,{placeholder:"Envo",className:"bg-background pl-9 h-9",type:"number",value:Y,onChange:be=>T(be.target.value)})]})]}),N.jsxs("div",{className:"space-y-1 text-sm pt-2",children:[N.jsxs("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),N.jsxs("span",{children:["S/ ",L.subtotal.toFixed(2)]})]}),N.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[N.jsx("span",{children:"Envo"}),N.jsxs("span",{children:["+S/ ",L.shippingCost.toFixed(2)]})]}),L.discountTotal>0&&N.jsxs("div",{className:"flex justify-between text-emerald-600 font-medium",children:[N.jsxs("span",{children:["Descuentos ",L.appliedPromotions.length>0&&`(${L.appliedPromotions.length} reglas)`]}),N.jsxs("span",{children:["-S/ ",L.discountTotal.toFixed(2)]})]}),N.jsxs("div",{className:"flex justify-between text-xl font-black pt-2 border-t border-border mt-2",children:[N.jsx("span",{children:"Total"}),N.jsxs("span",{children:["S/ ",L.total.toFixed(2)]})]})]}),N.jsxs(Pr,{size:"lg",className:"w-full shadow-lg shadow-primary/20 text-lg h-12",onClick:Ce,disabled:c.length===0,children:["Cobrar S/ ",L.total.toFixed(2)]})]})]}),N.jsx(gE,{isOpen:g,onClose:()=>b(!1),onConfirm:()=>{if(A)try{mE(A),dn.success("Boleta generada correctamente")}catch(be){console.error(be),dn.error("Error al generar la boleta")}},title:"Venta Registrada Exitosamente",message:"Desea generar y descargar la boleta de venta ahora?",confirmText:"S, Generar Boleta",cancelText:"No por ahora",variant:"success"})]})}function SM(){const{sales:n,updateSaleStatus:e}=zg(),[t,r]=Tt.useState(""),[a,o]=Tt.useState("ALL"),c=Tt.useMemo(()=>n.filter(u=>{const d=u.customer.name.toLowerCase().includes(t.toLowerCase()),f=a==="ALL"||u.status===a;return d&&f}).sort((u,d)=>d.createdAt-u.createdAt),[n,t,a]);return N.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[N.jsxs("div",{className:"flex gap-4 items-center bg-card p-4 rounded-xl border border-border",children:[N.jsxs("div",{className:"relative flex-1",children:[N.jsx(hg,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),N.jsx(qr,{placeholder:"Buscar por cliente...",className:"pl-9 bg-background",value:t,onChange:u=>r(u.target.value)})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(t4,{className:"h-4 w-4 text-muted-foreground"}),N.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:a,onChange:u=>o(u.target.value),children:[N.jsx("option",{value:"ALL",children:"Todos los estados"}),N.jsx("option",{value:"ADELANTADO",children:"Adelantado"}),N.jsx("option",{value:"COMPLETO",children:"Pagado / Completo"}),N.jsx("option",{value:"ENTREGADO",children:"Entregado"}),N.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]})]}),N.jsx("div",{className:"flex-1 overflow-auto border border-border rounded-xl bg-card shadow-sm",children:N.jsxs("table",{className:"w-full text-sm text-left",children:[N.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted/50 sticky top-0 z-10",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"ID / Fecha"}),N.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Cliente"}),N.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Detalles"}),N.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Estado"}),N.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Tiempo Restante (SLA)"}),N.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Total"}),N.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Acciones"})]})}),N.jsx("tbody",{className:"divide-y divide-border bg-card",children:c.length===0?N.jsx("tr",{children:N.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-muted-foreground",children:"No se encontraron ventas"})}):c.map(u=>{const d=u.createdAt+864e5,f=Date.now(),g=u.status==="ENTREGADO",b=d-f,A=Math.floor(b/(1e3*60*60)),w=Math.floor(b%(1e3*60*60)/(1e3*60));let M="text-emerald-600",V=`${A}h ${w}m`;return g?(M="text-muted-foreground",V="Completado"):b<0?(M="text-red-600 font-bold animate-pulse",V=`VENCIDO (${Math.abs(A)}h)`):A<4&&(M="text-orange-500 font-semibold"),N.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"font-mono text-xs font-bold",children:u.id.slice(0,8)}),N.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.createdAt).toLocaleDateString()}),N.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),N.jsx("td",{className:"px-6 py-4",children:N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"font-medium text-sm",children:u.customer.name}),N.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",title:u.customer.address,children:u.customer.address})]})}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("div",{className:"flex flex-col gap-1 max-w-[200px]",children:u.items.map(U=>N.jsxs("span",{className:"text-xs",children:[N.jsxs("b",{children:[U.quantity,"x"]})," ",U.productName," ",N.jsxs("span",{className:"text-muted-foreground",children:["(",U.color,"/",U.size,")"]})]},U.variantId))})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsxs("div",{className:"relative group w-fit cursor-pointer",children:[N.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium w-full min-w-[100px] justify-center transition-all group-hover:opacity-80
                                                    ${u.status==="ADELANTADO"?"bg-yellow-100 text-yellow-800":""}
                                                    ${u.status==="COMPLETO"?"bg-blue-100 text-blue-800":""}
                                                    ${u.status==="ENTREGADO"?"bg-green-100 text-green-800":""}
                                                    ${u.status==="CANCELADO"?"bg-red-100 text-red-800":""}
                                                `,children:[u.status==="ADELANTADO"&&N.jsx($6,{className:"w-3 h-3 mr-1"}),u.status==="ENTREGADO"&&N.jsx(s2,{className:"w-3 h-3 mr-1"}),u.status]}),N.jsxs("select",{className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",value:u.status,onChange:U=>{confirm(`Cambiar estado a ${U.target.value}?`)&&e(u.id,U.target.value)},children:[N.jsx("option",{value:"ADELANTADO",children:"ADELANTADO"}),N.jsx("option",{value:"COMPLETO",children:"COMPLETO"}),N.jsx("option",{value:"ENTREGADO",children:"ENTREGADO"}),N.jsx("option",{value:"CANCELADO",children:"CANCELADO"})]}),N.jsx("div",{className:"absolute -right-2 -top-1",children:N.jsx("span",{className:"flex h-2 w-2 rounded-full bg-primary opacity-0 group-hover:opacity-100 transition-opacity"})})]})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsxs("div",{className:"bg-muted/40 p-2 rounded-lg border border-border/50",children:[N.jsxs("div",{className:`flex items-center gap-2 text-sm ${M}`,children:[!g&&b<0&&N.jsx(ny,{className:"h-4 w-4"}),g&&N.jsx(s2,{className:"h-4 w-4"}),N.jsx("span",{className:"font-mono font-medium",children:V})]}),!g&&b>0&&N.jsx("div",{className:"w-24 h-1.5 bg-muted rounded-full mt-1 overflow-hidden",children:N.jsx("div",{className:`h-full rounded-full ${A<4?"bg-orange-500":"bg-emerald-500"}`,style:{width:`${Math.max(0,Math.min(100,(1-b/(1440*60*1e3))*100))}%`}})})]})}),N.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-foreground",children:["S/ ",u.total.toFixed(2)]}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:N.jsx("button",{onClick:()=>{try{mE(u)}catch(U){console.error("Error generating receipt:",U),alert("Error al generar la boleta. Verifica la consola.")}},className:"text-muted-foreground hover:text-primary transition-colors p-2 hover:bg-accent rounded-full",title:"Imprimir Boleta",children:N.jsx(Z6,{className:"h-4 w-4"})})})]},u.id)})})]})})]})}function yE(){const{promotions:n,addPromotion:e,togglePromotion:t,removePromotion:r}=zg(),{products:a}=vf(),[o,c]=Tt.useState(!1),[u,d]=Tt.useState(""),[f,g]=Tt.useState("PERCENTAGE"),[b,A]=Tt.useState(""),[w,M]=Tt.useState("COLLECTION"),[V,U]=Tt.useState(""),[j,te]=Tt.useState(null),ce=Tt.useMemo(()=>{if(w==="GLOBAL")return[];const fe=new Set;return a.forEach(q=>{w==="COLLECTION"&&fe.add(q.collection),w==="TYPE"&&fe.add(q.type),w==="GENDER"&&fe.add(q.gender),w==="PRODUCT"&&fe.add(q.name)}),Array.from(fe).sort()},[a,w]),H=()=>{if(!u||!b||w!=="GLOBAL"&&!V){dn.warning("Por favor complete todos los campos requeridos.");return}const fe={id:crypto.randomUUID(),name:u,type:f,value:parseFloat(b),scope:w,target:V.toUpperCase(),isActive:!0};e(fe),dn.success("Promocin creada exitosamente"),c(!1),se()},se=()=>{d(""),A(""),U(""),M("COLLECTION"),g("PERCENTAGE")};return N.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[N.jsx(Od,{className:"h-8 w-8 text-primary"})," Gestor de Promociones"]}),N.jsx("p",{className:"text-muted-foreground mt-1",children:"Configura reglas de descuento automticas para tus ventas."})]}),N.jsxs(Pr,{onClick:()=>c(!0),size:"lg",className:o?"hidden":"",children:[N.jsx(ug,{className:"mr-2 h-5 w-5"})," Nueva Regla"]})]}),o&&N.jsxs("div",{className:"bg-muted/30 border border-primary/20 rounded-xl p-6 shadow-sm animate-in fade-in slide-in-from-top-4",children:[N.jsxs("div",{className:"flex justify-between items-start mb-4",children:[N.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Nueva Regla de Descuento"}),N.jsx(Pr,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:N.jsx(Dm,{className:"h-4 w-4"})})]}),N.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[N.jsxs("div",{className:"col-span-4 space-y-2",children:[N.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Nombre de la Promocin"}),N.jsx(qr,{placeholder:"Ej: Liquidacin Verano 2026",value:u,onChange:fe=>d(fe.target.value),autoFocus:!0})]}),N.jsxs("div",{className:"col-span-2 space-y-2",children:[N.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Tipo"}),N.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:f,onChange:fe=>g(fe.target.value),children:[N.jsx("option",{value:"PERCENTAGE",children:"Porcentaje (%)"}),N.jsx("option",{value:"FIXED_AMOUNT",children:"Monto Fijo (S/)"})]})]}),N.jsxs("div",{className:"col-span-2 space-y-2",children:[N.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Valor"}),N.jsxs("div",{className:"relative",children:[N.jsx(qr,{type:"number",placeholder:"0",className:"pl-8",value:b,onChange:fe=>A(fe.target.value)}),N.jsx("span",{className:"absolute left-3 top-2.5 text-xs font-bold text-muted-foreground",children:f==="PERCENTAGE"?"%":"S/"})]})]}),N.jsxs("div",{className:"col-span-2 space-y-2",children:[N.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Alcance (Scope)"}),N.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:w,onChange:fe=>{M(fe.target.value),U("")},children:[N.jsx("option",{value:"GLOBAL",children:"Toda la Tienda"}),N.jsx("option",{value:"COLLECTION",children:"Por Coleccin"}),N.jsx("option",{value:"TYPE",children:"Por Tipo"}),N.jsx("option",{value:"GENDER",children:"Por Gnero"}),N.jsx("option",{value:"PRODUCT",children:"Por Nombre Producto"})]})]}),N.jsxs("div",{className:"col-span-2 space-y-2",children:[N.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Objetivo"}),w==="GLOBAL"?N.jsx(qr,{disabled:!0,value:"Todos",className:"opacity-50"}):N.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:V,onChange:fe=>U(fe.target.value),children:[N.jsx("option",{value:"",children:"Seleccionar..."}),ce.map(fe=>N.jsx("option",{value:fe,children:fe},fe))]})]})]}),N.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[N.jsx(Pr,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),N.jsxs(Pr,{onClick:H,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[N.jsx(i4,{className:"mr-2 h-4 w-4"})," Guardar Regla"]})]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 overflow-y-auto pb-10",children:[n.map(fe=>N.jsxs("div",{className:`
                            relative group border rounded-xl p-5 transition-all
                            ${fe.isActive?"bg-card border-l-4 border-l-primary shadow-sm hover:shadow-md":"bg-muted/40 border-l-4 border-l-muted opacity-70 grayscale-[0.5]"}
                        `,children:[N.jsxs("div",{className:"flex justify-between items-start mb-2",children:[N.jsxs("div",{children:[N.jsx("h4",{className:"font-bold text-lg",children:fe.name}),N.jsx("div",{className:"flex items-center gap-2 mt-1",children:N.jsxs("span",{className:"text-[10px] uppercase font-bold px-2 py-0.5 bg-accent rounded text-muted-foreground tracking-wider",children:[fe.scope," ",fe.scope!=="GLOBAL"&&` ${fe.target}`]})})]}),N.jsx(Pr,{variant:fe.isActive?"default":"secondary",size:"icon",className:`h-8 w-8 rounded-full transition-colors ${fe.isActive?"bg-green-500 hover:bg-green-600":""}`,onClick:()=>t(fe.id),children:N.jsx(bN,{className:"h-4 w-4"})})]}),N.jsxs("div",{className:"mt-4 flex items-baseline gap-1",children:[N.jsx("span",{className:"text-3xl font-black text-foreground",children:fe.type==="PERCENTAGE"?`${fe.value}%`:`S/ ${fe.value}`}),N.jsx("span",{className:"text-sm font-medium text-muted-foreground uppercase",children:"DESCUENTO"})]}),N.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 flex justify-between items-center text-xs text-muted-foreground",children:[N.jsxs("span",{children:["Estado: ",N.jsx("b",{className:fe.isActive?"text-green-600":"text-muted-foreground",children:fe.isActive?"ACTIVO":"INACTIVO"})]}),N.jsxs("button",{onClick:()=>te(fe.id),className:"flex items-center gap-1 hover:text-destructive transition-colors",children:[N.jsx(ty,{className:"h-3 w-3"})," Eliminar"]})]})]},fe.id)),n.length===0&&N.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center p-12 text-muted-foreground opacity-50 border-2 border-dashed border-border rounded-xl",children:[N.jsx(Od,{className:"h-12 w-12 mb-2"}),N.jsx("p",{children:"No hay reglas de promocin activas"})]})]}),N.jsx(gE,{isOpen:!!j,onClose:()=>te(null),onConfirm:()=>{j&&(r(j),dn.success("Promocin eliminada"))},title:"Eliminar Promocin",message:"Ests seguro de que deseas eliminar esta regla de descuento de forma permanente?",confirmText:"S, Eliminar",variant:"danger"})]})}function EM(){const[n,e]=Tt.useState("POS");return N.jsxs("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:N.jsxs("div",{className:"flex gap-2 bg-muted p-1 rounded-lg",children:[N.jsxs(Pr,{variant:n==="POS"?"secondary":"ghost",size:"sm",onClick:()=>e("POS"),className:"gap-2",children:[N.jsx(a2,{className:"h-4 w-4"})," Punto de Venta"]}),N.jsxs(Pr,{variant:n==="LIST"?"secondary":"ghost",size:"sm",onClick:()=>e("LIST"),className:"gap-2",children:[N.jsx(n4,{className:"h-4 w-4"})," Historial de Ventas"]}),N.jsxs(Pr,{variant:n==="PROMOTIONS"?"secondary":"ghost",size:"sm",onClick:()=>e("PROMOTIONS"),className:"gap-2",children:[N.jsx(Od,{className:"h-4 w-4"})," Gestor Descuentos"]})]})}),N.jsxs("div",{className:"flex-1 overflow-hidden",children:[n==="POS"&&N.jsx(AM,{}),n==="LIST"&&N.jsx(SM,{}),n==="PROMOTIONS"&&N.jsx(yE,{})]})]})}function NM(){const[n,e]=Tt.useState("light"),[t,r]=Tt.useState("Admin"),{globalShippingBase:a,updateGlobalShipping:o,districts:c,updateDistrict:u,toggleDoorDelivery:d}=Jy(),[f,g]=Tt.useState(a.toString());Tt.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const b=()=>{o(parseFloat(f)||5),localStorage.setItem("scs_settings_user",t),alert("Configuracin guardada")};return N.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-10",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Configuracin"}),N.jsx("p",{className:"text-muted-foreground mt-1",children:"Preferencias del sistema y logstica."})]}),N.jsxs(Pr,{onClick:b,children:[N.jsx(i4,{className:"mr-2 h-4 w-4"})," Guardar Preferencias"]})]}),N.jsxs("div",{className:"grid gap-6",children:[N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[N.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[N.jsx(ry,{className:"h-5 w-5 text-primary"})," Perfil de Usuario"]}),N.jsx("div",{className:"grid gap-4",children:N.jsxs("div",{children:[N.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Nombre de Usuario"}),N.jsx(qr,{value:t,onChange:A=>r(A.target.value)})]})})]}),N.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[N.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[N.jsx(kb,{className:"h-5 w-5 text-primary"})," Apariencia"]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsxs("div",{onClick:()=>e("light"),className:`cursor-pointer rounded-lg border-2 p-4 flex flex-col items-center gap-2 flex-1 ${n==="light"?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[N.jsx(TN,{className:"h-6 w-6"}),N.jsx("span",{className:"text-sm font-medium",children:"Claro"})]}),N.jsxs("div",{onClick:()=>e("dark"),className:`cursor-pointer rounded-lg border-2 p-4 flex flex-col items-center gap-2 flex-1 ${n==="dark"?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[N.jsx(kb,{className:"h-6 w-6"}),N.jsx("span",{className:"text-sm font-medium",children:"Oscuro"})]})]})]})]}),N.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[N.jsxs("div",{className:"flex items-center justify-between mb-6",children:[N.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(s4,{className:"h-5 w-5 text-primary"})," Cobertura y Envos"]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Costo Base Global:"}),N.jsxs("div",{className:"relative w-24",children:[N.jsx("span",{className:"absolute left-2 top-1.5 text-xs text-muted-foreground text-bold",children:"S/"}),N.jsx(qr,{className:"h-8 pl-6",value:f,onChange:A=>g(A.target.value),type:"number"})]})]})]}),N.jsx("div",{className:"rounded-md border border-border overflow-hidden",children:N.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:N.jsxs("table",{className:"w-full text-sm",children:[N.jsx("thead",{className:"bg-muted sticky top-0 z-10",children:N.jsxs("tr",{className:"text-left text-xs uppercase text-muted-foreground font-semibold",children:[N.jsx("th",{className:"p-3",children:"Distrito"}),N.jsx("th",{className:"p-3",children:"Departamento"}),N.jsx("th",{className:"p-3 w-32",children:"Precio Min. (S/)"}),N.jsx("th",{className:"p-3 text-center",children:"Entrega a Puerta"})]})}),N.jsx("tbody",{className:"divide-y divide-border bg-card",children:c.map(A=>N.jsxs("tr",{className:"hover:bg-muted/50",children:[N.jsx("td",{className:"p-3 font-medium",children:A.name}),N.jsx("td",{className:"p-3 text-muted-foreground text-xs",children:A.department}),N.jsx("td",{className:"p-3",children:N.jsx(qr,{className:"h-7 w-20 text-right",type:"number",value:A.basePrice,onChange:w=>u(A.name,{basePrice:parseFloat(w.target.value)||0})})}),N.jsx("td",{className:"p-3 text-center",children:N.jsx("button",{onClick:()=>d(A.name),className:`inline-flex items-center justify-center p-1.5 rounded-full transition-colors ${A.allowDoorDelivery?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,title:A.allowDoorDelivery?"Entrega a puerta habilitada":"Solo Punto de Encuentro",children:A.allowDoorDelivery?N.jsx(Y6,{className:"h-4 w-4"}):N.jsx(Dm,{className:"h-4 w-4"})})})]},A.name))})]})})}),N.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["* Los distritos marcados con ",N.jsx(Dm,{className:"inline h-3 w-3 text-red-500"}),' solo permiten entrega en "Punto de Encuentro".']})]})]})]})}const vE=Tt.createContext(null);function TM({children:n}){const[e,t]=Tt.useState(null),[r,a]=Tt.useState(null),[o,c]=Tt.useState(!0);Tt.useEffect(()=>{const g=qI(A0,async b=>{if(b)try{const A=Ws(bs,"users",b.uid),w=await $3(A);if(w.exists())a(w.data());else{const M={name:b.email?.split("@")[0]||"Usuario",email:b.email,role:"admin",requiresPasswordChange:!0,createdAt:Date.now()};try{await Yu(A,M),a(M)}catch(V){console.error("Error creating user profile:",V),a({})}}}catch(A){console.error("Error fetching user profile (Permissions?):",A),a(null),dn.error("Error de permisos en Base de Datos. Revisa las reglas de Firestore.")}else a(null);t(b),c(!1)});return()=>g()},[]);const u=async(g,b)=>{const A=g.includes("@")?g:`${g.toLowerCase()}@artemya.com`;try{await VI(A0,A,b),dn.success("Sesin iniciada correctamente")}catch(w){console.error(w);const M=w;throw M.code==="auth/invalid-credential"||M.code==="auth/user-not-found"||M.code==="auth/wrong-password"?dn.error("Usuario o contrasea incorrectos"):dn.error(`Error al iniciar sesin: ${M.message} `),w}},d=async()=>{try{await HI(A0),dn.success("Sesin cerrada")}catch{dn.error("Error al cerrar sesin")}},f=async g=>{if(!e)throw new Error("No hay usuario autenticado");try{await FI(e,g),await Yu(Ws(bs,"users",e.uid),{requiresPasswordChange:!1},{merge:!0}),a(b=>({...b,requiresPasswordChange:!1})),dn.success("Contrasea actualizada correctamente")}catch(b){throw console.error(b),dn.error("Error al actualizar la contrasea"),b}};return N.jsx(vE.Provider,{value:{user:e,userData:r,loading:o,login:u,logout:d,changePassword:f},children:!o&&n})}const iv=()=>{const n=Tt.useContext(vE);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};function CM(){const{login:n,loading:e}=iv(),[t,r]=Tt.useState(""),[a,o]=Tt.useState(""),[c,u]=Tt.useState(!1),d=async f=>{f.preventDefault(),u(!0);try{await n(t,a)}catch{}finally{u(!1)}};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 bg-pattern",children:N.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-2xl border border-gray-100",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"SCS"}),N.jsx("p",{className:"text-gray-500 mt-2",children:"Sistema de Control de Sede"})]}),N.jsxs("form",{onSubmit:d,className:"space-y-6",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usuario"}),N.jsxs("div",{className:"relative",children:[N.jsx(ry,{className:"absolute left-3 top-3  h-5 w-5 text-gray-400"}),N.jsx("input",{type:"text",placeholder:"ej. sebastian",value:t,onChange:f=>r(f.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-gray-50 focus:bg-white",required:!0})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contrasea"}),N.jsxs("div",{className:"relative",children:[N.jsx(lN,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),N.jsx("input",{type:"password",placeholder:"",value:a,onChange:f=>o(f.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-gray-50 focus:bg-white",required:!0})]})]}),N.jsx("button",{type:"submit",disabled:c||e,className:"w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-200 flex items-center justify-center gap-2 transform active:scale-95",children:c?N.jsx(r4,{className:"h-5 w-5 animate-spin"}):"Iniciar Sesin"}),N.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:"Acceso restringido a personal autorizado."})]})]})})}function IM(){const{changePassword:n}=iv(),[e,t]=Tt.useState(""),[r,a]=Tt.useState(""),[o,c]=Tt.useState(!1),u=async d=>{if(d.preventDefault(),e.length<6){dn.error("La contrasea debe tener al menos 6 caracteres");return}if(e!==r){dn.error("Las contraseas no coinciden");return}c(!0);try{await n(e)}catch{}finally{c(!1)}};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:N.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-xl border border-red-100 relative overflow-hidden",children:[N.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-400 to-red-500"}),N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-orange-100 text-orange-600 mb-4",children:N.jsx(nN,{size:32})}),N.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seguridad Requerida"}),N.jsx("p",{className:"text-gray-500 mt-2 px-4",children:"Por motivos de seguridad, debes actualizar tu contrasea antes de continuar."})]}),N.jsxs("form",{onSubmit:u,className:"space-y-6",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nueva Contrasea"}),N.jsx("input",{type:"password",placeholder:"Mnimo 6 caracteres",value:e,onChange:d=>t(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all outline-none",required:!0})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Confirmar Contrasea"}),N.jsx("input",{type:"password",placeholder:"Repite la contrasea",value:r,onChange:d=>a(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all outline-none",required:!0})]}),N.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 px-4 bg-gray-900 hover:bg-black text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2",children:o?N.jsx(r4,{className:"h-5 w-5 animate-spin"}):"Actualizar Contrasea"})]})]})})}function RM(){const{user:n,userData:e,logout:t}=iv(),[r,a]=Tt.useState(!0),[o,c]=Tt.useState("DASHBOARD"),{products:u,initializeSubscription:d}=vf(),{sales:f,initializeSubscription:g}=zg(),{initializeSubscription:b}=Jy();Tt.useEffect(()=>{let w=()=>{},M=()=>{},V=()=>{};try{w=d(),M=g(),V=b()}catch(U){console.error("Failed to initialize subscriptions:",U)}return()=>{try{w(),M(),V()}catch(U){console.error("Error cleaning up subscriptions:",U)}}},[d,g,b]);const A=Tt.useMemo(()=>{const w=u.reduce((H,se)=>H+se.variants.reduce((fe,q)=>fe+q.stock,0),0),M=new Date,V=M.getMonth(),U=M.getFullYear(),j=f.filter(H=>{const se=new Date(H.createdAt);return se.getMonth()===V&&se.getFullYear()===U&&H.status!=="CANCELADO"}).reduce((H,se)=>H+se.total,0),te=f.filter(H=>H.status!=="ENTREGADO"&&H.status!=="CANCELADO").length,ce=f.filter(H=>H.status!=="CANCELADO").reduce((H,se)=>{const fe=se.subtotal-se.globalDiscount,q=se.items.reduce((k,D)=>{const T=u.find(R=>R.variants.some(L=>L.id===D.variantId))?.variants.find(R=>R.id===D.variantId);return k+D.quantity*(T?.priceProduction||0)},0);return H+(fe-q)},0);return{inventoryCount:w,monthlySales:j,pendingOrders:te,estimatedProfit:ce}},[u,f]);return n?e?.requiresPasswordChange?N.jsx(IM,{}):N.jsxs("div",{className:"min-h-screen bg-background text-foreground flex overflow-hidden",children:[N.jsxs("aside",{className:ro("bg-card border-r border-border transition-all duration-300 ease-in-out z-20",r?"w-64":"w-20"),children:[N.jsxs("div",{className:"h-16 flex items-center justify-center border-b border-border gap-2",children:[N.jsx(iN,{className:ro("text-primary transition-all",r?"h-8 w-8":"h-6 w-6")}),N.jsx("h1",{className:ro("font-bold text-2xl text-primary transition-all overflow-hidden whitespace-nowrap",!r&&"w-0 opacity-0"),children:"SCS"})]}),N.jsxs("nav",{className:"p-4 space-y-2 flex flex-col h-[calc(100vh-4rem)]",children:[N.jsxs("div",{className:"flex-1 space-y-2",children:[N.jsx(mm,{icon:N.jsx(n4,{size:20}),label:"Dashboard",isOpen:r,active:o==="DASHBOARD",onClick:()=>c("DASHBOARD")}),N.jsx(mm,{icon:N.jsx(Db,{size:20}),label:"Inventario",isOpen:r,active:o==="INVENTORY",onClick:()=>c("INVENTORY")}),N.jsx(mm,{icon:N.jsx(a2,{size:20}),label:"Ventas",isOpen:r,active:o==="SALES",onClick:()=>c("SALES")}),N.jsx("div",{className:"pt-4 mt-4 border-t border-border",children:N.jsx(mm,{icon:N.jsx(AN,{size:20}),label:"Configuracin",isOpen:r,active:o==="SETTINGS",onClick:()=>c("SETTINGS")})})]}),N.jsx("div",{className:"border-t border-border pt-2",children:N.jsxs("button",{onClick:t,className:ro("w-full flex items-center gap-3 px-3 py-2 rounded-md transition-all duration-200 group relative hover:bg-destructive/10 hover:text-destructive text-muted-foreground"),children:[N.jsx("span",{className:"group-hover:text-destructive",children:N.jsx(uN,{size:20})}),N.jsx("span",{className:ro("whitespace-nowrap transition-all duration-300 origin-left font-medium",!r&&"scale-0 w-0 opacity-0 overflow-hidden"),children:"Cerrar Sesin"})]})})]})]}),N.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[N.jsxs("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-sm flex items-center justify-between px-6 sticky top-0 z-10",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("button",{onClick:()=>a(!r),className:"p-2 hover:bg-accent rounded-md transition-colors",children:N.jsx(fN,{size:20})}),N.jsxs("div",{className:"relative hidden md:block",children:[N.jsx(hg,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),N.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-9 h-9 w-64 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"})]})]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("button",{className:"p-2 hover:bg-accent rounded-full relative",children:[N.jsx(Lb,{size:20}),N.jsx("span",{className:"absolute top-1.5 right-1.5 h-2 w-2 bg-destructive rounded-full"})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("div",{className:"text-right hidden sm:block",children:[N.jsx("p",{className:"text-sm font-medium leading-none",children:e?.name||n.email}),N.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]}),N.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-medium",children:e?.name?.charAt(0)||n.email?.charAt(0).toUpperCase()})]})]})]}),N.jsxs("main",{className:"flex-1 p-6 overflow-auto",children:[o==="DASHBOARD"&&N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Bienvenido al SCS"}),N.jsx("p",{className:"text-muted-foreground",children:"Sistema de Control de Sede - Panel Principal"})]}),N.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[N.jsx(gm,{title:"Inventario Total (Unidades)",value:A.inventoryCount.toString(),icon:N.jsx(Db,{className:"text-primary"})}),N.jsx(gm,{title:"Ventas del Mes",value:`S/ ${A.monthlySales.toFixed(2)}`,icon:N.jsx(a2,{className:"text-primary"})}),N.jsx(gm,{title:"Ganancia Estimada",value:`S/ ${A.estimatedProfit.toFixed(2)}`,icon:N.jsx(Od,{className:"text-emerald-500"})}),N.jsx(gm,{title:"Pedidos Pendientes",value:A.pendingOrders.toString(),icon:N.jsx(Lb,{className:"text-destructive"})})]}),N.jsxs("div",{className:"rounded-xl border border-border bg-card text-card-foreground shadow p-6",children:[N.jsx("h3",{className:"font-semibold leading-none tracking-tight mb-4",children:"Estado del Sistema"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema operativo v1.0. Las mtricas se actualizan en tiempo real."})]})]}),o==="INVENTORY"&&N.jsx("div",{className:"h-full",children:N.jsx(YD,{})}),o==="SALES"&&N.jsx(EM,{}),o==="PROMOTIONS"&&N.jsx(yE,{}),o==="SETTINGS"&&N.jsx(NM,{})]})]})]}):N.jsx(N.Fragment,{children:N.jsx(CM,{})})}function LM(){return N.jsxs(TM,{children:[N.jsx(lT,{richColors:!0,position:"top-center"}),N.jsx(RM,{})]})}function mm({icon:n,label:e,isOpen:t,active:r=!1,onClick:a}){return N.jsxs("button",{onClick:a,className:ro("w-full flex items-center gap-3 px-3 py-2 rounded-md transition-all duration-200 group relative",r?"bg-primary/10 text-primary":"hover:bg-accent hover:text-accent-foreground text-muted-foreground"),children:[N.jsx("span",{className:ro("transition-colors",r?"text-primary":"group-hover:text-primary"),children:n}),N.jsx("span",{className:ro("whitespace-nowrap transition-all duration-300 origin-left font-medium",!t&&"scale-0 w-0 opacity-0 overflow-hidden"),children:e}),!t&&N.jsx("div",{className:"absolute left-14 bg-popover text-popover-foreground px-2 py-1 rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none",children:e})]})}function gm({title:n,value:e,icon:t}){return N.jsxs("div",{className:"rounded-xl border border-border bg-card text-card-foreground shadow",children:[N.jsxs("div",{className:"p-6 flex flex-row items-center justify-between space-y-0 pb-2",children:[N.jsx("h3",{className:"tracking-tight text-sm font-medium text-muted-foreground",children:n}),t]}),N.jsx("div",{className:"p-6 pt-0 mt-2",children:N.jsx("div",{className:"text-2xl font-bold",children:e})})]})}class kM extends Tt.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?N.jsxs("div",{className:"p-8 max-w-2xl mx-auto mt-10 bg-red-50 text-red-900 rounded-lg border border-red-200",children:[N.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Ups! Algo sali mal."}),N.jsx("p",{className:"mb-4",children:"Se ha producido un error inesperado al renderizar la aplicacin."}),N.jsx("pre",{className:"bg-white p-4 rounded border border-red-100 overflow-auto text-sm font-mono",children:this.state.error?.toString()})]}):this.props.children}}P6.createRoot(document.getElementById("root")).render(N.jsx(Tt.StrictMode,{children:N.jsx(kM,{children:N.jsx(LM,{})})}));export{lr as _,DM as c,Jx as g};
