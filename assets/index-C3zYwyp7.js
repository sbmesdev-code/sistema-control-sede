(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var JV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var b0={exports:{}},wd={};var Xb;function wT(){if(Xb)return wd;Xb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:o}}return wd.Fragment=e,wd.jsx=t,wd.jsxs=t,wd}var Qb;function xT(){return Qb||(Qb=1,b0.exports=wT()),b0.exports}var A=xT(),_0={exports:{}},ln={};var Jb;function AT(){if(Jb)return ln;Jb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function _(X){return X===null||typeof X!="object"?null:(X=S&&X[S]||X["@@iterator"],typeof X=="function"?X:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function j(X,L,z){this.props=X,this.context=L,this.refs=U,this.updater=z||O}j.prototype.isReactComponent={},j.prototype.setState=function(X,L){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,L,"setState")},j.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function te(){}te.prototype=j.prototype;function oe(X,L,z){this.props=X,this.context=L,this.refs=U,this.updater=z||O}var Y=oe.prototype=new te;Y.constructor=oe,V(Y,j.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray;function de(){}var q={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function P(X,L,z){var $=z.ref;return{$$typeof:n,type:X,key:L,ref:$!==void 0?$:null,props:z}}function G(X,L){return P(X.type,L,X.props)}function T(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function k(X){var L={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(z){return L[z]})}var D=/\/+/g;function fe(X,L){return typeof X=="object"&&X!==null&&X.key!=null?k(""+X.key):L.toString(36)}function xe(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(de,de):(X.status="pending",X.then(function(L){X.status==="pending"&&(X.status="fulfilled",X.value=L)},function(L){X.status==="pending"&&(X.status="rejected",X.reason=L)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ne(X,L,z,$,se){var pe=typeof X;(pe==="undefined"||pe==="boolean")&&(X=null);var me=!1;if(X===null)me=!0;else switch(pe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(X.$$typeof){case n:case e:me=!0;break;case g:return me=X._init,ne(me(X._payload),L,z,$,se)}}if(me)return se=se(X),me=$===""?"."+fe(X,0):$,ie(se)?(z="",me!=null&&(z=me.replace(D,"$&/")+"/"),ne(se,L,z,"",function(Fe){return Fe})):se!=null&&(T(se)&&(se=G(se,z+(se.key==null||X&&X.key===se.key?"":(""+se.key).replace(D,"$&/")+"/")+me)),L.push(se)),1;me=0;var Ee=$===""?".":$+":";if(ie(X))for(var Ie=0;Ie<X.length;Ie++)$=X[Ie],pe=Ee+fe($,Ie),me+=ne($,L,z,pe,se);else if(Ie=_(X),typeof Ie=="function")for(X=Ie.call(X),Ie=0;!($=X.next()).done;)$=$.value,pe=Ee+fe($,Ie++),me+=ne($,L,z,pe,se);else if(pe==="object"){if(typeof X.then=="function")return ne(xe(X),L,z,$,se);throw L=String(X),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return me}function Z(X,L,z){if(X==null)return X;var $=[],se=0;return ne(X,$,"","",function(pe){return L.call(z,pe,se++)}),$}function re(X){if(X._status===-1){var L=X._result;L=L(),L.then(function(z){(X._status===0||X._status===-1)&&(X._status=1,X._result=z)},function(z){(X._status===0||X._status===-1)&&(X._status=2,X._result=z)}),X._status===-1&&(X._status=0,X._result=L)}if(X._status===1)return X._result.default;throw X._result}var Ne=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},ve={map:Z,forEach:function(X,L,z){Z(X,function(){L.apply(this,arguments)},z)},count:function(X){var L=0;return Z(X,function(){L++}),L},toArray:function(X){return Z(X,function(L){return L})||[]},only:function(X){if(!T(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return ln.Activity=b,ln.Children=ve,ln.Component=j,ln.Fragment=t,ln.Profiler=s,ln.PureComponent=oe,ln.StrictMode=r,ln.Suspense=d,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ln.__COMPILER_RUNTIME={__proto__:null,c:function(X){return q.H.useMemoCache(X)}},ln.cache=function(X){return function(){return X.apply(null,arguments)}},ln.cacheSignal=function(){return null},ln.cloneElement=function(X,L,z){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var $=V({},X.props),se=X.key;if(L!=null)for(pe in L.key!==void 0&&(se=""+L.key),L)!R.call(L,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&L.ref===void 0||($[pe]=L[pe]);var pe=arguments.length-2;if(pe===1)$.children=z;else if(1<pe){for(var me=Array(pe),Ee=0;Ee<pe;Ee++)me[Ee]=arguments[Ee+2];$.children=me}return P(X.type,se,$)},ln.createContext=function(X){return X={$$typeof:c,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},ln.createElement=function(X,L,z){var $,se={},pe=null;if(L!=null)for($ in L.key!==void 0&&(pe=""+L.key),L)R.call(L,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(se[$]=L[$]);var me=arguments.length-2;if(me===1)se.children=z;else if(1<me){for(var Ee=Array(me),Ie=0;Ie<me;Ie++)Ee[Ie]=arguments[Ie+2];se.children=Ee}if(X&&X.defaultProps)for($ in me=X.defaultProps,me)se[$]===void 0&&(se[$]=me[$]);return P(X,pe,se)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(X){return{$$typeof:u,render:X}},ln.isValidElement=T,ln.lazy=function(X){return{$$typeof:g,_payload:{_status:-1,_result:X},_init:re}},ln.memo=function(X,L){return{$$typeof:f,type:X,compare:L===void 0?null:L}},ln.startTransition=function(X){var L=q.T,z={};q.T=z;try{var $=X(),se=q.S;se!==null&&se(z,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(de,Ne)}catch(pe){Ne(pe)}finally{L!==null&&z.types!==null&&(L.types=z.types),q.T=L}},ln.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ln.use=function(X){return q.H.use(X)},ln.useActionState=function(X,L,z){return q.H.useActionState(X,L,z)},ln.useCallback=function(X,L){return q.H.useCallback(X,L)},ln.useContext=function(X){return q.H.useContext(X)},ln.useDebugValue=function(){},ln.useDeferredValue=function(X,L){return q.H.useDeferredValue(X,L)},ln.useEffect=function(X,L){return q.H.useEffect(X,L)},ln.useEffectEvent=function(X){return q.H.useEffectEvent(X)},ln.useId=function(){return q.H.useId()},ln.useImperativeHandle=function(X,L,z){return q.H.useImperativeHandle(X,L,z)},ln.useInsertionEffect=function(X,L){return q.H.useInsertionEffect(X,L)},ln.useLayoutEffect=function(X,L){return q.H.useLayoutEffect(X,L)},ln.useMemo=function(X,L){return q.H.useMemo(X,L)},ln.useOptimistic=function(X,L){return q.H.useOptimistic(X,L)},ln.useReducer=function(X,L,z){return q.H.useReducer(X,L,z)},ln.useRef=function(X){return q.H.useRef(X)},ln.useState=function(X){return q.H.useState(X)},ln.useSyncExternalStore=function(X,L,z){return q.H.useSyncExternalStore(X,L,z)},ln.useTransition=function(){return q.H.useTransition()},ln.version="19.2.4",ln}var Zb;function xy(){return Zb||(Zb=1,_0.exports=AT()),_0.exports}var ct=xy();const Xe=P4(ct);var w0={exports:{}},xd={},x0={exports:{}},A0={};var e_;function ST(){return e_||(e_=1,(function(n){function e(ne,Z){var re=ne.length;ne.push(Z);e:for(;0<re;){var Ne=re-1>>>1,ve=ne[Ne];if(0<s(ve,Z))ne[Ne]=Z,ne[re]=ve,re=Ne;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var Z=ne[0],re=ne.pop();if(re!==Z){ne[0]=re;e:for(var Ne=0,ve=ne.length,X=ve>>>1;Ne<X;){var L=2*(Ne+1)-1,z=ne[L],$=L+1,se=ne[$];if(0>s(z,re))$<ve&&0>s(se,z)?(ne[Ne]=se,ne[$]=re,Ne=$):(ne[Ne]=z,ne[L]=re,Ne=L);else if($<ve&&0>s(se,re))ne[Ne]=se,ne[$]=re,Ne=$;else break e}}return Z}function s(ne,Z){var re=ne.sortIndex-Z.sortIndex;return re!==0?re:ne.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var d=[],f=[],g=1,b=null,S=3,_=!1,O=!1,V=!1,U=!1,j=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Y(ne){for(var Z=t(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=ne)r(f),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(f)}}function ie(ne){if(V=!1,Y(ne),!O)if(t(d)!==null)O=!0,de||(de=!0,k());else{var Z=t(f);Z!==null&&xe(ie,Z.startTime-ne)}}var de=!1,q=-1,R=5,P=-1;function G(){return U?!0:!(n.unstable_now()-P<R)}function T(){if(U=!1,de){var ne=n.unstable_now();P=ne;var Z=!0;try{e:{O=!1,V&&(V=!1,te(q),q=-1),_=!0;var re=S;try{t:{for(Y(ne),b=t(d);b!==null&&!(b.expirationTime>ne&&G());){var Ne=b.callback;if(typeof Ne=="function"){b.callback=null,S=b.priorityLevel;var ve=Ne(b.expirationTime<=ne);if(ne=n.unstable_now(),typeof ve=="function"){b.callback=ve,Y(ne),Z=!0;break t}b===t(d)&&r(d),Y(ne)}else r(d);b=t(d)}if(b!==null)Z=!0;else{var X=t(f);X!==null&&xe(ie,X.startTime-ne),Z=!1}}break e}finally{b=null,S=re,_=!1}Z=void 0}}finally{Z?k():de=!1}}}var k;if(typeof oe=="function")k=function(){oe(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,fe=D.port2;D.port1.onmessage=T,k=function(){fe.postMessage(null)}}else k=function(){j(T,0)};function xe(ne,Z){q=j(function(){ne(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var re=S;S=Z;try{return ne()}finally{S=re}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(ne,Z){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var re=S;S=ne;try{return Z()}finally{S=re}},n.unstable_scheduleCallback=function(ne,Z,re){var Ne=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ne+re:Ne):re=Ne,ne){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=re+ve,ne={id:g++,callback:Z,priorityLevel:ne,startTime:re,expirationTime:ve,sortIndex:-1},re>Ne?(ne.sortIndex=re,e(f,ne),t(d)===null&&ne===t(f)&&(V?(te(q),q=-1):V=!0,xe(ie,re-Ne))):(ne.sortIndex=ve,e(d,ne),O||_||(O=!0,de||(de=!0,k()))),ne},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(ne){var Z=S;return function(){var re=S;S=Z;try{return ne.apply(this,arguments)}finally{S=re}}}})(A0)),A0}var t_;function ET(){return t_||(t_=1,x0.exports=ST()),x0.exports}var S0={exports:{}},Rs={};var n_;function NT(){if(n_)return Rs;n_=1;var n=xy();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:d,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Rs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rs.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},Rs.flushSync=function(d){var f=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=f,r.p=g,r.d.f()}},Rs.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Rs.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Rs.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,b=u(g,f.crossOrigin),S=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:_}):g==="script"&&r.d.X(d,{crossOrigin:b,integrity:S,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Rs.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Rs.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,b=u(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Rs.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Rs.requestFormReset=function(d){r.d.r(d)},Rs.unstable_batchedUpdates=function(d,f){return d(f)},Rs.useFormState=function(d,f,g){return c.H.useFormState(d,f,g)},Rs.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rs.version="19.2.4",Rs}var r_;function O4(){if(r_)return S0.exports;r_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),S0.exports=NT(),S0.exports}var i_;function TT(){if(i_)return xd;i_=1;var n=ET(),e=xy(),t=O4();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var y=l.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===l)return d(y),i;if(w===h)return d(y),a;w=w.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=w;else{for(var I=!1,K=y.child;K;){if(K===l){I=!0,l=y,h=w;break}if(K===h){I=!0,h=y,l=w;break}K=K.sibling}if(!I){for(K=w.child;K;){if(K===l){I=!0,l=w,h=y;break}if(K===h){I=!0,h=w,l=y;break}K=K.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case j:return"Profiler";case U:return"StrictMode";case ie:return"Suspense";case de:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case oe:return i.displayName||"Context";case te:return(i._context.displayName||"Context")+".Consumer";case Y:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return a=i.displayName||null,a!==null?a:fe(i.type)||"Memo";case R:a=i._payload,i=i._init;try{return fe(i(a))}catch{}}return null}var xe=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ne=[],ve=-1;function X(i){return{current:i}}function L(i){0>ve||(i.current=Ne[ve],Ne[ve]=null,ve--)}function z(i,a){ve++,Ne[ve]=i.current,i.current=a}var $=X(null),se=X(null),pe=X(null),me=X(null);function Ee(i,a){switch(z(pe,a),z(se,i),z($,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?bb(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=bb(a),i=_b(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L($),z($,i)}function Ie(){L($),L(se),L(pe)}function Fe(i){i.memoizedState!==null&&z(me,i);var a=$.current,l=_b(a,i.type);a!==l&&(z(se,i),z($,l))}function et(i){se.current===i&&(L($),L(se)),me.current===i&&(L(me),yd._currentValue=re)}var ot,ut;function vt(i){if(ot===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ot=a&&a[1]||"",ut=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+ut}var ae=!1;function lt(i,a){if(!i||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(Ue){var je=Ue}Reflect.construct(i,[],Je)}else{try{Je.call()}catch(Ue){je=Ue}i.call(Je.prototype)}}else{try{throw Error()}catch(Ue){je=Ue}(Je=i())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(Ue){if(Ue&&je&&typeof Ue.stack=="string")return[Ue.stack,je.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),I=w[0],K=w[1];if(I&&K){var ge=I.split(`
`),Oe=K.split(`
`);for(y=h=0;h<ge.length&&!ge[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Oe.length&&!Oe[y].includes("DetermineComponentFrameRoot");)y++;if(h===ge.length||y===Oe.length)for(h=ge.length-1,y=Oe.length-1;1<=h&&0<=y&&ge[h]!==Oe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(ge[h]!==Oe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||ge[h]!==Oe[y]){var We=`
`+ge[h].replace(" at new "," at ");return i.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",i.displayName)),We}while(1<=h&&0<=y);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?vt(l):""}function Kt(i,a){switch(i.tag){case 26:case 27:case 5:return vt(i.type);case 16:return vt("Lazy");case 13:return i.child!==a&&a!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return lt(i.type,!1);case 11:return lt(i.type.render,!1);case 1:return lt(i.type,!0);case 31:return vt("Activity");default:return""}}function Mt(i){try{var a="",l=null;do a+=Kt(i,l),l=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Be=Object.prototype.hasOwnProperty,pt=n.unstable_scheduleCallback,le=n.unstable_cancelCallback,ye=n.unstable_shouldYield,Se=n.unstable_requestPaint,$e=n.unstable_now,He=n.unstable_getCurrentPriorityLevel,Ve=n.unstable_ImmediatePriority,it=n.unstable_UserBlockingPriority,dt=n.unstable_NormalPriority,st=n.unstable_LowPriority,bt=n.unstable_IdlePriority,gt=n.log,dn=n.unstable_setDisableYieldValue,Zt=null,Pt=null;function Ut(i){if(typeof gt=="function"&&dn(i),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Zt,i)}catch{}}var Qt=Math.clz32?Math.clz32:Et,Ot=Math.log,yn=Math.LN2;function Et(i){return i>>>=0,i===0?32:31-(Ot(i)/yn|0)|0}var zt=256,jn=262144,jt=4194304;function Ct(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ht(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,w=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var K=h&134217727;return K!==0?(h=K&~w,h!==0?y=Ct(h):(I&=K,I!==0?y=Ct(I):l||(l=K&~i,l!==0&&(y=Ct(l))))):(K=h&~w,K!==0?y=Ct(K):I!==0?y=Ct(I):l||(l=h&~i,l!==0&&(y=Ct(l)))),y===0?0:a!==0&&a!==y&&(a&w)===0&&(w=y&-y,l=a&-a,w>=l||w===32&&(l&4194048)!==0)?a:y}function wn(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Sn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Sr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function mt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Er(i,a,l,h,y,w){var I=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var K=i.entanglements,ge=i.expirationTimes,Oe=i.hiddenUpdates;for(l=I&~l;0<l;){var We=31-Qt(l),Je=1<<We;K[We]=0,ge[We]=-1;var je=Oe[We];if(je!==null)for(Oe[We]=null,We=0;We<je.length;We++){var Ue=je[We];Ue!==null&&(Ue.lane&=-536870913)}l&=~Je}h!==0&&ti(i,h,0),w!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=w&~(I&~a))}function ti(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Qt(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Zn(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-Qt(l),y=1<<h;y&a|i[h]&a&&(i[h]|=a),l&=~y}}function er(i,a){var l=a&-a;return l=(l&42)!==0?1:zn(l),(l&(i.suspendedLanes|a))!==0?0:l}function zn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Cn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gr(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:qb(i.type))}function Di(i,a){var l=Z.p;try{return Z.p=i,a()}finally{Z.p=l}}var xi=Math.random().toString(36).slice(2),Gn="__reactFiber$"+xi,rr="__reactProps$"+xi,ni="__reactContainer$"+xi,Yi="__reactEvents$"+xi,As="__reactListeners$"+xi,qa="__reactHandles$"+xi,Fs="__reactResources$"+xi,$i="__reactMarker$"+xi;function Sa(i){delete i[Gn],delete i[rr],delete i[Yi],delete i[As],delete i[qa]}function ls(i){var a=i[Gn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[ni]||l[Gn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Tb(i);i!==null;){if(l=i[Gn])return l;i=Tb(i)}return a}i=l,l=i.parentNode}return null}function Pi(i){if(i=i[Gn]||i[ni]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function cs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ss(i){var a=i[Fs];return a||(a=i[Fs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ir(i){i[$i]=!0}var Go=new Set,Ki={};function Es(i,a){Bs(i,a),Bs(i+"Capture",a)}function Bs(i,a){for(Ki[i]=a,i=0;i<a.length;i++)Go.add(a[i])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Yo={};function Cl(i){return Be.call(Yo,i)?!0:Be.call(Wo,i)?!1:po.test(i)?Yo[i]=!0:(Wo[i]=!0,!1)}function us(i,a,l){if(Cl(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ai(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Mr(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ea(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ns(i,a,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(I){l=""+I,w.call(this,I)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function In(i){if(!i._valueTracker){var a=Ea(i)?"checked":"value";i._valueTracker=Ns(i,a,""+i[a])}}function Ha(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=Ea(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function Wr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vr=/[\n"\\]/g;function jr(i){return i.replace(vr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function mo(i,a,l,h,y,w,I,K){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),a!=null?I==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+vn(a)):i.value!==""+vn(a)&&(i.value=""+vn(a)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),a!=null?Il(i,I,vn(a)):l!=null?Il(i,I,vn(l)):h!=null&&i.removeAttribute("value"),y==null&&w!=null&&(i.defaultChecked=!!w),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?i.name=""+vn(K):i.removeAttribute("name")}function mc(i,a,l,h,y,w,I,K){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){In(i);return}l=l!=null?""+vn(l):"",a=a!=null?""+vn(a):l,K||a===i.value||(i.value=a),i.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=K?i.checked:!!h,i.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),In(i)}function Il(i,a,l){a==="number"&&Wr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Oi(i,a,l,h){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+vn(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function Rl(i,a,l){if(a!=null&&(a=""+vn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+vn(l):""}function Na(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(xe(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=vn(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),In(i)}function di(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||Ga.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Ll(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&l[y]!==h&&kl(i,y,h)}else for(var w in a)a.hasOwnProperty(w)&&kl(i,w,a[w])}function $o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(i){return Ta.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function zs(){}var Ca=null;function Qi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wa=null,qt=null;function go(i){var a=Pi(i);if(a&&(i=a.stateNode)){var l=i[rr]||null;e:switch(i=a.stateNode,a.type){case"input":if(mo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var y=h[rr]||null;if(!y)throw Error(r(90));mo(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&Ha(h)}break e;case"textarea":Rl(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Oi(i,!!l.multiple,a,!1)}}}var Xo=!1;function Ya(i,a,l){if(Xo)return i(a,l);Xo=!0;try{var h=i(a);return h}finally{if(Xo=!1,(Wa!==null||qt!==null)&&(Yp(),Wa&&(a=Wa,i=qt,qt=Wa=null,go(a),i)))for(a=0;a<i.length;a++)go(i[a])}}function pi(i,a){var l=i.stateNode;if(l===null)return null;var h=l[rr]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=!1;if(ri)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){yo=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{yo=!1}var hs=null,vo=null,qs=null;function Dl(){if(qs)return qs;var i,a=vo,l=a.length,h,y="value"in hs?hs.value:hs.textContent,w=y.length;for(i=0;i<l&&a[i]===y[i];i++);var I=l-i;for(h=1;h<=I&&a[l-h]===y[w-h];h++);return qs=y.slice(i,1<h?1-h:void 0)}function fs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ia(){return!0}function ds(){return!1}function Yr(i){function a(l,h,y,w,I){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var K in i)i.hasOwnProperty(K)&&(l=i[K],this[K]=l?l(w):w[K]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ia:ds,this.isPropagationStopped=ds,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),a}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Yr(Js),Zs=b({},Js,{view:0,detail:0}),$a=Yr(Zs),ea,ta,Ts,bo=b({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ts&&(Ts&&i.type==="mousemove"?(ea=i.screenX-Ts.screenX,ta=i.screenY-Ts.screenY):ta=ea=0,Ts=i),ea)},movementY:function(i){return"movementY"in i?i.movementY:ta}}),Qo=Yr(bo),ps=b({},bo,{dataTransfer:0}),na=Yr(ps),Pl=b({},Zs,{relatedTarget:0}),Hs=Yr(Pl),Jo=b({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Yr(Jo),F=b({},Js,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ue=Yr(F),be=b({},Js,{data:0}),Te=Yr(be),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function It(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=xt[i])?!!a[i]:!1}function Wt(){return It}var Ft=b({},Zs,{key:function(i){if(i.key){var a=Ge[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=fs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wt,charCode:function(i){return i.type==="keypress"?fs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xn=Yr(Ft),hr=b({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tr=Yr(hr),m=b({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wt}),N=Yr(m),M=b({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Yr(M),Re=b({},bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Yr(Re),at=b({},Js,{newState:0,oldState:0}),nn=Yr(at),fr=[9,13,27,32],mn=ri&&"CompositionEvent"in window,Yn=null;ri&&"documentMode"in document&&(Yn=document.documentMode);var Ei=ri&&"TextEvent"in window&&!Yn,Mi=ri&&(!mn||Yn&&8<Yn&&11>=Yn),ir=" ",ji=!1;function Gs(i,a){switch(i){case"keyup":return fr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xa=!1;function ms(i,a){switch(i){case"compositionend":return Ka(a);case"keypress":return a.which!==32?null:(ji=!0,ir);case"textInput":return i=a.data,i===ir&&ji?null:i;default:return null}}function _o(i,a){if(Xa)return i==="compositionend"||!mn&&Gs(i,a)?(i=Dl(),qs=vo=hs=null,Xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Mi&&a.locale!=="ko"?null:a.data;default:return null}}var gc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Au(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!gc[i.type]:a==="textarea"}function Ws(i,a,l,h){Wa?qt?qt.push(h):qt=[h]:Wa=h,a=em(a,"onChange"),0<a.length&&(l=new Si("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var Ra=null,wo=null;function Su(i){db(i,0)}function ka(i){var a=cs(i);if(Ha(a))return i}function Zo(i,a){if(i==="change")return a}var Cs=!1;if(ri){var gs;if(ri){var Qa="oninput"in document;if(!Qa){var Ja=document.createElement("div");Ja.setAttribute("oninput","return;"),Qa=typeof Ja.oninput=="function"}gs=Qa}else gs=!1;Cs=gs&&(!document.documentMode||9<document.documentMode)}function xo(){Ra&&(Ra.detachEvent("onpropertychange",yc),wo=Ra=null)}function yc(i){if(i.propertyName==="value"&&ka(wo)){var a=[];Ws(a,wo,i,Qi(i)),Ya(Su,a)}}function vc(i,a,l){i==="focusin"?(xo(),Ra=a,wo=l,Ra.attachEvent("onpropertychange",yc)):i==="focusout"&&xo()}function $r(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ka(wo)}function dh(i,a){if(i==="click")return ka(a)}function Za(i,a){if(i==="input"||i==="change")return ka(a)}function eo(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Vi=typeof Object.is=="function"?Object.is:eo;function Ao(i,a){if(Vi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!Be.call(a,y)||!Vi(i[y],a[y]))return!1}return!0}function bc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _c(i,a){var l=bc(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bc(l)}}function So(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?So(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Eo(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Wr(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Wr(i.document)}return a}function to(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Ol=ri&&"documentMode"in document&&11>=document.documentMode,Ys=null,No=null,Ji=null,ra=!1;function qn(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ra||Ys==null||Ys!==Wr(h)||(h=Ys,"selectionStart"in h&&to(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ji&&Ao(Ji,h)||(Ji=h,h=em(No,"onSelect"),0<h.length&&(a=new Si("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Ys)))}function On(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var dr={animationend:On("Animation","AnimationEnd"),animationiteration:On("Animation","AnimationIteration"),animationstart:On("Animation","AnimationStart"),transitionrun:On("Transition","TransitionRun"),transitionstart:On("Transition","TransitionStart"),transitioncancel:On("Transition","TransitionCancel"),transitionend:On("Transition","TransitionEnd")},Kr={},no={};ri&&(no=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function La(i){if(Kr[i])return Kr[i];if(!dr[i])return i;var a=dr[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in no)return Kr[i]=a[l];return i}var Ml=La("animationend"),Eu=La("animationiteration"),Ff=La("animationstart"),Ap=La("transitionrun"),Sp=La("transitionstart"),Ep=La("transitioncancel"),Bf=La("transitionend"),zf=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function ia(i,a){zf.set(i,a),Es(a,[i])}var Nu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$s=[],Vl=0,ph=0;function Tu(){for(var i=Vl,a=ph=Vl=0;a<i;){var l=$s[a];$s[a++]=null;var h=$s[a];$s[a++]=null;var y=$s[a];$s[a++]=null;var w=$s[a];if($s[a++]=null,h!==null&&y!==null){var I=h.pending;I===null?y.next=y:(y.next=I.next,I.next=y),h.pending=y}w!==0&&Iu(l,y,w)}}function Cu(i,a,l,h){$s[Vl++]=i,$s[Vl++]=a,$s[Vl++]=l,$s[Vl++]=h,ph|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function mh(i,a,l,h){return Cu(i,a,l,h),Zi(i)}function To(i,a){return Cu(i,null,null,a),Zi(i)}function Iu(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,w=i.return;w!==null;)w.childLanes|=l,h=w.alternate,h!==null&&(h.childLanes|=l),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(y=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,y&&a!==null&&(y=31-Qt(l),i=w.hiddenUpdates,h=i[y],h===null?i[y]=[a]:h.push(a),a.lane=l|536870912),w):null}function Zi(i){if(50<ud)throw ud=0,q1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ui={};function gh(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(i,a,l,h){return new gh(i,a,l,h)}function yh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sa(i,a){var l=i.alternate;return l===null?(l=es(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Ru(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function wc(i,a,l,h,y,w){var I=0;if(h=i,typeof i=="function")yh(i)&&(I=1);else if(typeof i=="string")I=cT(i,l,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=es(31,l,a,y),i.elementType=P,i.lanes=w,i;case V:return el(l.children,y,w,a);case U:I=8,y|=24;break;case j:return i=es(12,l,a,y|2),i.elementType=j,i.lanes=w,i;case ie:return i=es(13,l,a,y),i.elementType=ie,i.lanes=w,i;case de:return i=es(19,l,a,y),i.elementType=de,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case oe:I=10;break e;case te:I=9;break e;case Y:I=11;break e;case q:I=14;break e;case R:I=16,h=null;break e}I=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=es(I,l,a,y),a.elementType=i,a.type=h,a.lanes=w,a}function el(i,a,l,h){return i=es(7,i,h,a),i.lanes=l,i}function ku(i,a,l){return i=es(6,i,null,a),i.lanes=l,i}function vh(i){var a=es(18,null,null,0);return a.stateNode=i,a}function xc(i,a,l){return a=es(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var bh=new WeakMap;function aa(i,a){if(typeof i=="object"&&i!==null){var l=bh.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Mt(a)},bh.set(i,a),a)}return{value:i,source:a,stack:Mt(a)}}var Ac=[],Ul=0,_h=null,Lu=0,oa=[],la=0,tl=null,ca=1,ua="";function Ks(i,a){Ac[Ul++]=Lu,Ac[Ul++]=_h,_h=i,Lu=a}function Np(i,a,l){oa[la++]=ca,oa[la++]=ua,oa[la++]=tl,tl=i;var h=ca;i=ua;var y=32-Qt(h)-1;h&=~(1<<y),l+=1;var w=32-Qt(a)+y;if(30<w){var I=y-y%5;w=(h&(1<<I)-1).toString(32),h>>=I,y-=I,ca=1<<32-Qt(a)+y|l<<y|h,ua=w+i}else ca=1<<w|l<<y|h,ua=i}function qf(i){i.return!==null&&(Ks(i,1),Np(i,1,0))}function wh(i){for(;i===_h;)_h=Ac[--Ul],Ac[Ul]=null,Lu=Ac[--Ul],Ac[Ul]=null;for(;i===tl;)tl=oa[--la],oa[la]=null,ua=oa[--la],oa[la]=null,ca=oa[--la],oa[la]=null}function Tp(i,a){oa[la++]=ca,oa[la++]=ua,oa[la++]=tl,ca=a.id,ua=a.overflow,tl=i}var Fi=null,br=null,En=!1,ys=null,Vr=!1,Da=Error(r(519));function nl(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sc(aa(a,i)),Da}function Hf(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[Gn]=i,a[rr]=h,l){case"dialog":Tn("cancel",a),Tn("close",a);break;case"iframe":case"object":case"embed":Tn("load",a);break;case"video":case"audio":for(l=0;l<fd.length;l++)Tn(fd[l],a);break;case"source":Tn("error",a);break;case"img":case"image":case"link":Tn("error",a),Tn("load",a);break;case"details":Tn("toggle",a);break;case"input":Tn("invalid",a),mc(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Tn("invalid",a);break;case"textarea":Tn("invalid",a),Na(a,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||yb(a.textContent,l)?(h.popover!=null&&(Tn("beforetoggle",a),Tn("toggle",a)),h.onScroll!=null&&Tn("scroll",a),h.onScrollEnd!=null&&Tn("scrollend",a),h.onClick!=null&&(a.onclick=zs),a=!0):a=!1,a||nl(i,!0)}function Co(i){for(Fi=i.return;Fi;)switch(Fi.tag){case 5:case 31:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:Fi=Fi.return}}function Bi(i){if(i!==Fi)return!1;if(!En)return Co(i),En=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||i0(i.type,i.memoizedProps)),l=!l),l&&br&&nl(i),Co(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));br=Nb(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));br=Nb(i)}else a===27?(a=br,Vc(i.type)?(i=c0,c0=null,br=i):br=a):br=Fi?ao(i.stateNode.nextSibling):null;return!0}function Fl(){br=Fi=null,En=!1}function Gf(){var i=ys;return i!==null&&(ga===null?ga=i:ga.push.apply(ga,i),ys=null),i}function Sc(i){ys===null?ys=[i]:ys.push(i)}var xh=X(null),rl=null,ro=null;function il(i,a,l){z(xh,a._currentValue),a._currentValue=l}function ha(i){i._currentValue=xh.current,L(xh)}function Ec(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function Bl(i,a,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var w=y.dependencies;if(w!==null){var I=y.child;w=w.firstContext;e:for(;w!==null;){var K=w;w=y;for(var ge=0;ge<a.length;ge++)if(K.context===a[ge]){w.lanes|=l,K=w.alternate,K!==null&&(K.lanes|=l),Ec(w.return,l,i),h||(I=null);break e}w=K.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=l,w=I.alternate,w!==null&&(w.lanes|=l),Ec(I,l,i),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===i){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function sl(i,a,l,h){i=null;for(var y=a,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var K=y.type;Vi(y.pendingProps.value,I.value)||(i!==null?i.push(K):i=[K])}}else if(y===me.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(yd):i=[yd])}y=y.return}i!==null&&Bl(a,i,l,h),a.flags|=262144}function Ah(i){for(i=i.firstContext;i!==null;){if(!Vi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function al(i){rl=i,ro=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zi(i){return Cp(rl,i)}function Sh(i,a){return rl===null&&al(i),Cp(i,a)}function Cp(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ro===null){if(i===null)throw Error(r(308));ro=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ro=ro.next=a;return l}var l1=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},c1=n.unstable_scheduleCallback,u1=n.unstable_NormalPriority,Xr={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new l1,data:new Map,refCount:0}}function Du(i){i.refCount--,i.refCount===0&&c1(u1,function(){i.controller.abort()})}var Pu=null,Eh=0,p=0,v=null;function E(i,a){if(Pu===null){var l=Pu=[];Eh=0,p=K1(),v={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Eh++,a.then(C,C),a}function C(){if(--Eh===0&&Pu!==null){v!==null&&(v.status="fulfilled");var i=Pu;Pu=null,p=0,v=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function B(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var H=ne.S;ne.S=function(i,a){B5=$e(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&E(i,a),H!==null&&H(i,a)};var W=X(null);function Q(){var i=W.current;return i!==null?i:wr.pooledCache}function ee(i,a){a===null?z(W,W.current):z(W,a.pool)}function he(){var i=Q();return i===null?null:{parent:Xr._currentValue,pool:i}}var _e=Error(r(460)),De=Error(r(474)),ce=Error(r(542)),Ae={then:function(){}};function ke(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qe(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(zs,zs),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,rt(i),i;default:if(typeof a.status=="string")a.then(zs,zs);else{if(i=wr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,rt(i),i}throw ze=a,_e}}function Le(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ze=l,_e):l}}var ze=null;function Ye(){if(ze===null)throw Error(r(459));var i=ze;return ze=null,i}function rt(i){if(i===_e||i===ce)throw Error(r(483))}var Ze=null,Rt=0;function _t(i){var a=Rt;return Rt+=1,Ze===null&&(Ze=[]),qe(Ze,i,a)}function rn(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Nt(i,a){throw a.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function An(i){function a(Ce,we){if(i){var Pe=Ce.deletions;Pe===null?(Ce.deletions=[we],Ce.flags|=16):Pe.push(we)}}function l(Ce,we){if(!i)return null;for(;we!==null;)a(Ce,we),we=we.sibling;return null}function h(Ce){for(var we=new Map;Ce!==null;)Ce.key!==null?we.set(Ce.key,Ce):we.set(Ce.index,Ce),Ce=Ce.sibling;return we}function y(Ce,we){return Ce=sa(Ce,we),Ce.index=0,Ce.sibling=null,Ce}function w(Ce,we,Pe){return Ce.index=Pe,i?(Pe=Ce.alternate,Pe!==null?(Pe=Pe.index,Pe<we?(Ce.flags|=67108866,we):Pe):(Ce.flags|=67108866,we)):(Ce.flags|=1048576,we)}function I(Ce){return i&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function K(Ce,we,Pe,Ke){return we===null||we.tag!==6?(we=ku(Pe,Ce.mode,Ke),we.return=Ce,we):(we=y(we,Pe),we.return=Ce,we)}function ge(Ce,we,Pe,Ke){var $t=Pe.type;return $t===V?We(Ce,we,Pe.props.children,Ke,Pe.key):we!==null&&(we.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===R&&Le($t)===we.type)?(we=y(we,Pe.props),rn(we,Pe),we.return=Ce,we):(we=wc(Pe.type,Pe.key,Pe.props,null,Ce.mode,Ke),rn(we,Pe),we.return=Ce,we)}function Oe(Ce,we,Pe,Ke){return we===null||we.tag!==4||we.stateNode.containerInfo!==Pe.containerInfo||we.stateNode.implementation!==Pe.implementation?(we=xc(Pe,Ce.mode,Ke),we.return=Ce,we):(we=y(we,Pe.children||[]),we.return=Ce,we)}function We(Ce,we,Pe,Ke,$t){return we===null||we.tag!==7?(we=el(Pe,Ce.mode,Ke,$t),we.return=Ce,we):(we=y(we,Pe),we.return=Ce,we)}function Je(Ce,we,Pe){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=ku(""+we,Ce.mode,Pe),we.return=Ce,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return Pe=wc(we.type,we.key,we.props,null,Ce.mode,Pe),rn(Pe,we),Pe.return=Ce,Pe;case O:return we=xc(we,Ce.mode,Pe),we.return=Ce,we;case R:return we=Le(we),Je(Ce,we,Pe)}if(xe(we)||k(we))return we=el(we,Ce.mode,Pe,null),we.return=Ce,we;if(typeof we.then=="function")return Je(Ce,_t(we),Pe);if(we.$$typeof===oe)return Je(Ce,Sh(Ce,we),Pe);Nt(Ce,we)}return null}function je(Ce,we,Pe,Ke){var $t=we!==null?we.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return $t!==null?null:K(Ce,we,""+Pe,Ke);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case _:return Pe.key===$t?ge(Ce,we,Pe,Ke):null;case O:return Pe.key===$t?Oe(Ce,we,Pe,Ke):null;case R:return Pe=Le(Pe),je(Ce,we,Pe,Ke)}if(xe(Pe)||k(Pe))return $t!==null?null:We(Ce,we,Pe,Ke,null);if(typeof Pe.then=="function")return je(Ce,we,_t(Pe),Ke);if(Pe.$$typeof===oe)return je(Ce,we,Sh(Ce,Pe),Ke);Nt(Ce,Pe)}return null}function Ue(Ce,we,Pe,Ke,$t){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Ce=Ce.get(Pe)||null,K(we,Ce,""+Ke,$t);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case _:return Ce=Ce.get(Ke.key===null?Pe:Ke.key)||null,ge(we,Ce,Ke,$t);case O:return Ce=Ce.get(Ke.key===null?Pe:Ke.key)||null,Oe(we,Ce,Ke,$t);case R:return Ke=Le(Ke),Ue(Ce,we,Pe,Ke,$t)}if(xe(Ke)||k(Ke))return Ce=Ce.get(Pe)||null,We(we,Ce,Ke,$t,null);if(typeof Ke.then=="function")return Ue(Ce,we,Pe,_t(Ke),$t);if(Ke.$$typeof===oe)return Ue(Ce,we,Pe,Sh(we,Ke),$t);Nt(we,Ke)}return null}function Tt(Ce,we,Pe,Ke){for(var $t=null,$n=null,Vt=we,pn=we=0,kn=null;Vt!==null&&pn<Pe.length;pn++){Vt.index>pn?(kn=Vt,Vt=null):kn=Vt.sibling;var Kn=je(Ce,Vt,Pe[pn],Ke);if(Kn===null){Vt===null&&(Vt=kn);break}i&&Vt&&Kn.alternate===null&&a(Ce,Vt),we=w(Kn,we,pn),$n===null?$t=Kn:$n.sibling=Kn,$n=Kn,Vt=kn}if(pn===Pe.length)return l(Ce,Vt),En&&Ks(Ce,pn),$t;if(Vt===null){for(;pn<Pe.length;pn++)Vt=Je(Ce,Pe[pn],Ke),Vt!==null&&(we=w(Vt,we,pn),$n===null?$t=Vt:$n.sibling=Vt,$n=Vt);return En&&Ks(Ce,pn),$t}for(Vt=h(Vt);pn<Pe.length;pn++)kn=Ue(Vt,Ce,pn,Pe[pn],Ke),kn!==null&&(i&&kn.alternate!==null&&Vt.delete(kn.key===null?pn:kn.key),we=w(kn,we,pn),$n===null?$t=kn:$n.sibling=kn,$n=kn);return i&&Vt.forEach(function(qc){return a(Ce,qc)}),En&&Ks(Ce,pn),$t}function Jt(Ce,we,Pe,Ke){if(Pe==null)throw Error(r(151));for(var $t=null,$n=null,Vt=we,pn=we=0,kn=null,Kn=Pe.next();Vt!==null&&!Kn.done;pn++,Kn=Pe.next()){Vt.index>pn?(kn=Vt,Vt=null):kn=Vt.sibling;var qc=je(Ce,Vt,Kn.value,Ke);if(qc===null){Vt===null&&(Vt=kn);break}i&&Vt&&qc.alternate===null&&a(Ce,Vt),we=w(qc,we,pn),$n===null?$t=qc:$n.sibling=qc,$n=qc,Vt=kn}if(Kn.done)return l(Ce,Vt),En&&Ks(Ce,pn),$t;if(Vt===null){for(;!Kn.done;pn++,Kn=Pe.next())Kn=Je(Ce,Kn.value,Ke),Kn!==null&&(we=w(Kn,we,pn),$n===null?$t=Kn:$n.sibling=Kn,$n=Kn);return En&&Ks(Ce,pn),$t}for(Vt=h(Vt);!Kn.done;pn++,Kn=Pe.next())Kn=Ue(Vt,Ce,pn,Kn.value,Ke),Kn!==null&&(i&&Kn.alternate!==null&&Vt.delete(Kn.key===null?pn:Kn.key),we=w(Kn,we,pn),$n===null?$t=Kn:$n.sibling=Kn,$n=Kn);return i&&Vt.forEach(function(_T){return a(Ce,_T)}),En&&Ks(Ce,pn),$t}function yr(Ce,we,Pe,Ke){if(typeof Pe=="object"&&Pe!==null&&Pe.type===V&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case _:e:{for(var $t=Pe.key;we!==null;){if(we.key===$t){if($t=Pe.type,$t===V){if(we.tag===7){l(Ce,we.sibling),Ke=y(we,Pe.props.children),Ke.return=Ce,Ce=Ke;break e}}else if(we.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===R&&Le($t)===we.type){l(Ce,we.sibling),Ke=y(we,Pe.props),rn(Ke,Pe),Ke.return=Ce,Ce=Ke;break e}l(Ce,we);break}else a(Ce,we);we=we.sibling}Pe.type===V?(Ke=el(Pe.props.children,Ce.mode,Ke,Pe.key),Ke.return=Ce,Ce=Ke):(Ke=wc(Pe.type,Pe.key,Pe.props,null,Ce.mode,Ke),rn(Ke,Pe),Ke.return=Ce,Ce=Ke)}return I(Ce);case O:e:{for($t=Pe.key;we!==null;){if(we.key===$t)if(we.tag===4&&we.stateNode.containerInfo===Pe.containerInfo&&we.stateNode.implementation===Pe.implementation){l(Ce,we.sibling),Ke=y(we,Pe.children||[]),Ke.return=Ce,Ce=Ke;break e}else{l(Ce,we);break}else a(Ce,we);we=we.sibling}Ke=xc(Pe,Ce.mode,Ke),Ke.return=Ce,Ce=Ke}return I(Ce);case R:return Pe=Le(Pe),yr(Ce,we,Pe,Ke)}if(xe(Pe))return Tt(Ce,we,Pe,Ke);if(k(Pe)){if($t=k(Pe),typeof $t!="function")throw Error(r(150));return Pe=$t.call(Pe),Jt(Ce,we,Pe,Ke)}if(typeof Pe.then=="function")return yr(Ce,we,_t(Pe),Ke);if(Pe.$$typeof===oe)return yr(Ce,we,Sh(Ce,Pe),Ke);Nt(Ce,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,we!==null&&we.tag===6?(l(Ce,we.sibling),Ke=y(we,Pe),Ke.return=Ce,Ce=Ke):(l(Ce,we),Ke=ku(Pe,Ce.mode,Ke),Ke.return=Ce,Ce=Ke),I(Ce)):l(Ce,we)}return function(Ce,we,Pe,Ke){try{Rt=0;var $t=yr(Ce,we,Pe,Ke);return Ze=null,$t}catch(Vt){if(Vt===_e||Vt===ce)throw Vt;var $n=es(29,Vt,null,Ce.mode);return $n.lanes=Ke,$n.return=Ce,$n}}}var _r=An(!0),on=An(!1),wt=!1;function ft(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rr(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Xt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fn(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Jn&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=Zi(i),Iu(i,null,l),a}return Cu(i,h,a,l),Zi(i)}function Xn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Zn(i,l)}}function mi(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?y=w=I:w=w.next=I,l=l.next}while(l!==null);w===null?y=w=a:w=w.next=a}else y=w=a;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var qi=!1;function pr(){if(qi){var i=v;if(i!==null)throw i}}function ii(i,a,l,h){qi=!1;var y=i.updateQueue;wt=!1;var w=y.firstBaseUpdate,I=y.lastBaseUpdate,K=y.shared.pending;if(K!==null){y.shared.pending=null;var ge=K,Oe=ge.next;ge.next=null,I===null?w=Oe:I.next=Oe,I=ge;var We=i.alternate;We!==null&&(We=We.updateQueue,K=We.lastBaseUpdate,K!==I&&(K===null?We.firstBaseUpdate=Oe:K.next=Oe,We.lastBaseUpdate=ge))}if(w!==null){var Je=y.baseState;I=0,We=Oe=ge=null,K=w;do{var je=K.lane&-536870913,Ue=je!==K.lane;if(Ue?(Rn&je)===je:(h&je)===je){je!==0&&je===p&&(qi=!0),We!==null&&(We=We.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Tt=i,Jt=K;je=a;var yr=l;switch(Jt.tag){case 1:if(Tt=Jt.payload,typeof Tt=="function"){Je=Tt.call(yr,Je,je);break e}Je=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Jt.payload,je=typeof Tt=="function"?Tt.call(yr,Je,je):Tt,je==null)break e;Je=b({},Je,je);break e;case 2:wt=!0}}je=K.callback,je!==null&&(i.flags|=64,Ue&&(i.flags|=8192),Ue=y.callbacks,Ue===null?y.callbacks=[je]:Ue.push(je))}else Ue={lane:je,tag:K.tag,payload:K.payload,callback:K.callback,next:null},We===null?(Oe=We=Ue,ge=Je):We=We.next=Ue,I|=je;if(K=K.next,K===null){if(K=y.shared.pending,K===null)break;Ue=K,K=Ue.next,Ue.next=null,y.lastBaseUpdate=Ue,y.shared.pending=null}}while(!0);We===null&&(ge=Je),y.baseState=ge,y.firstBaseUpdate=Oe,y.lastBaseUpdate=We,w===null&&(y.shared.lanes=0),Dc|=I,i.lanes=I,i.memoizedState=Je}}function ts(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function si(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ts(l[i],a)}var gn=X(null),Vn=X(0);function kr(i,a){i=Ql,z(Vn,i),z(gn,a),Ql=i|a.baseLanes}function Hn(){z(Vn,Ql),z(gn,gn.current)}function gi(){Ql=Vn.current,L(gn),L(Vn)}var Lr=X(null),Un=null;function Qr(i){var a=i.alternate;z(Mn,Mn.current&1),z(Lr,i),Un===null&&(a===null||gn.current!==null||a.memoizedState!==null)&&(Un=i)}function Qn(i){z(Mn,Mn.current),z(Lr,i),Un===null&&(Un=i)}function ai(i){i.tag===22?(z(Mn,Mn.current),z(Lr,i),Un===null&&(Un=i)):oi()}function oi(){z(Mn,Mn.current),z(Lr,Lr.current)}function sr(i){L(Lr),Un===i&&(Un=null),L(Mn)}var Mn=X(0);function ns(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||o0(l)||l0(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ur=0,Ht=null,Yt=null,Fn=null,Is=!1,fa=!1,vs=!1,li=0,ol=0,ll=null,Nh=0;function mr(){throw Error(r(321))}function Wf(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Vi(i[l],a[l]))return!1;return!0}function Yf(i,a,l,h,y,w){return Ur=w,Ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ne.H=i===null||i.memoizedState===null?Jv:v1,vs=!1,w=l(h,y),vs=!1,fa&&(w=Io(a,l,h,y)),Th(i),w}function Th(i){ne.H=td;var a=Yt!==null&&Yt.next!==null;if(Ur=0,Fn=Yt=Ht=null,Is=!1,ol=0,ll=null,a)throw Error(r(300));i===null||Ti||(i=i.dependencies,i!==null&&Ah(i)&&(Ti=!0))}function Io(i,a,l,h){Ht=i;var y=0;do{if(fa&&(ll=null),ol=0,fa=!1,25<=y)throw Error(r(301));if(y+=1,Fn=Yt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ne.H=Zv,w=a(l,h)}while(fa);return w}function h1(){var i=ne.H,a=i.useState()[0];return a=typeof a.then=="function"?cl(a):a,i=i.useState()[0],(Yt!==null?Yt.memoizedState:null)!==i&&(Ht.flags|=1024),a}function $f(){var i=li!==0;return li=0,i}function Kf(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Ch(i){if(Is){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Is=!1}Ur=0,Fn=Yt=Ht=null,fa=!1,ol=li=0,ll=null}function Ni(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Ht.memoizedState=Fn=i:Fn=Fn.next=i,Fn}function Fr(){if(Yt===null){var i=Ht.alternate;i=i!==null?i.memoizedState:null}else i=Yt.next;var a=Fn===null?Ht.memoizedState:Fn.next;if(a!==null)Fn=a,Yt=i;else{if(i===null)throw Ht.alternate===null?Error(r(467)):Error(r(310));Yt=i,i={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Fn===null?Ht.memoizedState=Fn=i:Fn=Fn.next=i}return Fn}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(i){var a=ol;return ol+=1,ll===null&&(ll=[]),i=qe(ll,i,a),a=Ht,(Fn===null?a.memoizedState:Fn.next)===null&&(a=a.alternate,ne.H=a===null||a.memoizedState===null?Jv:v1),i}function Tc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cl(i);if(i.$$typeof===oe)return zi(i)}throw Error(r(438,String(i)))}function zl(i){var a=null,l=Ht.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Ht.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ou(),Ht.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=G;return a.index++,l}function io(i,a){return typeof a=="function"?a(i):a}function Ih(i){var a=Fr();return Cc(a,Yt,i)}function Cc(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,w=h.pending;if(w!==null){if(y!==null){var I=y.next;y.next=w.next,w.next=I}a.baseQueue=y=w,h.pending=null}if(w=i.baseState,y===null)i.memoizedState=w;else{a=y.next;var K=I=null,ge=null,Oe=a,We=!1;do{var Je=Oe.lane&-536870913;if(Je!==Oe.lane?(Rn&Je)===Je:(Ur&Je)===Je){var je=Oe.revertLane;if(je===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Je===p&&(We=!0);else if((Ur&je)===je){Oe=Oe.next,je===p&&(We=!0);continue}else Je={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ge===null?(K=ge=Je,I=w):ge=ge.next=Je,Ht.lanes|=je,Dc|=je;Je=Oe.action,vs&&l(w,Je),w=Oe.hasEagerState?Oe.eagerState:l(w,Je)}else je={lane:Je,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ge===null?(K=ge=je,I=w):ge=ge.next=je,Ht.lanes|=Je,Dc|=Je;Oe=Oe.next}while(Oe!==null&&Oe!==a);if(ge===null?I=w:ge.next=K,!Vi(w,i.memoizedState)&&(Ti=!0,We&&(l=v,l!==null)))throw l;i.memoizedState=w,i.baseState=I,i.baseQueue=ge,h.lastRenderedState=w}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Rh(i){var a=Fr(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,w=a.memoizedState;if(y!==null){l.pending=null;var I=y=y.next;do w=i(w,I.action),I=I.next;while(I!==y);Vi(w,a.memoizedState)||(Ti=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),l.lastRenderedState=w}return[w,h]}function kh(i,a,l){var h=Ht,y=Fr(),w=En;if(w){if(l===void 0)throw Error(r(407));l=l()}else l=a();var I=!Vi((Yt||y).memoizedState,l);if(I&&(y.memoizedState=l,Ti=!0),y=y.queue,f1(Qf.bind(null,h,y,i),[i]),y.getSnapshot!==a||I||Fn!==null&&Fn.memoizedState.tag&1){if(h.flags|=2048,Hl(9,{destroy:void 0},Xf.bind(null,h,y,l,a),null),wr===null)throw Error(r(349));w||(Ur&127)!==0||Ro(h,a,l)}return l}function Ro(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ht.updateQueue,a===null?(a=Ou(),Ht.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Xf(i,a,l,h){a.value=l,a.getSnapshot=h,Ip(a)&&Jf(i)}function Qf(i,a,l){return l(function(){Ip(a)&&Jf(i)})}function Ip(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Vi(i,l)}catch{return!0}}function Jf(i){var a=To(i,2);a!==null&&ya(a,i,2)}function ul(i){var a=Ni();if(typeof i=="function"){var l=i;if(i=l(),vs){Ut(!0);try{l()}finally{Ut(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:i},a}function Rp(i,a,l,h){return i.baseState=l,Cc(i,Yt,typeof h=="function"?h:io)}function kp(i,a,l,h,y){if(Op(i))throw Error(r(485));if(i=a.action,i!==null){var w={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};ne.T!==null?l(!0):w.isTransition=!1,h(w),l=a.pending,l===null?(w.next=a.pending=w,Lp(a,w)):(w.next=l.next,a.pending=l.next=w)}}function Lp(i,a){var l=a.action,h=a.payload,y=i.state;if(a.isTransition){var w=ne.T,I={};ne.T=I;try{var K=l(y,h),ge=ne.S;ge!==null&&ge(I,K),Zf(i,a,K)}catch(Oe){ql(i,a,Oe)}finally{w!==null&&I.types!==null&&(w.types=I.types),ne.T=w}}else try{w=l(y,h),Zf(i,a,w)}catch(Oe){ql(i,a,Oe)}}function Zf(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Dp(i,a,h)},function(h){return ql(i,a,h)}):Dp(i,a,l)}function Dp(i,a,l){a.status="fulfilled",a.value=l,Lh(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Lp(i,l)))}function ql(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,Lh(a),a=a.next;while(a!==h)}i.action=null}function Lh(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Mu(i,a){return a}function so(i,a){if(En){var l=wr.formState;if(l!==null){e:{var h=Ht;if(En){if(br){t:{for(var y=br,w=Vr;y.nodeType!==8;){if(!w){y=null;break t}if(y=ao(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){br=ao(y.nextSibling),h=y.data==="F!";break e}}nl(h)}h=!1}h&&(a=l[0])}}return l=Ni(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:a},l.queue=h,l=Kv.bind(null,Ht,h),h.dispatch=l,h=ul(!1),w=y1.bind(null,Ht,!1,h.queue),h=Ni(),y={state:a,dispatch:null,action:i,pending:null},h.queue=y,l=kp.bind(null,Ht,y,w,l),y.dispatch=l,h.memoizedState=i,[a,l,!1]}function ko(i){var a=Fr();return Lo(a,Yt,i)}function Lo(i,a,l){if(a=Cc(i,a,Mu)[0],i=Ih(io)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=cl(a)}catch(I){throw I===_e?ce:I}else h=a;a=Fr();var y=a.queue,w=y.dispatch;return l!==a.memoizedState&&(Ht.flags|=2048,Hl(9,{destroy:void 0},Dh.bind(null,y,l),null)),[h,w,i]}function Dh(i,a){i.action=a}function Ph(i){var a=Fr(),l=Yt;if(l!==null)return Lo(a,l,i);Fr(),a=a.memoizedState,l=Fr();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function Hl(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=Ht.updateQueue,a===null&&(a=Ou(),Ht.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function Pp(){return Fr().memoizedState}function Ic(i,a,l,h){var y=Ni();Ht.flags|=i,y.memoizedState=Hl(1|a,{destroy:void 0},l,h===void 0?null:h)}function Rc(i,a,l,h){var y=Fr();h=h===void 0?null:h;var w=y.memoizedState.inst;Yt!==null&&h!==null&&Wf(h,Yt.memoizedState.deps)?y.memoizedState=Hl(a,w,l,h):(Ht.flags|=i,y.memoizedState=Hl(1|a,w,l,h))}function Ov(i,a){Ic(8390656,8,i,a)}function f1(i,a){Rc(2048,8,i,a)}function pN(i){Ht.flags|=4;var a=Ht.updateQueue;if(a===null)a=Ou(),Ht.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Mv(i){var a=Fr().memoizedState;return pN({ref:a,nextImpl:i}),function(){if((Jn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function jv(i,a){return Rc(4,2,i,a)}function Vv(i,a){return Rc(4,4,i,a)}function Uv(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Fv(i,a,l){l=l!=null?l.concat([i]):null,Rc(4,4,Uv.bind(null,a,i),l)}function d1(){}function Bv(i,a){var l=Fr();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Wf(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function zv(i,a){var l=Fr();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Wf(a,h[1]))return h[0];if(h=i(),vs){Ut(!0);try{i()}finally{Ut(!1)}}return l.memoizedState=[h,a],h}function p1(i,a,l){return l===void 0||(Ur&1073741824)!==0&&(Rn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=q5(),Ht.lanes|=i,Dc|=i,l)}function qv(i,a,l,h){return Vi(l,a)?l:gn.current!==null?(i=p1(i,l,h),Vi(i,a)||(Ti=!0),i):(Ur&42)===0||(Ur&1073741824)!==0&&(Rn&261930)===0?(Ti=!0,i.memoizedState=l):(i=q5(),Ht.lanes|=i,Dc|=i,a)}function Hv(i,a,l,h,y){var w=Z.p;Z.p=w!==0&&8>w?w:8;var I=ne.T,K={};ne.T=K,y1(i,!1,a,l);try{var ge=y(),Oe=ne.S;if(Oe!==null&&Oe(K,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var We=B(ge,h);ed(i,a,We,Ma(i))}else ed(i,a,h,Ma(i))}catch(Je){ed(i,a,{then:function(){},status:"rejected",reason:Je},Ma())}finally{Z.p=w,I!==null&&K.types!==null&&(I.types=K.types),ne.T=I}}function mN(){}function m1(i,a,l,h){if(i.tag!==5)throw Error(r(476));var y=Gv(i).queue;Hv(i,y,a,re,l===null?mN:function(){return Wv(i),l(h)})}function Gv(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Wv(i){var a=Gv(i);a.next===null&&(a=i.alternate.memoizedState),ed(i,a.next.queue,{},Ma())}function g1(){return zi(yd)}function Yv(){return Fr().memoizedState}function $v(){return Fr().memoizedState}function gN(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ma();i=Xt(l);var h=fn(a,i,l);h!==null&&(ya(h,a,l),Xn(h,a,l)),a={cache:Nc()},i.payload=a;return}a=a.return}}function yN(i,a,l){var h=Ma();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Op(i)?Xv(a,l):(l=mh(i,a,l,h),l!==null&&(ya(l,i,h),Qv(l,a,h)))}function Kv(i,a,l){var h=Ma();ed(i,a,l,h)}function ed(i,a,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Op(i))Xv(a,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var I=a.lastRenderedState,K=w(I,l);if(y.hasEagerState=!0,y.eagerState=K,Vi(K,I))return Cu(i,a,y,0),wr===null&&Tu(),!1}catch{}if(l=mh(i,a,y,h),l!==null)return ya(l,i,h),Qv(l,a,h),!0}return!1}function y1(i,a,l,h){if(h={lane:2,revertLane:K1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Op(i)){if(a)throw Error(r(479))}else a=mh(i,l,h,2),a!==null&&ya(a,i,2)}function Op(i){var a=i.alternate;return i===Ht||a!==null&&a===Ht}function Xv(i,a){fa=Is=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Qv(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Zn(i,l)}}var td={readContext:zi,use:Tc,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useLayoutEffect:mr,useInsertionEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useSyncExternalStore:mr,useId:mr,useHostTransitionStatus:mr,useFormState:mr,useActionState:mr,useOptimistic:mr,useMemoCache:mr,useCacheRefresh:mr};td.useEffectEvent=mr;var Jv={readContext:zi,use:Tc,useCallback:function(i,a){return Ni().memoizedState=[i,a===void 0?null:a],i},useContext:zi,useEffect:Ov,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Ic(4194308,4,Uv.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Ic(4194308,4,i,a)},useInsertionEffect:function(i,a){Ic(4,2,i,a)},useMemo:function(i,a){var l=Ni();a=a===void 0?null:a;var h=i();if(vs){Ut(!0);try{i()}finally{Ut(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=Ni();if(l!==void 0){var y=l(a);if(vs){Ut(!0);try{l(a)}finally{Ut(!1)}}}else y=a;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=yN.bind(null,Ht,i),[h.memoizedState,i]},useRef:function(i){var a=Ni();return i={current:i},a.memoizedState=i},useState:function(i){i=ul(i);var a=i.queue,l=Kv.bind(null,Ht,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:d1,useDeferredValue:function(i,a){var l=Ni();return p1(l,i,a)},useTransition:function(){var i=ul(!1);return i=Hv.bind(null,Ht,i.queue,!0,!1),Ni().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=Ht,y=Ni();if(En){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),wr===null)throw Error(r(349));(Rn&127)!==0||Ro(h,a,l)}y.memoizedState=l;var w={value:l,getSnapshot:a};return y.queue=w,Ov(Qf.bind(null,h,w,i),[i]),h.flags|=2048,Hl(9,{destroy:void 0},Xf.bind(null,h,w,l,a),null),l},useId:function(){var i=Ni(),a=wr.identifierPrefix;if(En){var l=ua,h=ca;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,a="_"+a+"R_"+l,l=li++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Nh++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:g1,useFormState:so,useActionState:so,useOptimistic:function(i){var a=Ni();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=y1.bind(null,Ht,!0,l),l.dispatch=a,[i,a]},useMemoCache:zl,useCacheRefresh:function(){return Ni().memoizedState=gN.bind(null,Ht)},useEffectEvent:function(i){var a=Ni(),l={impl:i};return a.memoizedState=l,function(){if((Jn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},v1={readContext:zi,use:Tc,useCallback:Bv,useContext:zi,useEffect:f1,useImperativeHandle:Fv,useInsertionEffect:jv,useLayoutEffect:Vv,useMemo:zv,useReducer:Ih,useRef:Pp,useState:function(){return Ih(io)},useDebugValue:d1,useDeferredValue:function(i,a){var l=Fr();return qv(l,Yt.memoizedState,i,a)},useTransition:function(){var i=Ih(io)[0],a=Fr().memoizedState;return[typeof i=="boolean"?i:cl(i),a]},useSyncExternalStore:kh,useId:Yv,useHostTransitionStatus:g1,useFormState:ko,useActionState:ko,useOptimistic:function(i,a){var l=Fr();return Rp(l,Yt,i,a)},useMemoCache:zl,useCacheRefresh:$v};v1.useEffectEvent=Mv;var Zv={readContext:zi,use:Tc,useCallback:Bv,useContext:zi,useEffect:f1,useImperativeHandle:Fv,useInsertionEffect:jv,useLayoutEffect:Vv,useMemo:zv,useReducer:Rh,useRef:Pp,useState:function(){return Rh(io)},useDebugValue:d1,useDeferredValue:function(i,a){var l=Fr();return Yt===null?p1(l,i,a):qv(l,Yt.memoizedState,i,a)},useTransition:function(){var i=Rh(io)[0],a=Fr().memoizedState;return[typeof i=="boolean"?i:cl(i),a]},useSyncExternalStore:kh,useId:Yv,useHostTransitionStatus:g1,useFormState:Ph,useActionState:Ph,useOptimistic:function(i,a){var l=Fr();return Yt!==null?Rp(l,Yt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:zl,useCacheRefresh:$v};Zv.useEffectEvent=Mv;function b1(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:b({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var _1={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=Ma(),y=Xt(h);y.payload=a,l!=null&&(y.callback=l),a=fn(i,y,h),a!==null&&(ya(a,i,h),Xn(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=Ma(),y=Xt(h);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=fn(i,y,h),a!==null&&(ya(a,i,h),Xn(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Ma(),h=Xt(l);h.tag=2,a!=null&&(h.callback=a),a=fn(i,h,l),a!==null&&(ya(a,i,l),Xn(a,i,l))}};function e5(i,a,l,h,y,w,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,I):a.prototype&&a.prototype.isPureReactComponent?!Ao(l,h)||!Ao(y,w):!0}function t5(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&_1.enqueueReplaceState(a,a.state,null)}function ju(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=b({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function n5(i){Nu(i)}function r5(i){console.error(i)}function i5(i){Nu(i)}function Mp(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function s5(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function w1(i,a,l){return l=Xt(l),l.tag=3,l.payload={element:null},l.callback=function(){Mp(i,a)},l}function a5(i){return i=Xt(i),i.tag=3,i}function o5(i,a,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;i.payload=function(){return y(w)},i.callback=function(){s5(a,l,h)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){s5(a,l,h),typeof y!="function"&&(Pc===null?Pc=new Set([this]):Pc.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})})}function vN(i,a,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&sl(a,l,y,!0),l=Lr.current,l!==null){switch(l.tag){case 31:case 13:return Un===null?$p():l.alternate===null&&ci===0&&(ci=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===Ae?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),W1(i,h,y)),!1;case 22:return l.flags|=65536,h===Ae?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),W1(i,h,y)),!1}throw Error(r(435,l.tag))}return W1(i,h,y),$p(),!1}if(En)return a=Lr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==Da&&(i=Error(r(422),{cause:h}),Sc(aa(i,l)))):(h!==Da&&(a=Error(r(423),{cause:h}),Sc(aa(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=aa(h,l),y=w1(i.stateNode,h,y),mi(i,y),ci!==4&&(ci=2)),!1;var w=Error(r(520),{cause:h});if(w=aa(w,l),cd===null?cd=[w]:cd.push(w),ci!==4&&(ci=2),a===null)return!0;h=aa(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=w1(l.stateNode,h,i),mi(l,i),!1;case 1:if(a=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pc===null||!Pc.has(w))))return l.flags|=65536,y&=-y,l.lanes|=y,y=a5(y),o5(y,i,l,h),mi(l,y),!1}l=l.return}while(l!==null);return!1}var x1=Error(r(461)),Ti=!1;function bs(i,a,l,h){a.child=i===null?on(a,null,l,h):_r(a,i.child,l,h)}function l5(i,a,l,h,y){l=l.render;var w=a.ref;if("ref"in h){var I={};for(var K in h)K!=="ref"&&(I[K]=h[K])}else I=h;return al(a),h=Yf(i,a,l,I,w,y),K=$f(),i!==null&&!Ti?(Kf(i,a,y),Gl(i,a,y)):(En&&K&&qf(a),a.flags|=1,bs(i,a,h,y),a.child)}function c5(i,a,l,h,y){if(i===null){var w=l.type;return typeof w=="function"&&!yh(w)&&w.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=w,u5(i,a,w,h,y)):(i=wc(l.type,null,h,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!R1(i,y)){var I=w.memoizedProps;if(l=l.compare,l=l!==null?l:Ao,l(I,h)&&i.ref===a.ref)return Gl(i,a,y)}return a.flags|=1,i=sa(w,h),i.ref=a.ref,i.return=a,a.child=i}function u5(i,a,l,h,y){if(i!==null){var w=i.memoizedProps;if(Ao(w,h)&&i.ref===a.ref)if(Ti=!1,a.pendingProps=h=w,R1(i,y))(i.flags&131072)!==0&&(Ti=!0);else return a.lanes=i.lanes,Gl(i,a,y)}return A1(i,a,l,h,y)}function h5(i,a,l,h){var y=h.children,w=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,i!==null){for(h=a.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~w}else h=0,a.child=null;return f5(i,a,w,l,h)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&ee(a,w!==null?w.cachePool:null),w!==null?kr(a,w):Hn(),ai(a);else return h=a.lanes=536870912,f5(i,a,w!==null?w.baseLanes|l:l,l,h)}else w!==null?(ee(a,w.cachePool),kr(a,w),oi(),a.memoizedState=null):(i!==null&&ee(a,null),Hn(),oi());return bs(i,a,y,l),a.child}function nd(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function f5(i,a,l,h,y){var w=Q();return w=w===null?null:{parent:Xr._currentValue,pool:w},a.memoizedState={baseLanes:l,cachePool:w},i!==null&&ee(a,null),Hn(),ai(a),i!==null&&sl(i,a,h,!0),a.childLanes=y,null}function jp(i,a){return a=Up({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function d5(i,a,l){return _r(a,i.child,null,l),i=jp(a,a.pendingProps),i.flags|=2,sr(a),a.memoizedState=null,i}function bN(i,a,l){var h=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(En){if(h.mode==="hidden")return i=jp(a,h),a.lanes=536870912,nd(null,i);if(Qn(a),(i=br)?(i=Eb(i,Vr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:tl!==null?{id:ca,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},l=vh(i),l.return=a,a.child=l,Fi=a,br=null)):i=null,i===null)throw nl(a);return a.lanes=536870912,null}return jp(a,h)}var w=i.memoizedState;if(w!==null){var I=w.dehydrated;if(Qn(a),y)if(a.flags&256)a.flags&=-257,a=d5(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ti||sl(i,a,l,!1),y=(l&i.childLanes)!==0,Ti||y){if(h=wr,h!==null&&(I=er(h,l),I!==0&&I!==w.retryLane))throw w.retryLane=I,To(i,I),ya(h,i,I),x1;$p(),a=d5(i,a,l)}else i=w.treeContext,br=ao(I.nextSibling),Fi=a,En=!0,ys=null,Vr=!1,i!==null&&Tp(a,i),a=jp(a,h),a.flags|=4096;return a}return i=sa(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Vp(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function A1(i,a,l,h,y){return al(a),l=Yf(i,a,l,h,void 0,y),h=$f(),i!==null&&!Ti?(Kf(i,a,y),Gl(i,a,y)):(En&&h&&qf(a),a.flags|=1,bs(i,a,l,y),a.child)}function p5(i,a,l,h,y,w){return al(a),a.updateQueue=null,l=Io(a,h,l,y),Th(i),h=$f(),i!==null&&!Ti?(Kf(i,a,w),Gl(i,a,w)):(En&&h&&qf(a),a.flags|=1,bs(i,a,l,w),a.child)}function m5(i,a,l,h,y){if(al(a),a.stateNode===null){var w=Ui,I=l.contextType;typeof I=="object"&&I!==null&&(w=zi(I)),w=new l(h,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=_1,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=h,w.state=a.memoizedState,w.refs={},ft(a),I=l.contextType,w.context=typeof I=="object"&&I!==null?zi(I):Ui,w.state=a.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(b1(a,l,I,h),w.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&_1.enqueueReplaceState(w,w.state,null),ii(a,h,w,y),pr(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){w=a.stateNode;var K=a.memoizedProps,ge=ju(l,K);w.props=ge;var Oe=w.context,We=l.contextType;I=Ui,typeof We=="object"&&We!==null&&(I=zi(We));var Je=l.getDerivedStateFromProps;We=typeof Je=="function"||typeof w.getSnapshotBeforeUpdate=="function",K=a.pendingProps!==K,We||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(K||Oe!==I)&&t5(a,w,h,I),wt=!1;var je=a.memoizedState;w.state=je,ii(a,h,w,y),pr(),Oe=a.memoizedState,K||je!==Oe||wt?(typeof Je=="function"&&(b1(a,l,Je,h),Oe=a.memoizedState),(ge=wt||e5(a,l,ge,h,je,Oe,I))?(We||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Oe),w.props=h,w.state=Oe,w.context=I,h=ge):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,Rr(i,a),I=a.memoizedProps,We=ju(l,I),w.props=We,Je=a.pendingProps,je=w.context,Oe=l.contextType,ge=Ui,typeof Oe=="object"&&Oe!==null&&(ge=zi(Oe)),K=l.getDerivedStateFromProps,(Oe=typeof K=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Je||je!==ge)&&t5(a,w,h,ge),wt=!1,je=a.memoizedState,w.state=je,ii(a,h,w,y),pr();var Ue=a.memoizedState;I!==Je||je!==Ue||wt||i!==null&&i.dependencies!==null&&Ah(i.dependencies)?(typeof K=="function"&&(b1(a,l,K,h),Ue=a.memoizedState),(We=wt||e5(a,l,We,h,je,Ue,ge)||i!==null&&i.dependencies!==null&&Ah(i.dependencies))?(Oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Ue,ge),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Ue,ge)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Ue),w.props=h,w.state=Ue,w.context=ge,h=We):(typeof w.componentDidUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(a.flags|=1024),h=!1)}return w=h,Vp(i,a),h=(a.flags&128)!==0,w||h?(w=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&h?(a.child=_r(a,i.child,null,y),a.child=_r(a,null,l,y)):bs(i,a,l,y),a.memoizedState=w.state,i=a.child):i=Gl(i,a,y),i}function g5(i,a,l,h){return Fl(),a.flags|=256,bs(i,a,l,h),a.child}var S1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function E1(i){return{baseLanes:i,cachePool:he()}}function N1(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Oa),i}function y5(i,a,l){var h=a.pendingProps,y=!1,w=(a.flags&128)!==0,I;if((I=w)||(I=i!==null&&i.memoizedState===null?!1:(Mn.current&2)!==0),I&&(y=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,i===null){if(En){if(y?Qr(a):oi(),(i=br)?(i=Eb(i,Vr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:tl!==null?{id:ca,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},l=vh(i),l.return=a,a.child=l,Fi=a,br=null)):i=null,i===null)throw nl(a);return l0(i)?a.lanes=32:a.lanes=536870912,null}var K=h.children;return h=h.fallback,y?(oi(),y=a.mode,K=Up({mode:"hidden",children:K},y),h=el(h,y,l,null),K.return=a,h.return=a,K.sibling=h,a.child=K,h=a.child,h.memoizedState=E1(l),h.childLanes=N1(i,I,l),a.memoizedState=S1,nd(null,h)):(Qr(a),T1(a,K))}var ge=i.memoizedState;if(ge!==null&&(K=ge.dehydrated,K!==null)){if(w)a.flags&256?(Qr(a),a.flags&=-257,a=C1(i,a,l)):a.memoizedState!==null?(oi(),a.child=i.child,a.flags|=128,a=null):(oi(),K=h.fallback,y=a.mode,h=Up({mode:"visible",children:h.children},y),K=el(K,y,l,null),K.flags|=2,h.return=a,K.return=a,h.sibling=K,a.child=h,_r(a,i.child,null,l),h=a.child,h.memoizedState=E1(l),h.childLanes=N1(i,I,l),a.memoizedState=S1,a=nd(null,h));else if(Qr(a),l0(K)){if(I=K.nextSibling&&K.nextSibling.dataset,I)var Oe=I.dgst;I=Oe,h=Error(r(419)),h.stack="",h.digest=I,Sc({value:h,source:null,stack:null}),a=C1(i,a,l)}else if(Ti||sl(i,a,l,!1),I=(l&i.childLanes)!==0,Ti||I){if(I=wr,I!==null&&(h=er(I,l),h!==0&&h!==ge.retryLane))throw ge.retryLane=h,To(i,h),ya(I,i,h),x1;o0(K)||$p(),a=C1(i,a,l)}else o0(K)?(a.flags|=192,a.child=i.child,a=null):(i=ge.treeContext,br=ao(K.nextSibling),Fi=a,En=!0,ys=null,Vr=!1,i!==null&&Tp(a,i),a=T1(a,h.children),a.flags|=4096);return a}return y?(oi(),K=h.fallback,y=a.mode,ge=i.child,Oe=ge.sibling,h=sa(ge,{mode:"hidden",children:h.children}),h.subtreeFlags=ge.subtreeFlags&65011712,Oe!==null?K=sa(Oe,K):(K=el(K,y,l,null),K.flags|=2),K.return=a,h.return=a,h.sibling=K,a.child=h,nd(null,h),h=a.child,K=i.child.memoizedState,K===null?K=E1(l):(y=K.cachePool,y!==null?(ge=Xr._currentValue,y=y.parent!==ge?{parent:ge,pool:ge}:y):y=he(),K={baseLanes:K.baseLanes|l,cachePool:y}),h.memoizedState=K,h.childLanes=N1(i,I,l),a.memoizedState=S1,nd(i.child,h)):(Qr(a),l=i.child,i=l.sibling,l=sa(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(I=a.deletions,I===null?(a.deletions=[i],a.flags|=16):I.push(i)),a.child=l,a.memoizedState=null,l)}function T1(i,a){return a=Up({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Up(i,a){return i=es(22,i,null,a),i.lanes=0,i}function C1(i,a,l){return _r(a,i.child,null,l),i=T1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function v5(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Ec(i.return,a,l)}function I1(i,a,l,h,y,w){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:w}:(I.isBackwards=a,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=l,I.tailMode=y,I.treeForkCount=w)}function b5(i,a,l){var h=a.pendingProps,y=h.revealOrder,w=h.tail;h=h.children;var I=Mn.current,K=(I&2)!==0;if(K?(I=I&1|2,a.flags|=128):I&=1,z(Mn,I),bs(i,a,h,l),h=En?Lu:0,!K&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&v5(i,l,a);else if(i.tag===19)v5(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&ns(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),I1(a,!1,y,l,w,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&ns(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}I1(a,!0,l,null,w,h);break;case"together":I1(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Gl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Dc|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(sl(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=sa(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=sa(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function R1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Ah(i)))}function _N(i,a,l){switch(a.tag){case 3:Ee(a,a.stateNode.containerInfo),il(a,Xr,i.memoizedState.cache),Fl();break;case 27:case 5:Fe(a);break;case 4:Ee(a,a.stateNode.containerInfo);break;case 10:il(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Qn(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Qr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?y5(i,a,l):(Qr(a),i=Gl(i,a,l),i!==null?i.sibling:null);Qr(a);break;case 19:var y=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(sl(i,a,l,!1),h=(l&a.childLanes)!==0),y){if(h)return b5(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),z(Mn,Mn.current),h)break;return null;case 22:return a.lanes=0,h5(i,a,l,a.pendingProps);case 24:il(a,Xr,i.memoizedState.cache)}return Gl(i,a,l)}function _5(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ti=!0;else{if(!R1(i,l)&&(a.flags&128)===0)return Ti=!1,_N(i,a,l);Ti=(i.flags&131072)!==0}else Ti=!1,En&&(a.flags&1048576)!==0&&Np(a,Lu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=Le(a.elementType),a.type=i,typeof i=="function")yh(i)?(h=ju(i,h),a.tag=1,a=m5(null,a,i,h,l)):(a.tag=0,a=A1(null,a,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===Y){a.tag=11,a=l5(null,a,i,h,l);break e}else if(y===q){a.tag=14,a=c5(null,a,i,h,l);break e}}throw a=fe(i)||i,Error(r(306,a,""))}}return a;case 0:return A1(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,y=ju(h,a.pendingProps),m5(i,a,h,y,l);case 3:e:{if(Ee(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var w=a.memoizedState;y=w.element,Rr(i,a),ii(a,h,null,l);var I=a.memoizedState;if(h=I.cache,il(a,Xr,h),h!==w.cache&&Bl(a,[Xr],l,!0),pr(),h=I.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=g5(i,a,h,l);break e}else if(h!==y){y=aa(Error(r(424)),a),Sc(y),a=g5(i,a,h,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,br=ao(i.firstChild),Fi=a,En=!0,ys=null,Vr=!0,l=on(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fl(),h===y){a=Gl(i,a,l);break e}bs(i,a,h,l)}a=a.child}return a;case 26:return Vp(i,a),i===null?(l=kb(a.type,null,a.pendingProps,null))?a.memoizedState=l:En||(l=a.type,i=a.pendingProps,h=tm(pe.current).createElement(l),h[Gn]=a,h[rr]=i,_s(h,l,i),Ir(h),a.stateNode=h):a.memoizedState=kb(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Fe(a),i===null&&En&&(h=a.stateNode=Cb(a.type,a.pendingProps,pe.current),Fi=a,Vr=!0,y=br,Vc(a.type)?(c0=y,br=ao(h.firstChild)):br=y),bs(i,a,a.pendingProps.children,l),Vp(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&En&&((y=h=br)&&(h=XN(h,a.type,a.pendingProps,Vr),h!==null?(a.stateNode=h,Fi=a,br=ao(h.firstChild),Vr=!1,y=!0):y=!1),y||nl(a)),Fe(a),y=a.type,w=a.pendingProps,I=i!==null?i.memoizedProps:null,h=w.children,i0(y,w)?h=null:I!==null&&i0(y,I)&&(a.flags|=32),a.memoizedState!==null&&(y=Yf(i,a,h1,null,null,l),yd._currentValue=y),Vp(i,a),bs(i,a,h,l),a.child;case 6:return i===null&&En&&((i=l=br)&&(l=QN(l,a.pendingProps,Vr),l!==null?(a.stateNode=l,Fi=a,br=null,i=!0):i=!1),i||nl(a)),null;case 13:return y5(i,a,l);case 4:return Ee(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=_r(a,null,h,l):bs(i,a,h,l),a.child;case 11:return l5(i,a,a.type,a.pendingProps,l);case 7:return bs(i,a,a.pendingProps,l),a.child;case 8:return bs(i,a,a.pendingProps.children,l),a.child;case 12:return bs(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,il(a,a.type,h.value),bs(i,a,h.children,l),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,al(a),y=zi(y),h=h(y),a.flags|=1,bs(i,a,h,l),a.child;case 14:return c5(i,a,a.type,a.pendingProps,l);case 15:return u5(i,a,a.type,a.pendingProps,l);case 19:return b5(i,a,l);case 31:return bN(i,a,l);case 22:return h5(i,a,l,a.pendingProps);case 24:return al(a),h=zi(Xr),i===null?(y=Q(),y===null&&(y=wr,w=Nc(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=l),y=w),a.memoizedState={parent:h,cache:y},ft(a),il(a,Xr,y)):((i.lanes&l)!==0&&(Rr(i,a),ii(a,null,null,l),pr()),y=i.memoizedState,w=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),il(a,Xr,h)):(h=w.cache,il(a,Xr,h),h!==y.cache&&Bl(a,[Xr],l,!0))),bs(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Wl(i){i.flags|=4}function k1(i,a,l,h,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Y5())i.flags|=8192;else throw ze=Ae,De}else i.flags&=-16777217}function w5(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Mb(a))if(Y5())i.flags|=8192;else throw ze=Ae,De}function Fp(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ur():536870912,i.lanes|=a,Vh|=a)}function rd(i,a){if(!En)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Dr(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function wN(i,a,l){var h=a.pendingProps;switch(wh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(a),null;case 1:return Dr(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),ha(Xr),Ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Bi(a)?Wl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gf())),Dr(a),null;case 26:var y=a.type,w=a.memoizedState;return i===null?(Wl(a),w!==null?(Dr(a),w5(a,w)):(Dr(a),k1(a,y,null,h,l))):w?w!==i.memoizedState?(Wl(a),Dr(a),w5(a,w)):(Dr(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Wl(a),Dr(a),k1(a,y,i,h,l)),null;case 27:if(et(a),l=pe.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Wl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Dr(a),null}i=$.current,Bi(a)?Hf(a):(i=Cb(y,h,l),a.stateNode=i,Wl(a))}return Dr(a),null;case 5:if(et(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Wl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Dr(a),null}if(w=$.current,Bi(a))Hf(a);else{var I=tm(pe.current);switch(w){case 1:w=I.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=I.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=I.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?I.createElement(y,{is:h.is}):I.createElement(y)}}w[Gn]=a,w[rr]=h;e:for(I=a.child;I!==null;){if(I.tag===5||I.tag===6)w.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===a)break e;for(;I.sibling===null;){if(I.return===null||I.return===a)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}a.stateNode=w;e:switch(_s(w,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Wl(a)}}return Dr(a),k1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Wl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=pe.current,Bi(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,y=Fi,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Gn]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||yb(i.nodeValue,l)),i||nl(a,!0)}else i=tm(i).createTextNode(h),i[Gn]=a,a.stateNode=i}return Dr(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(h=Bi(a),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Gn]=a}else Fl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dr(a),i=!1}else l=Gf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(sr(a),a):(sr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Dr(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Bi(a),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Gn]=a}else Fl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dr(a),y=!1}else y=Gf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(sr(a),a):(sr(a),null)}return sr(a),(a.flags&128)!==0?(a.lanes=l,a):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Fp(a,a.updateQueue),Dr(a),null);case 4:return Ie(),i===null&&Z1(a.stateNode.containerInfo),Dr(a),null;case 10:return ha(a.type),Dr(a),null;case 19:if(L(Mn),h=a.memoizedState,h===null)return Dr(a),null;if(y=(a.flags&128)!==0,w=h.rendering,w===null)if(y)rd(h,!1);else{if(ci!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=ns(i),w!==null){for(a.flags|=128,rd(h,!1),i=w.updateQueue,a.updateQueue=i,Fp(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Ru(l,i),l=l.sibling;return z(Mn,Mn.current&1|2),En&&Ks(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&$e()>Gp&&(a.flags|=128,y=!0,rd(h,!1),a.lanes=4194304)}else{if(!y)if(i=ns(w),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,Fp(a,i),rd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!En)return Dr(a),null}else 2*$e()-h.renderingStartTime>Gp&&l!==536870912&&(a.flags|=128,y=!0,rd(h,!1),a.lanes=4194304);h.isBackwards?(w.sibling=a.child,a.child=w):(i=h.last,i!==null?i.sibling=w:a.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=$e(),i.sibling=null,l=Mn.current,z(Mn,y?l&1|2:l&1),En&&Ks(a,h.treeForkCount),i):(Dr(a),null);case 22:case 23:return sr(a),gi(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Dr(a),a.subtreeFlags&6&&(a.flags|=8192)):Dr(a),l=a.updateQueue,l!==null&&Fp(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&L(W),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ha(Xr),Dr(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function xN(i,a){switch(wh(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ha(Xr),Ie(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return et(a),null;case 31:if(a.memoizedState!==null){if(sr(a),a.alternate===null)throw Error(r(340));Fl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(sr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Fl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return L(Mn),null;case 4:return Ie(),null;case 10:return ha(a.type),null;case 22:case 23:return sr(a),gi(),i!==null&&L(W),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ha(Xr),null;case 25:return null;default:return null}}function x5(i,a){switch(wh(a),a.tag){case 3:ha(Xr),Ie();break;case 26:case 27:case 5:et(a);break;case 4:Ie();break;case 31:a.memoizedState!==null&&sr(a);break;case 13:sr(a);break;case 19:L(Mn);break;case 10:ha(a.type);break;case 22:case 23:sr(a),gi(),i!==null&&L(W);break;case 24:ha(Xr)}}function id(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var w=l.create,I=l.inst;h=w(),I.destroy=h}l=l.next}while(l!==y)}}catch(K){or(a,a.return,K)}}function kc(i,a,l){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&i)===i){var I=h.inst,K=I.destroy;if(K!==void 0){I.destroy=void 0,y=a;var ge=l,Oe=K;try{Oe()}catch(We){or(y,ge,We)}}}h=h.next}while(h!==w)}}catch(We){or(a,a.return,We)}}function A5(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{si(a,l)}catch(h){or(i,i.return,h)}}}function S5(i,a,l){l.props=ju(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){or(i,a,h)}}function sd(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){or(i,a,y)}}function hl(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){or(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){or(i,a,y)}else l.current=null}function E5(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){or(i,i.return,y)}}function L1(i,a,l){try{var h=i.stateNode;HN(h,i.type,l,a),h[rr]=a}catch(y){or(i,i.return,y)}}function N5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vc(i.type)||i.tag===4}function D1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||N5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vc(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function P1(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=zs));else if(h!==4&&(h===27&&Vc(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(P1(i,a,l),i=i.sibling;i!==null;)P1(i,a,l),i=i.sibling}function Bp(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&Vc(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Bp(i,a,l),i=i.sibling;i!==null;)Bp(i,a,l),i=i.sibling}function T5(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);_s(a,h,l),a[Gn]=i,a[rr]=l}catch(w){or(i,i.return,w)}}var Yl=!1,Ci=!1,O1=!1,C5=typeof WeakSet=="function"?WeakSet:Set,rs=null;function AN(i,a){if(i=i.containerInfo,n0=lm,i=Eo(i),to(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var I=0,K=-1,ge=-1,Oe=0,We=0,Je=i,je=null;t:for(;;){for(var Ue;Je!==l||y!==0&&Je.nodeType!==3||(K=I+y),Je!==w||h!==0&&Je.nodeType!==3||(ge=I+h),Je.nodeType===3&&(I+=Je.nodeValue.length),(Ue=Je.firstChild)!==null;)je=Je,Je=Ue;for(;;){if(Je===i)break t;if(je===l&&++Oe===y&&(K=I),je===w&&++We===h&&(ge=I),(Ue=Je.nextSibling)!==null)break;Je=je,je=Je.parentNode}Je=Ue}l=K===-1||ge===-1?null:{start:K,end:ge}}else l=null}l=l||{start:0,end:0}}else l=null;for(r0={focusedElem:i,selectionRange:l},lm=!1,rs=a;rs!==null;)if(a=rs,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,rs=i;else for(;rs!==null;){switch(a=rs,w=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,l=a,y=w.memoizedProps,w=w.memoizedState,h=l.stateNode;try{var Tt=ju(l.type,y);i=h.getSnapshotBeforeUpdate(Tt,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Jt){or(l,l.return,Jt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)a0(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":a0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,rs=i;break}rs=a.return}}function I5(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Kl(i,l),h&4&&id(5,l);break;case 1:if(Kl(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(I){or(l,l.return,I)}else{var y=ju(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(I){or(l,l.return,I)}}h&64&&A5(l),h&512&&sd(l,l.return);break;case 3:if(Kl(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{si(i,a)}catch(I){or(l,l.return,I)}}break;case 27:a===null&&h&4&&T5(l);case 26:case 5:Kl(i,l),a===null&&h&4&&E5(l),h&512&&sd(l,l.return);break;case 12:Kl(i,l);break;case 31:Kl(i,l),h&4&&L5(i,l);break;case 13:Kl(i,l),h&4&&D5(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=LN.bind(null,l),JN(i,l))));break;case 22:if(h=l.memoizedState!==null||Yl,!h){a=a!==null&&a.memoizedState!==null||Ci,y=Yl;var w=Ci;Yl=h,(Ci=a)&&!w?Xl(i,l,(l.subtreeFlags&8772)!==0):Kl(i,l),Yl=y,Ci=w}break;case 30:break;default:Kl(i,l)}}function R5(i){var a=i.alternate;a!==null&&(i.alternate=null,R5(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Sa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Br=null,da=!1;function $l(i,a,l){for(l=l.child;l!==null;)k5(i,a,l),l=l.sibling}function k5(i,a,l){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Zt,l)}catch{}switch(l.tag){case 26:Ci||hl(l,a),$l(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ci||hl(l,a);var h=Br,y=da;Vc(l.type)&&(Br=l.stateNode,da=!1),$l(i,a,l),pd(l.stateNode),Br=h,da=y;break;case 5:Ci||hl(l,a);case 6:if(h=Br,y=da,Br=null,$l(i,a,l),Br=h,da=y,Br!==null)if(da)try{(Br.nodeType===9?Br.body:Br.nodeName==="HTML"?Br.ownerDocument.body:Br).removeChild(l.stateNode)}catch(w){or(l,a,w)}else try{Br.removeChild(l.stateNode)}catch(w){or(l,a,w)}break;case 18:Br!==null&&(da?(i=Br,Ab(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Wh(i)):Ab(Br,l.stateNode));break;case 4:h=Br,y=da,Br=l.stateNode.containerInfo,da=!0,$l(i,a,l),Br=h,da=y;break;case 0:case 11:case 14:case 15:kc(2,l,a),Ci||kc(4,l,a),$l(i,a,l);break;case 1:Ci||(hl(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&S5(l,a,h)),$l(i,a,l);break;case 21:$l(i,a,l);break;case 22:Ci=(h=Ci)||l.memoizedState!==null,$l(i,a,l),Ci=h;break;default:$l(i,a,l)}}function L5(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Wh(i)}catch(l){or(a,a.return,l)}}}function D5(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wh(i)}catch(l){or(a,a.return,l)}}function SN(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new C5),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new C5),a;default:throw Error(r(435,i.tag))}}function zp(i,a){var l=SN(i);a.forEach(function(h){if(!l.has(h)){l.add(h);var y=DN.bind(null,i,h);h.then(y,y)}})}function pa(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],w=i,I=a,K=I;e:for(;K!==null;){switch(K.tag){case 27:if(Vc(K.type)){Br=K.stateNode,da=!1;break e}break;case 5:Br=K.stateNode,da=!1;break e;case 3:case 4:Br=K.stateNode.containerInfo,da=!0;break e}K=K.return}if(Br===null)throw Error(r(160));k5(w,I,y),Br=null,da=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)P5(a,i),a=a.sibling}var Do=null;function P5(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pa(a,i),ma(i),h&4&&(kc(3,i,i.return),id(3,i),kc(5,i,i.return));break;case 1:pa(a,i),ma(i),h&512&&(Ci||l===null||hl(l,l.return)),h&64&&Yl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=Do;if(pa(a,i),ma(i),h&512&&(Ci||l===null||hl(l,l.return)),h&4){var w=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[$i]||w[Gn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),_s(w,h,l),w[Gn]=i,Ir(w),h=w;break e;case"link":var I=Pb("link","href",y).get(h+(l.href||""));if(I){for(var K=0;K<I.length;K++)if(w=I[K],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(K,1);break t}}w=y.createElement(h),_s(w,h,l),y.head.appendChild(w);break;case"meta":if(I=Pb("meta","content",y).get(h+(l.content||""))){for(K=0;K<I.length;K++)if(w=I[K],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(K,1);break t}}w=y.createElement(h),_s(w,h,l),y.head.appendChild(w);break;default:throw Error(r(468,h))}w[Gn]=i,Ir(w),h=w}i.stateNode=h}else Ob(y,i.type,i.stateNode);else i.stateNode=Db(y,h,i.memoizedProps);else w!==h?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,h===null?Ob(y,i.type,i.stateNode):Db(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&L1(i,i.memoizedProps,l.memoizedProps)}break;case 27:pa(a,i),ma(i),h&512&&(Ci||l===null||hl(l,l.return)),l!==null&&h&4&&L1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(pa(a,i),ma(i),h&512&&(Ci||l===null||hl(l,l.return)),i.flags&32){y=i.stateNode;try{di(y,"")}catch(Tt){or(i,i.return,Tt)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,L1(i,y,l!==null?l.memoizedProps:y)),h&1024&&(O1=!0);break;case 6:if(pa(a,i),ma(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Tt){or(i,i.return,Tt)}}break;case 3:if(im=null,y=Do,Do=nm(a.containerInfo),pa(a,i),Do=y,ma(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Wh(a.containerInfo)}catch(Tt){or(i,i.return,Tt)}O1&&(O1=!1,O5(i));break;case 4:h=Do,Do=nm(i.stateNode.containerInfo),pa(a,i),ma(i),Do=h;break;case 12:pa(a,i),ma(i);break;case 31:pa(a,i),ma(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,zp(i,h)));break;case 13:pa(a,i),ma(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Hp=$e()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,zp(i,h)));break;case 22:y=i.memoizedState!==null;var ge=l!==null&&l.memoizedState!==null,Oe=Yl,We=Ci;if(Yl=Oe||y,Ci=We||ge,pa(a,i),Ci=We,Yl=Oe,ma(i),h&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||ge||Yl||Ci||Vu(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){ge=l=a;try{if(w=ge.stateNode,y)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{K=ge.stateNode;var Je=ge.memoizedProps.style,je=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;K.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Tt){or(ge,ge.return,Tt)}}}else if(a.tag===6){if(l===null){ge=a;try{ge.stateNode.nodeValue=y?"":ge.memoizedProps}catch(Tt){or(ge,ge.return,Tt)}}}else if(a.tag===18){if(l===null){ge=a;try{var Ue=ge.stateNode;y?Sb(Ue,!0):Sb(ge.stateNode,!1)}catch(Tt){or(ge,ge.return,Tt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,zp(i,l))));break;case 19:pa(a,i),ma(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,zp(i,h)));break;case 30:break;case 21:break;default:pa(a,i),ma(i)}}function ma(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(N5(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,w=D1(i);Bp(i,w,y);break;case 5:var I=l.stateNode;l.flags&32&&(di(I,""),l.flags&=-33);var K=D1(i);Bp(i,K,I);break;case 3:case 4:var ge=l.stateNode.containerInfo,Oe=D1(i);P1(i,Oe,ge);break;default:throw Error(r(161))}}catch(We){or(i,i.return,We)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function O5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;O5(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Kl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)I5(i,a.alternate,a),a=a.sibling}function Vu(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:kc(4,a,a.return),Vu(a);break;case 1:hl(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&S5(a,a.return,l),Vu(a);break;case 27:pd(a.stateNode);case 26:case 5:hl(a,a.return),Vu(a);break;case 22:a.memoizedState===null&&Vu(a);break;case 30:Vu(a);break;default:Vu(a)}i=i.sibling}}function Xl(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=i,w=a,I=w.flags;switch(w.tag){case 0:case 11:case 15:Xl(y,w,l),id(4,w);break;case 1:if(Xl(y,w,l),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Oe){or(h,h.return,Oe)}if(h=w,y=h.updateQueue,y!==null){var K=h.stateNode;try{var ge=y.shared.hiddenCallbacks;if(ge!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ge.length;y++)ts(ge[y],K)}catch(Oe){or(h,h.return,Oe)}}l&&I&64&&A5(w),sd(w,w.return);break;case 27:T5(w);case 26:case 5:Xl(y,w,l),l&&h===null&&I&4&&E5(w),sd(w,w.return);break;case 12:Xl(y,w,l);break;case 31:Xl(y,w,l),l&&I&4&&L5(y,w);break;case 13:Xl(y,w,l),l&&I&4&&D5(y,w);break;case 22:w.memoizedState===null&&Xl(y,w,l),sd(w,w.return);break;case 30:break;default:Xl(y,w,l)}a=a.sibling}}function M1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Du(l))}function j1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Du(i))}function Po(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)M5(i,a,l,h),a=a.sibling}function M5(i,a,l,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Po(i,a,l,h),y&2048&&id(9,a);break;case 1:Po(i,a,l,h);break;case 3:Po(i,a,l,h),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Du(i)));break;case 12:if(y&2048){Po(i,a,l,h),i=a.stateNode;try{var w=a.memoizedProps,I=w.id,K=w.onPostCommit;typeof K=="function"&&K(I,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ge){or(a,a.return,ge)}}else Po(i,a,l,h);break;case 31:Po(i,a,l,h);break;case 13:Po(i,a,l,h);break;case 23:break;case 22:w=a.stateNode,I=a.alternate,a.memoizedState!==null?w._visibility&2?Po(i,a,l,h):ad(i,a):w._visibility&2?Po(i,a,l,h):(w._visibility|=2,Oh(i,a,l,h,(a.subtreeFlags&10256)!==0||!1)),y&2048&&M1(I,a);break;case 24:Po(i,a,l,h),y&2048&&j1(a.alternate,a);break;default:Po(i,a,l,h)}}function Oh(i,a,l,h,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=i,I=a,K=l,ge=h,Oe=I.flags;switch(I.tag){case 0:case 11:case 15:Oh(w,I,K,ge,y),id(8,I);break;case 23:break;case 22:var We=I.stateNode;I.memoizedState!==null?We._visibility&2?Oh(w,I,K,ge,y):ad(w,I):(We._visibility|=2,Oh(w,I,K,ge,y)),y&&Oe&2048&&M1(I.alternate,I);break;case 24:Oh(w,I,K,ge,y),y&&Oe&2048&&j1(I.alternate,I);break;default:Oh(w,I,K,ge,y)}a=a.sibling}}function ad(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,y=h.flags;switch(h.tag){case 22:ad(l,h),y&2048&&M1(h.alternate,h);break;case 24:ad(l,h),y&2048&&j1(h.alternate,h);break;default:ad(l,h)}a=a.sibling}}var od=8192;function Mh(i,a,l){if(i.subtreeFlags&od)for(i=i.child;i!==null;)j5(i,a,l),i=i.sibling}function j5(i,a,l){switch(i.tag){case 26:Mh(i,a,l),i.flags&od&&i.memoizedState!==null&&uT(l,Do,i.memoizedState,i.memoizedProps);break;case 5:Mh(i,a,l);break;case 3:case 4:var h=Do;Do=nm(i.stateNode.containerInfo),Mh(i,a,l),Do=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=od,od=16777216,Mh(i,a,l),od=h):Mh(i,a,l));break;default:Mh(i,a,l)}}function V5(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ld(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];rs=h,F5(h,i)}V5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)U5(i),i=i.sibling}function U5(i){switch(i.tag){case 0:case 11:case 15:ld(i),i.flags&2048&&kc(9,i,i.return);break;case 3:ld(i);break;case 12:ld(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,qp(i)):ld(i);break;default:ld(i)}}function qp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];rs=h,F5(h,i)}V5(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:kc(8,a,a.return),qp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,qp(a));break;default:qp(a)}i=i.sibling}}function F5(i,a){for(;rs!==null;){var l=rs;switch(l.tag){case 0:case 11:case 15:kc(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Du(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,rs=h;else e:for(l=i;rs!==null;){h=rs;var y=h.sibling,w=h.return;if(R5(h),h===l){rs=null;break e}if(y!==null){y.return=w,rs=y;break e}rs=w}}}var EN={getCacheForType:function(i){var a=zi(Xr),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return zi(Xr).controller.signal}},NN=typeof WeakMap=="function"?WeakMap:Map,Jn=0,wr=null,Nn=null,Rn=0,ar=0,Pa=null,Lc=!1,jh=!1,V1=!1,Ql=0,ci=0,Dc=0,Uu=0,U1=0,Oa=0,Vh=0,cd=null,ga=null,F1=!1,Hp=0,B5=0,Gp=1/0,Wp=null,Pc=null,Hi=0,Oc=null,Uh=null,Jl=0,B1=0,z1=null,z5=null,ud=0,q1=null;function Ma(){return(Jn&2)!==0&&Rn!==0?Rn&-Rn:ne.T!==null?K1():Gr()}function q5(){if(Oa===0)if((Rn&536870912)===0||En){var i=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),Oa=i}else Oa=536870912;return i=Lr.current,i!==null&&(i.flags|=32),Oa}function ya(i,a,l){(i===wr&&(ar===2||ar===9)||i.cancelPendingCommit!==null)&&(Fh(i,0),Mc(i,Rn,Oa,!1)),mt(i,l),((Jn&2)===0||i!==wr)&&(i===wr&&((Jn&2)===0&&(Uu|=l),ci===4&&Mc(i,Rn,Oa,!1)),fl(i))}function H5(i,a,l){if((Jn&6)!==0)throw Error(r(327));var h=!l&&(a&127)===0&&(a&i.expiredLanes)===0||wn(i,a),y=h?IN(i,a):G1(i,a,!0),w=h;do{if(y===0){jh&&!h&&Mc(i,a,0,!1);break}else{if(l=i.current.alternate,w&&!TN(l)){y=G1(i,a,!1),w=!1;continue}if(y===2){if(w=a,i.errorRecoveryDisabledLanes&w)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var K=i;y=cd;var ge=K.current.memoizedState.isDehydrated;if(ge&&(Fh(K,I).flags|=256),I=G1(K,I,!1),I!==2){if(V1&&!ge){K.errorRecoveryDisabledLanes|=w,Uu|=w,y=4;break e}w=ga,ga=y,w!==null&&(ga===null?ga=w:ga.push.apply(ga,w))}y=I}if(w=!1,y!==2)continue}}if(y===1){Fh(i,0),Mc(i,a,0,!0);break}e:{switch(h=i,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Mc(h,a,Oa,!Lc);break e;case 2:ga=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=Hp+300-$e(),10<y)){if(Mc(h,a,Oa,!Lc),ht(h,0,!0)!==0)break e;Jl=a,h.timeoutHandle=wb(G5.bind(null,h,l,ga,Wp,F1,a,Oa,Uu,Vh,Lc,w,"Throttled",-0,0),y);break e}G5(h,l,ga,Wp,F1,a,Oa,Uu,Vh,Lc,w,null,-0,0)}}break}while(!0);fl(i)}function G5(i,a,l,h,y,w,I,K,ge,Oe,We,Je,je,Ue){if(i.timeoutHandle=-1,Je=a.subtreeFlags,Je&8192||(Je&16785408)===16785408){Je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zs},j5(a,w,Je);var Tt=(w&62914560)===w?Hp-$e():(w&4194048)===w?B5-$e():0;if(Tt=hT(Je,Tt),Tt!==null){Jl=w,i.cancelPendingCommit=Tt(Z5.bind(null,i,a,w,l,h,y,I,K,ge,We,Je,null,je,Ue)),Mc(i,w,I,!Oe);return}}Z5(i,a,w,l,h,y,I,K,ge)}function TN(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],w=y.getSnapshot;y=y.value;try{if(!Vi(w(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mc(i,a,l,h){a&=~U1,a&=~Uu,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var y=a;0<y;){var w=31-Qt(y),I=1<<w;h[w]=-1,y&=~I}l!==0&&ti(i,l,a)}function Yp(){return(Jn&6)===0?(hd(0),!1):!0}function H1(){if(Nn!==null){if(ar===0)var i=Nn.return;else i=Nn,ro=rl=null,Ch(i),Ze=null,Rt=0,i=Nn;for(;i!==null;)x5(i.alternate,i),i=i.return;Nn=null}}function Fh(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,YN(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Jl=0,H1(),wr=i,Nn=l=sa(i.current,null),Rn=a,ar=0,Pa=null,Lc=!1,jh=wn(i,a),V1=!1,Vh=Oa=U1=Uu=Dc=ci=0,ga=cd=null,F1=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var y=31-Qt(h),w=1<<y;a|=i[y],h&=~w}return Ql=a,Tu(),l}function W5(i,a){Ht=null,ne.H=td,a===_e||a===ce?(a=Ye(),ar=3):a===De?(a=Ye(),ar=4):ar=a===x1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Pa=a,Nn===null&&(ci=1,Mp(i,aa(a,i.current)))}function Y5(){var i=Lr.current;return i===null?!0:(Rn&4194048)===Rn?Un===null:(Rn&62914560)===Rn||(Rn&536870912)!==0?i===Un:!1}function $5(){var i=ne.H;return ne.H=td,i===null?td:i}function K5(){var i=ne.A;return ne.A=EN,i}function $p(){ci=4,Lc||(Rn&4194048)!==Rn&&Lr.current!==null||(jh=!0),(Dc&134217727)===0&&(Uu&134217727)===0||wr===null||Mc(wr,Rn,Oa,!1)}function G1(i,a,l){var h=Jn;Jn|=2;var y=$5(),w=K5();(wr!==i||Rn!==a)&&(Wp=null,Fh(i,a)),a=!1;var I=ci;e:do try{if(ar!==0&&Nn!==null){var K=Nn,ge=Pa;switch(ar){case 8:H1(),I=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(a=!0);var Oe=ar;if(ar=0,Pa=null,Bh(i,K,ge,Oe),l&&jh){I=0;break e}break;default:Oe=ar,ar=0,Pa=null,Bh(i,K,ge,Oe)}}CN(),I=ci;break}catch(We){W5(i,We)}while(!0);return a&&i.shellSuspendCounter++,ro=rl=null,Jn=h,ne.H=y,ne.A=w,Nn===null&&(wr=null,Rn=0,Tu()),I}function CN(){for(;Nn!==null;)X5(Nn)}function IN(i,a){var l=Jn;Jn|=2;var h=$5(),y=K5();wr!==i||Rn!==a?(Wp=null,Gp=$e()+500,Fh(i,a)):jh=wn(i,a);e:do try{if(ar!==0&&Nn!==null){a=Nn;var w=Pa;t:switch(ar){case 1:ar=0,Pa=null,Bh(i,a,w,1);break;case 2:case 9:if(ke(w)){ar=0,Pa=null,Q5(a);break}a=function(){ar!==2&&ar!==9||wr!==i||(ar=7),fl(i)},w.then(a,a);break e;case 3:ar=7;break e;case 4:ar=5;break e;case 7:ke(w)?(ar=0,Pa=null,Q5(a)):(ar=0,Pa=null,Bh(i,a,w,7));break;case 5:var I=null;switch(Nn.tag){case 26:I=Nn.memoizedState;case 5:case 27:var K=Nn;if(I?Mb(I):K.stateNode.complete){ar=0,Pa=null;var ge=K.sibling;if(ge!==null)Nn=ge;else{var Oe=K.return;Oe!==null?(Nn=Oe,Kp(Oe)):Nn=null}break t}}ar=0,Pa=null,Bh(i,a,w,5);break;case 6:ar=0,Pa=null,Bh(i,a,w,6);break;case 8:H1(),ci=6;break e;default:throw Error(r(462))}}RN();break}catch(We){W5(i,We)}while(!0);return ro=rl=null,ne.H=h,ne.A=y,Jn=l,Nn!==null?0:(wr=null,Rn=0,Tu(),ci)}function RN(){for(;Nn!==null&&!ye();)X5(Nn)}function X5(i){var a=_5(i.alternate,i,Ql);i.memoizedProps=i.pendingProps,a===null?Kp(i):Nn=a}function Q5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=p5(l,a,a.pendingProps,a.type,void 0,Rn);break;case 11:a=p5(l,a,a.pendingProps,a.type.render,a.ref,Rn);break;case 5:Ch(a);default:x5(l,a),a=Nn=Ru(a,Ql),a=_5(l,a,Ql)}i.memoizedProps=i.pendingProps,a===null?Kp(i):Nn=a}function Bh(i,a,l,h){ro=rl=null,Ch(a),Ze=null,Rt=0;var y=a.return;try{if(vN(i,y,a,l,Rn)){ci=1,Mp(i,aa(l,i.current)),Nn=null;return}}catch(w){if(y!==null)throw Nn=y,w;ci=1,Mp(i,aa(l,i.current)),Nn=null;return}a.flags&32768?(En||h===1?i=!0:jh||(Rn&536870912)!==0?i=!1:(Lc=i=!0,(h===2||h===9||h===3||h===6)&&(h=Lr.current,h!==null&&h.tag===13&&(h.flags|=16384))),J5(a,i)):Kp(a)}function Kp(i){var a=i;do{if((a.flags&32768)!==0){J5(a,Lc);return}i=a.return;var l=wN(a.alternate,a,Ql);if(l!==null){Nn=l;return}if(a=a.sibling,a!==null){Nn=a;return}Nn=a=i}while(a!==null);ci===0&&(ci=5)}function J5(i,a){do{var l=xN(i.alternate,i);if(l!==null){l.flags&=32767,Nn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Nn=i;return}Nn=i=l}while(i!==null);ci=6,Nn=null}function Z5(i,a,l,h,y,w,I,K,ge){i.cancelPendingCommit=null;do Xp();while(Hi!==0);if((Jn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(w=a.lanes|a.childLanes,w|=ph,Er(i,l,w,I,K,ge),i===wr&&(Nn=wr=null,Rn=0),Uh=a,Oc=i,Jl=l,B1=w,z1=y,z5=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PN(dt,function(){return ib(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null,y=Z.p,Z.p=2,I=Jn,Jn|=4;try{AN(i,a,l)}finally{Jn=I,Z.p=y,ne.T=h}}Hi=1,eb(),tb(),nb()}}function eb(){if(Hi===1){Hi=0;var i=Oc,a=Uh,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var h=Z.p;Z.p=2;var y=Jn;Jn|=4;try{P5(a,i);var w=r0,I=Eo(i.containerInfo),K=w.focusedElem,ge=w.selectionRange;if(I!==K&&K&&K.ownerDocument&&So(K.ownerDocument.documentElement,K)){if(ge!==null&&to(K)){var Oe=ge.start,We=ge.end;if(We===void 0&&(We=Oe),"selectionStart"in K)K.selectionStart=Oe,K.selectionEnd=Math.min(We,K.value.length);else{var Je=K.ownerDocument||document,je=Je&&Je.defaultView||window;if(je.getSelection){var Ue=je.getSelection(),Tt=K.textContent.length,Jt=Math.min(ge.start,Tt),yr=ge.end===void 0?Jt:Math.min(ge.end,Tt);!Ue.extend&&Jt>yr&&(I=yr,yr=Jt,Jt=I);var Ce=_c(K,Jt),we=_c(K,yr);if(Ce&&we&&(Ue.rangeCount!==1||Ue.anchorNode!==Ce.node||Ue.anchorOffset!==Ce.offset||Ue.focusNode!==we.node||Ue.focusOffset!==we.offset)){var Pe=Je.createRange();Pe.setStart(Ce.node,Ce.offset),Ue.removeAllRanges(),Jt>yr?(Ue.addRange(Pe),Ue.extend(we.node,we.offset)):(Pe.setEnd(we.node,we.offset),Ue.addRange(Pe))}}}}for(Je=[],Ue=K;Ue=Ue.parentNode;)Ue.nodeType===1&&Je.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Je.length;K++){var Ke=Je[K];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}lm=!!n0,r0=n0=null}finally{Jn=y,Z.p=h,ne.T=l}}i.current=a,Hi=2}}function tb(){if(Hi===2){Hi=0;var i=Oc,a=Uh,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var h=Z.p;Z.p=2;var y=Jn;Jn|=4;try{I5(i,a.alternate,a)}finally{Jn=y,Z.p=h,ne.T=l}}Hi=3}}function nb(){if(Hi===4||Hi===3){Hi=0,Se();var i=Oc,a=Uh,l=Jl,h=z5;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Hi=5:(Hi=0,Uh=Oc=null,rb(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Pc=null),Cn(l),a=a.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Zt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ne.T,y=Z.p,Z.p=2,ne.T=null;try{for(var w=i.onRecoverableError,I=0;I<h.length;I++){var K=h[I];w(K.value,{componentStack:K.stack})}}finally{ne.T=a,Z.p=y}}(Jl&3)!==0&&Xp(),fl(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===q1?ud++:(ud=0,q1=i):ud=0,hd(0)}}function rb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Du(a)))}function Xp(){return eb(),tb(),nb(),ib()}function ib(){if(Hi!==5)return!1;var i=Oc,a=B1;B1=0;var l=Cn(Jl),h=ne.T,y=Z.p;try{Z.p=32>l?32:l,ne.T=null,l=z1,z1=null;var w=Oc,I=Jl;if(Hi=0,Uh=Oc=null,Jl=0,(Jn&6)!==0)throw Error(r(331));var K=Jn;if(Jn|=4,U5(w.current),M5(w,w.current,I,l),Jn=K,hd(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Zt,w)}catch{}return!0}finally{Z.p=y,ne.T=h,rb(i,a)}}function sb(i,a,l){a=aa(l,a),a=w1(i.stateNode,a,2),i=fn(i,a,2),i!==null&&(mt(i,2),fl(i))}function or(i,a,l){if(i.tag===3)sb(i,i,l);else for(;a!==null;){if(a.tag===3){sb(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pc===null||!Pc.has(h))){i=aa(l,i),l=a5(2),h=fn(a,l,2),h!==null&&(o5(l,h,a,i),mt(h,2),fl(h));break}}a=a.return}}function W1(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new NN;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(l)||(V1=!0,y.add(l),i=kN.bind(null,i,a,l),a.then(i,i))}function kN(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,wr===i&&(Rn&l)===l&&(ci===4||ci===3&&(Rn&62914560)===Rn&&300>$e()-Hp?(Jn&2)===0&&Fh(i,0):U1|=l,Vh===Rn&&(Vh=0)),fl(i)}function ab(i,a){a===0&&(a=ur()),i=To(i,a),i!==null&&(mt(i,a),fl(i))}function LN(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),ab(i,l)}function DN(i,a){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),ab(i,l)}function PN(i,a){return pt(i,a)}var Qp=null,zh=null,Y1=!1,Jp=!1,$1=!1,jc=0;function fl(i){i!==zh&&i.next===null&&(zh===null?Qp=zh=i:zh=zh.next=i),Jp=!0,Y1||(Y1=!0,MN())}function hd(i,a){if(!$1&&Jp){$1=!0;do for(var l=!1,h=Qp;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var I=h.suspendedLanes,K=h.pingedLanes;w=(1<<31-Qt(42|i)+1)-1,w&=y&~(I&~K),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,ub(h,w))}else w=Rn,w=ht(h,h===wr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||wn(h,w)||(l=!0,ub(h,w));h=h.next}while(l);$1=!1}}function ON(){ob()}function ob(){Jp=Y1=!1;var i=0;jc!==0&&WN()&&(i=jc);for(var a=$e(),l=null,h=Qp;h!==null;){var y=h.next,w=lb(h,a);w===0?(h.next=null,l===null?Qp=y:l.next=y,y===null&&(zh=l)):(l=h,(i!==0||(w&3)!==0)&&(Jp=!0)),h=y}Hi!==0&&Hi!==5||hd(i),jc!==0&&(jc=0)}function lb(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var I=31-Qt(w),K=1<<I,ge=y[I];ge===-1?((K&l)===0||(K&h)!==0)&&(y[I]=Sn(K,a)):ge<=a&&(i.expiredLanes|=K),w&=~K}if(a=wr,l=Rn,l=ht(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(ar===2||ar===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&le(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||wn(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&le(h),Cn(l)){case 2:case 8:l=it;break;case 32:l=dt;break;case 268435456:l=bt;break;default:l=dt}return h=cb.bind(null,i),l=pt(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&le(h),i.callbackPriority=2,i.callbackNode=null,2}function cb(i,a){if(Hi!==0&&Hi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Xp()&&i.callbackNode!==l)return null;var h=Rn;return h=ht(i,i===wr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(H5(i,h,a),lb(i,$e()),i.callbackNode!=null&&i.callbackNode===l?cb.bind(null,i):null)}function ub(i,a){if(Xp())return null;H5(i,a,!0)}function MN(){$N(function(){(Jn&6)!==0?pt(Ve,ON):ob()})}function K1(){if(jc===0){var i=p;i===0&&(i=zt,zt<<=1,(zt&261888)===0&&(zt=256)),jc=i}return jc}function hb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xi(""+i)}function fb(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function jN(i,a,l,h,y){if(a==="submit"&&l&&l.stateNode===y){var w=hb((y[rr]||null).action),I=h.submitter;I&&(a=(a=I[rr]||null)?hb(a.formAction):I.getAttribute("formAction"),a!==null&&(w=a,I=null));var K=new Si("action","action",null,h,y);i.push({event:K,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(jc!==0){var ge=I?fb(y,I):new FormData(y);m1(l,{pending:!0,data:ge,method:y.method,action:w},null,ge)}}else typeof w=="function"&&(K.preventDefault(),ge=I?fb(y,I):new FormData(y),m1(l,{pending:!0,data:ge,method:y.method,action:w},w,ge))},currentTarget:y}]})}}for(var X1=0;X1<jl.length;X1++){var Q1=jl[X1],VN=Q1.toLowerCase(),UN=Q1[0].toUpperCase()+Q1.slice(1);ia(VN,"on"+UN)}ia(Ml,"onAnimationEnd"),ia(Eu,"onAnimationIteration"),ia(Ff,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(Ap,"onTransitionRun"),ia(Sp,"onTransitionStart"),ia(Ep,"onTransitionCancel"),ia(Bf,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fd));function db(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var I=h.length-1;0<=I;I--){var K=h[I],ge=K.instance,Oe=K.currentTarget;if(K=K.listener,ge!==w&&y.isPropagationStopped())break e;w=K,y.currentTarget=Oe;try{w(y)}catch(We){Nu(We)}y.currentTarget=null,w=ge}else for(I=0;I<h.length;I++){if(K=h[I],ge=K.instance,Oe=K.currentTarget,K=K.listener,ge!==w&&y.isPropagationStopped())break e;w=K,y.currentTarget=Oe;try{w(y)}catch(We){Nu(We)}y.currentTarget=null,w=ge}}}}function Tn(i,a){var l=a[Yi];l===void 0&&(l=a[Yi]=new Set);var h=i+"__bubble";l.has(h)||(pb(a,i,2,!1),l.add(h))}function J1(i,a,l){var h=0;a&&(h|=4),pb(l,i,h,a)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function Z1(i){if(!i[Zp]){i[Zp]=!0,Go.forEach(function(l){l!=="selectionchange"&&(FN.has(l)||J1(l,!1,i),J1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Zp]||(a[Zp]=!0,J1("selectionchange",!1,a))}}function pb(i,a,l,h){switch(qb(a)){case 2:var y=pT;break;case 8:y=mT;break;default:y=p0}l=y.bind(null,a,l,i),y=void 0,!yo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function e0(i,a,l,h,y){var w=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var K=h.stateNode.containerInfo;if(K===y)break;if(I===4)for(I=h.return;I!==null;){var ge=I.tag;if((ge===3||ge===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;K!==null;){if(I=ls(K),I===null)return;if(ge=I.tag,ge===5||ge===6||ge===26||ge===27){h=w=I;continue e}K=K.parentNode}}h=h.return}Ya(function(){var Oe=w,We=Qi(l),Je=[];e:{var je=zf.get(i);if(je!==void 0){var Ue=Si,Tt=i;switch(i){case"keypress":if(fs(l)===0)break e;case"keydown":case"keyup":Ue=xn;break;case"focusin":Tt="focus",Ue=Hs;break;case"focusout":Tt="blur",Ue=Hs;break;case"beforeblur":case"afterblur":Ue=Hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=na;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=N;break;case Ml:case Eu:case Ff:Ue=x;break;case Bf:Ue=J;break;case"scroll":case"scrollend":Ue=$a;break;case"wheel":Ue=Me;break;case"copy":case"cut":case"paste":Ue=ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=tr;break;case"toggle":case"beforetoggle":Ue=nn}var Jt=(a&4)!==0,yr=!Jt&&(i==="scroll"||i==="scrollend"),Ce=Jt?je!==null?je+"Capture":null:je;Jt=[];for(var we=Oe,Pe;we!==null;){var Ke=we;if(Pe=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Pe===null||Ce===null||(Ke=pi(we,Ce),Ke!=null&&Jt.push(dd(we,Ke,Pe))),yr)break;we=we.return}0<Jt.length&&(je=new Ue(je,Tt,null,l,We),Je.push({event:je,listeners:Jt}))}}if((a&7)===0){e:{if(je=i==="mouseover"||i==="pointerover",Ue=i==="mouseout"||i==="pointerout",je&&l!==Ca&&(Tt=l.relatedTarget||l.fromElement)&&(ls(Tt)||Tt[ni]))break e;if((Ue||je)&&(je=We.window===We?We:(je=We.ownerDocument)?je.defaultView||je.parentWindow:window,Ue?(Tt=l.relatedTarget||l.toElement,Ue=Oe,Tt=Tt?ls(Tt):null,Tt!==null&&(yr=o(Tt),Jt=Tt.tag,Tt!==yr||Jt!==5&&Jt!==27&&Jt!==6)&&(Tt=null)):(Ue=null,Tt=Oe),Ue!==Tt)){if(Jt=Qo,Ke="onMouseLeave",Ce="onMouseEnter",we="mouse",(i==="pointerout"||i==="pointerover")&&(Jt=tr,Ke="onPointerLeave",Ce="onPointerEnter",we="pointer"),yr=Ue==null?je:cs(Ue),Pe=Tt==null?je:cs(Tt),je=new Jt(Ke,we+"leave",Ue,l,We),je.target=yr,je.relatedTarget=Pe,Ke=null,ls(We)===Oe&&(Jt=new Jt(Ce,we+"enter",Tt,l,We),Jt.target=Pe,Jt.relatedTarget=yr,Ke=Jt),yr=Ke,Ue&&Tt)t:{for(Jt=BN,Ce=Ue,we=Tt,Pe=0,Ke=Ce;Ke;Ke=Jt(Ke))Pe++;Ke=0;for(var $t=we;$t;$t=Jt($t))Ke++;for(;0<Pe-Ke;)Ce=Jt(Ce),Pe--;for(;0<Ke-Pe;)we=Jt(we),Ke--;for(;Pe--;){if(Ce===we||we!==null&&Ce===we.alternate){Jt=Ce;break t}Ce=Jt(Ce),we=Jt(we)}Jt=null}else Jt=null;Ue!==null&&mb(Je,je,Ue,Jt,!1),Tt!==null&&yr!==null&&mb(Je,yr,Tt,Jt,!0)}}e:{if(je=Oe?cs(Oe):window,Ue=je.nodeName&&je.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&je.type==="file")var $n=Zo;else if(Au(je))if(Cs)$n=Za;else{$n=$r;var Vt=vc}else Ue=je.nodeName,!Ue||Ue.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Oe&&$o(Oe.elementType)&&($n=Zo):$n=dh;if($n&&($n=$n(i,Oe))){Ws(Je,$n,l,We);break e}Vt&&Vt(i,je,Oe),i==="focusout"&&Oe&&je.type==="number"&&Oe.memoizedProps.value!=null&&Il(je,"number",je.value)}switch(Vt=Oe?cs(Oe):window,i){case"focusin":(Au(Vt)||Vt.contentEditable==="true")&&(Ys=Vt,No=Oe,Ji=null);break;case"focusout":Ji=No=Ys=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,qn(Je,l,We);break;case"selectionchange":if(Ol)break;case"keydown":case"keyup":qn(Je,l,We)}var pn;if(mn)e:{switch(i){case"compositionstart":var kn="onCompositionStart";break e;case"compositionend":kn="onCompositionEnd";break e;case"compositionupdate":kn="onCompositionUpdate";break e}kn=void 0}else Xa?Gs(i,l)&&(kn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(kn="onCompositionStart");kn&&(Mi&&l.locale!=="ko"&&(Xa||kn!=="onCompositionStart"?kn==="onCompositionEnd"&&Xa&&(pn=Dl()):(hs=We,vo="value"in hs?hs.value:hs.textContent,Xa=!0)),Vt=em(Oe,kn),0<Vt.length&&(kn=new Te(kn,i,null,l,We),Je.push({event:kn,listeners:Vt}),pn?kn.data=pn:(pn=Ka(l),pn!==null&&(kn.data=pn)))),(pn=Ei?ms(i,l):_o(i,l))&&(kn=em(Oe,"onBeforeInput"),0<kn.length&&(Vt=new Te("onBeforeInput","beforeinput",null,l,We),Je.push({event:Vt,listeners:kn}),Vt.data=pn)),jN(Je,i,Oe,l,We)}db(Je,a)})}function dd(i,a,l){return{instance:i,listener:a,currentTarget:l}}function em(i,a){for(var l=a+"Capture",h=[];i!==null;){var y=i,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=pi(i,l),y!=null&&h.unshift(dd(i,y,w)),y=pi(i,a),y!=null&&h.push(dd(i,y,w))),i.tag===3)return h;i=i.return}return[]}function BN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function mb(i,a,l,h,y){for(var w=a._reactName,I=[];l!==null&&l!==h;){var K=l,ge=K.alternate,Oe=K.stateNode;if(K=K.tag,ge!==null&&ge===h)break;K!==5&&K!==26&&K!==27||Oe===null||(ge=Oe,y?(Oe=pi(l,w),Oe!=null&&I.unshift(dd(l,Oe,ge))):y||(Oe=pi(l,w),Oe!=null&&I.push(dd(l,Oe,ge)))),l=l.return}I.length!==0&&i.push({event:a,listeners:I})}var zN=/\r\n?/g,qN=/\u0000|\uFFFD/g;function gb(i){return(typeof i=="string"?i:""+i).replace(zN,`
`).replace(qN,"")}function yb(i,a){return a=gb(a),gb(i)===a}function gr(i,a,l,h,y,w){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||di(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&di(i,""+h);break;case"className":Ai(i,"class",h);break;case"tabIndex":Ai(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(i,l,h);break;case"style":Ll(i,h,w);break;case"data":if(a!=="object"){Ai(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Xi(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(a!=="input"&&gr(i,a,"name",y.name,y,null),gr(i,a,"formEncType",y.formEncType,y,null),gr(i,a,"formMethod",y.formMethod,y,null),gr(i,a,"formTarget",y.formTarget,y,null)):(gr(i,a,"encType",y.encType,y,null),gr(i,a,"method",y.method,y,null),gr(i,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Xi(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=zs);break;case"onScroll":h!=null&&Tn("scroll",i);break;case"onScrollEnd":h!=null&&Tn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Xi(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Tn("beforetoggle",i),Tn("toggle",i),us(i,"popover",h);break;case"xlinkActuate":Mr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Mr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Mr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Mr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Mr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Mr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":us(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ko.get(l)||l,us(i,l,h))}}function t0(i,a,l,h,y,w){switch(l){case"style":Ll(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?di(i,h):(typeof h=="number"||typeof h=="bigint")&&di(i,""+h);break;case"onScroll":h!=null&&Tn("scroll",i);break;case"onScrollEnd":h!=null&&Tn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ki.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),w=i[rr]||null,w=w!=null?w[l]:null,typeof w=="function"&&i.removeEventListener(a,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):us(i,l,h)}}}function _s(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tn("error",i),Tn("load",i);var h=!1,y=!1,w;for(w in l)if(l.hasOwnProperty(w)){var I=l[w];if(I!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:gr(i,a,w,I,l,null)}}y&&gr(i,a,"srcSet",l.srcSet,l,null),h&&gr(i,a,"src",l.src,l,null);return;case"input":Tn("invalid",i);var K=w=I=y=null,ge=null,Oe=null;for(h in l)if(l.hasOwnProperty(h)){var We=l[h];if(We!=null)switch(h){case"name":y=We;break;case"type":I=We;break;case"checked":ge=We;break;case"defaultChecked":Oe=We;break;case"value":w=We;break;case"defaultValue":K=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,a));break;default:gr(i,a,h,We,l,null)}}mc(i,w,K,ge,Oe,I,y,!1);return;case"select":Tn("invalid",i),h=I=w=null;for(y in l)if(l.hasOwnProperty(y)&&(K=l[y],K!=null))switch(y){case"value":w=K;break;case"defaultValue":I=K;break;case"multiple":h=K;default:gr(i,a,y,K,l,null)}a=w,l=I,i.multiple=!!h,a!=null?Oi(i,!!h,a,!1):l!=null&&Oi(i,!!h,l,!0);return;case"textarea":Tn("invalid",i),w=y=h=null;for(I in l)if(l.hasOwnProperty(I)&&(K=l[I],K!=null))switch(I){case"value":h=K;break;case"defaultValue":y=K;break;case"children":w=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:gr(i,a,I,K,l,null)}Na(i,h,y,w);return;case"option":for(ge in l)l.hasOwnProperty(ge)&&(h=l[ge],h!=null)&&(ge==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":gr(i,a,ge,h,l,null));return;case"dialog":Tn("beforetoggle",i),Tn("toggle",i),Tn("cancel",i),Tn("close",i);break;case"iframe":case"object":Tn("load",i);break;case"video":case"audio":for(h=0;h<fd.length;h++)Tn(fd[h],i);break;case"image":Tn("error",i),Tn("load",i);break;case"details":Tn("toggle",i);break;case"embed":case"source":case"link":Tn("error",i),Tn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(h=l[Oe],h!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:gr(i,a,Oe,h,l,null)}return;default:if($o(a)){for(We in l)l.hasOwnProperty(We)&&(h=l[We],h!==void 0&&t0(i,a,We,h,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(h=l[K],h!=null&&gr(i,a,K,h,l,null))}function HN(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,I=null,K=null,ge=null,Oe=null,We=null;for(Ue in l){var Je=l[Ue];if(l.hasOwnProperty(Ue)&&Je!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":ge=Je;default:h.hasOwnProperty(Ue)||gr(i,a,Ue,null,h,Je)}}for(var je in h){var Ue=h[je];if(Je=l[je],h.hasOwnProperty(je)&&(Ue!=null||Je!=null))switch(je){case"type":w=Ue;break;case"name":y=Ue;break;case"checked":Oe=Ue;break;case"defaultChecked":We=Ue;break;case"value":I=Ue;break;case"defaultValue":K=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,a));break;default:Ue!==Je&&gr(i,a,je,Ue,h,Je)}}mo(i,I,K,ge,Oe,We,w,y);return;case"select":Ue=I=K=je=null;for(w in l)if(ge=l[w],l.hasOwnProperty(w)&&ge!=null)switch(w){case"value":break;case"multiple":Ue=ge;default:h.hasOwnProperty(w)||gr(i,a,w,null,h,ge)}for(y in h)if(w=h[y],ge=l[y],h.hasOwnProperty(y)&&(w!=null||ge!=null))switch(y){case"value":je=w;break;case"defaultValue":K=w;break;case"multiple":I=w;default:w!==ge&&gr(i,a,y,w,h,ge)}a=K,l=I,h=Ue,je!=null?Oi(i,!!l,je,!1):!!h!=!!l&&(a!=null?Oi(i,!!l,a,!0):Oi(i,!!l,l?[]:"",!1));return;case"textarea":Ue=je=null;for(K in l)if(y=l[K],l.hasOwnProperty(K)&&y!=null&&!h.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:gr(i,a,K,null,h,y)}for(I in h)if(y=h[I],w=l[I],h.hasOwnProperty(I)&&(y!=null||w!=null))switch(I){case"value":je=y;break;case"defaultValue":Ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&gr(i,a,I,y,h,w)}Rl(i,je,Ue);return;case"option":for(var Tt in l)je=l[Tt],l.hasOwnProperty(Tt)&&je!=null&&!h.hasOwnProperty(Tt)&&(Tt==="selected"?i.selected=!1:gr(i,a,Tt,null,h,je));for(ge in h)je=h[ge],Ue=l[ge],h.hasOwnProperty(ge)&&je!==Ue&&(je!=null||Ue!=null)&&(ge==="selected"?i.selected=je&&typeof je!="function"&&typeof je!="symbol":gr(i,a,ge,je,h,Ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in l)je=l[Jt],l.hasOwnProperty(Jt)&&je!=null&&!h.hasOwnProperty(Jt)&&gr(i,a,Jt,null,h,je);for(Oe in h)if(je=h[Oe],Ue=l[Oe],h.hasOwnProperty(Oe)&&je!==Ue&&(je!=null||Ue!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,a));break;default:gr(i,a,Oe,je,h,Ue)}return;default:if($o(a)){for(var yr in l)je=l[yr],l.hasOwnProperty(yr)&&je!==void 0&&!h.hasOwnProperty(yr)&&t0(i,a,yr,void 0,h,je);for(We in h)je=h[We],Ue=l[We],!h.hasOwnProperty(We)||je===Ue||je===void 0&&Ue===void 0||t0(i,a,We,je,h,Ue);return}}for(var Ce in l)je=l[Ce],l.hasOwnProperty(Ce)&&je!=null&&!h.hasOwnProperty(Ce)&&gr(i,a,Ce,null,h,je);for(Je in h)je=h[Je],Ue=l[Je],!h.hasOwnProperty(Je)||je===Ue||je==null&&Ue==null||gr(i,a,Je,je,h,Ue)}function vb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],w=y.transferSize,I=y.initiatorType,K=y.duration;if(w&&K&&vb(I)){for(I=0,K=y.responseEnd,h+=1;h<l.length;h++){var ge=l[h],Oe=ge.startTime;if(Oe>K)break;var We=ge.transferSize,Je=ge.initiatorType;We&&vb(Je)&&(ge=ge.responseEnd,I+=We*(ge<K?1:(K-Oe)/(ge-Oe)))}if(--h,a+=8*(w+I)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var n0=null,r0=null;function tm(i){return i.nodeType===9?i:i.ownerDocument}function bb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _b(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function i0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var s0=null;function WN(){var i=window.event;return i&&i.type==="popstate"?i===s0?!1:(s0=i,!0):(s0=null,!1)}var wb=typeof setTimeout=="function"?setTimeout:void 0,YN=typeof clearTimeout=="function"?clearTimeout:void 0,xb=typeof Promise=="function"?Promise:void 0,$N=typeof queueMicrotask=="function"?queueMicrotask:typeof xb<"u"?function(i){return xb.resolve(null).then(i).catch(KN)}:wb;function KN(i){setTimeout(function(){throw i})}function Vc(i){return i==="head"}function Ab(i,a){var l=a,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),Wh(a);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")pd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,pd(l);for(var w=l.firstChild;w;){var I=w.nextSibling,K=w.nodeName;w[$i]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=I}}else l==="body"&&pd(i.ownerDocument.body);l=y}while(l);Wh(a)}function Sb(i,a){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function a0(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":a0(l),Sa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function XN(i,a,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[$i])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=ao(i.nextSibling),i===null)break}return null}function QN(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ao(i.nextSibling),i===null))return null;return i}function Eb(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ao(i.nextSibling),i===null))return null;return i}function o0(i){return i.data==="$?"||i.data==="$~"}function l0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function JN(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ao(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var c0=null;function Nb(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return ao(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function Tb(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function Cb(i,a,l){switch(a=tm(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function pd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Sa(i)}var oo=new Map,Ib=new Set;function nm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zl=Z.d;Z.d={f:ZN,r:eT,D:tT,C:nT,L:rT,m:iT,X:aT,S:sT,M:oT};function ZN(){var i=Zl.f(),a=Yp();return i||a}function eT(i){var a=Pi(i);a!==null&&a.tag===5&&a.type==="form"?Wv(a):Zl.r(i)}var qh=typeof document>"u"?null:document;function Rb(i,a,l){var h=qh;if(h&&typeof a=="string"&&a){var y=jr(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Ib.has(y)||(Ib.add(y),i={rel:i,crossOrigin:l,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),_s(a,"link",i),Ir(a),h.head.appendChild(a)))}}function tT(i){Zl.D(i),Rb("dns-prefetch",i,null)}function nT(i,a){Zl.C(i,a),Rb("preconnect",i,a)}function rT(i,a,l){Zl.L(i,a,l);var h=qh;if(h&&i&&a){var y='link[rel="preload"][as="'+jr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+jr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+jr(l.imageSizes)+'"]')):y+='[href="'+jr(i)+'"]';var w=y;switch(a){case"style":w=Hh(i);break;case"script":w=Gh(i)}oo.has(w)||(i=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),oo.set(w,i),h.querySelector(y)!==null||a==="style"&&h.querySelector(md(w))||a==="script"&&h.querySelector(gd(w))||(a=h.createElement("link"),_s(a,"link",i),Ir(a),h.head.appendChild(a)))}}function iT(i,a){Zl.m(i,a);var l=qh;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+jr(h)+'"][href="'+jr(i)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Gh(i)}if(!oo.has(w)&&(i=b({rel:"modulepreload",href:i},a),oo.set(w,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gd(w)))return}h=l.createElement("link"),_s(h,"link",i),Ir(h),l.head.appendChild(h)}}}function sT(i,a,l){Zl.S(i,a,l);var h=qh;if(h&&i){var y=Ss(h).hoistableStyles,w=Hh(i);a=a||"default";var I=y.get(w);if(!I){var K={loading:0,preload:null};if(I=h.querySelector(md(w)))K.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":a},l),(l=oo.get(w))&&u0(i,l);var ge=I=h.createElement("link");Ir(ge),_s(ge,"link",i),ge._p=new Promise(function(Oe,We){ge.onload=Oe,ge.onerror=We}),ge.addEventListener("load",function(){K.loading|=1}),ge.addEventListener("error",function(){K.loading|=2}),K.loading|=4,rm(I,a,h)}I={type:"stylesheet",instance:I,count:1,state:K},y.set(w,I)}}}function aT(i,a){Zl.X(i,a);var l=qh;if(l&&i){var h=Ss(l).hoistableScripts,y=Gh(i),w=h.get(y);w||(w=l.querySelector(gd(y)),w||(i=b({src:i,async:!0},a),(a=oo.get(y))&&h0(i,a),w=l.createElement("script"),Ir(w),_s(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function oT(i,a){Zl.M(i,a);var l=qh;if(l&&i){var h=Ss(l).hoistableScripts,y=Gh(i),w=h.get(y);w||(w=l.querySelector(gd(y)),w||(i=b({src:i,async:!0,type:"module"},a),(a=oo.get(y))&&h0(i,a),w=l.createElement("script"),Ir(w),_s(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function kb(i,a,l,h){var y=(y=pe.current)?nm(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Hh(l.href),l=Ss(y).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Hh(l.href);var w=Ss(y).hoistableStyles,I=w.get(i);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,I),(w=y.querySelector(md(i)))&&!w._p&&(I.instance=w,I.state.loading=5),oo.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},oo.set(i,l),w||lT(y,i,l,I.state))),a&&h===null)throw Error(r(528,""));return I}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Gh(l),l=Ss(y).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Hh(i){return'href="'+jr(i)+'"'}function md(i){return'link[rel="stylesheet"]['+i+"]"}function Lb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function lT(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),_s(a,"link",l),Ir(a),i.head.appendChild(a))}function Gh(i){return'[src="'+jr(i)+'"]'}function gd(i){return"script[async]"+i}function Db(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+jr(l.href)+'"]');if(h)return a.instance=h,Ir(h),h;var y=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ir(h),_s(h,"style",y),rm(h,l.precedence,i),a.instance=h;case"stylesheet":y=Hh(l.href);var w=i.querySelector(md(y));if(w)return a.state.loading|=4,a.instance=w,Ir(w),w;h=Lb(l),(y=oo.get(y))&&u0(h,y),w=(i.ownerDocument||i).createElement("link"),Ir(w);var I=w;return I._p=new Promise(function(K,ge){I.onload=K,I.onerror=ge}),_s(w,"link",h),a.state.loading|=4,rm(w,l.precedence,i),a.instance=w;case"script":return w=Gh(l.src),(y=i.querySelector(gd(w)))?(a.instance=y,Ir(y),y):(h=l,(y=oo.get(w))&&(h=b({},l),h0(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),Ir(y),_s(y,"link",h),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,rm(h,l.precedence,i));return a.instance}function rm(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,I=0;I<h.length;I++){var K=h[I];if(K.dataset.precedence===a)w=K;else if(w!==y)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function u0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function h0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var im=null;function Pb(i,a,l){if(im===null){var h=new Map,y=im=new Map;y.set(l,h)}else y=im,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var w=l[y];if(!(w[$i]||w[Gn]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(a)||"";I=i+I;var K=h.get(I);K?K.push(w):h.set(I,[w])}}return h}function Ob(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function cT(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Mb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function uT(i,a,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Hh(h.href),w=a.querySelector(md(y));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=sm.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=w,Ir(w);return}w=a.ownerDocument||a,h=Lb(h),(y=oo.get(y))&&u0(h,y),w=w.createElement("link"),Ir(w);var I=w;I._p=new Promise(function(K,ge){I.onload=K,I.onerror=ge}),_s(w,"link",h),l.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=sm.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var f0=0;function hT(i,a){return i.stylesheets&&i.count===0&&om(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&om(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+a);0<i.imgBytes&&f0===0&&(f0=62500*GN());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&om(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>f0?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function sm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var am=null;function om(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,am=new Map,a.forEach(fT,i),am=null,sm.call(i))}function fT(i,a){if(!(a.state.loading&4)){var l=am.get(i);if(l)var h=l.get(null);else{l=new Map,am.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var I=y[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),h=I)}h&&l.set(null,h)}y=a.instance,I=y.getAttribute("data-precedence"),w=l.get(I)||h,w===h&&l.set(null,y),l.set(I,y),this.count++,h=sm.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var yd={$$typeof:oe,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function dT(i,a,l,h,y,w,I,K,ge){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function jb(i,a,l,h,y,w,I,K,ge,Oe,We,Je){return i=new dT(i,a,l,I,ge,Oe,We,Je,K),a=1,w===!0&&(a|=24),w=es(3,null,null,a),i.current=w,w.stateNode=i,a=Nc(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:h,isDehydrated:l,cache:a},ft(w),i}function Vb(i){return i?(i=Ui,i):Ui}function Ub(i,a,l,h,y,w){y=Vb(y),h.context===null?h.context=y:h.pendingContext=y,h=Xt(a),h.payload={element:l},w=w===void 0?null:w,w!==null&&(h.callback=w),l=fn(i,h,a),l!==null&&(ya(l,i,a),Xn(l,i,a))}function Fb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function d0(i,a){Fb(i,a),(i=i.alternate)&&Fb(i,a)}function Bb(i){if(i.tag===13||i.tag===31){var a=To(i,67108864);a!==null&&ya(a,i,67108864),d0(i,67108864)}}function zb(i){if(i.tag===13||i.tag===31){var a=Ma();a=zn(a);var l=To(i,a);l!==null&&ya(l,i,a),d0(i,a)}}var lm=!0;function pT(i,a,l,h){var y=ne.T;ne.T=null;var w=Z.p;try{Z.p=2,p0(i,a,l,h)}finally{Z.p=w,ne.T=y}}function mT(i,a,l,h){var y=ne.T;ne.T=null;var w=Z.p;try{Z.p=8,p0(i,a,l,h)}finally{Z.p=w,ne.T=y}}function p0(i,a,l,h){if(lm){var y=m0(h);if(y===null)e0(i,a,h,cm,l),Hb(i,h);else if(yT(y,i,a,l,h))h.stopPropagation();else if(Hb(i,h),a&4&&-1<gT.indexOf(i)){for(;y!==null;){var w=Pi(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=Ct(w.pendingLanes);if(I!==0){var K=w;for(K.pendingLanes|=2,K.entangledLanes|=2;I;){var ge=1<<31-Qt(I);K.entanglements[1]|=ge,I&=~ge}fl(w),(Jn&6)===0&&(Gp=$e()+500,hd(0))}}break;case 31:case 13:K=To(w,2),K!==null&&ya(K,w,2),Yp(),d0(w,2)}if(w=m0(h),w===null&&e0(i,a,h,cm,l),w===y)break;y=w}y!==null&&h.stopPropagation()}else e0(i,a,h,null,l)}}function m0(i){return i=Qi(i),g0(i)}var cm=null;function g0(i){if(cm=null,i=ls(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return cm=i,null}function qb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case Ve:return 2;case it:return 8;case dt:case st:return 32;case bt:return 268435456;default:return 32}default:return 32}}var y0=!1,Uc=null,Fc=null,Bc=null,vd=new Map,bd=new Map,zc=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hb(i,a){switch(i){case"focusin":case"focusout":Uc=null;break;case"dragenter":case"dragleave":Fc=null;break;case"mouseover":case"mouseout":Bc=null;break;case"pointerover":case"pointerout":vd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(a.pointerId)}}function _d(i,a,l,h,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},a!==null&&(a=Pi(a),a!==null&&Bb(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function yT(i,a,l,h,y){switch(a){case"focusin":return Uc=_d(Uc,i,a,l,h,y),!0;case"dragenter":return Fc=_d(Fc,i,a,l,h,y),!0;case"mouseover":return Bc=_d(Bc,i,a,l,h,y),!0;case"pointerover":var w=y.pointerId;return vd.set(w,_d(vd.get(w)||null,i,a,l,h,y)),!0;case"gotpointercapture":return w=y.pointerId,bd.set(w,_d(bd.get(w)||null,i,a,l,h,y)),!0}return!1}function Gb(i){var a=ls(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,Di(i.priority,function(){zb(l)});return}}else if(a===31){if(a=u(l),a!==null){i.blockedOn=a,Di(i.priority,function(){zb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function um(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=m0(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ca=h,l.target.dispatchEvent(h),Ca=null}else return a=Pi(l),a!==null&&Bb(a),i.blockedOn=l,!1;a.shift()}return!0}function Wb(i,a,l){um(i)&&l.delete(a)}function vT(){y0=!1,Uc!==null&&um(Uc)&&(Uc=null),Fc!==null&&um(Fc)&&(Fc=null),Bc!==null&&um(Bc)&&(Bc=null),vd.forEach(Wb),bd.forEach(Wb)}function hm(i,a){i.blockedOn===a&&(i.blockedOn=null,y0||(y0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vT)))}var fm=null;function Yb(i){fm!==i&&(fm=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fm===i&&(fm=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],y=i[a+2];if(typeof h!="function"){if(g0(h||l)===null)continue;break}var w=Pi(l);w!==null&&(i.splice(a,3),a-=3,m1(w,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Wh(i){function a(ge){return hm(ge,i)}Uc!==null&&hm(Uc,i),Fc!==null&&hm(Fc,i),Bc!==null&&hm(Bc,i),vd.forEach(a),bd.forEach(a);for(var l=0;l<zc.length;l++){var h=zc[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<zc.length&&(l=zc[0],l.blockedOn===null);)Gb(l),l.blockedOn===null&&zc.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],w=l[h+1],I=y[rr]||null;if(typeof w=="function")I||Yb(l);else if(I){var K=null;if(w&&w.hasAttribute("formAction")){if(y=w,I=w[rr]||null)K=I.formAction;else if(g0(y)!==null)continue}else K=I.action;typeof K=="function"?l[h+1]=K:(l.splice(h,3),h-=3),Yb(l)}}}function $b(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(I){return y=I})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function v0(i){this._internalRoot=i}dm.prototype.render=v0.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=Ma();Ub(l,h,i,a,null,null)},dm.prototype.unmount=v0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ub(i.current,2,null,i,null,null),Yp(),a[ni]=null}};function dm(i){this._internalRoot=i}dm.prototype.unstable_scheduleHydration=function(i){if(i){var a=Gr();i={blockedOn:null,target:i,priority:a};for(var l=0;l<zc.length&&a!==0&&a<zc[l].priority;l++);zc.splice(l,0,i),l===0&&Gb(i)}};var Kb=e.version;if(Kb!=="19.2.4")throw Error(r(527,Kb,"19.2.4"));Z.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var bT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{Zt=pm.inject(bT),Pt=pm}catch{}}return xd.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",y=n5,w=r5,I=i5;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError)),a=jb(i,1,!1,null,null,l,h,null,y,w,I,$b),i[ni]=a.current,Z1(i),new v0(a)},xd.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,y="",w=n5,I=r5,K=i5,ge=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(ge=l.formState)),a=jb(i,1,!0,a,l??null,h,y,ge,w,I,K,$b),a.context=Vb(null),l=a.current,h=Ma(),h=zn(h),y=Xt(h),y.callback=null,fn(l,y,h),l=h,a.current.lanes=l,mt(a,l),fl(a),i[ni]=a.current,Z1(i),new dm(a)},xd.version="19.2.4",xd}var s_;function CT(){if(s_)return w0.exports;s_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),w0.exports=TT(),w0.exports}var IT=CT();const M4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const RT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const kT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const a_=n=>{const e=kT(n);return e.charAt(0).toUpperCase()+e.slice(1)};var LT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const PT=ct.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...u},d)=>ct.createElement("svg",{ref:d,...LT,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:M4("lucide",s),...!o&&!DT(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,g])=>ct.createElement(f,g)),...Array.isArray(o)?o:[o]]));const _n=(n,e)=>{const t=ct.forwardRef(({className:r,...s},o)=>ct.createElement(PT,{ref:o,iconNode:e,className:M4(`lucide-${RT(a_(n))}`,`lucide-${n}`,r),...s}));return t.displayName=a_(n),t};const OT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],j4=_n("arrow-left",OT);const MT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jT=_n("arrow-right",MT);const VT=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],UT=_n("arrow-up-down",VT);const FT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],o_=_n("bell",FT);const BT=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],E0=_n("box",BT);const zT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A2=_n("check",zT);const qT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],S2=_n("circle-check-big",qT);const HT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GT=_n("clock",HT);const WT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],YT=_n("download",WT);const $T=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],KT=_n("ellipsis",$T);const XT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QT=_n("file-text",XT);const JT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],V4=_n("funnel",JT);const ZT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],e6=_n("image",ZT);const t6=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],n6=_n("key-round",t6);const r6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],E2=_n("layers",r6);const i6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],U4=_n("layout-dashboard",i6);const s6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ay=_n("loader-circle",s6);const a6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],o6=_n("lock",a6);const l6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],c6=_n("log-out",l6);const u6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],h6=_n("map-pin",u6);const f6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],d6=_n("menu",f6);const p6=[["path",{d:"M5 12h14",key:"1ays0h"}]],m6=_n("minus",p6);const g6=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],l_=_n("moon",g6);const y6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wd=_n("package",y6);const v6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yd=_n("plus",v6);const b6=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],_6=_n("power",b6);const w6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],F4=_n("save",w6);const x6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lp=_n("search",x6);const A6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S6=_n("settings",A6);const E6=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],c_=_n("shopping-bag",E6);const N6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],N2=_n("shopping-cart",N6);const T6=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],C6=_n("sun",T6);const I6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Xu=_n("tag",I6);const R6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sy=_n("trash-2",R6);const k6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ey=_n("triangle-alert",k6);const L6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],B4=_n("truck",L6);const D6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$d=_n("user",D6);const P6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],O6=_n("users",P6);const M6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cp=_n("x",M6);var j6=O4();const V6=P4(j6);function U6(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const F6=n=>{switch(n){case"success":return q6;case"info":return G6;case"warning":return H6;case"error":return W6;default:return null}},B6=Array(12).fill(0),z6=({visible:n,className:e})=>Xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Xe.createElement("div",{className:"sonner-spinner"},B6.map((t,r)=>Xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),q6=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),H6=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),G6=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),W6=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Y6=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$6=()=>{const[n,e]=Xe.useState(document.hidden);return Xe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let T2=1;class K6{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:T2++,c=this.toasts.find(d=>d.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:r}),{...d,...e,id:o,dismissible:u,title:r}):d):this.addToast({title:r,...s,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,c;const u=s.then(async f=>{if(c=["resolve",f],Xe.isValidElement(f))o=!1,this.create({id:r,type:"default",message:f});else if(Q6(f)&&!f.ok){o=!1;const b=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,S=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description,O=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:S,...O})}else if(f instanceof Error){o=!1;const b=typeof t.error=="function"?await t.error(f):t.error,S=typeof t.description=="function"?await t.description(f):t.description,O=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:S,...O})}else if(t.success!==void 0){o=!1;const b=typeof t.success=="function"?await t.success(f):t.success,S=typeof t.description=="function"?await t.description(f):t.description,O=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"success",description:S,...O})}}).catch(async f=>{if(c=["reject",f],t.error!==void 0){o=!1;const g=typeof t.error=="function"?await t.error(f):t.error,b=typeof t.description=="function"?await t.description(f):t.description,_=typeof g=="object"&&!Xe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,..._})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((f,g)=>u.then(()=>c[0]==="reject"?g(c[1]):f(c[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{const r=t?.id||T2++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const va=new K6,X6=(n,e)=>{const t=e?.id||T2++;return va.addToast({title:n,...e,id:t}),t},Q6=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",J6=X6,Z6=()=>va.toasts,eC=()=>va.getActiveToasts(),un=Object.assign(J6,{success:va.success,info:va.info,warning:va.warning,error:va.error,custom:va.custom,message:va.message,promise:va.promise,dismiss:va.dismiss,loading:va.loading},{getHistory:Z6,getToasts:eC});U6("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function mm(n){return n.label!==void 0}const tC=3,nC="24px",rC="16px",u_=4e3,iC=356,sC=14,aC=45,oC=200;function dl(...n){return n.filter(Boolean).join(" ")}function lC(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const cC=n=>{var e,t,r,s,o,c,u,d,f;const{invert:g,toast:b,unstyled:S,interacting:_,setHeights:O,visibleToasts:V,heights:U,index:j,toasts:te,expanded:oe,removeToast:Y,defaultRichColors:ie,closeButton:de,style:q,cancelButtonStyle:R,actionButtonStyle:P,className:G="",descriptionClassName:T="",duration:k,position:D,gap:fe,expandByDefault:xe,classNames:ne,icons:Z,closeButtonAriaLabel:re="Close toast"}=n,[Ne,ve]=Xe.useState(null),[X,L]=Xe.useState(null),[z,$]=Xe.useState(!1),[se,pe]=Xe.useState(!1),[me,Ee]=Xe.useState(!1),[Ie,Fe]=Xe.useState(!1),[et,ot]=Xe.useState(!1),[ut,vt]=Xe.useState(0),[ae,lt]=Xe.useState(0),Kt=Xe.useRef(b.duration||k||u_),Mt=Xe.useRef(null),Be=Xe.useRef(null),pt=j===0,le=j+1<=V,ye=b.type,Se=b.dismissible!==!1,$e=b.className||"",He=b.descriptionClassName||"",Ve=Xe.useMemo(()=>U.findIndex(ht=>ht.toastId===b.id)||0,[U,b.id]),it=Xe.useMemo(()=>{var ht;return(ht=b.closeButton)!=null?ht:de},[b.closeButton,de]),dt=Xe.useMemo(()=>b.duration||k||u_,[b.duration,k]),st=Xe.useRef(0),bt=Xe.useRef(0),gt=Xe.useRef(0),dn=Xe.useRef(null),[Zt,Pt]=D.split("-"),Ut=Xe.useMemo(()=>U.reduce((ht,wn,Sn)=>Sn>=Ve?ht:ht+wn.height,0),[U,Ve]),Qt=$6(),Ot=b.invert||g,yn=ye==="loading";bt.current=Xe.useMemo(()=>Ve*fe+Ut,[Ve,Ut]),Xe.useEffect(()=>{Kt.current=dt},[dt]),Xe.useEffect(()=>{$(!0)},[]),Xe.useEffect(()=>{const ht=Be.current;if(ht){const wn=ht.getBoundingClientRect().height;return lt(wn),O(Sn=>[{toastId:b.id,height:wn,position:b.position},...Sn]),()=>O(Sn=>Sn.filter(ur=>ur.toastId!==b.id))}},[O,b.id]),Xe.useLayoutEffect(()=>{if(!z)return;const ht=Be.current,wn=ht.style.height;ht.style.height="auto";const Sn=ht.getBoundingClientRect().height;ht.style.height=wn,lt(Sn),O(ur=>ur.find(mt=>mt.toastId===b.id)?ur.map(mt=>mt.toastId===b.id?{...mt,height:Sn}:mt):[{toastId:b.id,height:Sn,position:b.position},...ur])},[z,b.title,b.description,O,b.id,b.jsx,b.action,b.cancel]);const Et=Xe.useCallback(()=>{pe(!0),vt(bt.current),O(ht=>ht.filter(wn=>wn.toastId!==b.id)),setTimeout(()=>{Y(b)},oC)},[b,Y,O,bt]);Xe.useEffect(()=>{if(b.promise&&ye==="loading"||b.duration===1/0||b.type==="loading")return;let ht;return oe||_||Qt?(()=>{if(gt.current<st.current){const ur=new Date().getTime()-st.current;Kt.current=Kt.current-ur}gt.current=new Date().getTime()})():Kt.current!==1/0&&(st.current=new Date().getTime(),ht=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),Et()},Kt.current)),()=>clearTimeout(ht)},[oe,_,b,ye,Qt,Et]),Xe.useEffect(()=>{b.delete&&(Et(),b.onDismiss==null||b.onDismiss.call(b,b))},[Et,b.delete]);function zt(){var ht;if(Z?.loading){var wn;return Xe.createElement("div",{className:dl(ne?.loader,b==null||(wn=b.classNames)==null?void 0:wn.loader,"sonner-loader"),"data-visible":ye==="loading"},Z.loading)}return Xe.createElement(z6,{className:dl(ne?.loader,b==null||(ht=b.classNames)==null?void 0:ht.loader),visible:ye==="loading"})}const jn=b.icon||Z?.[ye]||F6(ye);var jt,Ct;return Xe.createElement("li",{tabIndex:0,ref:Be,className:dl(G,$e,ne?.toast,b==null||(e=b.classNames)==null?void 0:e.toast,ne?.default,ne?.[ye],b==null||(t=b.classNames)==null?void 0:t[ye]),"data-sonner-toast":"","data-rich-colors":(jt=b.richColors)!=null?jt:ie,"data-styled":!(b.jsx||b.unstyled||S),"data-mounted":z,"data-promise":!!b.promise,"data-swiped":et,"data-removed":se,"data-visible":le,"data-y-position":Zt,"data-x-position":Pt,"data-index":j,"data-front":pt,"data-swiping":me,"data-dismissible":Se,"data-type":ye,"data-invert":Ot,"data-swipe-out":Ie,"data-swipe-direction":X,"data-expanded":!!(oe||xe&&z),"data-testid":b.testId,style:{"--index":j,"--toasts-before":j,"--z-index":te.length-j,"--offset":`${se?ut:bt.current}px`,"--initial-height":xe?"auto":`${ae}px`,...q,...b.style},onDragEnd:()=>{Ee(!1),ve(null),dn.current=null},onPointerDown:ht=>{ht.button!==2&&(yn||!Se||(Mt.current=new Date,vt(bt.current),ht.target.setPointerCapture(ht.pointerId),ht.target.tagName!=="BUTTON"&&(Ee(!0),dn.current={x:ht.clientX,y:ht.clientY})))},onPointerUp:()=>{var ht,wn,Sn;if(Ie||!Se)return;dn.current=null;const ur=Number(((ht=Be.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sr=Number(((wn=Be.current)==null?void 0:wn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mt=new Date().getTime()-((Sn=Mt.current)==null?void 0:Sn.getTime()),Er=Ne==="x"?ur:Sr,ti=Math.abs(Er)/mt;if(Math.abs(Er)>=aC||ti>.11){vt(bt.current),b.onDismiss==null||b.onDismiss.call(b,b),L(Ne==="x"?ur>0?"right":"left":Sr>0?"down":"up"),Et(),Fe(!0);return}else{var Zn,er;(Zn=Be.current)==null||Zn.style.setProperty("--swipe-amount-x","0px"),(er=Be.current)==null||er.style.setProperty("--swipe-amount-y","0px")}ot(!1),Ee(!1),ve(null)},onPointerMove:ht=>{var wn,Sn,ur;if(!dn.current||!Se||((wn=window.getSelection())==null?void 0:wn.toString().length)>0)return;const mt=ht.clientY-dn.current.y,Er=ht.clientX-dn.current.x;var ti;const Zn=(ti=n.swipeDirections)!=null?ti:lC(D);!Ne&&(Math.abs(Er)>1||Math.abs(mt)>1)&&ve(Math.abs(Er)>Math.abs(mt)?"x":"y");let er={x:0,y:0};const zn=Cn=>1/(1.5+Math.abs(Cn)/20);if(Ne==="y"){if(Zn.includes("top")||Zn.includes("bottom"))if(Zn.includes("top")&&mt<0||Zn.includes("bottom")&&mt>0)er.y=mt;else{const Cn=mt*zn(mt);er.y=Math.abs(Cn)<Math.abs(mt)?Cn:mt}}else if(Ne==="x"&&(Zn.includes("left")||Zn.includes("right")))if(Zn.includes("left")&&Er<0||Zn.includes("right")&&Er>0)er.x=Er;else{const Cn=Er*zn(Er);er.x=Math.abs(Cn)<Math.abs(Er)?Cn:Er}(Math.abs(er.x)>0||Math.abs(er.y)>0)&&ot(!0),(Sn=Be.current)==null||Sn.style.setProperty("--swipe-amount-x",`${er.x}px`),(ur=Be.current)==null||ur.style.setProperty("--swipe-amount-y",`${er.y}px`)}},it&&!b.jsx&&ye!=="loading"?Xe.createElement("button",{"aria-label":re,"data-disabled":yn,"data-close-button":!0,onClick:yn||!Se?()=>{}:()=>{Et(),b.onDismiss==null||b.onDismiss.call(b,b)},className:dl(ne?.closeButton,b==null||(r=b.classNames)==null?void 0:r.closeButton)},(Ct=Z?.close)!=null?Ct:Y6):null,(ye||b.icon||b.promise)&&b.icon!==null&&(Z?.[ye]!==null||b.icon)?Xe.createElement("div",{"data-icon":"",className:dl(ne?.icon,b==null||(s=b.classNames)==null?void 0:s.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||zt():null,b.type!=="loading"?jn:null):null,Xe.createElement("div",{"data-content":"",className:dl(ne?.content,b==null||(o=b.classNames)==null?void 0:o.content)},Xe.createElement("div",{"data-title":"",className:dl(ne?.title,b==null||(c=b.classNames)==null?void 0:c.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?Xe.createElement("div",{"data-description":"",className:dl(T,He,ne?.description,b==null||(u=b.classNames)==null?void 0:u.description)},typeof b.description=="function"?b.description():b.description):null),Xe.isValidElement(b.cancel)?b.cancel:b.cancel&&mm(b.cancel)?Xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||R,onClick:ht=>{mm(b.cancel)&&Se&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,ht),Et())},className:dl(ne?.cancelButton,b==null||(d=b.classNames)==null?void 0:d.cancelButton)},b.cancel.label):null,Xe.isValidElement(b.action)?b.action:b.action&&mm(b.action)?Xe.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||P,onClick:ht=>{mm(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,ht),!ht.defaultPrevented&&Et())},className:dl(ne?.actionButton,b==null||(f=b.classNames)==null?void 0:f.actionButton)},b.action.label):null)};function h_(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function uC(n,e){const t={};return[n,e].forEach((r,s)=>{const o=s===1,c=o?"--mobile-offset":"--offset",u=o?rC:nC;function d(f){["top","right","bottom","left"].forEach(g=>{t[`${c}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?t[`${c}-${f}`]=u:t[`${c}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(u)}),t}const hC=Xe.forwardRef(function(e,t){const{id:r,invert:s,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:g,mobileOffset:b,theme:S="light",richColors:_,duration:O,style:V,visibleToasts:U=tC,toastOptions:j,dir:te=h_(),gap:oe=sC,icons:Y,containerAriaLabel:ie="Notifications"}=e,[de,q]=Xe.useState([]),R=Xe.useMemo(()=>r?de.filter(z=>z.toasterId===r):de.filter(z=>!z.toasterId),[de,r]),P=Xe.useMemo(()=>Array.from(new Set([o].concat(R.filter(z=>z.position).map(z=>z.position)))),[R,o]),[G,T]=Xe.useState([]),[k,D]=Xe.useState(!1),[fe,xe]=Xe.useState(!1),[ne,Z]=Xe.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=Xe.useRef(null),Ne=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),ve=Xe.useRef(null),X=Xe.useRef(!1),L=Xe.useCallback(z=>{q($=>{var se;return(se=$.find(pe=>pe.id===z.id))!=null&&se.delete||va.dismiss(z.id),$.filter(({id:pe})=>pe!==z.id)})},[]);return Xe.useEffect(()=>va.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{q($=>$.map(se=>se.id===z.id?{...se,delete:!0}:se))});return}setTimeout(()=>{V6.flushSync(()=>{q($=>{const se=$.findIndex(pe=>pe.id===z.id);return se!==-1?[...$.slice(0,se),{...$[se],...z},...$.slice(se+1)]:[z,...$]})})})}),[de]),Xe.useEffect(()=>{if(S!=="system"){Z(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:$})=>{Z($?"dark":"light")})}catch{z.addListener(({matches:se})=>{try{Z(se?"dark":"light")}catch(pe){console.error(pe)}})}},[S]),Xe.useEffect(()=>{de.length<=1&&D(!1)},[de]),Xe.useEffect(()=>{const z=$=>{var se;if(c.every(Ee=>$[Ee]||$.code===Ee)){var me;D(!0),(me=re.current)==null||me.focus()}$.code==="Escape"&&(document.activeElement===re.current||(se=re.current)!=null&&se.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[c]),Xe.useEffect(()=>{if(re.current)return()=>{ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null,X.current=!1)}},[re.current]),Xe.createElement("section",{ref:t,"aria-label":`${ie} ${Ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((z,$)=>{var se;const[pe,me]=z.split("-");return R.length?Xe.createElement("ol",{key:z,dir:te==="auto"?h_():te,tabIndex:-1,ref:re,className:f,"data-sonner-toaster":!0,"data-sonner-theme":ne,"data-y-position":pe,"data-x-position":me,style:{"--front-toast-height":`${((se=G[0])==null?void 0:se.height)||0}px`,"--width":`${iC}px`,"--gap":`${oe}px`,...V,...uC(g,b)},onBlur:Ee=>{X.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(X.current=!1,ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||X.current||(X.current=!0,ve.current=Ee.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{fe||D(!1)},onDragEnd:()=>D(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||xe(!0)},onPointerUp:()=>xe(!1)},R.filter(Ee=>!Ee.position&&$===0||Ee.position===z).map((Ee,Ie)=>{var Fe,et;return Xe.createElement(cC,{key:Ee.id,icons:Y,index:Ie,toast:Ee,defaultRichColors:_,duration:(Fe=j?.duration)!=null?Fe:O,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:s,visibleToasts:U,closeButton:(et=j?.closeButton)!=null?et:d,interacting:fe,position:z,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:L,toasts:R.filter(ot=>ot.position==Ee.position),heights:G.filter(ot=>ot.position==Ee.position),setHeights:T,expandByDefault:u,gap:oe,expanded:k,swipeDirections:e.swipeDirections})})):null}))});function z4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=z4(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function fC(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=z4(n))&&(r&&(r+=" "),r+=e);return r}const dC=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},pC=(n,e)=>({classGroupId:n,validator:e}),q4=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Jm="-",f_=[],mC="arbitrary..",gC=n=>{const e=vC(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return yC(c);const u=c.split(Jm),d=u[0]===""&&u.length>1?1:0;return H4(u,d,e)},getConflictingClassGroupIds:(c,u)=>{if(u){const d=r[c],f=t[c];return d?f?dC(f,d):d:f||f_}return t[c]||f_}}},H4=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const s=n[e],o=t.nextPart.get(s);if(o){const f=H4(n,e+1,o);if(f)return f}const c=t.validators;if(c===null)return;const u=e===0?n.join(Jm):n.slice(e).join(Jm),d=c.length;for(let f=0;f<d;f++){const g=c[f];if(g.validator(u))return g.classGroupId}},yC=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?mC+r:void 0})(),vC=n=>{const{theme:e,classGroups:t}=n;return bC(t,e)},bC=(n,e)=>{const t=q4();for(const r in n){const s=n[r];Ny(s,t,r,e)}return t},Ny=(n,e,t,r)=>{const s=n.length;for(let o=0;o<s;o++){const c=n[o];_C(c,e,t,r)}},_C=(n,e,t,r)=>{if(typeof n=="string"){wC(n,e,t);return}if(typeof n=="function"){xC(n,e,t,r);return}AC(n,e,t,r)},wC=(n,e,t)=>{const r=n===""?e:G4(e,n);r.classGroupId=t},xC=(n,e,t,r)=>{if(SC(n)){Ny(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(pC(t,n))},AC=(n,e,t,r)=>{const s=Object.entries(n),o=s.length;for(let c=0;c<o;c++){const[u,d]=s[c];Ny(d,G4(e,u),t,r)}},G4=(n,e)=>{let t=n;const r=e.split(Jm),s=r.length;for(let o=0;o<s;o++){const c=r[o];let u=t.nextPart.get(c);u||(u=q4(),t.nextPart.set(c,u)),t=u}return t},SC=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,EC=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const s=(o,c)=>{t[o]=c,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(o){let c=t[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return s(o,c),c},set(o,c){o in t?t[o]=c:s(o,c)}}},C2="!",d_=":",NC=[],p_=(n,e,t,r,s)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:s}),TC=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const o=[];let c=0,u=0,d=0,f;const g=s.length;for(let V=0;V<g;V++){const U=s[V];if(c===0&&u===0){if(U===d_){o.push(s.slice(d,V)),d=V+1;continue}if(U==="/"){f=V;continue}}U==="["?c++:U==="]"?c--:U==="("?u++:U===")"&&u--}const b=o.length===0?s:s.slice(d);let S=b,_=!1;b.endsWith(C2)?(S=b.slice(0,-1),_=!0):b.startsWith(C2)&&(S=b.slice(1),_=!0);const O=f&&f>d?f-d:void 0;return p_(o,_,S,O)};if(e){const s=e+d_,o=r;r=c=>c.startsWith(s)?o(c.slice(s.length)):p_(NC,!1,c,void 0,!0)}if(t){const s=r;r=o=>t({className:o,parseClassName:s})}return r},CC=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let s=[];for(let o=0;o<t.length;o++){const c=t[o],u=c[0]==="[",d=e.has(c);u||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(c)):s.push(c)}return s.length>0&&(s.sort(),r.push(...s)),r}},IC=n=>({cache:EC(n.cacheSize),parseClassName:TC(n),sortModifiers:CC(n),...gC(n)}),RC=/\s+/,kC=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],u=n.trim().split(RC);let d="";for(let f=u.length-1;f>=0;f-=1){const g=u[f],{isExternal:b,modifiers:S,hasImportantModifier:_,baseClassName:O,maybePostfixModifierPosition:V}=t(g);if(b){d=g+(d.length>0?" "+d:d);continue}let U=!!V,j=r(U?O.substring(0,V):O);if(!j){if(!U){d=g+(d.length>0?" "+d:d);continue}if(j=r(O),!j){d=g+(d.length>0?" "+d:d);continue}U=!1}const te=S.length===0?"":S.length===1?S[0]:o(S).join(":"),oe=_?te+C2:te,Y=oe+j;if(c.indexOf(Y)>-1)continue;c.push(Y);const ie=s(j,U);for(let de=0;de<ie.length;++de){const q=ie[de];c.push(oe+q)}d=g+(d.length>0?" "+d:d)}return d},LC=(...n)=>{let e=0,t,r,s="";for(;e<n.length;)(t=n[e++])&&(r=W4(t))&&(s&&(s+=" "),s+=r);return s},W4=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=W4(n[r]))&&(t&&(t+=" "),t+=e);return t},DC=(n,...e)=>{let t,r,s,o;const c=d=>{const f=e.reduce((g,b)=>b(g),n());return t=IC(f),r=t.cache.get,s=t.cache.set,o=u,u(d)},u=d=>{const f=r(d);if(f)return f;const g=kC(d,t);return s(d,g),g};return o=c,(...d)=>o(LC(...d))},PC=[],Gi=n=>{const e=t=>t[n]||PC;return e.isThemeGetter=!0,e},Y4=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OC=/^\d+\/\d+$/,MC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,UC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yh=n=>OC.test(n),bn=n=>!!n&&!Number.isNaN(Number(n)),Hc=n=>!!n&&Number.isInteger(Number(n)),N0=n=>n.endsWith("%")&&bn(n.slice(0,-1)),ec=n=>MC.test(n),BC=()=>!0,zC=n=>jC.test(n)&&!VC.test(n),K4=()=>!1,qC=n=>UC.test(n),HC=n=>FC.test(n),GC=n=>!kt(n)&&!Lt(n),WC=n=>Rf(n,J4,K4),kt=n=>Y4.test(n),Fu=n=>Rf(n,Z4,zC),T0=n=>Rf(n,QC,bn),m_=n=>Rf(n,X4,K4),YC=n=>Rf(n,Q4,HC),gm=n=>Rf(n,eA,qC),Lt=n=>$4.test(n),Ad=n=>kf(n,Z4),$C=n=>kf(n,JC),g_=n=>kf(n,X4),KC=n=>kf(n,J4),XC=n=>kf(n,Q4),ym=n=>kf(n,eA,!0),Rf=(n,e,t)=>{const r=Y4.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},kf=(n,e,t=!1)=>{const r=$4.exec(n);return r?r[1]?e(r[1]):t:!1},X4=n=>n==="position"||n==="percentage",Q4=n=>n==="image"||n==="url",J4=n=>n==="length"||n==="size"||n==="bg-size",Z4=n=>n==="length",QC=n=>n==="number",JC=n=>n==="family-name",eA=n=>n==="shadow",ZC=()=>{const n=Gi("color"),e=Gi("font"),t=Gi("text"),r=Gi("font-weight"),s=Gi("tracking"),o=Gi("leading"),c=Gi("breakpoint"),u=Gi("container"),d=Gi("spacing"),f=Gi("radius"),g=Gi("shadow"),b=Gi("inset-shadow"),S=Gi("text-shadow"),_=Gi("drop-shadow"),O=Gi("blur"),V=Gi("perspective"),U=Gi("aspect"),j=Gi("ease"),te=Gi("animate"),oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...Y(),Lt,kt],de=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],R=()=>[Lt,kt,d],P=()=>[Yh,"full","auto",...R()],G=()=>[Hc,"none","subgrid",Lt,kt],T=()=>["auto",{span:["full",Hc,Lt,kt]},Hc,Lt,kt],k=()=>[Hc,"auto",Lt,kt],D=()=>["auto","min","max","fr",Lt,kt],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",...R()],Z=()=>[Yh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],re=()=>[n,Lt,kt],Ne=()=>[...Y(),g_,m_,{position:[Lt,kt]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",KC,WC,{size:[Lt,kt]}],L=()=>[N0,Ad,Fu],z=()=>["","none","full",f,Lt,kt],$=()=>["",bn,Ad,Fu],se=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[bn,N0,g_,m_],Ee=()=>["","none",O,Lt,kt],Ie=()=>["none",bn,Lt,kt],Fe=()=>["none",bn,Lt,kt],et=()=>[bn,Lt,kt],ot=()=>[Yh,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ec],breakpoint:[ec],color:[BC],container:[ec],"drop-shadow":[ec],ease:["in","out","in-out"],font:[GC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ec],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ec],shadow:[ec],spacing:["px",bn],text:[ec],"text-shadow":[ec],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yh,kt,Lt,U]}],container:["container"],columns:[{columns:[bn,kt,Lt,u]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Hc,"auto",Lt,kt]}],basis:[{basis:[Yh,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bn,Yh,"auto","initial","none",kt]}],grow:[{grow:["",bn,Lt,kt]}],shrink:[{shrink:["",bn,Lt,kt]}],order:[{order:[Hc,"first","last","none",Lt,kt]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[u,"screen",...Z()]}],"min-w":[{"min-w":[u,"screen","none",...Z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",t,Ad,Fu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Lt,T0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",N0,kt]}],"font-family":[{font:[$C,kt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Lt,kt]}],"line-clamp":[{"line-clamp":[bn,"none",Lt,T0]}],leading:[{leading:[o,...R()]}],"list-image":[{"list-image":["none",Lt,kt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Lt,kt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[bn,"from-font","auto",Lt,Fu]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[bn,"auto",Lt,kt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt,kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt,kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ne()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hc,Lt,kt],radial:["",Lt,kt],conic:[Hc,Lt,kt]},XC,YC]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bn,Lt,kt]}],"outline-w":[{outline:["",bn,Ad,Fu]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",g,ym,gm]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",b,ym,gm]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[bn,Fu]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",S,ym,gm]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[bn,Lt,kt]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bn]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[Lt,kt]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[bn]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ne()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Lt,kt]}],filter:[{filter:["","none",Lt,kt]}],blur:[{blur:Ee()}],brightness:[{brightness:[bn,Lt,kt]}],contrast:[{contrast:[bn,Lt,kt]}],"drop-shadow":[{"drop-shadow":["","none",_,ym,gm]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",bn,Lt,kt]}],"hue-rotate":[{"hue-rotate":[bn,Lt,kt]}],invert:[{invert:["",bn,Lt,kt]}],saturate:[{saturate:[bn,Lt,kt]}],sepia:[{sepia:["",bn,Lt,kt]}],"backdrop-filter":[{"backdrop-filter":["","none",Lt,kt]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[bn,Lt,kt]}],"backdrop-contrast":[{"backdrop-contrast":[bn,Lt,kt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bn,Lt,kt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bn,Lt,kt]}],"backdrop-invert":[{"backdrop-invert":["",bn,Lt,kt]}],"backdrop-opacity":[{"backdrop-opacity":[bn,Lt,kt]}],"backdrop-saturate":[{"backdrop-saturate":[bn,Lt,kt]}],"backdrop-sepia":[{"backdrop-sepia":["",bn,Lt,kt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Lt,kt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bn,"initial",Lt,kt]}],ease:[{ease:["linear","initial",j,Lt,kt]}],delay:[{delay:[bn,Lt,kt]}],animate:[{animate:["none",te,Lt,kt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,Lt,kt]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:Fe()}],"scale-x":[{"scale-x":Fe()}],"scale-y":[{"scale-y":Fe()}],"scale-z":[{"scale-z":Fe()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[Lt,kt,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ot()}],"translate-x":[{"translate-x":ot()}],"translate-y":[{"translate-y":ot()}],"translate-z":[{"translate-z":ot()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt,kt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt,kt]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[bn,Ad,Fu,T0]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},e8=DC(ZC);function qr(...n){return e8(fC(n))}const y_=n=>{let e;const t=new Set,r=(f,g)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const S=e;e=g??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(_=>_(e,S))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(t.add(f),()=>t.delete(f))},d=e=n(r,s,u);return u},t8=(n=>n?y_(n):y_),n8=n=>n;function r8(n,e=n8){const t=Xe.useSyncExternalStore(n.subscribe,Xe.useCallback(()=>e(n.getState()),[n,e]),Xe.useCallback(()=>e(n.getInitialState()),[n,e]));return Xe.useDebugValue(t),t}const v_=n=>{const e=t8(n),t=r=>r8(e,r);return Object.assign(t,e),t},Ty=(n=>n?v_(n):v_),i8=()=>{};var b_={};const tA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},s8=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],u=n[t++],d=((s&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},nA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,u=c?n[s+1]:0,d=s+2<n.length,f=d?n[s+2]:0,g=o>>2,b=(o&3)<<4|u>>4;let S=(u&15)<<2|f>>6,_=f&63;d||(_=64,c||(S=64)),r.push(t[g],t[b],t[S],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):s8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||u==null||f==null||b==null)throw new a8;const S=o<<2|u>>4;if(r.push(S),f!==64){const _=u<<4&240|f>>2;if(r.push(_),b!==64){const O=f<<6&192|b;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class a8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o8=function(n){const e=tA(n);return nA.encodeByteArray(e,!0)},Zm=function(n){return o8(n).replace(/\./g,"")},rA=function(n){try{return nA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const c8=()=>l8().__FIREBASE_DEFAULTS__,u8=()=>{if(typeof process>"u"||typeof b_>"u")return;const n=b_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},h8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rA(n[1]);return e&&JSON.parse(e)},Cg=()=>{try{return i8()||c8()||u8()||h8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iA=n=>Cg()?.emulatorHosts?.[n],sA=n=>{const e=iA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aA=()=>Cg()?.config,oA=n=>Cg()?.[`_${n}`];class f8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function bu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cy(n){return(await fetch(n,{credentials:"include"})).ok}function lA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zm(JSON.stringify(t)),Zm(JSON.stringify(c)),""].join(".")}const Od={};function d8(){const n={prod:[],emulator:[]};for(const e of Object.keys(Od))Od[e]?n.emulator.push(e):n.prod.push(e);return n}function p8(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let __=!1;function Iy(n,e){if(typeof window>"u"||typeof document>"u"||!bu(window.location.host)||Od[n]===e||Od[n]||__)return;Od[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",o=d8().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function u(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function d(S,_){S.setAttribute("width","24"),S.setAttribute("id",_),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function f(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{__=!0,c()},S}function g(S,_){S.setAttribute("id",_),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=p8(r),_=t("text"),O=document.getElementById(_)||document.createElement("span"),V=t("learnmore"),U=document.getElementById(V)||document.createElement("a"),j=t("preprendIcon"),te=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const oe=S.element;u(oe),g(U,V);const Y=f();d(te,j),oe.append(te,O,U,Y),document.body.appendChild(oe)}o?(O.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Us(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Us())}function g8(){const n=Cg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v8(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function b8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _8(){const n=Us();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function w8(){return!g8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x8(){try{return typeof indexedDB=="object"}catch{return!1}}function A8(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const S8="FirebaseError";class Nl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=S8,Object.setPrototypeOf(this,Nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,up.prototype.create)}}class up{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?E8(o,r):"Error",u=`${this.serviceName}: ${c} (${s}).`;return new Nl(s,u,r)}}function E8(n,e){return n.replace(N8,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const N8=/\{\$([^}]+)}/g;function T8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(w_(o)&&w_(c)){if(!Qu(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function w_(n){return n!==null&&typeof n=="object"}function hp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function kd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function C8(n,e){const t=new I8(n,e);return t.subscribe.bind(t)}class I8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");R8(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=C0),s.error===void 0&&(s.error=C0),s.complete===void 0&&(s.complete=C0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R8(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function C0(){}function Hr(n){return n&&n._delegate?n._delegate:n}class cu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bu="[DEFAULT]";class k8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new f8;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D8(e))try{this.getOrInitializeService({instanceIdentifier:Bu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Bu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bu){return this.instances.has(e)}getOptions(e=Bu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L8(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bu){return this.component?this.component.multipleInstances?e:Bu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L8(n){return n===Bu?void 0:n}function D8(n){return n.instantiationMode==="EAGER"}class P8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new k8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ln||(Ln={}));const O8={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},M8=Ln.INFO,j8={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},V8=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=j8[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=M8,this._logHandler=V8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const U8=(n,e)=>e.some(t=>n instanceof t);let x_,A_;function F8(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B8(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cA=new WeakMap,I2=new WeakMap,uA=new WeakMap,I0=new WeakMap,ky=new WeakMap;function z8(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(ru(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&cA.set(t,n)}).catch(()=>{}),ky.set(e,n),e}function q8(n){if(I2.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});I2.set(n,e)}let R2={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return I2.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ru(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function H8(n){R2=n(R2)}function G8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(R0(this),e,...t);return uA.set(r,e.sort?e.sort():[e]),ru(r)}:B8().includes(n)?function(...e){return n.apply(R0(this),e),ru(cA.get(this))}:function(...e){return ru(n.apply(R0(this),e))}}function W8(n){return typeof n=="function"?G8(n):(n instanceof IDBTransaction&&q8(n),U8(n,F8())?new Proxy(n,R2):n)}function ru(n){if(n instanceof IDBRequest)return z8(n);if(I0.has(n))return I0.get(n);const e=W8(n);return e!==n&&(I0.set(n,e),ky.set(e,n)),e}const R0=n=>ky.get(n);function Y8(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),u=ru(c);return r&&c.addEventListener("upgradeneeded",d=>{r(ru(c.result),d.oldVersion,d.newVersion,ru(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const $8=["get","getKey","getAll","getAllKeys","count"],K8=["put","add","delete","clear"],k0=new Map;function S_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(k0.get(e))return k0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=K8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$8.includes(t)))return;const o=async function(c,...u){const d=this.transaction(c,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),s&&d.done]))[0]};return k0.set(e,o),o}H8(n=>({...n,get:(e,t,r)=>S_(e,t)||n.get(e,t,r),has:(e,t)=>!!S_(e,t)||n.has(e,t)}));class X8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Q8(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Q8(n){return n.getComponent()?.type==="VERSION"}const k2="@firebase/app",E_="0.14.7";const cc=new Ry("@firebase/app"),J8="@firebase/app-compat",Z8="@firebase/analytics-compat",eI="@firebase/analytics",tI="@firebase/app-check-compat",nI="@firebase/app-check",rI="@firebase/auth",iI="@firebase/auth-compat",sI="@firebase/database",aI="@firebase/data-connect",oI="@firebase/database-compat",lI="@firebase/functions",cI="@firebase/functions-compat",uI="@firebase/installations",hI="@firebase/installations-compat",fI="@firebase/messaging",dI="@firebase/messaging-compat",pI="@firebase/performance",mI="@firebase/performance-compat",gI="@firebase/remote-config",yI="@firebase/remote-config-compat",vI="@firebase/storage",bI="@firebase/storage-compat",_I="@firebase/firestore",wI="@firebase/ai",xI="@firebase/firestore-compat",AI="firebase",SI="12.8.0";const L2="[DEFAULT]",EI={[k2]:"fire-core",[J8]:"fire-core-compat",[eI]:"fire-analytics",[Z8]:"fire-analytics-compat",[nI]:"fire-app-check",[tI]:"fire-app-check-compat",[rI]:"fire-auth",[iI]:"fire-auth-compat",[sI]:"fire-rtdb",[aI]:"fire-data-connect",[oI]:"fire-rtdb-compat",[lI]:"fire-fn",[cI]:"fire-fn-compat",[uI]:"fire-iid",[hI]:"fire-iid-compat",[fI]:"fire-fcm",[dI]:"fire-fcm-compat",[pI]:"fire-perf",[mI]:"fire-perf-compat",[gI]:"fire-rc",[yI]:"fire-rc-compat",[vI]:"fire-gcs",[bI]:"fire-gcs-compat",[_I]:"fire-fst",[xI]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};const eg=new Map,NI=new Map,D2=new Map;function N_(n,e){try{n.container.addComponent(e)}catch(t){cc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ju(n){const e=n.name;if(D2.has(e))return cc.debug(`There were multiple attempts to register component ${e}.`),!1;D2.set(e,n);for(const t of eg.values())N_(t,n);for(const t of NI.values())N_(t,n);return!0}function Ig(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function lo(n){return n==null?!1:n.settings!==void 0}const TI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},iu=new up("app","Firebase",TI);class CI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw iu.create("app-deleted",{appName:this._name})}}const oh=SI;function hA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:L2,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw iu.create("bad-app-name",{appName:String(s)});if(t||(t=aA()),!t)throw iu.create("no-options");const o=eg.get(s);if(o){if(Qu(t,o.options)&&Qu(r,o.config))return o;throw iu.create("duplicate-app",{appName:s})}const c=new P8(s);for(const d of D2.values())c.addComponent(d);const u=new CI(t,r,c);return eg.set(s,u),u}function Ly(n=L2){const e=eg.get(n);if(!e&&n===L2&&aA())return hA();if(!e)throw iu.create("no-app",{appName:n});return e}function _l(n,e,t){let r=EI[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cc.warn(c.join(" "));return}Ju(new cu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const II="firebase-heartbeat-database",RI=1,Kd="firebase-heartbeat-store";let L0=null;function fA(){return L0||(L0=Y8(II,RI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Kd)}catch(t){console.warn(t)}}}}).catch(n=>{throw iu.create("idb-open",{originalErrorMessage:n.message})})),L0}async function kI(n){try{const t=(await fA()).transaction(Kd),r=await t.objectStore(Kd).get(dA(n));return await t.done,r}catch(e){if(e instanceof Nl)cc.warn(e.message);else{const t=iu.create("idb-get",{originalErrorMessage:e?.message});cc.warn(t.message)}}}async function T_(n,e){try{const r=(await fA()).transaction(Kd,"readwrite");await r.objectStore(Kd).put(e,dA(n)),await r.done}catch(t){if(t instanceof Nl)cc.warn(t.message);else{const r=iu.create("idb-set",{originalErrorMessage:t?.message});cc.warn(r.message)}}}function dA(n){return`${n.name}!${n.options.appId}`}const LI=1024,DI=30;class PI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=C_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>DI){const s=jI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C_(),{heartbeatsToSend:t,unsentEntries:r}=OI(this._heartbeatsCache.heartbeats),s=Zm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return cc.warn(e),""}}}function C_(){return new Date().toISOString().substring(0,10)}function OI(n,e=LI){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),I_(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),I_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x8()?A8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I_(n){return Zm(JSON.stringify({version:2,heartbeats:n})).length}function jI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function VI(n){Ju(new cu("platform-logger",e=>new X8(e),"PRIVATE")),Ju(new cu("heartbeat",e=>new PI(e),"PRIVATE")),_l(k2,E_,n),_l(k2,E_,"esm2020"),_l("fire-js","")}VI("");var UI="firebase",FI="12.8.0";_l(UI,FI,"app");function pA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=pA,mA=new up("auth","Firebase",pA());const tg=new Ry("@firebase/auth");function zI(n,...e){tg.logLevel<=Ln.WARN&&tg.warn(`Auth (${oh}): ${n}`,...e)}function Mm(n,...e){tg.logLevel<=Ln.ERROR&&tg.error(`Auth (${oh}): ${n}`,...e)}function Fo(n,...e){throw Dy(n,...e)}function wl(n,...e){return Dy(n,...e)}function gA(n,e,t){const r={...BI(),[e]:t};return new up("auth","Firebase",r).create(e,{appName:n.name})}function su(n){return gA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mA.create(n,...e)}function en(n,e,...t){if(!n)throw Dy(e,...t)}function sc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mm(e),new Error(e)}function uc(n,e){n||sc(e)}function P2(){return typeof self<"u"&&self.location?.href||""}function qI(){return R_()==="http:"||R_()==="https:"}function R_(){return typeof self<"u"&&self.location?.protocol||null}function HI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qI()||v8()||"connection"in navigator)?navigator.onLine:!0}function GI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class fp{constructor(e,t){this.shortDelay=e,this.longDelay=t,uc(t>e,"Short delay should be less than long delay!"),this.isMobile=m8()||b8()}get(){return HI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Py(n,e){uc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class yA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$I=new fp(3e4,6e4);function lh(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function pc(n,e,t,r,s={}){return vA(n,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=hp({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...o};return y8()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&bu(n.emulatorConfig.host)&&(f.credentials="include"),yA.fetch()(await bA(n,n.config.apiHost,t,u),f)})}async function vA(n,e,t){n._canInitEmulator=!1;const r={...WI,...e};try{const s=new XI(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw vm(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vm(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw vm(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw vm(n,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw gA(n,g,f);Fo(n,g)}}catch(s){if(s instanceof Nl)throw s;Fo(n,"network-request-failed",{message:String(s)})}}async function Rg(n,e,t,r,s={}){const o=await pc(n,e,t,r,s);return"mfaPendingCredential"in o&&Fo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function bA(n,e,t,r){const s=`${e}${t}?${r}`,o=n,c=o.config.emulator?Py(n.config,s):`${n.config.apiScheme}://${s}`;return YI.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function KI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wl(this.auth,"network-request-failed")),$I.get())})}}function vm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=wl(n,e,r);return s.customData._tokenResponse=t,s}function k_(n){return n!==void 0&&n.enterprise!==void 0}class QI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JI(n,e){return pc(n,"GET","/v2/recaptchaConfig",lh(n,e))}async function ZI(n,e){return pc(n,"POST","/v1/accounts:delete",e)}async function ng(n,e){return pc(n,"POST","/v1/accounts:lookup",e)}function Md(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eR(n,e=!1){const t=Hr(n),r=await t.getIdToken(e),s=Oy(r);en(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:r,authTime:Md(D0(s.auth_time)),issuedAtTime:Md(D0(s.iat)),expirationTime:Md(D0(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function D0(n){return Number(n)*1e3}function Oy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mm("JWT malformed, contained fewer than 3 sections"),null;try{const s=rA(t);return s?JSON.parse(s):(Mm("Failed to decode base64 JWT payload"),null)}catch(s){return Mm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function L_(n){const e=Oy(n);return en(e,"internal-error"),en(typeof e.exp<"u","internal-error"),en(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Nl&&tR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function tR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class nR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class O2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Md(this.lastLoginAt),this.creationTime=Md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rg(n){const e=n.auth,t=await n.getIdToken(),r=await wf(n,ng(e,{idToken:t}));en(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?_A(s.providerUserInfo):[],c=iR(n.providerData,o),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new O2(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function rR(n){const e=Hr(n);await rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _A(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function sR(n,e){const t=await vA(n,{},async()=>{const r=hp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=await bA(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&bu(n.emulatorConfig.host)&&(d.credentials="include"),yA.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aR(n,e){return pc(n,"POST","/v2/accounts:revokeToken",lh(n,e))}class uf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){en(e.idToken,"internal-error"),en(typeof e.idToken<"u","internal-error"),en(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){en(e.length!==0,"internal-error");const t=L_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(en(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await sR(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,c=new uf;return r&&(en(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(en(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(en(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uf,this.toJSON())}_performRefresh(){return sc("not implemented")}}function Gc(n,e){en(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class jo{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new nR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new O2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wf(this,this.stsTokenManager.getToken(this.auth,e));return en(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eR(this,e)}reload(){return rR(this)}_assign(e){this!==e&&(en(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lo(this.auth.app))return Promise.reject(su(this.auth));const e=await this.getIdToken();return await wf(this,ZI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:_,providerData:O,stsTokenManager:V}=t;en(b&&V,e,"internal-error");const U=uf.fromJSON(this.name,V);en(typeof b=="string",e,"internal-error"),Gc(r,e.name),Gc(s,e.name),en(typeof S=="boolean",e,"internal-error"),en(typeof _=="boolean",e,"internal-error"),Gc(o,e.name),Gc(c,e.name),Gc(u,e.name),Gc(d,e.name),Gc(f,e.name),Gc(g,e.name);const j=new jo({uid:b,auth:e,email:s,emailVerified:S,displayName:r,isAnonymous:_,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:U,createdAt:f,lastLoginAt:g});return O&&Array.isArray(O)&&(j.providerData=O.map(te=>({...te}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,t,r=!1){const s=new uf;s.updateFromServerResponse(t);const o=new jo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await rg(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];en(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?_A(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,u=new uf;u.updateFromIdToken(r);const d=new jo({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:c}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new O2(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const D_=new Map;function ac(n){uc(n instanceof Function,"Expected a class definition");let e=D_.get(n);return e?(uc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,D_.set(n,e),e)}class wA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wA.type="NONE";const P_=wA;function jm(n,e,t){return`firebase:${n}:${e}:${t}`}class hf{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=jm(this.userKey,s.apiKey,o),this.fullPersistenceKey=jm("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ng(this.auth,{idToken:e}).catch(()=>{});return t?jo._fromGetAccountInfoResponse(this.auth,t,e):null}return jo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new hf(ac(P_),e,r);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ac(P_);const c=jm(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const g=await f._get(c);if(g){let b;if(typeof g=="string"){const S=await ng(e,{idToken:g}).catch(()=>{});if(!S)break;b=await jo._fromGetAccountInfoResponse(e,S,g)}else b=jo._fromJSON(e,g);f!==o&&(u=b),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new hf(o,e,r):(o=d[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new hf(o,e,r))}}function O_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(CA(e))return"Webos";if(AA(e))return"Safari";if((e.includes("chrome/")||SA(e))&&!e.includes("edge/"))return"Chrome";if(NA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function xA(n=Us()){return/firefox\//i.test(n)}function AA(n=Us()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SA(n=Us()){return/crios\//i.test(n)}function EA(n=Us()){return/iemobile/i.test(n)}function NA(n=Us()){return/android/i.test(n)}function TA(n=Us()){return/blackberry/i.test(n)}function CA(n=Us()){return/webos/i.test(n)}function My(n=Us()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oR(n=Us()){return My(n)&&!!window.navigator?.standalone}function lR(){return _8()&&document.documentMode===10}function IA(n=Us()){return My(n)||NA(n)||CA(n)||TA(n)||/windows phone/i.test(n)||EA(n)}function RA(n,e=[]){let t;switch(n){case"Browser":t=O_(Us());break;case"Worker":t=`${O_(Us())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oh}/${r}`}class cR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,u)=>{try{const d=e(o);c(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function uR(n,e={}){return pc(n,"GET","/v2/passwordPolicy",lh(n,e))}const hR=6;class fR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class dR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new cR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ac(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ng(this,{idToken:e}),r=await jo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return en(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lo(this.app))return Promise.reject(su(this));const t=e?Hr(e):null;return t&&en(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&en(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lo(this.app)?Promise.reject(su(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lo(this.app)?Promise.reject(su(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ac(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uR(this),t=new fR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new up("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await aR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ac(e)||this._popupRedirectResolver;en(t,this,"argument-error"),this.redirectPersistenceManager=await hf.create(this,[ac(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(en(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lf(n){return Hr(n)}class M_{constructor(e){this.auth=e,this.observer=null,this.addObserver=C8(t=>this.observer=t)}get next(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pR(n){kg=n}function kA(n){return kg.loadJS(n)}function mR(){return kg.recaptchaEnterpriseScript}function gR(){return kg.gapiScript}function yR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class vR{constructor(){this.enterprise=new bR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _R="recaptcha-enterprise",LA="NO_RECAPTCHA";class wR{constructor(e){this.type=_R,this.auth=Lf(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{JI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new QI(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(d=>{u(d)})})}function s(o,c,u){const d=window.grecaptcha;k_(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(LA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vR().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!t&&k_(window.grecaptcha))s(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=mR();d.length!==0&&(d+=u),kA(d).then(()=>{s(u,o,c)}).catch(f=>{c(f)})}}).catch(u=>{c(u)})})}}async function j_(n,e,t,r=!1,s=!1){const o=new wR(n);let c;if(s)c=LA;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function V_(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await j_(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await j_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function xR(n,e){const t=Ig(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Qu(o,e??{}))return s;Fo(s,"already-initialized")}return t.initialize({options:e})}function AR(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ac);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function SR(n,e,t){const r=Lf(n);en(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=DA(e),{host:c,port:u}=ER(e),d=u===null?"":`:${u}`,f={url:`${o}//${c}${d}/`},g=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){en(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),en(Qu(f,r.config.emulator)&&Qu(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,bu(c)?(Cy(`${o}//${c}${d}`),Iy("Auth",!0)):NR()}function DA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ER(n){const e=DA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:U_(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:U_(c)}}}function U_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class jy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sc("not implemented")}_getIdTokenResponse(e){return sc("not implemented")}_linkToIdToken(e,t){return sc("not implemented")}_getReauthenticationResolver(e){return sc("not implemented")}}async function TR(n,e){return pc(n,"POST","/v1/accounts:update",e)}async function CR(n,e){return pc(n,"POST","/v1/accounts:signUp",e)}async function IR(n,e){return Rg(n,"POST","/v1/accounts:signInWithPassword",lh(n,e))}async function RR(n,e){return Rg(n,"POST","/v1/accounts:signInWithEmailLink",lh(n,e))}async function kR(n,e){return Rg(n,"POST","/v1/accounts:signInWithEmailLink",lh(n,e))}class Xd extends jy{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Xd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V_(e,t,"signInWithPassword",IR);case"emailLink":return RR(e,{email:this._email,oobCode:this._password});default:Fo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V_(e,r,"signUpPassword",CR);case"emailLink":return kR(e,{idToken:t,email:this._email,oobCode:this._password});default:Fo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ff(n,e){return Rg(n,"POST","/v1/accounts:signInWithIdp",lh(n,e))}const LR="http://localhost";class Zu extends jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const c=new Zu(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ff(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ff(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ff(e,t)}buildRequest(){const e={requestUri:LR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hp(t)}return e}}function DR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PR(n){const e=Rd(kd(n)).link,t=e?Rd(kd(e)).deep_link_id:null,r=Rd(kd(n)).deep_link_id;return(r?Rd(kd(r)).link:null)||r||t||e||n}class Vy{constructor(e){const t=Rd(kd(e)),r=t.apiKey??null,s=t.oobCode??null,o=DR(t.mode??null);en(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=PR(e);try{return new Vy(t)}catch{return null}}}class Df{constructor(){this.providerId=Df.PROVIDER_ID}static credential(e,t){return Xd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Vy.parseLink(t);return en(r,"argument-error"),Xd._fromEmailAndCode(e,r.code,r.tenantId)}}Df.PROVIDER_ID="password";Df.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Df.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class PA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dp extends PA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kc extends dp{constructor(){super("facebook.com")}static credential(e){return Zu._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kc.credentialFromTaggedObject(e)}static credentialFromError(e){return Kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kc.credential(e.oauthAccessToken)}catch{return null}}}Kc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kc.PROVIDER_ID="facebook.com";class Xc extends dp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zu._fromParams({providerId:Xc.PROVIDER_ID,signInMethod:Xc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xc.credentialFromTaggedObject(e)}static credentialFromError(e){return Xc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xc.credential(t,r)}catch{return null}}}Xc.GOOGLE_SIGN_IN_METHOD="google.com";Xc.PROVIDER_ID="google.com";class Qc extends dp{constructor(){super("github.com")}static credential(e){return Zu._fromParams({providerId:Qc.PROVIDER_ID,signInMethod:Qc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qc.credentialFromTaggedObject(e)}static credentialFromError(e){return Qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qc.credential(e.oauthAccessToken)}catch{return null}}}Qc.GITHUB_SIGN_IN_METHOD="github.com";Qc.PROVIDER_ID="github.com";class Jc extends dp{constructor(){super("twitter.com")}static credential(e,t){return Zu._fromParams({providerId:Jc.PROVIDER_ID,signInMethod:Jc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jc.credentialFromTaggedObject(e)}static credentialFromError(e){return Jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Jc.credential(t,r)}catch{return null}}}Jc.TWITTER_SIGN_IN_METHOD="twitter.com";Jc.PROVIDER_ID="twitter.com";class xf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await jo._fromIdTokenResponse(e,r,s),c=F_(r);return new xf({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=F_(r);return new xf({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function F_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ig extends Nl{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ig.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ig(e,t,r,s)}}function OA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ig._fromErrorAndOperation(n,o,e,r):o})}async function OR(n,e,t=!1){const r=await wf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xf._forOperation(n,"link",r)}async function MR(n,e,t=!1){const{auth:r}=n;if(lo(r.app))return Promise.reject(su(r));const s="reauthenticate";try{const o=await wf(n,OA(r,s,e,n),t);en(o.idToken,r,"internal-error");const c=Oy(o.idToken);en(c,r,"internal-error");const{sub:u}=c;return en(n.uid===u,r,"user-mismatch"),xf._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Fo(r,"user-mismatch"),o}}async function MA(n,e,t=!1){if(lo(n.app))return Promise.reject(su(n));const r="signIn",s=await OA(n,r,e),o=await xf._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function jR(n,e){return MA(Lf(n),e)}async function VR(n){const e=Lf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function UR(n,e,t){return lo(n.app)?Promise.reject(su(n)):jR(Hr(n),Df.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VR(n),r})}function FR(n,e){return BR(Hr(n),null,e)}async function BR(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(o.password=t);const c=await wf(n,TR(r,o));await n._updateTokensIfNecessary(c,!0)}function zR(n,e,t,r){return Hr(n).onIdTokenChanged(e,t,r)}function qR(n,e,t){return Hr(n).beforeAuthStateChanged(e,t)}function HR(n,e,t,r){return Hr(n).onAuthStateChanged(e,t,r)}function GR(n){return Hr(n).signOut()}const sg="__sak";class jA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sg,"1"),this.storage.removeItem(sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WR=1e3,YR=10;class VA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);lR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,YR):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VA.type="LOCAL";const $R=VA;class UA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}UA.type="SESSION";const FA=UA;function KR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Lg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(c).map(async f=>f(t.origin,o)),d=await KR(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lg.receivers=[];function Uy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class XR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((u,d)=>{const f=Uy("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(b){const S=b;if(S.data.eventId===f)switch(S.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(S.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function xl(){return window}function QR(n){xl().location.href=n}function BA(){return typeof xl().WorkerGlobalScope<"u"&&typeof xl().importScripts=="function"}async function JR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZR(){return navigator?.serviceWorker?.controller||null}function ek(){return BA()?self:null}const zA="firebaseLocalStorageDb",tk=1,ag="firebaseLocalStorage",qA="fbase_key";class pp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dg(n,e){return n.transaction([ag],e?"readwrite":"readonly").objectStore(ag)}function nk(){const n=indexedDB.deleteDatabase(zA);return new pp(n).toPromise()}function M2(){const n=indexedDB.open(zA,tk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ag,{keyPath:qA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ag)?e(r):(r.close(),await nk(),e(await M2()))})})}async function B_(n,e,t){const r=Dg(n,!0).put({[qA]:e,value:t});return new pp(r).toPromise()}async function rk(n,e){const t=Dg(n,!1).get(e),r=await new pp(t).toPromise();return r===void 0?null:r.value}function z_(n,e){const t=Dg(n,!0).delete(e);return new pp(t).toPromise()}const ik=800,sk=3;class HA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M2(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lg._getInstance(ek()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JR(),!this.activeServiceWorker)return;this.sender=new XR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M2();return await B_(e,sg,"1"),await z_(e,sg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>B_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>rk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>z_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Dg(s,!1).getAll();return new pp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HA.type="LOCAL";const ak=HA;new fp(3e4,6e4);function ok(n,e){return e?ac(e):(en(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Fy extends jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ff(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ff(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ff(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lk(n){return MA(n.auth,new Fy(n),n.bypassAuthState)}function ck(n){const{auth:e,user:t}=n;return en(t,e,"internal-error"),MR(t,new Fy(n),n.bypassAuthState)}async function uk(n){const{auth:e,user:t}=n;return en(t,e,"internal-error"),OR(t,new Fy(n),n.bypassAuthState)}class GA{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lk;case"linkViaPopup":case"linkViaRedirect":return uk;case"reauthViaPopup":case"reauthViaRedirect":return ck;default:Fo(this.auth,"internal-error")}}resolve(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hk=new fp(2e3,1e4);class af extends GA{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,af.currentPopupAction&&af.currentPopupAction.cancel(),af.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return en(e,this.auth,"internal-error"),e}async onExecution(){uc(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,af.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hk.get())};e()}}af.currentPopupAction=null;const fk="pendingRedirect",Vm=new Map;class dk extends GA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const r=await pk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pk(n,e){const t=yk(e),r=gk(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function mk(n,e){Vm.set(n._key(),e)}function gk(n){return ac(n._redirectPersistence)}function yk(n){return jm(fk,n.config.apiKey,n.name)}async function vk(n,e,t=!1){if(lo(n.app))return Promise.reject(su(n));const r=Lf(n),s=ok(r,e),c=await new dk(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const bk=600*1e3;class _k{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!WA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(wl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bk&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function wk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WA(n);default:return!1}}async function xk(n,e={}){return pc(n,"GET","/v1/projects",e)}const Ak=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sk=/^https?/;async function Ek(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xk(n);for(const t of e)try{if(Nk(t))return}catch{}Fo(n,"unauthorized-domain")}function Nk(n){const e=P2(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!Sk.test(t))return!1;if(Ak.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Tk=new fp(3e4,6e4);function H_(){const n=xl().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ck(n){return new Promise((e,t)=>{function r(){H_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H_(),t(wl(n,"network-request-failed"))},timeout:Tk.get()})}if(xl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xl().gapi?.load)r();else{const s=yR("iframefcb");return xl()[s]=()=>{gapi.load?r():t(wl(n,"network-request-failed"))},kA(`${gR()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Um=null,e})}let Um=null;function Ik(n){return Um=Um||Ck(n),Um}const Rk=new fp(5e3,15e3),kk="__/auth/iframe",Lk="emulator/auth/iframe",Dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ok(n){const e=n.config;en(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Py(e,Lk):`https://${n.config.authDomain}/${kk}`,r={apiKey:e.apiKey,appName:n.name,v:oh},s=Pk.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${hp(r).slice(1)}`}async function Mk(n){const e=await Ik(n),t=xl().gapi;return en(t,n,"internal-error"),e.open({where:document.body,url:Ok(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dk,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=wl(n,"network-request-failed"),u=xl().setTimeout(()=>{o(c)},Rk.get());function d(){xl().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(c)})}))}const jk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vk=500,Uk=600,Fk="_blank",Bk="http://localhost";class G_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zk(n,e,t,r=Vk,s=Uk){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...jk,width:r.toString(),height:s.toString(),top:o,left:c},f=Us().toLowerCase();t&&(u=SA(f)?Fk:t),xA(f)&&(e=e||Bk,d.scrollbars="yes");const g=Object.entries(d).reduce((S,[_,O])=>`${S}${_}=${O},`,"");if(oR(f)&&u!=="_self")return qk(e||"",u),new G_(null);const b=window.open(e||"",u,g);en(b,n,"popup-blocked");try{b.focus()}catch{}return new G_(b)}function qk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const Hk="__/auth/handler",Gk="emulator/auth/handler",Wk=encodeURIComponent("fac");async function W_(n,e,t,r,s,o){en(n.config.authDomain,n,"auth-domain-config-required"),en(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:oh,eventId:s};if(e instanceof PA){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",T8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof dp){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await n._getAppCheckToken(),f=d?`#${Wk}=${encodeURIComponent(d)}`:"";return`${Yk(n)}?${hp(u).slice(1)}${f}`}function Yk({config:n}){return n.emulator?Py(n,Gk):`https://${n.authDomain}/${Hk}`}const P0="webStorageSupport";class $k{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FA,this._completeRedirectFn=vk,this._overrideRedirectResult=mk}async _openPopup(e,t,r,s){uc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await W_(e,t,r,P2(),s);return zk(e,o,Uy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await W_(e,t,r,P2(),s);return QR(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(uc(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Mk(e),r=new _k(e);return t.register("authEvent",s=>(en(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(P0,{type:P0},s=>{const o=s?.[0]?.[P0];o!==void 0&&t(!!o),Fo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ek(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IA()||AA()||My()}}const Kk=$k;var Y_="@firebase/auth",$_="1.12.0";class Xk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jk(n){Ju(new cu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;en(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(n)},f=new dR(r,s,o,d);return AR(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ju(new cu("auth-internal",e=>{const t=Lf(e.getProvider("auth").getImmediate());return(r=>new Xk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_l(Y_,$_,Qk(n)),_l(Y_,$_,"esm2020")}const Zk=300,eL=oA("authIdTokenMaxAge")||Zk;let K_=null;const tL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>eL)return;const s=t?.token;K_!==s&&(K_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nL(n=Ly()){const e=Ig(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xR(n,{popupRedirectResolver:Kk,persistence:[ak,$R,FA]}),r=oA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=tL(o.toString());qR(t,c,()=>c(t.currentUser)),zR(t,u=>c(u))}}const s=iA("auth");return s&&SR(t,`http://${s}`),t}function rL(){return document.getElementsByTagName("head")?.[0]??document}pR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=wl("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",rL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jk("Browser");var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var au,YA;(function(){var n;function e(q,R){function P(){}P.prototype=R.prototype,q.F=R.prototype,q.prototype=new P,q.prototype.constructor=q,q.D=function(G,T,k){for(var D=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)D[fe-2]=arguments[fe];return R.prototype[T].apply(G,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(q,R,P){P||(P=0);const G=Array(16);if(typeof R=="string")for(var T=0;T<16;++T)G[T]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(T=0;T<16;++T)G[T]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=q.g[0],P=q.g[1],T=q.g[2];let k=q.g[3],D;D=R+(k^P&(T^k))+G[0]+3614090360&4294967295,R=P+(D<<7&4294967295|D>>>25),D=k+(T^R&(P^T))+G[1]+3905402710&4294967295,k=R+(D<<12&4294967295|D>>>20),D=T+(P^k&(R^P))+G[2]+606105819&4294967295,T=k+(D<<17&4294967295|D>>>15),D=P+(R^T&(k^R))+G[3]+3250441966&4294967295,P=T+(D<<22&4294967295|D>>>10),D=R+(k^P&(T^k))+G[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=k+(T^R&(P^T))+G[5]+1200080426&4294967295,k=R+(D<<12&4294967295|D>>>20),D=T+(P^k&(R^P))+G[6]+2821735955&4294967295,T=k+(D<<17&4294967295|D>>>15),D=P+(R^T&(k^R))+G[7]+4249261313&4294967295,P=T+(D<<22&4294967295|D>>>10),D=R+(k^P&(T^k))+G[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=k+(T^R&(P^T))+G[9]+2336552879&4294967295,k=R+(D<<12&4294967295|D>>>20),D=T+(P^k&(R^P))+G[10]+4294925233&4294967295,T=k+(D<<17&4294967295|D>>>15),D=P+(R^T&(k^R))+G[11]+2304563134&4294967295,P=T+(D<<22&4294967295|D>>>10),D=R+(k^P&(T^k))+G[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=k+(T^R&(P^T))+G[13]+4254626195&4294967295,k=R+(D<<12&4294967295|D>>>20),D=T+(P^k&(R^P))+G[14]+2792965006&4294967295,T=k+(D<<17&4294967295|D>>>15),D=P+(R^T&(k^R))+G[15]+1236535329&4294967295,P=T+(D<<22&4294967295|D>>>10),D=R+(T^k&(P^T))+G[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=k+(P^T&(R^P))+G[6]+3225465664&4294967295,k=R+(D<<9&4294967295|D>>>23),D=T+(R^P&(k^R))+G[11]+643717713&4294967295,T=k+(D<<14&4294967295|D>>>18),D=P+(k^R&(T^k))+G[0]+3921069994&4294967295,P=T+(D<<20&4294967295|D>>>12),D=R+(T^k&(P^T))+G[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=k+(P^T&(R^P))+G[10]+38016083&4294967295,k=R+(D<<9&4294967295|D>>>23),D=T+(R^P&(k^R))+G[15]+3634488961&4294967295,T=k+(D<<14&4294967295|D>>>18),D=P+(k^R&(T^k))+G[4]+3889429448&4294967295,P=T+(D<<20&4294967295|D>>>12),D=R+(T^k&(P^T))+G[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=k+(P^T&(R^P))+G[14]+3275163606&4294967295,k=R+(D<<9&4294967295|D>>>23),D=T+(R^P&(k^R))+G[3]+4107603335&4294967295,T=k+(D<<14&4294967295|D>>>18),D=P+(k^R&(T^k))+G[8]+1163531501&4294967295,P=T+(D<<20&4294967295|D>>>12),D=R+(T^k&(P^T))+G[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=k+(P^T&(R^P))+G[2]+4243563512&4294967295,k=R+(D<<9&4294967295|D>>>23),D=T+(R^P&(k^R))+G[7]+1735328473&4294967295,T=k+(D<<14&4294967295|D>>>18),D=P+(k^R&(T^k))+G[12]+2368359562&4294967295,P=T+(D<<20&4294967295|D>>>12),D=R+(P^T^k)+G[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=k+(R^P^T)+G[8]+2272392833&4294967295,k=R+(D<<11&4294967295|D>>>21),D=T+(k^R^P)+G[11]+1839030562&4294967295,T=k+(D<<16&4294967295|D>>>16),D=P+(T^k^R)+G[14]+4259657740&4294967295,P=T+(D<<23&4294967295|D>>>9),D=R+(P^T^k)+G[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=k+(R^P^T)+G[4]+1272893353&4294967295,k=R+(D<<11&4294967295|D>>>21),D=T+(k^R^P)+G[7]+4139469664&4294967295,T=k+(D<<16&4294967295|D>>>16),D=P+(T^k^R)+G[10]+3200236656&4294967295,P=T+(D<<23&4294967295|D>>>9),D=R+(P^T^k)+G[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=k+(R^P^T)+G[0]+3936430074&4294967295,k=R+(D<<11&4294967295|D>>>21),D=T+(k^R^P)+G[3]+3572445317&4294967295,T=k+(D<<16&4294967295|D>>>16),D=P+(T^k^R)+G[6]+76029189&4294967295,P=T+(D<<23&4294967295|D>>>9),D=R+(P^T^k)+G[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=k+(R^P^T)+G[12]+3873151461&4294967295,k=R+(D<<11&4294967295|D>>>21),D=T+(k^R^P)+G[15]+530742520&4294967295,T=k+(D<<16&4294967295|D>>>16),D=P+(T^k^R)+G[2]+3299628645&4294967295,P=T+(D<<23&4294967295|D>>>9),D=R+(T^(P|~k))+G[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=k+(P^(R|~T))+G[7]+1126891415&4294967295,k=R+(D<<10&4294967295|D>>>22),D=T+(R^(k|~P))+G[14]+2878612391&4294967295,T=k+(D<<15&4294967295|D>>>17),D=P+(k^(T|~R))+G[5]+4237533241&4294967295,P=T+(D<<21&4294967295|D>>>11),D=R+(T^(P|~k))+G[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=k+(P^(R|~T))+G[3]+2399980690&4294967295,k=R+(D<<10&4294967295|D>>>22),D=T+(R^(k|~P))+G[10]+4293915773&4294967295,T=k+(D<<15&4294967295|D>>>17),D=P+(k^(T|~R))+G[1]+2240044497&4294967295,P=T+(D<<21&4294967295|D>>>11),D=R+(T^(P|~k))+G[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=k+(P^(R|~T))+G[15]+4264355552&4294967295,k=R+(D<<10&4294967295|D>>>22),D=T+(R^(k|~P))+G[6]+2734768916&4294967295,T=k+(D<<15&4294967295|D>>>17),D=P+(k^(T|~R))+G[13]+1309151649&4294967295,P=T+(D<<21&4294967295|D>>>11),D=R+(T^(P|~k))+G[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=k+(P^(R|~T))+G[11]+3174756917&4294967295,k=R+(D<<10&4294967295|D>>>22),D=T+(R^(k|~P))+G[2]+718787259&4294967295,T=k+(D<<15&4294967295|D>>>17),D=P+(k^(T|~R))+G[9]+3951481745&4294967295,q.g[0]=q.g[0]+R&4294967295,q.g[1]=q.g[1]+(T+(D<<21&4294967295|D>>>11))&4294967295,q.g[2]=q.g[2]+T&4294967295,q.g[3]=q.g[3]+k&4294967295}r.prototype.v=function(q,R){R===void 0&&(R=q.length);const P=R-this.blockSize,G=this.C;let T=this.h,k=0;for(;k<R;){if(T==0)for(;k<=P;)s(this,q,k),k+=this.blockSize;if(typeof q=="string"){for(;k<R;)if(G[T++]=q.charCodeAt(k++),T==this.blockSize){s(this,G),T=0;break}}else for(;k<R;)if(G[T++]=q[k++],T==this.blockSize){s(this,G),T=0;break}}this.h=T,this.o+=R},r.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var R=1;R<q.length-8;++R)q[R]=0;R=this.o*8;for(var P=q.length-8;P<q.length;++P)q[P]=R&255,R/=256;for(this.v(q),q=Array(16),R=0,P=0;P<4;++P)for(let G=0;G<32;G+=8)q[R++]=this.g[P]>>>G&255;return q};function o(q,R){var P=u;return Object.prototype.hasOwnProperty.call(P,q)?P[q]:P[q]=R(q)}function c(q,R){this.h=R;const P=[];let G=!0;for(let T=q.length-1;T>=0;T--){const k=q[T]|0;G&&k==R||(P[T]=k,G=!1)}this.g=P}var u={};function d(q){return-128<=q&&q<128?o(q,function(R){return new c([R|0],R<0?-1:0)}):new c([q|0],q<0?-1:0)}function f(q){if(isNaN(q)||!isFinite(q))return b;if(q<0)return U(f(-q));const R=[];let P=1;for(let G=0;q>=P;G++)R[G]=q/P|0,P*=4294967296;return new c(R,0)}function g(q,R){if(q.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(q.charAt(0)=="-")return U(g(q.substring(1),R));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=f(Math.pow(R,8));let G=b;for(let k=0;k<q.length;k+=8){var T=Math.min(8,q.length-k);const D=parseInt(q.substring(k,k+T),R);T<8?(T=f(Math.pow(R,T)),G=G.j(T).add(f(D))):(G=G.j(P),G=G.add(f(D)))}return G}var b=d(0),S=d(1),_=d(16777216);n=c.prototype,n.m=function(){if(V(this))return-U(this).m();let q=0,R=1;for(let P=0;P<this.g.length;P++){const G=this.i(P);q+=(G>=0?G:4294967296+G)*R,R*=4294967296}return q},n.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(O(this))return"0";if(V(this))return"-"+U(this).toString(q);const R=f(Math.pow(q,6));var P=this;let G="";for(;;){const T=Y(P,R).g;P=j(P,T.j(R));let k=((P.g.length>0?P.g[0]:P.h)>>>0).toString(q);if(P=T,O(P))return k+G;for(;k.length<6;)k="0"+k;G=k+G}},n.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function O(q){if(q.h!=0)return!1;for(let R=0;R<q.g.length;R++)if(q.g[R]!=0)return!1;return!0}function V(q){return q.h==-1}n.l=function(q){return q=j(this,q),V(q)?-1:O(q)?0:1};function U(q){const R=q.g.length,P=[];for(let G=0;G<R;G++)P[G]=~q.g[G];return new c(P,~q.h).add(S)}n.abs=function(){return V(this)?U(this):this},n.add=function(q){const R=Math.max(this.g.length,q.g.length),P=[];let G=0;for(let T=0;T<=R;T++){let k=G+(this.i(T)&65535)+(q.i(T)&65535),D=(k>>>16)+(this.i(T)>>>16)+(q.i(T)>>>16);G=D>>>16,k&=65535,D&=65535,P[T]=D<<16|k}return new c(P,P[P.length-1]&-2147483648?-1:0)};function j(q,R){return q.add(U(R))}n.j=function(q){if(O(this)||O(q))return b;if(V(this))return V(q)?U(this).j(U(q)):U(U(this).j(q));if(V(q))return U(this.j(U(q)));if(this.l(_)<0&&q.l(_)<0)return f(this.m()*q.m());const R=this.g.length+q.g.length,P=[];for(var G=0;G<2*R;G++)P[G]=0;for(G=0;G<this.g.length;G++)for(let T=0;T<q.g.length;T++){const k=this.i(G)>>>16,D=this.i(G)&65535,fe=q.i(T)>>>16,xe=q.i(T)&65535;P[2*G+2*T]+=D*xe,te(P,2*G+2*T),P[2*G+2*T+1]+=k*xe,te(P,2*G+2*T+1),P[2*G+2*T+1]+=D*fe,te(P,2*G+2*T+1),P[2*G+2*T+2]+=k*fe,te(P,2*G+2*T+2)}for(q=0;q<R;q++)P[q]=P[2*q+1]<<16|P[2*q];for(q=R;q<2*R;q++)P[q]=0;return new c(P,0)};function te(q,R){for(;(q[R]&65535)!=q[R];)q[R+1]+=q[R]>>>16,q[R]&=65535,R++}function oe(q,R){this.g=q,this.h=R}function Y(q,R){if(O(R))throw Error("division by zero");if(O(q))return new oe(b,b);if(V(q))return R=Y(U(q),R),new oe(U(R.g),U(R.h));if(V(R))return R=Y(q,U(R)),new oe(U(R.g),R.h);if(q.g.length>30){if(V(q)||V(R))throw Error("slowDivide_ only works with positive integers.");for(var P=S,G=R;G.l(q)<=0;)P=ie(P),G=ie(G);var T=de(P,1),k=de(G,1);for(G=de(G,2),P=de(P,2);!O(G);){var D=k.add(G);D.l(q)<=0&&(T=T.add(P),k=D),G=de(G,1),P=de(P,1)}return R=j(q,T.j(R)),new oe(T,R)}for(T=b;q.l(R)>=0;){for(P=Math.max(1,Math.floor(q.m()/R.m())),G=Math.ceil(Math.log(P)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),k=f(P),D=k.j(R);V(D)||D.l(q)>0;)P-=G,k=f(P),D=k.j(R);O(k)&&(k=S),T=T.add(k),q=j(q,D)}return new oe(T,q)}n.B=function(q){return Y(this,q).h},n.and=function(q){const R=Math.max(this.g.length,q.g.length),P=[];for(let G=0;G<R;G++)P[G]=this.i(G)&q.i(G);return new c(P,this.h&q.h)},n.or=function(q){const R=Math.max(this.g.length,q.g.length),P=[];for(let G=0;G<R;G++)P[G]=this.i(G)|q.i(G);return new c(P,this.h|q.h)},n.xor=function(q){const R=Math.max(this.g.length,q.g.length),P=[];for(let G=0;G<R;G++)P[G]=this.i(G)^q.i(G);return new c(P,this.h^q.h)};function ie(q){const R=q.g.length+1,P=[];for(let G=0;G<R;G++)P[G]=q.i(G)<<1|q.i(G-1)>>>31;return new c(P,q.h)}function de(q,R){const P=R>>5;R%=32;const G=q.g.length-P,T=[];for(let k=0;k<G;k++)T[k]=R>0?q.i(k+P)>>>R|q.i(k+P+1)<<32-R:q.i(k+P);return new c(T,q.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,au=c}).apply(typeof X_<"u"?X_:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $A,Ld,KA,Fm,j2,XA,QA,JA;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var N=0;N<m.length;++N){var M=m[N];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=t(this);function s(m,N){if(N)e:{var M=r;m=m.split(".");for(var J=0;J<m.length-1;J++){var Re=m[J];if(!(Re in M))break e;M=M[Re]}m=m[m.length-1],J=M[m],N=N(J),N!=J&&N!=null&&e(M,m,{configurable:!0,writable:!0,value:N})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(N){var M=[],J;for(J in N)Object.prototype.hasOwnProperty.call(N,J)&&M.push([J,N[J]]);return M}});var o=o||{},c=this||self;function u(m){var N=typeof m;return N=="object"&&m!=null||N=="function"}function d(m,N,M){return m.call.apply(m.bind,arguments)}function f(m,N,M){return f=d,f.apply(null,arguments)}function g(m,N){var M=Array.prototype.slice.call(arguments,1);return function(){var J=M.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function b(m,N){function M(){}M.prototype=N.prototype,m.Z=N.prototype,m.prototype=new M,m.prototype.constructor=m,m.Ob=function(J,Re,Me){for(var at=Array(arguments.length-2),nn=2;nn<arguments.length;nn++)at[nn-2]=arguments[nn];return N.prototype[Re].apply(J,at)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function _(m){const N=m.length;if(N>0){const M=Array(N);for(let J=0;J<N;J++)M[J]=m[J];return M}return[]}function O(m,N){for(let J=1;J<arguments.length;J++){const Re=arguments[J];var M=typeof Re;if(M=M!="object"?M:Re?Array.isArray(Re)?"array":M:"null",M=="array"||M=="object"&&typeof Re.length=="number"){M=m.length||0;const Me=Re.length||0;m.length=M+Me;for(let at=0;at<Me;at++)m[M+at]=Re[at]}else m.push(Re)}}class V{constructor(N,M){this.i=N,this.j=M,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function U(m){c.setTimeout(()=>{throw m},0)}function j(){var m=q;let N=null;return m.g&&(N=m.g,m.g=m.g.next,m.g||(m.h=null),N.next=null),N}class te{constructor(){this.h=this.g=null}add(N,M){const J=oe.get();J.set(N,M),this.h?this.h.next=J:this.g=J,this.h=J}}var oe=new V(()=>new Y,m=>m.reset());class Y{constructor(){this.next=this.g=this.h=null}set(N,M){this.h=N,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,de=!1,q=new te,R=()=>{const m=Promise.resolve(void 0);ie=()=>{m.then(P)}};function P(){for(var m;m=j();){try{m.h.call(m.g)}catch(M){U(M)}var N=oe;N.j(m),N.h<100&&(N.h++,m.next=N.g,N.g=m)}de=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(m,N){this.type=m,this.g=this.target=N,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,N=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};c.addEventListener("test",M,N),c.removeEventListener("test",M,N)}catch{}return m})();function D(m){return/^[\s\xa0]*$/.test(m)}function fe(m,N){T.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,N)}b(fe,T),fe.prototype.init=function(m,N){const M=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=N,N=m.relatedTarget,N||(M=="mouseover"?N=m.fromElement:M=="mouseout"&&(N=m.toElement)),this.relatedTarget=N,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),ne=0;function Z(m,N,M,J,Re){this.listener=m,this.proxy=null,this.src=N,this.type=M,this.capture=!!J,this.ha=Re,this.key=++ne,this.da=this.fa=!1}function re(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ne(m,N,M){for(const J in m)N.call(M,m[J],J,m)}function ve(m,N){for(const M in m)N.call(void 0,m[M],M,m)}function X(m){const N={};for(const M in m)N[M]=m[M];return N}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,N){let M,J;for(let Re=1;Re<arguments.length;Re++){J=arguments[Re];for(M in J)m[M]=J[M];for(let Me=0;Me<L.length;Me++)M=L[Me],Object.prototype.hasOwnProperty.call(J,M)&&(m[M]=J[M])}}function $(m){this.src=m,this.g={},this.h=0}$.prototype.add=function(m,N,M,J,Re){const Me=m.toString();m=this.g[Me],m||(m=this.g[Me]=[],this.h++);const at=pe(m,N,J,Re);return at>-1?(N=m[at],M||(N.fa=!1)):(N=new Z(N,this.src,Me,!!J,Re),N.fa=M,m.push(N)),N};function se(m,N){const M=N.type;if(M in m.g){var J=m.g[M],Re=Array.prototype.indexOf.call(J,N,void 0),Me;(Me=Re>=0)&&Array.prototype.splice.call(J,Re,1),Me&&(re(N),m.g[M].length==0&&(delete m.g[M],m.h--))}}function pe(m,N,M,J){for(let Re=0;Re<m.length;++Re){const Me=m[Re];if(!Me.da&&Me.listener==N&&Me.capture==!!M&&Me.ha==J)return Re}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ee={};function Ie(m,N,M,J,Re){if(Array.isArray(N)){for(let Me=0;Me<N.length;Me++)Ie(m,N[Me],M,J,Re);return null}return M=Mt(M),m&&m[xe]?m.J(N,M,u(J)?!!J.capture:!1,Re):Fe(m,N,M,!1,J,Re)}function Fe(m,N,M,J,Re,Me){if(!N)throw Error("Invalid event type");const at=u(Re)?!!Re.capture:!!Re;let nn=lt(m);if(nn||(m[me]=nn=new $(m)),M=nn.add(N,M,J,at,Me),M.proxy)return M;if(J=et(),M.proxy=J,J.src=m,J.listener=M,m.addEventListener)k||(Re=at),Re===void 0&&(Re=!1),m.addEventListener(N.toString(),J,Re);else if(m.attachEvent)m.attachEvent(vt(N.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return M}function et(){function m(M){return N.call(m.src,m.listener,M)}const N=ae;return m}function ot(m,N,M,J,Re){if(Array.isArray(N))for(var Me=0;Me<N.length;Me++)ot(m,N[Me],M,J,Re);else J=u(J)?!!J.capture:!!J,M=Mt(M),m&&m[xe]?(m=m.i,Me=String(N).toString(),Me in m.g&&(N=m.g[Me],M=pe(N,M,J,Re),M>-1&&(re(N[M]),Array.prototype.splice.call(N,M,1),N.length==0&&(delete m.g[Me],m.h--)))):m&&(m=lt(m))&&(N=m.g[N.toString()],m=-1,N&&(m=pe(N,M,J,Re)),(M=m>-1?N[m]:null)&&ut(M))}function ut(m){if(typeof m!="number"&&m&&!m.da){var N=m.src;if(N&&N[xe])se(N.i,m);else{var M=m.type,J=m.proxy;N.removeEventListener?N.removeEventListener(M,J,m.capture):N.detachEvent?N.detachEvent(vt(M),J):N.addListener&&N.removeListener&&N.removeListener(J),(M=lt(N))?(se(M,m),M.h==0&&(M.src=null,N[me]=null)):re(m)}}}function vt(m){return m in Ee?Ee[m]:Ee[m]="on"+m}function ae(m,N){if(m.da)m=!0;else{N=new fe(N,this);const M=m.listener,J=m.ha||m.src;m.fa&&ut(m),m=M.call(J,N)}return m}function lt(m){return m=m[me],m instanceof $?m:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mt(m){return typeof m=="function"?m:(m[Kt]||(m[Kt]=function(N){return m.handleEvent(N)}),m[Kt])}function Be(){G.call(this),this.i=new $(this),this.M=this,this.G=null}b(Be,G),Be.prototype[xe]=!0,Be.prototype.removeEventListener=function(m,N,M,J){ot(this,m,N,M,J)};function pt(m,N){var M,J=m.G;if(J)for(M=[];J;J=J.G)M.push(J);if(m=m.M,J=N.type||N,typeof N=="string")N=new T(N,m);else if(N instanceof T)N.target=N.target||m;else{var Re=N;N=new T(J,m),z(N,Re)}Re=!0;let Me,at;if(M)for(at=M.length-1;at>=0;at--)Me=N.g=M[at],Re=le(Me,J,!0,N)&&Re;if(Me=N.g=m,Re=le(Me,J,!0,N)&&Re,Re=le(Me,J,!1,N)&&Re,M)for(at=0;at<M.length;at++)Me=N.g=M[at],Re=le(Me,J,!1,N)&&Re}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var m=this.i;for(const N in m.g){const M=m.g[N];for(let J=0;J<M.length;J++)re(M[J]);delete m.g[N],m.h--}}this.G=null},Be.prototype.J=function(m,N,M,J){return this.i.add(String(m),N,!1,M,J)},Be.prototype.K=function(m,N,M,J){return this.i.add(String(m),N,!0,M,J)};function le(m,N,M,J){if(N=m.i.g[String(N)],!N)return!0;N=N.concat();let Re=!0;for(let Me=0;Me<N.length;++Me){const at=N[Me];if(at&&!at.da&&at.capture==M){const nn=at.listener,fr=at.ha||at.src;at.fa&&se(m.i,at),Re=nn.call(fr,J)!==!1&&Re}}return Re&&!J.defaultPrevented}function ye(m,N){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:c.setTimeout(m,N||0)}function Se(m){m.g=ye(()=>{m.g=null,m.i&&(m.i=!1,Se(m))},m.l);const N=m.h;m.h=null,m.m.apply(null,N)}class $e extends G{constructor(N,M){super(),this.m=N,this.l=M,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Se(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function He(m){G.call(this),this.h=m,this.g={}}b(He,G);var Ve=[];function it(m){Ne(m.g,function(N,M){this.g.hasOwnProperty(M)&&ut(N)},m),m.g={}}He.prototype.N=function(){He.Z.N.call(this),it(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=c.JSON.stringify,st=c.JSON.parse,bt=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function gt(){}function dn(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){T.call(this,"d")}b(Pt,T);function Ut(){T.call(this,"c")}b(Ut,T);var Qt={},Ot=null;function yn(){return Ot=Ot||new Be}Qt.Ia="serverreachability";function Et(m){T.call(this,Qt.Ia,m)}b(Et,T);function zt(m){const N=yn();pt(N,new Et(N))}Qt.STAT_EVENT="statevent";function jn(m,N){T.call(this,Qt.STAT_EVENT,m),this.stat=N}b(jn,T);function jt(m){const N=yn();pt(N,new jn(N,m))}Qt.Ja="timingevent";function Ct(m,N){T.call(this,Qt.Ja,m),this.size=N}b(Ct,T);function ht(m,N){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},N)}function wn(){this.g=!0}wn.prototype.ua=function(){this.g=!1};function Sn(m,N,M,J,Re,Me){m.info(function(){if(m.g)if(Me){var at="",nn=Me.split("&");for(let mn=0;mn<nn.length;mn++){var fr=nn[mn].split("=");if(fr.length>1){const Yn=fr[0];fr=fr[1];const Ei=Yn.split("_");at=Ei.length>=2&&Ei[1]=="type"?at+(Yn+"="+fr+"&"):at+(Yn+"=redacted&")}}}else at=null;else at=Me;return"XMLHTTP REQ ("+J+") [attempt "+Re+"]: "+N+`
`+M+`
`+at})}function ur(m,N,M,J,Re,Me,at){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Re+"]: "+N+`
`+M+`
`+Me+" "+at})}function Sr(m,N,M,J){m.info(function(){return"XMLHTTP TEXT ("+N+"): "+Er(m,M)+(J?" "+J:"")})}function mt(m,N){m.info(function(){return"TIMEOUT: "+N})}wn.prototype.info=function(){};function Er(m,N){if(!m.g)return N;if(!N)return null;try{const Me=JSON.parse(N);if(Me){for(m=0;m<Me.length;m++)if(Array.isArray(Me[m])){var M=Me[m];if(!(M.length<2)){var J=M[1];if(Array.isArray(J)&&!(J.length<1)){var Re=J[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(let at=1;at<J.length;at++)J[at]=""}}}}return dt(Me)}catch{return N}}var ti={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},er;function zn(){}b(zn,gt),zn.prototype.g=function(){return new XMLHttpRequest},er=new zn;function Cn(m){return encodeURIComponent(String(m))}function Gr(m){var N=1;m=m.split(":");const M=[];for(;N>0&&m.length;)M.push(m.shift()),N--;return m.length&&M.push(m.join(":")),M}function Di(m,N,M,J){this.j=m,this.i=N,this.l=M,this.S=J||1,this.V=new He(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var Gn={},rr={};function ni(m,N,M){m.M=1,m.A=Ha(Mr(N)),m.u=M,m.R=!0,Yi(m,null)}function Yi(m,N){m.F=Date.now(),$i(m),m.B=Mr(m.A);var M=m.B,J=m.S;Array.isArray(J)||(J=[String(J)]),$o(M.i,"t",J),m.C=0,M=m.j.L,m.h=new xi,m.g=xt(m.j,M?N:null,!m.u),m.P>0&&(m.O=new $e(f(m.Y,m,m.g),m.P)),N=m.V,M=m.g,J=m.ba;var Re="readystatechange";Array.isArray(Re)||(Re&&(Ve[0]=Re.toString()),Re=Ve);for(let Me=0;Me<Re.length;Me++){const at=Ie(M,Re[Me],J||N.handleEvent,!1,N.h||N);if(!at)break;N.g[at.key]=at}N=m.J?X(m.J):{},m.u?(m.v||(m.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,N)):(m.v="GET",m.g.ea(m.B,m.v,null,N)),zt(),Sn(m.i,m.v,m.B,m.l,m.S,m.u)}Di.prototype.ba=function(m){m=m.target;const N=this.O;N&&ds(m)==3?N.j():this.Y(m)},Di.prototype.Y=function(m){try{if(m==this.g)e:{const nn=ds(this.g),fr=this.g.ya(),mn=this.g.ca();if(!(nn<3)&&(nn!=3||this.g&&(this.h.h||this.g.la()||Yr(this.g)))){this.K||nn!=4||fr==7||(fr==8||mn<=0?zt(3):zt(2)),ls(this);var N=this.g.ca();this.X=N;var M=As(this);if(this.o=N==200,ur(this.i,this.v,this.B,this.l,this.S,nn,N),this.o){if(this.U&&!this.L){t:{if(this.g){var J,Re=this.g;if((J=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(J)){var Me=J;break t}}Me=null}if(m=Me)Sr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ss(this,m);else{this.o=!1,this.m=3,jt(12),cs(this),Pi(this);break e}}if(this.R){m=!0;let Yn;for(;!this.K&&this.C<M.length;)if(Yn=Fs(this,M),Yn==rr){nn==4&&(this.m=4,jt(14),m=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Gn){this.m=4,jt(15),Sr(this.i,this.l,M,"[Invalid Chunk]"),m=!1;break}else Sr(this.i,this.l,Yn,null),Ss(this,Yn);if(qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||M.length!=0||this.h.h||(this.m=1,jt(16),m=!1),this.o=this.o&&m,!m)Sr(this.i,this.l,M,"[Invalid Chunked Response]"),cs(this),Pi(this);else if(M.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Jo(at),at.P=!0,jt(11))}}else Sr(this.i,this.l,M,null),Ss(this,M);nn==4&&cs(this),this.o&&!this.K&&(nn==4?ue(this.j,this):(this.o=!1,$i(this)))}else Js(this.g),N==400&&M.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),cs(this),Pi(this)}}}catch{}};function As(m){if(!qa(m))return m.g.la();const N=Yr(m.g);if(N==="")return"";let M="";const J=N.length,Re=ds(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return cs(m),Pi(m),"";m.h.i=new c.TextDecoder}for(let Me=0;Me<J;Me++)m.h.h=!0,M+=m.h.i.decode(N[Me],{stream:!(Re&&Me==J-1)});return N.length=0,m.h.g+=M,m.C=0,m.h.g}function qa(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Fs(m,N){var M=m.C,J=N.indexOf(`
`,M);return J==-1?rr:(M=Number(N.substring(M,J)),isNaN(M)?Gn:(J+=1,J+M>N.length?rr:(N=N.slice(J,J+M),m.C=J+M,N)))}Di.prototype.cancel=function(){this.K=!0,cs(this)};function $i(m){m.T=Date.now()+m.H,Sa(m,m.H)}function Sa(m,N){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ht(f(m.aa,m),N)}function ls(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Di.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(mt(this.i,this.B),this.M!=2&&(zt(),jt(17)),cs(this),this.m=2,Pi(this)):Sa(this,this.T-m)};function Pi(m){m.j.I==0||m.K||ue(m.j,m)}function cs(m){ls(m);var N=m.O;N&&typeof N.dispose=="function"&&N.dispose(),m.O=null,it(m.V),m.g&&(N=m.g,m.g=null,N.abort(),N.dispose())}function Ss(m,N){try{var M=m.j;if(M.I!=0&&(M.g==m||Bs(M.h,m))){if(!m.L&&Bs(M.h,m)&&M.I==3){try{var J=M.Ba.g.parse(N)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Re=J;if(Re[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<m.F)F(M),ea(M);else break e;Hs(M),jt(18)}}else M.xa=Re[1],0<M.xa-M.K&&Re[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=ht(f(M.Va,M),6e3));Es(M.h)<=1&&M.ta&&(M.ta=void 0)}else Te(M,11)}else if((m.L||M.g==m)&&F(M),!D(N))for(Re=M.Ba.g.parse(N),N=0;N<Re.length;N++){let mn=Re[N];const Yn=mn[0];if(!(Yn<=M.K))if(M.K=Yn,mn=mn[1],M.I==2)if(mn[0]=="c"){M.M=mn[1],M.ba=mn[2];const Ei=mn[3];Ei!=null&&(M.ka=Ei,M.j.info("VER="+M.ka));const Mi=mn[4];Mi!=null&&(M.za=Mi,M.j.info("SVER="+M.za));const ir=mn[5];ir!=null&&typeof ir=="number"&&ir>0&&(J=1.5*ir,M.O=J,M.j.info("backChannelRequestTimeoutMs_="+J)),J=M;const ji=m.g;if(ji){const Gs=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var Me=J.h;Me.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(po(Me,Me.h),Me.h=null))}if(J.G){const Ka=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(J.wa=Ka,In(J.J,J.G,Ka))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-m.F,M.j.info("Handshake RTT: "+M.T+"ms")),J=M;var at=m;if(J.na=tt(J,J.L?J.ba:null,J.W),at.L){Wo(J.h,at);var nn=at,fr=J.O;fr&&(nn.H=fr),nn.D&&(ls(nn),$i(nn)),J.g=at}else Pl(J);M.i.length>0&&Ts(M)}else mn[0]!="stop"&&mn[0]!="close"||Te(M,7);else M.I==3&&(mn[0]=="stop"||mn[0]=="close"?mn[0]=="stop"?Te(M,7):$a(M):mn[0]!="noop"&&M.l&&M.l.qa(mn),M.A=0)}}zt(4)}catch{}}var Ir=class{constructor(m,N){this.g=m,this.map=N}};function Go(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ki(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Es(m){return m.h?1:m.g?m.g.size:0}function Bs(m,N){return m.h?m.h==N:m.g?m.g.has(N):!1}function po(m,N){m.g?m.g.add(N):m.h=N}function Wo(m,N){m.h&&m.h==N?m.h=null:m.g&&m.g.has(N)&&m.g.delete(N)}Go.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Yo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let N=m.i;for(const M of m.g.values())N=N.concat(M.G);return N}return _(m.i)}var Cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function us(m,N){if(m){m=m.split("&");for(let M=0;M<m.length;M++){const J=m[M].indexOf("=");let Re,Me=null;J>=0?(Re=m[M].substring(0,J),Me=m[M].substring(J+1)):Re=m[M],N(Re,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function Ai(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;m instanceof Ai?(this.l=m.l,vn(this,m.j),this.o=m.o,this.g=m.g,Ea(this,m.u),this.h=m.h,Ns(this,Ko(m.i)),this.m=m.m):m&&(N=String(m).match(Cl))?(this.l=!1,vn(this,N[1]||"",!0),this.o=Wr(N[2]||""),this.g=Wr(N[3]||"",!0),Ea(this,N[4]),this.h=Wr(N[5]||"",!0),Ns(this,N[6]||"",!0),this.m=Wr(N[7]||"")):(this.l=!1,this.i=new Na(null,this.l))}Ai.prototype.toString=function(){const m=[];var N=this.j;N&&m.push(vr(N,mo,!0),":");var M=this.g;return(M||N=="file")&&(m.push("//"),(N=this.o)&&m.push(vr(N,mo,!0),"@"),m.push(Cn(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&m.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(vr(M,M.charAt(0)=="/"?Il:mc,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",vr(M,Rl)),m.join("")},Ai.prototype.resolve=function(m){const N=Mr(this);let M=!!m.j;M?vn(N,m.j):M=!!m.o,M?N.o=m.o:M=!!m.g,M?N.g=m.g:M=m.u!=null;var J=m.h;if(M)Ea(N,m.u);else if(M=!!m.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var Re=N.h.lastIndexOf("/");Re!=-1&&(J=N.h.slice(0,Re+1)+J)}if(Re=J,Re==".."||Re==".")J="";else if(Re.indexOf("./")!=-1||Re.indexOf("/.")!=-1){J=Re.lastIndexOf("/",0)==0,Re=Re.split("/");const Me=[];for(let at=0;at<Re.length;){const nn=Re[at++];nn=="."?J&&at==Re.length&&Me.push(""):nn==".."?((Me.length>1||Me.length==1&&Me[0]!="")&&Me.pop(),J&&at==Re.length&&Me.push("")):(Me.push(nn),J=!0)}J=Me.join("/")}else J=Re}return M?N.h=J:M=m.i.toString()!=="",M?Ns(N,Ko(m.i)):M=!!m.m,M&&(N.m=m.m),N};function Mr(m){return new Ai(m)}function vn(m,N,M){m.j=M?Wr(N,!0):N,m.j&&(m.j=m.j.replace(/:$/,""))}function Ea(m,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);m.u=N}else m.u=null}function Ns(m,N,M){N instanceof Na?(m.i=N,Xi(m.i,m.l)):(M||(N=vr(N,Oi)),m.i=new Na(N,m.l))}function In(m,N,M){m.i.set(N,M)}function Ha(m){return In(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Wr(m,N){return m?N?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function vr(m,N,M){return typeof m=="string"?(m=encodeURI(m).replace(N,jr),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function jr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var mo=/[#\/\?@]/g,mc=/[#\?:]/g,Il=/[#\?]/g,Oi=/[#\?@]/g,Rl=/#/g;function Na(m,N){this.h=this.g=null,this.i=m||null,this.j=!!N}function di(m){m.g||(m.g=new Map,m.h=0,m.i&&us(m.i,function(N,M){m.add(decodeURIComponent(N.replace(/\+/g," ")),M)}))}n=Na.prototype,n.add=function(m,N){di(this),this.i=null,m=Ta(this,m);let M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(N),this.h+=1,this};function Ga(m,N){di(m),N=Ta(m,N),m.g.has(N)&&(m.i=null,m.h-=m.g.get(N).length,m.g.delete(N))}function kl(m,N){return di(m),N=Ta(m,N),m.g.has(N)}n.forEach=function(m,N){di(this),this.g.forEach(function(M,J){M.forEach(function(Re){m.call(N,Re,J,this)},this)},this)};function Ll(m,N){di(m);let M=[];if(typeof N=="string")kl(m,N)&&(M=M.concat(m.g.get(Ta(m,N))));else for(m=Array.from(m.g.values()),N=0;N<m.length;N++)M=M.concat(m[N]);return M}n.set=function(m,N){return di(this),this.i=null,m=Ta(this,m),kl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[N]),this.h+=1,this},n.get=function(m,N){return m?(m=Ll(this,m),m.length>0?String(m[0]):N):N};function $o(m,N,M){Ga(m,N),M.length>0&&(m.i=null,m.g.set(Ta(m,N),_(M)),m.h+=M.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],N=Array.from(this.g.keys());for(let J=0;J<N.length;J++){var M=N[J];const Re=Cn(M);M=Ll(this,M);for(let Me=0;Me<M.length;Me++){let at=Re;M[Me]!==""&&(at+="="+Cn(M[Me])),m.push(at)}}return this.i=m.join("&")};function Ko(m){const N=new Na;return N.i=m.i,m.g&&(N.g=new Map(m.g),N.h=m.h),N}function Ta(m,N){return N=String(N),m.j&&(N=N.toLowerCase()),N}function Xi(m,N){N&&!m.j&&(di(m),m.i=null,m.g.forEach(function(M,J){const Re=J.toLowerCase();J!=Re&&(Ga(this,J),$o(this,Re,M))},m)),m.j=N}function zs(m,N){const M=new wn;if(c.Image){const J=new Image;J.onload=g(Qi,M,"TestLoadImage: loaded",!0,N,J),J.onerror=g(Qi,M,"TestLoadImage: error",!1,N,J),J.onabort=g(Qi,M,"TestLoadImage: abort",!1,N,J),J.ontimeout=g(Qi,M,"TestLoadImage: timeout",!1,N,J),c.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else N(!1)}function Ca(m,N){const M=new wn,J=new AbortController,Re=setTimeout(()=>{J.abort(),Qi(M,"TestPingServer: timeout",!1,N)},1e4);fetch(m,{signal:J.signal}).then(Me=>{clearTimeout(Re),Me.ok?Qi(M,"TestPingServer: ok",!0,N):Qi(M,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(Re),Qi(M,"TestPingServer: error",!1,N)})}function Qi(m,N,M,J,Re){try{Re&&(Re.onload=null,Re.onerror=null,Re.onabort=null,Re.ontimeout=null),J(M)}catch{}}function Wa(){this.g=new bt}function qt(m){this.i=m.Sb||null,this.h=m.ab||!1}b(qt,gt),qt.prototype.g=function(){return new go(this.i,this.h)};function go(m,N){Be.call(this),this.H=m,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(go,Be),n=go.prototype,n.open=function(m,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=N,this.readyState=1,pi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(N.body=m),(this.H||c).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var N=m.value?m.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!m.done}))&&(this.response=this.responseText+=N)}m.done?Ya(this):pi(this),this.readyState==3&&Xo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ya(this))},n.Na=function(m){this.g&&(this.response=m,Ya(this))},n.ga=function(){this.g&&Ya(this)};function Ya(m){m.readyState=4,m.l=null,m.j=null,m.B=null,pi(m)}n.setRequestHeader=function(m,N){this.A.append(m,N)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],N=this.h.entries();for(var M=N.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=N.next();return m.join(`\r
`)};function pi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ri(m){let N="";return Ne(m,function(M,J){N+=J,N+=":",N+=M,N+=`\r
`}),N}function yo(m,N,M){e:{for(J in M){var J=!1;break e}J=!0}J||(M=ri(M),typeof m=="string"?M!=null&&Cn(M):In(m,N,M))}function Wn(m){Be.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Wn,Be);var hs=/^https?$/i,vo=["POST","PUT"];n=Wn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,N,M,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);N=N?N.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():er.g(),this.g.onreadystatechange=S(f(this.Ca,this));try{this.B=!0,this.g.open(N,String(m),!0),this.B=!1}catch(Me){qs(this,Me);return}if(m=M||"",M=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Re in J)M.set(Re,J[Re]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Me of J.keys())M.set(Me,J.get(Me));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(M.keys()).find(Me=>Me.toLowerCase()=="content-type"),Re=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(vo,N,void 0)>=0)||J||Re||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,at]of M)this.g.setRequestHeader(Me,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Me){qs(this,Me)}};function qs(m,N){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=N,m.o=5,Dl(m),Ia(m)}function Dl(m){m.A||(m.A=!0,pt(m,"complete"),pt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,pt(this,"complete"),pt(this,"abort"),Ia(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ia(this,!0)),Wn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?fs(this):this.Xa())},n.Xa=function(){fs(this)};function fs(m){if(m.h&&typeof o<"u"){if(m.v&&ds(m)==4)setTimeout(m.Ca.bind(m),0);else if(pt(m,"readystatechange"),ds(m)==4){m.h=!1;try{const Me=m.ca();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var M;if(!(M=N)){var J;if(J=Me===0){let at=String(m.D).match(Cl)[1]||null;!at&&c.self&&c.self.location&&(at=c.self.location.protocol.slice(0,-1)),J=!hs.test(at?at.toLowerCase():"")}M=J}if(M)pt(m,"complete"),pt(m,"success");else{m.o=6;try{var Re=ds(m)>2?m.g.statusText:""}catch{Re=""}m.l=Re+" ["+m.ca()+"]",Dl(m)}}finally{Ia(m)}}}}function Ia(m,N){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const M=m.g;m.g=null,N||pt(m,"ready");try{M.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ds(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ds(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var N=this.g.responseText;return m&&N.indexOf(m)==0&&(N=N.substring(m.length)),st(N)}};function Yr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Js(m){const N={};m=(m.g&&ds(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(D(m[J]))continue;var M=Gr(m[J]);const Re=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const Me=N[Re]||[];N[Re]=Me,Me.push(M)}ve(N,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(m,N,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||N}function Zs(m){this.za=0,this.i=[],this.j=new wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,m),this.Za=Si("retryDelaySeedMs",1e4,m),this.Ta=Si("forwardChannelMaxRetries",2,m),this.va=Si("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(m&&m.concurrentRequestLimit),this.Ba=new Wa,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zs.prototype,n.ka=8,n.I=1,n.connect=function(m,N,M,J){jt(0),this.W=m,this.H=N||{},M&&J!==void 0&&(this.H.OSID=M,this.H.OAID=J),this.F=this.X,this.J=tt(this,null,this.W),Ts(this)};function $a(m){if(ta(m),m.I==3){var N=m.V++,M=Mr(m.J);if(In(M,"SID",m.M),In(M,"RID",N),In(M,"TYPE","terminate"),ps(m,M),N=new Di(m,m.j,N),N.M=2,N.A=Ha(Mr(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(N.A.toString(),"")}catch{}!M&&c.Image&&(new Image().src=N.A,M=!0),M||(N.g=xt(N.j,null),N.g.ea(N.A)),N.F=Date.now(),$i(N)}Ge(m)}function ea(m){m.g&&(Jo(m),m.g.cancel(),m.g=null)}function ta(m){ea(m),m.v&&(c.clearTimeout(m.v),m.v=null),F(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Ts(m){if(!Ki(m.h)&&!m.m){m.m=!0;var N=m.Ea;ie||R(),de||(ie(),de=!0),q.add(N,m),m.D=0}}function bo(m,N){return Es(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=N.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ht(f(m.Ea,m,N),be(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Re=new Di(this,this.j,m);let Me=this.o;if(this.U&&(Me?(Me=X(Me),z(Me,this.U)):Me=this.U),this.u!==null||this.R||(Re.J=Me,Me=null),this.S)e:{for(var N=0,M=0;M<this.i.length;M++){t:{var J=this.i[M];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(N+=J,N>4096){N=M;break e}if(N===4096||M===this.i.length-1){N=M+1;break e}}N=1e3}else N=1e3;N=na(this,Re,N),M=Mr(this.J),In(M,"RID",m),In(M,"CVER",22),this.G&&In(M,"X-HTTP-Session-Id",this.G),ps(this,M),Me&&(this.R?N="headers="+Cn(ri(Me))+"&"+N:this.u&&yo(M,this.u,Me)),po(this.h,Re),this.Ra&&In(M,"TYPE","init"),this.S?(In(M,"$req",N),In(M,"SID","null"),Re.U=!0,ni(Re,M,null)):ni(Re,M,N),this.I=2}}else this.I==3&&(m?Qo(this,m):this.i.length==0||Ki(this.h)||Qo(this))};function Qo(m,N){var M;N?M=N.l:M=m.V++;const J=Mr(m.J);In(J,"SID",m.M),In(J,"RID",M),In(J,"AID",m.K),ps(m,J),m.u&&m.o&&yo(J,m.u,m.o),M=new Di(m,m.j,M,m.D+1),m.u===null&&(M.J=m.o),N&&(m.i=N.G.concat(m.i)),N=na(m,M,1e3),M.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),po(m.h,M),ni(M,J,N)}function ps(m,N){m.H&&Ne(m.H,function(M,J){In(N,J,M)}),m.l&&Ne({},function(M,J){In(N,J,M)})}function na(m,N,M){M=Math.min(m.i.length,M);const J=m.l?f(m.l.Ka,m.l,m):null;e:{var Re=m.i;let nn=-1;for(;;){const fr=["count="+M];nn==-1?M>0?(nn=Re[0].g,fr.push("ofs="+nn)):nn=0:fr.push("ofs="+nn);let mn=!0;for(let Yn=0;Yn<M;Yn++){var Me=Re[Yn].g;const Ei=Re[Yn].map;if(Me-=nn,Me<0)nn=Math.max(0,Re[Yn].g-100),mn=!1;else try{Me="req"+Me+"_"||"";try{var at=Ei instanceof Map?Ei:Object.entries(Ei);for(const[Mi,ir]of at){let ji=ir;u(ir)&&(ji=dt(ir)),fr.push(Me+Mi+"="+encodeURIComponent(ji))}}catch(Mi){throw fr.push(Me+"type="+encodeURIComponent("_badmap")),Mi}}catch{J&&J(Ei)}}if(mn){at=fr.join("&");break e}}at=void 0}return m=m.i.splice(0,M),N.G=m,at}function Pl(m){if(!m.g&&!m.v){m.Y=1;var N=m.Da;ie||R(),de||(ie(),de=!0),q.add(N,m),m.A=0}}function Hs(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ht(f(m.Da,m),be(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,x(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ht(f(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),ea(this),x(this))};function Jo(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function x(m){m.g=new Di(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var N=Mr(m.na);In(N,"RID","rpc"),In(N,"SID",m.M),In(N,"AID",m.K),In(N,"CI",m.F?"0":"1"),!m.F&&m.ia&&In(N,"TO",m.ia),In(N,"TYPE","xmlhttp"),ps(m,N),m.u&&m.o&&yo(N,m.u,m.o),m.O&&(m.g.H=m.O);var M=m.g;m=m.ba,M.M=1,M.A=Ha(Mr(N)),M.u=null,M.R=!0,Yi(M,m)}n.Va=function(){this.C!=null&&(this.C=null,ea(this),Hs(this),jt(19))};function F(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function ue(m,N){var M=null;if(m.g==N){F(m),Jo(m),m.g=null;var J=2}else if(Bs(m.h,N))M=N.G,Wo(m.h,N),J=1;else return;if(m.I!=0){if(N.o)if(J==1){M=N.u?N.u.length:0,N=Date.now()-N.F;var Re=m.D;J=yn(),pt(J,new Ct(J,M)),Ts(m)}else Pl(m);else if(Re=N.m,Re==3||Re==0&&N.X>0||!(J==1&&bo(m,N)||J==2&&Hs(m)))switch(M&&M.length>0&&(N=m.h,N.i=N.i.concat(M)),Re){case 1:Te(m,5);break;case 4:Te(m,10);break;case 3:Te(m,6);break;default:Te(m,2)}}}function be(m,N){let M=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(M*=2),M*N}function Te(m,N){if(m.j.info("Error code "+N),N==2){var M=f(m.bb,m),J=m.Ua;const Re=!J;J=new Ai(J||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vn(J,"https"),Ha(J),Re?zs(J.toString(),M):Ca(J.toString(),M)}else jt(2);m.I=0,m.l&&m.l.pa(N),Ge(m),ta(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Ge(m){if(m.I=0,m.ja=[],m.l){const N=Yo(m.h);(N.length!=0||m.i.length!=0)&&(O(m.ja,N),O(m.ja,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.oa()}}function tt(m,N,M){var J=M instanceof Ai?Mr(M):new Ai(M);if(J.g!="")N&&(J.g=N+"."+J.g),Ea(J,J.u);else{var Re=c.location;J=Re.protocol,N=N?N+"."+Re.hostname:Re.hostname,Re=+Re.port;const Me=new Ai(null);J&&vn(Me,J),N&&(Me.g=N),Re&&Ea(Me,Re),M&&(Me.h=M),J=Me}return M=m.G,N=m.wa,M&&N&&In(J,M,N),In(J,"VER",m.ka),ps(m,J),J}function xt(m,N,M){if(N&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=m.Aa&&!m.ma?new Wn(new qt({ab:M})):new Wn(m.ma),N.Fa(m.L),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function It(){}n=It.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Wt(){}Wt.prototype.g=function(m,N){return new Ft(m,N)};function Ft(m,N){Be.call(this),this.g=new Zs(N),this.l=m,this.h=N&&N.messageUrlParams||null,m=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(m?m["X-WebChannel-Content-Type"]=N.messageContentType:m={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(m?m["X-WebChannel-Client-Profile"]=N.sa:m={"X-WebChannel-Client-Profile":N.sa}),this.g.U=m,(m=N&&N.Qb)&&!D(m)&&(this.g.u=m),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!D(N)&&(this.g.G=N,m=this.h,m!==null&&N in m&&(m=this.h,N in m&&delete m[N])),this.j=new tr(this)}b(Ft,Be),Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){$a(this.g)},Ft.prototype.o=function(m){var N=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.v&&(M={},M.__data__=dt(m),m=M);N.i.push(new Ir(N.Ya++,m)),N.I==3&&Ts(N)},Ft.prototype.N=function(){this.g.l=null,delete this.j,$a(this.g),delete this.g,Ft.Z.N.call(this)};function xn(m){Pt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var N=m.__sm__;if(N){e:{for(const M in N){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,N=N!==null&&m in N?N[m]:void 0),this.data=N}else this.data=m}b(xn,Pt);function hr(){Ut.call(this),this.status=1}b(hr,Ut);function tr(m){this.g=m}b(tr,It),tr.prototype.ra=function(){pt(this.g,"a")},tr.prototype.qa=function(m){pt(this.g,new xn(m))},tr.prototype.pa=function(m){pt(this.g,new hr)},tr.prototype.oa=function(){pt(this.g,"b")},Wt.prototype.createWebChannel=Wt.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,JA=function(){return new Wt},QA=function(){return yn()},XA=Qt,j2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ti.NO_ERROR=0,ti.TIMEOUT=8,ti.HTTP_ERROR=6,Fm=ti,Zn.COMPLETE="complete",KA=Zn,dn.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Be.prototype.listen=Be.prototype.J,Ld=dn,Wn.prototype.listenOnce=Wn.prototype.K,Wn.prototype.getLastError=Wn.prototype.Ha,Wn.prototype.getLastErrorCode=Wn.prototype.ya,Wn.prototype.getStatus=Wn.prototype.ca,Wn.prototype.getResponseJson=Wn.prototype.La,Wn.prototype.getResponseText=Wn.prototype.la,Wn.prototype.send=Wn.prototype.ea,Wn.prototype.setWithCredentials=Wn.prototype.Fa,$A=Wn}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});class js{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}js.UNAUTHENTICATED=new js(null),js.GOOGLE_CREDENTIALS=new js("google-credentials-uid"),js.FIRST_PARTY=new js("first-party-uid"),js.MOCK_USER=new js("mock-user");let Pf="12.8.0";function iL(n){Pf=n}const eh=new Ry("@firebase/firestore");function Jh(){return eh.logLevel}function St(n,...e){if(eh.logLevel<=Ln.DEBUG){const t=e.map(By);eh.debug(`Firestore (${Pf}): ${n}`,...t)}}function hc(n,...e){if(eh.logLevel<=Ln.ERROR){const t=e.map(By);eh.error(`Firestore (${Pf}): ${n}`,...t)}}function th(n,...e){if(eh.logLevel<=Ln.WARN){const t=e.map(By);eh.warn(`Firestore (${Pf}): ${n}`,...t)}}function By(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function tn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ZA(n,r,t)}function ZA(n,e,t){let r=`FIRESTORE (${Pf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw hc(r),new Error(r)}function nr(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||ZA(e,s,r)}function hn(n,e){return n}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Nl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ou{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class e3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(js.UNAUTHENTICATED)))}shutdown(){}}class sL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class aL{constructor(e){this.t=e,this.currentUser=js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nr(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new ou;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ou,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ou)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nr(typeof r.accessToken=="string",31837,{l:r}),new e3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nr(e===null||typeof e=="string",2055,{h:e}),new js(e)}}class oL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=js.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class lL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(js.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nr(this.o===void 0,3512);const r=o=>{o.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,St("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Q_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=uL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Dn(n,e){return n<e?-1:n>e?1:0}function V2(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return O0(s)===O0(o)?Dn(s,o):O0(s)?1:-1}return Dn(n.length,e.length)}const hL=55296,fL=57343;function O0(n){const e=n.charCodeAt(0);return e>=hL&&e<=fL}function Af(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const J_="__name__";class gl{constructor(e,t,r){t===void 0?t=0:t>e.length&&tn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&tn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return gl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=gl.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Dn(e.length,t.length)}static compareSegments(e,t){const r=gl.isNumericId(e),s=gl.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?gl.extractNumericId(e).compare(gl.extractNumericId(t)):V2(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return au.fromString(e.substring(4,e.length-2))}}class Tr extends gl{construct(e,t,r){return new Tr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(Qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Tr(t)}static emptyPath(){return new Tr([])}}const dL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class as extends gl{construct(e,t,r){return new as(e,t,r)}static isValidIdentifier(e){return dL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),as.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new as([J_])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new yt(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new yt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new yt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(c=!c,s++):u!=="."||c?(r+=u,s++):(o(),s++)}if(o(),c)throw new yt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new as(t)}static emptyPath(){return new as([])}}class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(Tr.fromString(e))}static fromName(e){return new Gt(Tr.fromString(e).popFirst(5))}static empty(){return new Gt(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new Tr(e.slice()))}}function n3(n,e,t){if(!t)throw new yt(Qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r3(n,e,t,r){if(e===!0&&r===!0)throw new yt(Qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z_(n){if(!Gt.isDocumentKey(n))throw new yt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ew(n){if(Gt.isDocumentKey(n))throw new yt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function i3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tn(12329,{type:typeof n})}function uo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new yt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Og(n);throw new yt(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ki(n,e){const t={typeString:n};return e&&(t.value=e),t}function mp(n,e){if(!i3(n))throw new yt(Qe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new yt(Qe.INVALID_ARGUMENT,t);return!0}const tw=-62135596800,nw=1e6;class Cr{static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nw);return new Cr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tw)throw new yt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nw}_compareTo(e){return this.seconds===e.seconds?Dn(this.nanoseconds,e.nanoseconds):Dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mp(e,Cr._jsonSchema))return new Cr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cr._jsonSchemaVersion="firestore/timestamp/1.0",Cr._jsonSchema={type:ki("string",Cr._jsonSchemaVersion),seconds:ki("number"),nanoseconds:ki("number")};class an{static fromTimestamp(e){return new an(e)}static min(){return new an(new Cr(0,0))}static max(){return new an(new Cr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qd=-1;function pL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=an.fromTimestamp(r===1e9?new Cr(t+1,0):new Cr(t,r));return new uu(s,Gt.empty(),e)}function mL(n){return new uu(n.readTime,n.key,Qd)}class uu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new uu(an.min(),Gt.empty(),Qd)}static max(){return new uu(an.max(),Gt.empty(),Qd)}}function gL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Gt.comparator(n.documentKey,e.documentKey),t!==0?t:Dn(n.largestBatchId,e.largestBatchId))}const yL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Of(n){if(n.code!==Qe.FAILED_PRECONDITION||n.message!==yL)throw n;St("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.reject(t)}static resolve(e){return new nt(((t,r)=>{t(e)}))}static reject(e){return new nt(((t,r)=>{r(e)}))}static waitFor(e){return new nt(((t,r)=>{let s=0,o=0,c=!1;e.forEach((u=>{++s,u.next((()=>{++o,c&&o===s&&t()}),(d=>r(d)))})),c=!0,o===s&&t()}))}static or(e){let t=nt.resolve(!1);for(const r of e)t=t.next((s=>s?nt.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new nt(((r,s)=>{const o=e.length,c=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next((g=>{c[f]=g,++u,u===o&&r(c)}),(g=>s(g)))}}))}static doWhile(e,t){return new nt(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function bL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mf(n){return n.name==="IndexedDbTransactionError"}class Mg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mg.ce=-1;const zy=-1;function jg(n){return n==null}function og(n){return n===0&&1/n==-1/0}function _L(n){return typeof n=="number"&&Number.isInteger(n)&&!og(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const s3="";function wL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rw(e)),e=xL(n.get(t),e);return rw(e)}function xL(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case s3:t+="";break;default:t+=o}}return t}function rw(n){return n+s3+""}function iw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _u(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function a3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ei{constructor(e,t){this.comparator=e,this.root=t||ws.EMPTY}insert(e,t){return new ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _m(this.root,e,this.comparator,!1)}getReverseIterator(){return new _m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _m(this.root,e,this.comparator,!0)}}class _m{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ws{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??ws.RED,this.left=s??ws.EMPTY,this.right=o??ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new ws(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ws.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tn(27949);return e+(this.isRed()?0:1)}}ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1;ws.EMPTY=new class{constructor(){this.size=0}get key(){throw tn(57766)}get value(){throw tn(16141)}get color(){throw tn(16727)}get left(){throw tn(29726)}get right(){throw tn(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new ws(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sw(this.data.getIterator())}getIteratorFrom(e){return new sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wi(this.comparator);return t.data=e,t}}class sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fa{constructor(e){this.fields=e,e.sort(as.comparator)}static empty(){return new Fa([])}unionWith(e){let t=new Wi(as.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Af(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class o3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new o3("Invalid base64 string: "+o):o}})(e);return new os(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}os.EMPTY_BYTE_STRING=new os("");const AL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hu(n){if(nr(!!n,39018),typeof n=="string"){let e=0;const t=AL.exec(n);if(nr(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vi(n.seconds),nanos:vi(n.nanos)}}function vi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fu(n){return typeof n=="string"?os.fromBase64String(n):os.fromUint8Array(n)}const l3="server_timestamp",c3="__type__",u3="__previous_value__",h3="__local_write_time__";function qy(n){return(n?.mapValue?.fields||{})[c3]?.stringValue===l3}function Vg(n){const e=n.mapValue.fields[u3];return qy(e)?Vg(e):e}function Jd(n){const e=hu(n.mapValue.fields[h3].timestampValue);return new Cr(e.seconds,e.nanos)}class SL{constructor(e,t,r,s,o,c,u,d,f,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g,this.apiKey=b}}const lg="(default)";class Sf{constructor(e,t){this.projectId=e,this.database=t||lg}static empty(){return new Sf("","")}get isDefaultDatabase(){return this.database===lg}isEqual(e){return e instanceof Sf&&e.projectId===this.projectId&&e.database===this.database}}function EL(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new yt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(n.options.projectId,e)}const f3="__type__",NL="__max__",wm={mapValue:{}},d3="__vector__",cg="value";function du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qy(n)?4:CL(n)?9007199254740991:TL(n)?10:11:tn(28295,{value:n})}function El(n,e){if(n===e)return!0;const t=du(n);if(t!==du(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jd(n).isEqual(Jd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=hu(s.timestampValue),u=hu(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return fu(s.bytesValue).isEqual(fu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return vi(s.geoPointValue.latitude)===vi(o.geoPointValue.latitude)&&vi(s.geoPointValue.longitude)===vi(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return vi(s.integerValue)===vi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=vi(s.doubleValue),u=vi(o.doubleValue);return c===u?og(c)===og(u):isNaN(c)&&isNaN(u)}return!1})(n,e);case 9:return Af(n.arrayValue.values||[],e.arrayValue.values||[],El);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},u=o.mapValue.fields||{};if(iw(c)!==iw(u))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(u[d]===void 0||!El(c[d],u[d])))return!1;return!0})(n,e);default:return tn(52216,{left:n})}}function Zd(n,e){return(n.values||[]).find((t=>El(t,e)))!==void 0}function Ef(n,e){if(n===e)return 0;const t=du(n),r=du(e);if(t!==r)return Dn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Dn(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const u=vi(o.integerValue||o.doubleValue),d=vi(c.integerValue||c.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return aw(n.timestampValue,e.timestampValue);case 4:return aw(Jd(n),Jd(e));case 5:return V2(n.stringValue,e.stringValue);case 6:return(function(o,c){const u=fu(o),d=fu(c);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const u=o.split("/"),d=c.split("/");for(let f=0;f<u.length&&f<d.length;f++){const g=Dn(u[f],d[f]);if(g!==0)return g}return Dn(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const u=Dn(vi(o.latitude),vi(c.latitude));return u!==0?u:Dn(vi(o.longitude),vi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ow(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const u=o.fields||{},d=c.fields||{},f=u[cg]?.arrayValue,g=d[cg]?.arrayValue,b=Dn(f?.values?.length||0,g?.values?.length||0);return b!==0?b:ow(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===wm.mapValue&&c===wm.mapValue)return 0;if(o===wm.mapValue)return 1;if(c===wm.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=c.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const S=V2(d[b],g[b]);if(S!==0)return S;const _=Ef(u[d[b]],f[g[b]]);if(_!==0)return _}return Dn(d.length,g.length)})(n.mapValue,e.mapValue);default:throw tn(23264,{he:t})}}function aw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Dn(n,e);const t=hu(n),r=hu(e),s=Dn(t.seconds,r.seconds);return s!==0?s:Dn(t.nanos,r.nanos)}function ow(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Ef(t[s],r[s]);if(o)return o}return Dn(t.length,r.length)}function Nf(n){return U2(n)}function U2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=hu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return fu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Gt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=U2(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${U2(t.fields[c])}`;return s+"}"})(n.mapValue):tn(61005,{value:n})}function Bm(n){switch(du(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vg(n);return e?16+Bm(e):16;case 5:return 2*n.stringValue.length;case 6:return fu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Bm(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return _u(r.fields,((o,c)=>{s+=o.length+Bm(c)})),s})(n.mapValue);default:throw tn(13486,{value:n})}}function lw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function F2(n){return!!n&&"integerValue"in n}function Hy(n){return!!n&&"arrayValue"in n}function cw(n){return!!n&&"nullValue"in n}function uw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zm(n){return!!n&&"mapValue"in n}function TL(n){return(n?.mapValue?.fields||{})[f3]?.stringValue===d3}function jd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return _u(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=jd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jd(n.arrayValue.values[t]);return e}return{...n}}function CL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NL}class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(t)}setAll(e){let t=as.emptyPath(),r={},s=[];e.forEach(((c,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=u.popLast()}c?r[u.lastSegment()]=jd(c):s.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return El(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];zm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){_u(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new wa(jd(this.value))}}function p3(n){const e=[];return _u(n.fields,((t,r)=>{const s=new as([t]);if(zm(r)){const o=p3(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new Fa(e)}class Vs{constructor(e,t,r,s,o,c,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Vs(e,0,an.min(),an.min(),an.min(),wa.empty(),0)}static newFoundDocument(e,t,r,s){return new Vs(e,1,t,an.min(),r,s,0)}static newNoDocument(e,t){return new Vs(e,2,t,an.min(),an.min(),wa.empty(),0)}static newUnknownDocument(e,t){return new Vs(e,3,t,an.min(),an.min(),wa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(an.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ug{constructor(e,t){this.position=e,this.inclusive=t}}function hw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?r=Gt.comparator(Gt.fromName(c.referenceValue),t.key):r=Ef(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!El(n.position[t],e.position[t]))return!1;return!0}class ep{constructor(e,t="asc"){this.field=e,this.dir=t}}function IL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class m3{}class Ri extends m3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kL(e,t,r):t==="array-contains"?new PL(e,r):t==="in"?new OL(e,r):t==="not-in"?new ML(e,r):t==="array-contains-any"?new jL(e,r):new Ri(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new LL(e,r):new DL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ef(t,this.value)):t!==null&&du(this.value)===du(t)&&this.matchesComparison(Ef(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bo extends m3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Bo(e,t)}matches(e){return g3(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g3(n){return n.op==="and"}function y3(n){return RL(n)&&g3(n)}function RL(n){for(const e of n.filters)if(e instanceof Bo)return!1;return!0}function B2(n){if(n instanceof Ri)return n.field.canonicalString()+n.op.toString()+Nf(n.value);if(y3(n))return n.filters.map((e=>B2(e))).join(",");{const e=n.filters.map((t=>B2(t))).join(",");return`${n.op}(${e})`}}function v3(n,e){return n instanceof Ri?(function(r,s){return s instanceof Ri&&r.op===s.op&&r.field.isEqual(s.field)&&El(r.value,s.value)})(n,e):n instanceof Bo?(function(r,s){return s instanceof Bo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,u)=>o&&v3(c,s.filters[u])),!0):!1})(n,e):void tn(19439)}function b3(n){return n instanceof Ri?(function(t){return`${t.field.canonicalString()} ${t.op} ${Nf(t.value)}`})(n):n instanceof Bo?(function(t){return t.op.toString()+" {"+t.getFilters().map(b3).join(" ,")+"}"})(n):"Filter"}class kL extends Ri{constructor(e,t,r){super(e,t,r),this.key=Gt.fromName(r.referenceValue)}matches(e){const t=Gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class LL extends Ri{constructor(e,t){super(e,"in",t),this.keys=_3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DL extends Ri{constructor(e,t){super(e,"not-in",t),this.keys=_3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _3(n,e){return(e.arrayValue?.values||[]).map((t=>Gt.fromName(t.referenceValue)))}class PL extends Ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hy(t)&&Zd(t.arrayValue,this.value)}}class OL extends Ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zd(this.value.arrayValue,t)}}class ML extends Ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zd(this.value.arrayValue,t)}}class jL extends Ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Zd(this.value.arrayValue,r)))}}class VL{constructor(e,t=null,r=[],s=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function dw(n,e=null,t=[],r=[],s=null,o=null,c=null){return new VL(n,e,t,r,s,o,c)}function Gy(n){const e=hn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>B2(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),jg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Nf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Nf(r))).join(",")),e.Te=t}return e.Te}function Wy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fw(n.startAt,e.startAt)&&fw(n.endAt,e.endAt)}function z2(n){return Gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class jf{constructor(e,t=null,r=[],s=[],o=null,c="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function UL(n,e,t,r,s,o,c,u){return new jf(n,e,t,r,s,o,c,u)}function Ug(n){return new jf(n)}function pw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FL(n){return Gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function w3(n){return n.collectionGroup!==null}function Vd(n){const e=hn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Wi(as.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ep(o,r))})),t.has(as.keyField().canonicalString())||e.Ie.push(new ep(as.keyField(),r))}return e.Ie}function Al(n){const e=hn(n);return e.Ee||(e.Ee=BL(e,Vd(n))),e.Ee}function BL(n,e){if(n.limitType==="F")return dw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new ep(s.field,o)}));const t=n.endAt?new ug(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ug(n.startAt.position,n.startAt.inclusive):null;return dw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function q2(n,e){const t=n.filters.concat([e]);return new jf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zL(n,e){const t=n.explicitOrderBy.concat([e]);return new jf(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function H2(n,e,t){return new jf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fg(n,e){return Wy(Al(n),Al(e))&&n.limitType===e.limitType}function x3(n){return`${Gy(Al(n))}|lt:${n.limitType}`}function Zh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>b3(s))).join(", ")}]`),jg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Nf(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Nf(s))).join(",")),`Target(${r})`})(Al(n))}; limitType=${n.limitType})`}function Bg(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Gt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of Vd(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(c,u,d){const f=hw(c,u,d);return c.inclusive?f<=0:f<0})(r.startAt,Vd(r),s)||r.endAt&&!(function(c,u,d){const f=hw(c,u,d);return c.inclusive?f>=0:f>0})(r.endAt,Vd(r),s))})(n,e)}function qL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function A3(n){return(e,t)=>{let r=!1;for(const s of Vd(n)){const o=HL(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function HL(n,e,t){const r=n.field.isKeyField()?Gt.comparator(e.key,t.key):(function(o,c,u){const d=c.data.field(o),f=u.data.field(o);return d!==null&&f!==null?Ef(d,f):tn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn(19790,{direction:n.dir})}}class ch{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_u(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return a3(this.inner)}size(){return this.innerSize}}const GL=new ei(Gt.comparator);function fc(){return GL}const S3=new ei(Gt.comparator);function Dd(...n){let e=S3;for(const t of n)e=e.insert(t.key,t);return e}function E3(n){let e=S3;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Hu(){return Ud()}function N3(){return Ud()}function Ud(){return new ch((n=>n.toString()),((n,e)=>n.isEqual(e)))}const WL=new ei(Gt.comparator),YL=new Wi(Gt.comparator);function Pn(...n){let e=YL;for(const t of n)e=e.add(t);return e}const $L=new Wi(Dn);function KL(){return $L}function Yy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:og(e)?"-0":e}}function T3(n){return{integerValue:""+n}}function XL(n,e){return _L(e)?T3(e):Yy(n,e)}class zg{constructor(){this._=void 0}}function QL(n,e,t){return n instanceof hg?(function(s,o){const c={fields:{[c3]:{stringValue:l3},[h3]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&qy(o)&&(o=Vg(o)),o&&(c.fields[u3]=o),{mapValue:c}})(t,e):n instanceof tp?I3(n,e):n instanceof np?R3(n,e):(function(s,o){const c=C3(s,o),u=mw(c)+mw(s.Ae);return F2(c)&&F2(s.Ae)?T3(u):Yy(s.serializer,u)})(n,e)}function JL(n,e,t){return n instanceof tp?I3(n,e):n instanceof np?R3(n,e):t}function C3(n,e){return n instanceof fg?(function(r){return F2(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class hg extends zg{}class tp extends zg{constructor(e){super(),this.elements=e}}function I3(n,e){const t=k3(e);for(const r of n.elements)t.some((s=>El(s,r)))||t.push(r);return{arrayValue:{values:t}}}class np extends zg{constructor(e){super(),this.elements=e}}function R3(n,e){let t=k3(e);for(const r of n.elements)t=t.filter((s=>!El(s,r)));return{arrayValue:{values:t}}}class fg extends zg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function mw(n){return vi(n.integerValue||n.doubleValue)}function k3(n){return Hy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZL(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof tp&&s instanceof tp||r instanceof np&&s instanceof np?Af(r.elements,s.elements,El):r instanceof fg&&s instanceof fg?El(r.Ae,s.Ae):r instanceof hg&&s instanceof hg})(n.transform,e.transform)}class e7{constructor(e,t){this.version=e,this.transformResults=t}}class Vo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vo}static exists(e){return new Vo(void 0,e)}static updateTime(e){return new Vo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qg{}function L3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $y(n.key,Vo.none()):new gp(n.key,n.data,Vo.none());{const t=n.data,r=wa.empty();let s=new Wi(as.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new wu(n.key,r,new Fa(s.toArray()),Vo.none())}}function t7(n,e,t){n instanceof gp?(function(s,o,c){const u=s.value.clone(),d=yw(s.fieldTransforms,o,c.transformResults);u.setAll(d),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):n instanceof wu?(function(s,o,c){if(!qm(s.precondition,o))return void o.convertToUnknownDocument(c.version);const u=yw(s.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(D3(s)),d.setAll(u),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Fd(n,e,t,r){return n instanceof gp?(function(o,c,u,d){if(!qm(o.precondition,c))return u;const f=o.value.clone(),g=vw(o.fieldTransforms,d,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof wu?(function(o,c,u,d){if(!qm(o.precondition,c))return u;const f=vw(o.fieldTransforms,d,c),g=c.data;return g.setAll(D3(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,e,t,r):(function(o,c,u){return qm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(n,e,t)}function n7(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=C3(r.transform,s||null);o!=null&&(t===null&&(t=wa.empty()),t.set(r.field,o))}return t||null}function gw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Af(r,s,((o,c)=>ZL(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gp extends qg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wu extends qg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function D3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function yw(n,e,t){const r=new Map;nr(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,u=e.data.field(o.field);r.set(o.field,JL(c,u,t[s]))}return r}function vw(n,e,t){const r=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);r.set(s.field,QL(o,c,e))}return r}class $y extends qg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r7 extends qg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class i7{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&t7(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=N3();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=t.has(s.key)?null:u;const d=L3(c,u);d!==null&&r.set(s.key,d),c.isValidDocument()||c.convertToNoDocument(an.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pn())}isEqual(e){return this.batchId===e.batchId&&Af(this.mutations,e.mutations,((t,r)=>gw(t,r)))&&Af(this.baseMutations,e.baseMutations,((t,r)=>gw(t,r)))}}class Ky{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){nr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return WL})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Ky(e,t,r,s)}}class s7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class a7{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ii,Bn;function o7(n){switch(n){case Qe.OK:return tn(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return tn(15467,{code:n})}}function P3(n){if(n===void 0)return hc("GRPC error has no .code"),Qe.UNKNOWN;switch(n){case Ii.OK:return Qe.OK;case Ii.CANCELLED:return Qe.CANCELLED;case Ii.UNKNOWN:return Qe.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return Qe.INTERNAL;case Ii.UNAVAILABLE:return Qe.UNAVAILABLE;case Ii.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Ii.NOT_FOUND:return Qe.NOT_FOUND;case Ii.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Ii.ABORTED:return Qe.ABORTED;case Ii.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Ii.DATA_LOSS:return Qe.DATA_LOSS;default:return tn(39323,{code:n})}}(Bn=Ii||(Ii={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";function l7(){return new TextEncoder}const c7=new au([4294967295,4294967295],0);function bw(n){const e=l7().encode(n),t=new YA;return t.update(e),new Uint8Array(t.digest())}function _w(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new au([t,r],0),new au([s,o],0)]}class Xy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pd(`Invalid padding: ${t}`);if(r<0)throw new Pd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=au.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(au.fromNumber(r)));return s.compare(c7)===1&&(s=new au([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=bw(e),[r,s]=_w(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Xy(o,s,t);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const t=bw(e),[r,s]=_w(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hg{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,yp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hg(an.min(),s,new ei(Dn),fc(),Pn())}}class yp{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yp(r,t,Pn(),Pn(),Pn())}}class Hm{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class O3{constructor(e,t){this.targetId=e,this.Ce=t}}class M3{constructor(e,t,r=os.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class ww{constructor(){this.ve=0,this.Fe=xw(),this.Me=os.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pn(),t=Pn(),r=Pn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:tn(38017,{changeType:o})}})),new yp(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=xw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class u7{constructor(e){this.Ge=e,this.ze=new Map,this.je=fc(),this.He=xm(),this.Je=xm(),this.Ze=new ei(Dn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:tn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(z2(o))if(r===0){const c=new Gt(o.path);this.et(t,c,Vs.newNoDocument(c,an.min()))}else nr(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const u=this.ut(e),d=u?this.ct(u,e,c):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let c,u;try{c=fu(r).toUint8Array()}catch(d){if(d instanceof o3)return th("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Xy(c,s,o)}catch(d){return th(d instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&z2(u.target)){const d=new Gt(u.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Vs.newNoDocument(d,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=Pn();this.Je.forEach(((o,c)=>{let u=!0;c.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Hg(e,t,this.Ze,this.je,r);return this.je=fc(),this.He=xm(),this.Je=xm(),this.Ze=new ei(Dn),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new ww,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Wi(Dn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Wi(Dn),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||St("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ww),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xm(){return new ei(Gt.comparator)}function xw(){return new ei(Gt.comparator)}const h7={asc:"ASCENDING",desc:"DESCENDING"},f7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d7={and:"AND",or:"OR"};class p7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G2(n,e){return n.useProto3Json||jg(e)?e:{value:e}}function dg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m7(n,e){return dg(n,e.toTimestamp())}function Sl(n){return nr(!!n,49232),an.fromTimestamp((function(t){const r=hu(t);return new Cr(r.seconds,r.nanos)})(n))}function Qy(n,e){return W2(n,e).canonicalString()}function W2(n,e){const t=(function(s){return new Tr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function V3(n){const e=Tr.fromString(n);return nr(q3(e),10190,{key:e.toString()}),e}function Y2(n,e){return Qy(n.databaseId,e.path)}function M0(n,e){const t=V3(e);if(t.get(1)!==n.databaseId.projectId)throw new yt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new yt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Gt(F3(t))}function U3(n,e){return Qy(n.databaseId,e)}function g7(n){const e=V3(n);return e.length===4?Tr.emptyPath():F3(e)}function $2(n){return new Tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F3(n){return nr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Aw(n,e,t){return{name:Y2(n,e),fields:t.value.mapValue.fields}}function y7(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:tn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(nr(g===void 0||typeof g=="string",58123),os.fromBase64String(g||"")):(nr(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),os.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(f){const g=f.code===void 0?Qe.UNKNOWN:P3(f.code);return new yt(g,f.message||"")})(c);t=new M3(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=M0(n,r.document.name),o=Sl(r.document.updateTime),c=r.document.createTime?Sl(r.document.createTime):an.min(),u=new wa({mapValue:{fields:r.document.fields}}),d=Vs.newFoundDocument(s,o,c,u),f=r.targetIds||[],g=r.removedTargetIds||[];t=new Hm(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=M0(n,r.document),o=r.readTime?Sl(r.readTime):an.min(),c=Vs.newNoDocument(s,o),u=r.removedTargetIds||[];t=new Hm([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=M0(n,r.document),o=r.removedTargetIds||[];t=new Hm([],o,s,null)}else{if(!("filter"in e))return tn(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new a7(s,o),u=r.targetId;t=new O3(u,c)}}return t}function v7(n,e){let t;if(e instanceof gp)t={update:Aw(n,e.key,e.value)};else if(e instanceof $y)t={delete:Y2(n,e.key)};else if(e instanceof wu)t={update:Aw(n,e.key,e.data),updateMask:T7(e.fieldMask)};else{if(!(e instanceof r7))return tn(16599,{dt:e.type});t={verify:Y2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const u=c.transform;if(u instanceof hg)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof tp)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof np)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof fg)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw tn(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:m7(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tn(27497)})(n,e.precondition)),t}function b7(n,e){return n&&n.length>0?(nr(e!==void 0,14353),n.map((t=>(function(s,o){let c=s.updateTime?Sl(s.updateTime):Sl(o);return c.isEqual(an.min())&&(c=Sl(o)),new e7(c,s.transformResults||[])})(t,e)))):[]}function _7(n,e){return{documents:[U3(n,e.path)]}}function w7(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=U3(n,s);const o=(function(f){if(f.length!==0)return z3(Bo.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(S){return{field:ef(S.field),direction:S7(S.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=G2(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function x7(n){let e=g7(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){nr(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(b){const S=B3(b);return S instanceof Bo&&y3(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((S=>(function(O){return new ep(tf(O.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(S)))})(t.orderBy));let u=null;t.limit&&(u=(function(b){let S;return S=typeof b=="object"?b.value:b,jg(S)?null:S})(t.limit));let d=null;t.startAt&&(d=(function(b){const S=!!b.before,_=b.values||[];return new ug(_,S)})(t.startAt));let f=null;return t.endAt&&(f=(function(b){const S=!b.before,_=b.values||[];return new ug(_,S)})(t.endAt)),UL(e,s,c,o,u,"F",d,f)}function A7(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function B3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=tf(t.unaryFilter.field);return Ri.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=tf(t.unaryFilter.field);return Ri.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=tf(t.unaryFilter.field);return Ri.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=tf(t.unaryFilter.field);return Ri.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tn(61313);default:return tn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ri.create(tf(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tn(58110);default:return tn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Bo.create(t.compositeFilter.filters.map((r=>B3(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tn(1026)}})(t.compositeFilter.op))})(n):tn(30097,{filter:n})}function S7(n){return h7[n]}function E7(n){return f7[n]}function N7(n){return d7[n]}function ef(n){return{fieldPath:n.canonicalString()}}function tf(n){return as.fromServerFormat(n.fieldPath)}function z3(n){return n instanceof Ri?(function(t){if(t.op==="=="){if(uw(t.value))return{unaryFilter:{field:ef(t.field),op:"IS_NAN"}};if(cw(t.value))return{unaryFilter:{field:ef(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uw(t.value))return{unaryFilter:{field:ef(t.field),op:"IS_NOT_NAN"}};if(cw(t.value))return{unaryFilter:{field:ef(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ef(t.field),op:E7(t.op),value:t.value}}})(n):n instanceof Bo?(function(t){const r=t.getFilters().map((s=>z3(s)));return r.length===1?r[0]:{compositeFilter:{op:N7(t.op),filters:r}}})(n):tn(54877,{filter:n})}function T7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function q3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function H3(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class tu{constructor(e,t,r,s,o=an.min(),c=an.min(),u=os.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C7{constructor(e){this.yt=e}}function I7(n){const e=x7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?H2(e,e.limit,"L"):e}class R7{constructor(){this.Sn=new k7}addToCollectionParentIndex(e,t){return this.Sn.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(uu.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(uu.min())}updateCollectionGroup(e,t,r){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class k7{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Wi(Tr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wi(Tr.comparator)).toArray()}}const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G3=41943040;class ba{static withCacheSize(e){return new ba(e,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}ba.DEFAULT_COLLECTION_PERCENTILE=10,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ba.DEFAULT=new ba(G3,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ba.DISABLED=new ba(-1,0,0);class Tf{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Tf(0)}static ar(){return new Tf(-1)}}const Ew="LruGarbageCollector",L7=1048576;function Nw([n,e],[t,r]){const s=Dn(n,t);return s===0?Dn(e,r):s}class D7{constructor(e){this.Pr=e,this.buffer=new Wi(Nw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Nw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class P7{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){St(Ew,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mf(t)?St(Ew,"Ignoring IndexedDB error during garbage collection: ",t):await Of(t)}await this.Ar(3e5)}))}}class O7{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return nt.resolve(Mg.ce);const r=new D7(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Sw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,c,u,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s)))).next((b=>(r=b,u=Date.now(),this.removeTargets(e,r,t)))).next((b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(f=Date.now(),Jh()<=Ln.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${s} in `+(u-c)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${b} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b}))))}}function M7(n,e){return new O7(n,e)}class j7{constructor(){this.changes=new ch((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?nt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class U7{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Fd(r.mutation,s,Fa.empty(),Cr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Pn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Pn()){const s=Hu();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let c=Dd();return o.forEach(((u,d)=>{c=c.insert(u,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Hu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Pn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,u)=>{t.set(c,u)}))}))}computeViews(e,t,r,s){let o=fc();const c=Ud(),u=(function(){return Ud()})();return t.forEach(((d,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof wu)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),Fd(g.mutation,f,g.mutation.getFieldMask(),Cr.now())):c.set(f.key,Fa.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>c.set(f,g))),t.forEach(((f,g)=>u.set(f,new V7(g,c.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Ud();let s=new ei(((c,u)=>c-u)),o=Pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const u of c)u.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||Fa.empty();g=u.applyToLocalView(f,g),r.set(d,g);const b=(s.get(u.batchId)||Pn()).add(d);s=s.insert(u.batchId,b)}))})).next((()=>{const c=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,g=d.value,b=N3();g.forEach((S=>{if(!o.has(S)){const _=L3(t.get(S),r.get(S));_!==null&&b.set(S,_),o=o.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,b))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return FL(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):nt.resolve(Hu());let u=Qd,d=o;return c.next((f=>nt.forEach(f,((g,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),o.get(g)?nt.resolve():this.remoteDocumentCache.getEntry(e,g).next((S=>{d=d.insert(g,S)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,Pn()))).next((g=>({batchId:u,changes:E3(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gt(t)).next((r=>{let s=Dd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let c=Dd();return this.indexManager.getCollectionParents(e,o).next((u=>nt.forEach(u,(d=>{const f=(function(b,S){return new jf(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((g=>{g.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((c=>{o.forEach(((d,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,Vs.newInvalidDocument(g)))}));let u=Dd();return c.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&Fd(g.mutation,f,Fa.empty(),Cr.now()),Bg(t,f)&&(u=u.insert(d,f))})),u}))}}class F7{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return nt.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Sl(s.createTime)}})(t)),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:I7(s.bundledQuery),readTime:Sl(s.readTime)}})(t)),nt.resolve()}}class B7{constructor(){this.overlays=new ei(Gt.comparator),this.Lr=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hu();return nt.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),nt.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(e,t,r){const s=Hu(),o=t.length+1,c=new Gt(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return nt.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new ei(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Hu(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Hu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>u.set(f,g))),!(u.size()>=s)););return nt.resolve(u)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new s7(t,r));let o=this.Lr.get(t);o===void 0&&(o=Pn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class z7{constructor(){this.sessionToken=os.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nt.resolve()}}class Jy{constructor(){this.kr=new Wi(is.Kr),this.qr=new Wi(is.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new is(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new is(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Gt(new Tr([])),r=new is(t,e),s=new is(t,e+1),o=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Gt(new Tr([])),r=new is(t,e),s=new is(t,e+1);let o=Pn();return this.qr.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new is(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class is{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Gt.comparator(e.key,t.key)||Dn(e.Hr,t.Hr)}static Ur(e,t){return Dn(e.Hr,t.Hr)||Gt.comparator(e.key,t.key)}}class q7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Wi(is.Kr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new i7(o,t,r,s);this.mutationQueue.push(c);for(const u of s)this.Jr=this.Jr.add(new is(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(e,t){return nt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return nt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?zy:this.Yn-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new is(t,0),s=new is(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(c=>{const u=this.Zr(c.Hr);o.push(u)})),nt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wi(Dn);return t.forEach((s=>{const o=new is(s,0),c=new is(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(u=>{r=r.add(u.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Gt.isDocumentKey(o)||(o=o.child(""));const c=new is(new Gt(o),0);let u=new Wi(Dn);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(u=u.add(d.Hr)),!0)}),c),nt.resolve(this.Yr(u))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){nr(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(t.mutations,(s=>{const o=new is(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new is(t,0),s=this.Jr.firstAfterOrEqual(r);return nt.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class H7{constructor(e){this.ti=e,this.docs=(function(){return new ei(Gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return nt.resolve(r?r.document.mutableCopy():Vs.newInvalidDocument(t))}getEntries(e,t){let r=fc();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Vs.newInvalidDocument(s))})),nt.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=fc();const c=t.path,u=new Gt(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||gL(mL(g),r)<=0||(s.has(g.key)||Bg(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return nt.resolve(o)}getAllFromCollectionGroup(e,t,r,s){tn(9500)}ni(e,t){return nt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new G7(this)}getSize(e){return nt.resolve(this.size)}}class G7 extends j7{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),nt.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class W7{constructor(e){this.persistence=e,this.ri=new ch((t=>Gy(t)),Wy),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.ii=0,this.si=new Jy,this.targetCount=0,this.oi=Tf._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),nt.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Tf(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.lr(t),nt.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((c,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),nt.waitFor(o).next((()=>s))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return nt.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),nt.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),nt.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return nt.resolve(r)}containsKey(e,t){return nt.resolve(this.si.containsKey(t))}}class W3{constructor(e,t){this._i={},this.overlays={},this.ai=new Mg(0),this.ui=!1,this.ui=!0,this.ci=new z7,this.referenceDelegate=e(this),this.li=new W7(this),this.indexManager=new R7,this.remoteDocumentCache=(function(s){return new H7(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new C7(t),this.Pi=new F7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new q7(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){St("MemoryPersistence","Starting transaction:",e);const s=new Y7(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class Y7 extends vL{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Ri=new Jy,this.Ai=null}static Vi(e){return new Zy(e)}get di(){if(this.Ai)return this.Ai;throw tn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),nt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const s=Gt.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,an.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return nt.or([()=>nt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class pg{constructor(e,t){this.persistence=e,this.fi=new ch((r=>wL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=M7(this,t)}static Vi(e,t){return new pg(e,t)}Ti(){}Ii(e){return nt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return nt.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?nt.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((u=>{u||(r++,o.removeEntry(c,an.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),nt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),nt.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bm(e.data.value)),t}wr(e,t,r){return nt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return nt.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ev{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=Pn(),s=Pn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new ev(e,t.fromCache,r,s)}}class $7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class K7{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return w8()?8:bL(Us())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new $7;return this.ys(e,t,c).next((u=>{if(o.result=u,this.As)return this.ws(e,t,c,u.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Jh()<=Ln.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Zh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Jh()<=Ln.DEBUG&&St("QueryEngine","Query:",Zh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Jh()<=Ln.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Zh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Al(t))):nt.resolve())}gs(e,t){if(pw(t))return nt.resolve(null);let r=Al(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=H2(t,null,"F"),r=Al(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Pn(...o);return this.fs.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.bs(t,u);return this.Ss(t,f,c,d.readTime)?this.gs(e,H2(t,null,"F")):this.Ds(e,f,t,d)}))))})))))}ps(e,t,r,s){return pw(t)||s.isEqual(an.min())?nt.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,s)?nt.resolve(null):(Jh()<=Ln.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zh(t)),this.Ds(e,c,t,pL(s,Qd)).next((u=>u)))}))}bs(e,t){let r=new Wi(A3(e));return t.forEach(((s,o)=>{Bg(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return Jh()<=Ln.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Zh(t)),this.fs.getDocumentsMatchingQuery(e,t,uu.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const tv="LocalStore",X7=3e8;class Q7{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ei(Dn),this.Fs=new ch((o=>Gy(o)),Wy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U7(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function J7(n,e,t,r){return new Q7(n,e,t,r)}async function Y3(n,e){const t=hn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],u=[];let d=Pn();for(const f of s){c.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((f=>({Ns:f,removedBatchIds:c,addedBatchIds:u})))}))}))}function Z7(n,e){const t=hn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,g){const b=f.batch,S=b.keys();let _=nt.resolve();return S.forEach((O=>{_=_.next((()=>g.getEntry(d,O))).next((V=>{const U=f.docVersions.get(O);nr(U!==null,48541),V.version.compareTo(U)<0&&(b.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),g.addEntry(V)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(d,b)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Pn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function $3(n){const e=hn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function eD(n,e){const t=hn(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const u=[];e.targetChanges.forEach(((g,b)=>{const S=s.get(b);if(!S)return;u.push(t.li.removeMatchingKeys(o,g.removedDocuments,b).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,b))));let _=S.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?_=_.withResumeToken(os.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),s=s.insert(b,_),(function(V,U,j){return V.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=X7?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(S,_,g)&&u.push(t.li.updateTargetData(o,_))}));let d=fc(),f=Pn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(tD(o,c,e.documentUpdates).next((g=>{d=g.Bs,f=g.Ls}))),!r.isEqual(an.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((b=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return nt.waitFor(u).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(t.vs=s,o)))}function tD(n,e,t){let r=Pn(),s=Pn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=fc();return t.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(an.min())?(e.removeEntry(u,d.readTime),c=c.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),c=c.insert(u,d)):St(tv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{Bs:c,Ls:s}}))}function nD(n,e){const t=hn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function rD(n,e){const t=hn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,nt.resolve(s)):t.li.allocateTargetId(r).next((c=>(s=new tu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function K2(n,e,t){const r=hn(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Mf(c))throw c;St(tv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function Tw(n,e,t){const r=hn(n);let s=an.min(),o=Pn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,f,g){const b=hn(d),S=b.Fs.get(g);return S!==void 0?nt.resolve(b.vs.get(S)):b.li.getTargetData(f,g)})(r,c,Al(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,u.targetId).next((d=>{o=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?s:an.min(),t?o:Pn()))).next((u=>(iD(r,qL(e),u),{documents:u,ks:o})))))}function iD(n,e,t){let r=n.Ms.get(e)||an.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class Cw{constructor(){this.activeTargetIds=KL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sD{constructor(){this.vo=new Cw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Cw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aD{Mo(e){}shutdown(){}}const Iw="ConnectivityMonitor";class Rw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){St(Iw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){St(Iw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Am=null;function X2(){return Am===null?Am=(function(){return 268435456+Math.round(2147483648*Math.random())})():Am++,"0x"+Am.toString(16)}const j0="RestConnection",oD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===lg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const c=X2(),u=this.Qo(e,t.toUriEncodedString());St(j0,`Sending RPC '${e}' ${c}:`,u,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,s,o);const{host:f}=new URL(u),g=bu(f);return this.zo(e,u,d,r,g).then((b=>(St(j0,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw th(j0,`RPC '${e}' ${c} failed with error: `,b,"url: ",u,"request:",r),b}))}jo(e,t,r,s,o,c){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=oD[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class cD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ks="WebChannelConnection",Sd=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class df extends lD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!df.c_){const e=QA();Sd(e,XA.STAT_EVENT,(t=>{t.stat===j2.PROXY?St(ks,"STAT_EVENT: detected buffering proxy"):t.stat===j2.NOPROXY&&St(ks,"STAT_EVENT: detected no buffering proxy")})),df.c_=!0}}zo(e,t,r,s,o){const c=X2();return new Promise(((u,d)=>{const f=new $A;f.setWithCredentials(!0),f.listenOnce(KA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Fm.NO_ERROR:const b=f.getResponseJson();St(ks,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),u(b);break;case Fm.TIMEOUT:St(ks,`RPC '${e}' ${c} timed out`),d(new yt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case Fm.HTTP_ERROR:const S=f.getStatus();if(St(ks,`RPC '${e}' ${c} failed with status:`,S,"response text:",f.getResponseText()),S>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const O=_?.error;if(O&&O.status&&O.message){const V=(function(j){const te=j.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(te)>=0?te:Qe.UNKNOWN})(O.status);d(new yt(V,O.message))}else d(new yt(Qe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new yt(Qe.UNAVAILABLE,"Connection failed."));break;default:tn(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{St(ks,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(s);St(ks,`RPC '${e}' ${c} sending request:`,s),f.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=X2(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const f=o.join("");St(ks,`Creating RPC '${e}' stream ${s}: ${f}`,u);const g=c.createWebChannel(f,u);this.I_(g);let b=!1,S=!1;const _=new cD({Ho:O=>{S?St(ks,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(b||(St(ks,`Opening RPC '${e}' stream ${s} transport.`),g.open(),b=!0),St(ks,`RPC '${e}' stream ${s} sending:`,O),g.send(O))},Jo:()=>g.close()});return Sd(g,Ld.EventType.OPEN,(()=>{S||(St(ks,`RPC '${e}' stream ${s} transport opened.`),_.i_())})),Sd(g,Ld.EventType.CLOSE,(()=>{S||(S=!0,St(ks,`RPC '${e}' stream ${s} transport closed`),_.o_(),this.E_(g))})),Sd(g,Ld.EventType.ERROR,(O=>{S||(S=!0,th(ks,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),_.o_(new yt(Qe.UNAVAILABLE,"The operation could not be completed")))})),Sd(g,Ld.EventType.MESSAGE,(O=>{if(!S){const V=O.data[0];nr(!!V,16349);const U=V,j=U?.error||U[0]?.error;if(j){St(ks,`RPC '${e}' stream ${s} received error:`,j);const te=j.status;let oe=(function(de){const q=Ii[de];if(q!==void 0)return P3(q)})(te),Y=j.message;oe===void 0&&(oe=Qe.INTERNAL,Y="Unknown error status: "+te+" with message "+j.message),S=!0,_.o_(new yt(oe,Y)),g.close()}else St(ks,`RPC '${e}' stream ${s} received:`,V),_.__(V)}})),df.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JA()}}function uD(n){return new df(n)}function V0(){return typeof document<"u"?document:null}function Gg(n){return new p7(n,!0)}df.c_=!1;class K3{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&St("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const kw="PersistentStream";class X3{constructor(e,t,r,s,o,c,u,d){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Qe.RESOURCE_EXHAUSTED?(hc(t.toString()),hc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new yt(Qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return St(kw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(St(kw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hD extends X3{constructor(e,t,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=y7(this.serializer,e),r=(function(o){if(!("targetChange"in o))return an.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?an.min():c.readTime?Sl(c.readTime):an.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=$2(this.serializer),t.addTarget=(function(o,c){let u;const d=c.target;if(u=z2(d)?{documents:_7(o,d)}:{query:w7(o,d).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=j3(o,c.resumeToken);const f=G2(o,c.expectedCount);f!==null&&(u.expectedCount=f)}else if(c.snapshotVersion.compareTo(an.min())>0){u.readTime=dg(o,c.snapshotVersion.toTimestamp());const f=G2(o,c.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=A7(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=$2(this.serializer),t.removeTarget=e,this.K_(t)}}class fD extends X3{constructor(e,t,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return nr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=b7(e.writeResults,e.commitTime),r=Sl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=$2(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>v7(this.serializer,r)))};this.K_(t)}}class dD{}class pD extends dD{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new yt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,W2(t,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(Qe.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.jo(e,W2(t,r),s,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(Qe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mD(n,e,t,r){return new pD(n,e,t,r)}class gD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hc(t),this.aa=!1):St("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nh="RemoteStore";class yD{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{uh(this)&&(St(nh,"Restarting streams for network reachability change."),await(async function(d){const f=hn(d);f.Ea.add(4),await vp(f),f.Va.set("Unknown"),f.Ea.delete(4),await Wg(f)})(this))}))})),this.Va=new gD(r,s)}}async function Wg(n){if(uh(n))for(const e of n.Ra)await e(!0)}async function vp(n){for(const e of n.Ra)await e(!1)}function Q3(n,e){const t=hn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),sv(t)?iv(t):Vf(t).O_()&&rv(t,e))}function nv(n,e){const t=hn(n),r=Vf(t);t.Ia.delete(e),r.O_()&&J3(t,e),t.Ia.size===0&&(r.O_()?r.L_():uh(t)&&t.Va.set("Unknown"))}function rv(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vf(n).Z_(e)}function J3(n,e){n.da.$e(e),Vf(n).X_(e)}function iv(n){n.da=new u7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Vf(n).start(),n.Va.ua()}function sv(n){return uh(n)&&!Vf(n).x_()&&n.Ia.size>0}function uh(n){return hn(n).Ea.size===0}function Z3(n){n.da=void 0}async function vD(n){n.Va.set("Online")}async function bD(n){n.Ia.forEach(((e,t)=>{rv(n,e)}))}async function _D(n,e){Z3(n),sv(n)?(n.Va.ha(e),iv(n)):n.Va.set("Unknown")}async function wD(n,e,t){if(n.Va.set("Online"),e instanceof M3&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,c),s.Ia.delete(u),s.da.removeTarget(u))})(n,e)}catch(r){St(nh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mg(n,r)}else if(e instanceof Hm?n.da.Xe(e):e instanceof O3?n.da.st(e):n.da.tt(e),!t.isEqual(an.min()))try{const r=await $3(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const u=o.da.Tt(c);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,c))}})),u.targetMismatches.forEach(((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(os.EMPTY_BYTE_STRING,g.snapshotVersion)),J3(o,d);const b=new tu(g.target,d,f,g.sequenceNumber);rv(o,b)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){St(nh,"Failed to raise snapshot:",r),await mg(n,r)}}async function mg(n,e,t){if(!Mf(e))throw e;n.Ea.add(1),await vp(n),n.Va.set("Offline"),t||(t=()=>$3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{St(nh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Wg(n)}))}function eS(n,e){return e().catch((t=>mg(n,t,e)))}async function Yg(n){const e=hn(n),t=pu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zy;for(;xD(e);)try{const s=await nD(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,AD(e,s)}catch(s){await mg(e,s)}tS(e)&&nS(e)}function xD(n){return uh(n)&&n.Ta.length<10}function AD(n,e){n.Ta.push(e);const t=pu(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function tS(n){return uh(n)&&!pu(n).x_()&&n.Ta.length>0}function nS(n){pu(n).start()}async function SD(n){pu(n).ra()}async function ED(n){const e=pu(n);for(const t of n.Ta)e.ea(t.mutations)}async function ND(n,e,t){const r=n.Ta.shift(),s=Ky.from(r,e,t);await eS(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Yg(n)}async function TD(n,e){e&&pu(n).Y_&&await(async function(r,s){if((function(c){return o7(c)&&c!==Qe.ABORTED})(s.code)){const o=r.Ta.shift();pu(r).B_(),await eS(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Yg(r)}})(n,e),tS(n)&&nS(n)}async function Lw(n,e){const t=hn(n);t.asyncQueue.verifyOperationInProgress(),St(nh,"RemoteStore received new credentials");const r=uh(t);t.Ea.add(3),await vp(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wg(t)}async function CD(n,e){const t=hn(n);e?(t.Ea.delete(2),await Wg(t)):e||(t.Ea.add(2),await vp(t),t.Va.set("Unknown"))}function Vf(n){return n.ma||(n.ma=(function(t,r,s){const o=hn(t);return o.sa(),new hD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:vD.bind(null,n),Yo:bD.bind(null,n),t_:_D.bind(null,n),J_:wD.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),sv(n)?iv(n):n.Va.set("Unknown")):(await n.ma.stop(),Z3(n))}))),n.ma}function pu(n){return n.fa||(n.fa=(function(t,r,s){const o=hn(t);return o.sa(),new fD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:SD.bind(null,n),t_:TD.bind(null,n),ta:ED.bind(null,n),na:ND.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Yg(n)):(await n.fa.stop(),n.Ta.length>0&&(St(nh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class av{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ou,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const c=Date.now()+r,u=new av(e,t,c,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(n,e){if(hc("AsyncQueue",`${e}: ${n}`),Mf(n))return new yt(Qe.UNAVAILABLE,`${e}: ${n}`);throw n}class pf{static emptySet(e){return new pf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Gt.comparator(t.key,r.key):(t,r)=>Gt.comparator(t.key,r.key),this.keyedMap=Dd(),this.sortedSet=new ei(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new pf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Dw{constructor(){this.ga=new ei(Gt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):tn(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Cf{constructor(e,t,r,s,o,c,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,s,o){const c=[];return t.forEach((u=>{c.push({type:0,doc:u})})),new Cf(e,t,pf.emptySet(t),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class ID{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class RD{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=hn(t),o=s.queries;s.queries=Pw(),o.forEach(((c,u)=>{for(const d of u.ba)d.onError(r)}))})(this,new yt(Qe.ABORTED,"Firestore shutting down"))}}function Pw(){return new ch((n=>x3(n)),Fg)}async function rS(n,e){const t=hn(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new ID,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const u=ov(c,`Initialization of query '${Zh(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&lv(t)}async function iS(n,e){const t=hn(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function kD(n,e){const t=hn(n);let r=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const u of c.ba)u.Fa(s)&&(r=!0);c.wa=s}}r&&lv(t)}function LD(n,e,t){const r=hn(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function lv(n){n.Ca.forEach((e=>{e.next()}))}var Q2,Ow;(Ow=Q2||(Q2={})).Ma="default",Ow.Cache="cache";class sS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Cf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Q2.Cache}}class aS{constructor(e){this.key=e}}class oS{constructor(e){this.key=e}}class DD{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pn(),this.mutatedKeys=Pn(),this.eu=A3(e),this.tu=new pf(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new Dw,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,b)=>{const S=s.get(g),_=Bg(this.query,b)?b:null,O=!!S&&this.mutatedKeys.has(S.key),V=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let U=!1;S&&_?S.data.isEqual(_.data)?O!==V&&(r.track({type:3,doc:_}),U=!0):this.su(S,_)||(r.track({type:2,doc:_}),U=!0,(d&&this.eu(_,d)>0||f&&this.eu(_,f)<0)&&(u=!0)):!S&&_?(r.track({type:0,doc:_}),U=!0):S&&!_&&(r.track({type:1,doc:S}),U=!0,(d||f)&&(u=!0)),U&&(_?(c=c.add(_),o=V?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(_,O){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn(20277,{Vt:U})}};return V(_)-V(O)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],d=this.Ya.size===0&&this.current&&!s?1:0,f=d!==this.Xa;return this.Xa=d,c.length!==0||f?{snapshot:new Cf(this.query,e.tu,o,c,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new oS(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new aS(r))})),t}cu(e){this.Za=e.ks,this.Ya=Pn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Cf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cv="SyncEngine";class PD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OD{constructor(e){this.key=e,this.hu=!1}}class MD{constructor(e,t,r,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ch((u=>x3(u)),Fg),this.Iu=new Map,this.Eu=new Set,this.Ru=new ei(Gt.comparator),this.Au=new Map,this.Vu=new Jy,this.du={},this.mu=new Map,this.fu=Tf.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jD(n,e,t=!0){const r=dS(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await lS(r,e,t,!0),s}async function VD(n,e){const t=dS(n);await lS(t,e,!0,!1)}async function lS(n,e,t,r){const s=await rD(n.localStore,Al(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await UD(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&Q3(n.remoteStore,s),u}async function UD(n,e,t,r,s){n.pu=(b,S,_)=>(async function(V,U,j,te){let oe=U.view.ru(j);oe.Ss&&(oe=await Tw(V.localStore,U.query,!1).then((({documents:q})=>U.view.ru(q,oe))));const Y=te&&te.targetChanges.get(U.targetId),ie=te&&te.targetMismatches.get(U.targetId)!=null,de=U.view.applyChanges(oe,V.isPrimaryClient,Y,ie);return jw(V,U.targetId,de.au),de.snapshot})(n,b,S,_);const o=await Tw(n.localStore,e,!0),c=new DD(e,o.ks),u=c.ru(o.documents),d=yp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),f=c.applyChanges(u,n.isPrimaryClient,d);jw(n,t,f.au);const g=new PD(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function FD(n,e,t){const r=hn(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!Fg(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await K2(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&nv(r.remoteStore,s.targetId),J2(r,s.targetId)})).catch(Of)):(J2(r,s.targetId),await K2(r.localStore,s.targetId,!0))}async function BD(n,e){const t=hn(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nv(t.remoteStore,r.targetId))}async function zD(n,e,t){const r=KD(n);try{const s=await(function(c,u){const d=hn(c),f=Cr.now(),g=u.reduce(((_,O)=>_.add(O.key)),Pn());let b,S;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let O=fc(),V=Pn();return d.xs.getEntries(_,g).next((U=>{O=U,O.forEach(((j,te)=>{te.isValidDocument()||(V=V.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,O))).next((U=>{b=U;const j=[];for(const te of u){const oe=n7(te,b.get(te.key).overlayedDocument);oe!=null&&j.push(new wu(te.key,oe,p3(oe.value.mapValue),Vo.exists(!0)))}return d.mutationQueue.addMutationBatch(_,f,j,u)})).next((U=>{S=U;const j=U.applyToLocalDocumentSet(b,V);return d.documentOverlayCache.saveOverlays(_,U.batchId,j)}))})).then((()=>({batchId:S.batchId,changes:E3(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,u,d){let f=c.du[c.currentUser.toKey()];f||(f=new ei(Dn)),f=f.insert(u,d),c.du[c.currentUser.toKey()]=f})(r,s.batchId,t),await bp(r,s.changes),await Yg(r.remoteStore)}catch(s){const o=ov(s,"Failed to persist write");t.reject(o)}}async function cS(n,e){const t=hn(n);try{const r=await eD(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(nr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?nr(c.hu,14607):s.removedDocuments.size>0&&(nr(c.hu,42227),c.hu=!1))})),await bp(t,r,e)}catch(r){await Of(r)}}function Mw(n,e,t){const r=hn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,c)=>{const u=c.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(c,u){const d=hn(c);d.onlineState=u;let f=!1;d.queries.forEach(((g,b)=>{for(const S of b.ba)S.va(u)&&(f=!0)})),f&&lv(d)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qD(n,e,t){const r=hn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new ei(Gt.comparator);c=c.insert(o,Vs.newNoDocument(o,an.min()));const u=Pn().add(o),d=new Hg(an.min(),new Map,new ei(Dn),c,u);await cS(r,d),r.Ru=r.Ru.remove(o),r.Au.delete(e),uv(r)}else await K2(r.localStore,e,!1).then((()=>J2(r,e,t))).catch(Of)}async function HD(n,e){const t=hn(n),r=e.batch.batchId;try{const s=await Z7(t.localStore,e);hS(t,r,null),uS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await bp(t,s)}catch(s){await Of(s)}}async function GD(n,e,t){const r=hn(n);try{const s=await(function(c,u){const d=hn(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,u).next((b=>(nr(b!==null,37113),g=b.keys(),d.mutationQueue.removeMutationBatch(f,b)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);hS(r,e,t),uS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await bp(r,s)}catch(s){await Of(s)}}function uS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function hS(n,e,t){const r=hn(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function J2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||fS(n,r)}))}function fS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(nv(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),uv(n))}function jw(n,e,t){for(const r of t)r instanceof aS?(n.Vu.addReference(r.key,e),WD(n,r)):r instanceof oS?(St(cv,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||fS(n,r.key)):tn(19791,{wu:r})}function WD(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(St(cv,"New document in limbo: "+t),n.Eu.add(r),uv(n))}function uv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Gt(Tr.fromString(e)),r=n.fu.next();n.Au.set(r,new OD(t)),n.Ru=n.Ru.insert(t,r),Q3(n.remoteStore,new tu(Al(Ug(t.path)),r,"TargetPurposeLimboResolution",Mg.ce))}}async function bp(n,e,t){const r=hn(n),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{c.push(r.pu(d,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){s.push(f);const g=ev.Es(d.targetId,f);o.push(g)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(d,f){const g=hn(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(f,(S=>nt.forEach(S.Ts,(_=>g.persistence.referenceDelegate.addReference(b,S.targetId,_))).next((()=>nt.forEach(S.Is,(_=>g.persistence.referenceDelegate.removeReference(b,S.targetId,_)))))))))}catch(b){if(!Mf(b))throw b;St(tv,"Failed to update sequence numbers: "+b)}for(const b of f){const S=b.targetId;if(!b.fromCache){const _=g.vs.get(S),O=_.snapshotVersion,V=_.withLastLimboFreeSnapshotVersion(O);g.vs=g.vs.insert(S,V)}}})(r.localStore,o))}async function YD(n,e){const t=hn(n);if(!t.currentUser.isEqual(e)){St(cv,"User change. New user:",e.toKey());const r=await Y3(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new yt(Qe.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bp(t,r.Ns)}}function $D(n,e){const t=hn(n),r=t.Au.get(e);if(r&&r.hu)return Pn().add(r.key);{let s=Pn();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const u=t.Tu.get(c);s=s.unionWith(u.view.nu)}return s}}function dS(n){const e=hn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$D.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qD.bind(null,e),e.Pu.J_=kD.bind(null,e.eventManager),e.Pu.yu=LD.bind(null,e.eventManager),e}function KD(n){const e=hn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GD.bind(null,e),e}class gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return J7(this.persistence,new K7,e.initialUser,this.serializer)}Cu(e){return new W3(Zy.Vi,this.serializer)}Du(e){return new sD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gg.provider={build:()=>new gg};class XD extends gg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nr(this.persistence.referenceDelegate instanceof pg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new P7(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new W3((r=>pg.Vi(r,t)),this.serializer)}}class Z2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YD.bind(null,this.syncEngine),await CD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RD})()}createDatastore(e){const t=Gg(e.databaseInfo.databaseId),r=uD(e.databaseInfo);return mD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,c,u){return new yD(r,s,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>Mw(this.syncEngine,t,0)),(function(){return Rw.v()?new Rw:new aD})())}createSyncEngine(e,t){return(function(s,o,c,u,d,f,g){const b=new MD(s,o,c,u,d,f);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=hn(t);St(nh,"RemoteStore shutting down."),r.Ea.add(5),await vp(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Z2.provider={build:()=>new Z2};class pS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const mu="FirestoreClient";class QD{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=js.UNAUTHENTICATED,this.clientId=Pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{St(mu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(St(mu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ou;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ov(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function U0(n,e){n.asyncQueue.verifyOperationInProgress(),St(mu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Y3(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Vw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await JD(n);St(mu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Lw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>Lw(e.remoteStore,s))),n._onlineComponents=e}async function JD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){St(mu,"Using user provided OfflineComponentProvider");try{await U0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Qe.FAILED_PRECONDITION||s.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;th("Error using user provided cache. Falling back to memory cache: "+t),await U0(n,new gg)}}else St(mu,"Using default OfflineComponentProvider"),await U0(n,new XD(void 0));return n._offlineComponents}async function mS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(St(mu,"Using user provided OnlineComponentProvider"),await Vw(n,n._uninitializedComponentsProvider._online)):(St(mu,"Using default OnlineComponentProvider"),await Vw(n,new Z2))),n._onlineComponents}function ZD(n){return mS(n).then((e=>e.syncEngine))}async function ey(n){const e=await mS(n),t=e.eventManager;return t.onListen=jD.bind(null,e.syncEngine),t.onUnlisten=FD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BD.bind(null,e.syncEngine),t}function eP(n,e,t,r){const s=new pS(r),o=new sS(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>rS(await ey(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>iS(await ey(n),o)))}}function tP(n,e,t={}){const r=new ou;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,d,f){const g=new pS({next:S=>{g.Nu(),c.enqueueAndForget((()=>iS(o,b)));const _=S.docs.has(u);!_&&S.fromCache?f.reject(new yt(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&S.fromCache&&d&&d.source==="server"?f.reject(new yt(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(S)},error:S=>f.reject(S)}),b=new sS(Ug(u.path),g,{includeMetadataChanges:!0,Ka:!0});return rS(o,b)})(await ey(n),n.asyncQueue,e,t,r))),r.promise}function nP(n,e){const t=new ou;return n.asyncQueue.enqueueAndForget((async()=>zD(await ZD(n),e,t))),t.promise}function gS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const rP="ComponentProvider",Uw=new Map;function iP(n,e,t,r,s){return new SL(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,gS(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const yS="firestore.googleapis.com",Fw=!0;class Bw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=Fw}else this.host=e.host,this.ssl=e.ssl??Fw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L7)throw new yt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $g{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new t3;switch(r.type){case"firstParty":return new lL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Uw.get(t);r&&(St(rP,"Removing Datastore"),Uw.delete(t),r.terminate())})(this),Promise.resolve()}}function vS(n,e,t,r={}){n=uo(n,$g);const s=bu(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(Cy(`https://${u}`),Iy("Firestore",!0)),o.host!==yS&&o.host!==u&&th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:s,emulatorOptions:r};if(!Qu(d,c)&&(n._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=js.MOCK_USER;else{f=lA(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new yt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new js(b)}n._authCredentials=new sL(new e3(f,g))}}class xu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xu(this.firestore,e,this._query)}}class Zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}toJSON(){return{type:Zr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(mp(t,Zr._jsonSchema))return new Zr(e,r||null,new Gt(Tr.fromString(t.referencePath)))}}Zr._jsonSchemaVersion="firestore/documentReference/1.0",Zr._jsonSchema={type:ki("string",Zr._jsonSchemaVersion),referencePath:ki("string")};class lc extends xu{constructor(e,t,r){super(e,t,Ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new Gt(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function yg(n,e,...t){if(n=Hr(n),n3("collection","path",e),n instanceof $g){const r=Tr.fromString(e,...t);return ew(r),new lc(n,null,r)}{if(!(n instanceof Zr||n instanceof lc))throw new yt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tr.fromString(e,...t));return ew(r),new lc(n.firestore,null,r)}}function Qs(n,e,...t){if(n=Hr(n),arguments.length===1&&(e=Pg.newId()),n3("doc","path",e),n instanceof $g){const r=Tr.fromString(e,...t);return Z_(r),new Zr(n,null,new Gt(r))}{if(!(n instanceof Zr||n instanceof lc))throw new yt(Qe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tr.fromString(e,...t));return Z_(r),new Zr(n.firestore,n instanceof lc?n.converter:null,new Gt(r))}}const zw="AsyncQueue";class qw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K3(this,"async_queue_retry"),this._c=()=>{const r=V0();r&&St(zw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=V0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=V0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ou;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mf(e))throw e;St(zw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hc("INTERNAL UNHANDLED ERROR: ",Hw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=av.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&tn(47125,{Pc:Hw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Hw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class gu extends $g{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new qw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qw(e),this._firestoreClient=void 0,await e}}}function bS(n,e){const t=typeof n=="object"?n:Ly(),r=typeof n=="string"?n:lg,s=Ig(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=sA("firestore");o&&vS(s,...o)}return s}function Kg(n){if(n._terminated)throw new yt(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sP(n),n._firestoreClient}function sP(n){const e=n._freezeSettings(),t=iP(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new QD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(os.fromBase64String(e))}catch(t){throw new yt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Va(os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Va._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mp(e,Va._jsonSchema))return Va.fromBase64String(e.bytes)}}Va._jsonSchemaVersion="firestore/bytes/1.0",Va._jsonSchema={type:ki("string",Va._jsonSchemaVersion),bytes:ki("string")};class Xg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new yt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new as(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qg{constructor(e){this._methodName=e}}class Uo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dn(this._lat,e._lat)||Dn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Uo._jsonSchemaVersion}}static fromJSON(e){if(mp(e,Uo._jsonSchema))return new Uo(e.latitude,e.longitude)}}Uo._jsonSchemaVersion="firestore/geoPoint/1.0",Uo._jsonSchema={type:ki("string",Uo._jsonSchemaVersion),latitude:ki("number"),longitude:ki("number")};class ho{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ho._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mp(e,ho._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ho(e.vectorValues);throw new yt(Qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ho._jsonSchemaVersion="firestore/vectorValue/1.0",ho._jsonSchema={type:ki("string",ho._jsonSchemaVersion),vectorValues:ki("object")};const aP=/^__.*__$/;class oP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new gp(e,this.data,t,this.fieldTransforms)}}class _S{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn(40011,{dataSource:n})}}class hv{constructor(e,t,r,s,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new hv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(wS(this.dataSource)&&aP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class lP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gg(e)}createContext(e,t,r,s=!1){return new hv({dataSource:e,methodName:t,targetDoc:r,path:as.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fv(n){const e=n._freezeSettings(),t=Gg(n._databaseId);return new lP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cP(n,e,t,r,s,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);dv("Data must be an object, but it was:",c,r);const u=xS(r,c);let d,f;if(o.merge)d=new Fa(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const b of o.mergeFields){const S=If(e,b,t);if(!c.contains(S))throw new yt(Qe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);ES(g,S)||g.push(S)}d=new Fa(g),f=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,f=c.fieldTransforms;return new oP(new wa(u),d,f)}class Jg extends Qg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jg}}function uP(n,e,t,r){const s=n.createContext(1,e,t);dv("Data must be an object, but it was:",s,r);const o=[],c=wa.empty();_u(r,((d,f)=>{const g=SS(e,d,t);f=Hr(f);const b=s.childContextForFieldPath(g);if(f instanceof Jg)o.push(g);else{const S=_p(f,b);S!=null&&(o.push(g),c.set(g,S))}}));const u=new Fa(o);return new _S(c,u,s.fieldTransforms)}function hP(n,e,t,r,s,o){const c=n.createContext(1,e,t),u=[If(e,r,t)],d=[s];if(o.length%2!=0)throw new yt(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)u.push(If(e,o[S])),d.push(o[S+1]);const f=[],g=wa.empty();for(let S=u.length-1;S>=0;--S)if(!ES(f,u[S])){const _=u[S];let O=d[S];O=Hr(O);const V=c.childContextForFieldPath(_);if(O instanceof Jg)f.push(_);else{const U=_p(O,V);U!=null&&(f.push(_),g.set(_,U))}}const b=new Fa(f);return new _S(g,b,c.fieldTransforms)}function fP(n,e,t,r=!1){return _p(t,n.createContext(r?4:3,e))}function _p(n,e){if(AS(n=Hr(n)))return dv("Unsupported field value:",e,n),xS(n,e);if(n instanceof Qg)return(function(r,s){if(!wS(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const u of r){let d=_p(u,s.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Cr.fromDate(r);return{timestampValue:dg(s.serializer,o)}}if(r instanceof Cr){const o=new Cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dg(s.serializer,o)}}if(r instanceof Uo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Va)return{bytesValue:j3(s.serializer,r._byteString)};if(r instanceof Zr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ho)return(function(c,u){const d=c instanceof ho?c.toArray():c;return{mapValue:{fields:{[f3]:{stringValue:d3},[cg]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw u.createError("VectorValues must only contain numeric values.");return Yy(u.serializer,g)}))}}}}}})(r,s);if(H3(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Og(r)}`)})(n,e)}function xS(n,e){const t={};return a3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_u(n,((r,s)=>{const o=_p(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function AS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Cr||n instanceof Uo||n instanceof Va||n instanceof Zr||n instanceof Qg||n instanceof ho||H3(n))}function dv(n,e,t){if(!AS(t)||!i3(t)){const r=Og(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function If(n,e,t){if((e=Hr(e))instanceof Xg)return e._internalPath;if(typeof e=="string")return SS(n,e);throw vg("Field path arguments must be of type string or ",n,!1,void 0,t)}const dP=new RegExp("[~\\*/\\[\\]]");function SS(n,e,t){if(e.search(dP)>=0)throw vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xg(...e.split("."))._internalPath}catch{throw vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vg(n,e,t,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${s}`),d+=")"),new yt(Qe.INVALID_ARGUMENT,u+n+d)}function ES(n,e){return n.some((t=>t.isEqual(e)))}class NS{convertValue(e,t="none"){switch(du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _u(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[cg].arrayValue?.values?.map((r=>vi(r.doubleValue)));return new ho(t)}convertGeoPoint(e){return new Uo(vi(e.latitude),vi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){const t=hu(e);return new Cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tr.fromString(e);nr(q3(r),9688,{name:e});const s=new Sf(r.get(1),r.get(3)),o=new Gt(r.popFirst(5));return s.isEqual(t)||hc(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class TS extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}const Gw="@firebase/firestore",Ww="4.10.0";function Yw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class CS{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(If("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pP extends CS{data(){return super.data()}}function mP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pv{}class mv extends pv{}function gv(n,e,...t){let r=[];e instanceof pv&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((d=>d instanceof e1)).length,u=o.filter((d=>d instanceof Zg)).length;if(c>1||c>0&&u>0)throw new yt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Zg extends mv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Zg(e,t,r)}_apply(e){const t=this._parse(e);return IS(e._query,t),new xu(e.firestore,e.converter,q2(e._query,t))}_parse(e){const t=fv(e.firestore);return(function(o,c,u,d,f,g,b){let S;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new yt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Kw(b,g);const O=[];for(const V of b)O.push($w(d,o,V));S={arrayValue:{values:O}}}else S=$w(d,o,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Kw(b,g),S=fP(u,c,b,g==="in"||g==="not-in");return Ri.create(f,g,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class e1 extends pv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new e1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Bo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const u=o.getFlattenedFilters();for(const d of u)IS(c,d),c=q2(c,d)})(e._query,t),new xu(e.firestore,e.converter,q2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t1 extends mv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new t1(e,t)}_apply(e){const t=(function(s,o,c){if(s.startAt!==null)throw new yt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new yt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ep(o,c)})(e._query,this._field,this._direction);return new xu(e.firestore,e.converter,zL(e._query,t))}}function yv(n,e="asc"){const t=e,r=If("orderBy",n);return t1._create(r,t)}function $w(n,e,t){if(typeof(t=Hr(t))=="string"){if(t==="")throw new yt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w3(e)&&t.indexOf("/")!==-1)throw new yt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tr.fromString(t));if(!Gt.isDocumentKey(r))throw new yt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lw(n,new Gt(r))}if(t instanceof Zr)return lw(n,t._key);throw new yt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Og(t)}.`)}function Kw(n,e){if(!Array.isArray(n)||n.length===0)throw new yt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IS(n,e){const t=(function(s,o){for(const c of s)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new yt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function gP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class of{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends CS{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(If("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(Qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lu._jsonSchemaVersion="firestore/documentSnapshot/1.0",lu._jsonSchema={type:ki("string",lu._jsonSchemaVersion),bundleSource:ki("string","DocumentSnapshot"),bundleName:ki("string"),bundle:ki("string")};class Bd extends lu{data(e={}){return super.data(e)}}class Wu{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new of(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Bd(this._firestore,this._userDataWriter,r.key,r,new of(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((u=>{const d=new Bd(s._firestore,s._userDataWriter,u.doc.key,u.doc,new of(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Bd(s._firestore,s._userDataWriter,u.doc.key,u.doc,new of(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return u.type!==0&&(f=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),g=c.indexOf(u.doc.key)),{type:yP(u.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(Qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn(61501,{type:n})}}Wu._jsonSchemaVersion="firestore/querySnapshot/1.0",Wu._jsonSchema={type:ki("string",Wu._jsonSchemaVersion),bundleSource:ki("string","QuerySnapshot"),bundleName:ki("string"),bundle:ki("string")};function RS(n){n=uo(n,Zr);const e=uo(n.firestore,gu),t=Kg(e);return tP(t,n._key).then((r=>LS(e,n,r)))}function rh(n,e,t){n=uo(n,Zr);const r=uo(n.firestore,gu),s=gP(n.converter,e,t),o=fv(r);return n1(r,[cP(o,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Vo.none())])}function Yu(n,e,t,...r){n=uo(n,Zr);const s=uo(n.firestore,gu),o=fv(s);let c;return c=typeof(e=Hr(e))=="string"||e instanceof Xg?hP(o,"updateDoc",n._key,e,t,r):uP(o,"updateDoc",n._key,e),n1(s,[c.toMutation(n._key,Vo.exists(!0))])}function kS(n){return n1(uo(n.firestore,gu),[new $y(n._key,Vo.none())])}function rp(n,...e){n=Hr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Yw(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Yw(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,c,u;if(n instanceof Zr)c=uo(n.firestore,gu),u=Ug(n._key.path),o={next:f=>{e[r]&&e[r](LS(c,n,f))},error:e[r+1],complete:e[r+2]};else{const f=uo(n,xu);c=uo(f.firestore,gu),u=f._query;const g=new TS(c);o={next:b=>{e[r]&&e[r](new Wu(c,g,f,b))},error:e[r+1],complete:e[r+2]},mP(n._query)}const d=Kg(c);return eP(d,u,s,o)}function n1(n,e){const t=Kg(n);return nP(t,e)}function LS(n,e,t){const r=t.docs.get(e._key),s=new TS(n);return new lu(n,s,e._key,r,new of(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){iL(oh),Ju(new cu("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),u=new gu(new aL(r.getProvider("auth-internal")),new cL(c,r.getProvider("app-check-internal")),EL(c,s),c);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),_l(Gw,Ww,e),_l(Gw,Ww,"esm2020")})();const vP=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:NS,Bytes:Va,CollectionReference:lc,DocumentReference:Zr,DocumentSnapshot:lu,FieldPath:Xg,FieldValue:Qg,Firestore:gu,FirestoreError:yt,GeoPoint:Uo,Query:xu,QueryCompositeFilterConstraint:e1,QueryConstraint:mv,QueryDocumentSnapshot:Bd,QueryFieldFilterConstraint:Zg,QueryOrderByConstraint:t1,QuerySnapshot:Wu,SnapshotMetadata:of,Timestamp:Cr,VectorValue:ho,_AutoId:Pg,_ByteString:os,_DatabaseId:Sf,_DocumentKey:Gt,_EmptyAuthCredentialsProvider:t3,_FieldPath:as,_cast:uo,_logWarn:th,_validateIsNotUsedTogether:r3,collection:yg,connectFirestoreEmulator:vS,deleteDoc:kS,doc:Qs,ensureFirestoreConfigured:Kg,executeWrite:n1,getDoc:RS,getFirestore:bS,onSnapshot:rp,orderBy:yv,query:gv,setDoc:rh,updateDoc:Yu},Symbol.toStringTag,{value:"Module"}));const DS="firebasestorage.googleapis.com",PS="storageBucket",bP=120*1e3,_P=600*1e3;class fi extends Nl{constructor(e,t,r=0){super(F0(e),`Firebase Storage: ${t} (${F0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return F0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hi||(hi={}));function F0(n){return"storage/"+n}function vv(){const n="An unknown error occurred, please check the error payload for server response.";return new fi(hi.UNKNOWN,n)}function wP(n){return new fi(hi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function xP(n){return new fi(hi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fi(hi.UNAUTHENTICATED,n)}function SP(){return new fi(hi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EP(n){return new fi(hi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function NP(){return new fi(hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TP(){return new fi(hi.CANCELED,"User canceled the upload/download.")}function CP(n){return new fi(hi.INVALID_URL,"Invalid URL '"+n+"'.")}function IP(n){return new fi(hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function RP(){return new fi(hi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PS+"' property when initializing the app?")}function kP(){return new fi(hi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LP(){return new fi(hi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DP(n){return new fi(hi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ty(n){return new fi(hi.INVALID_ARGUMENT,n)}function OS(){return new fi(hi.APP_DELETED,"The Firebase app was deleted.")}function PP(n){return new fi(hi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zd(n,e){return new fi(hi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ed(n){throw new fi(hi.INTERNAL_ERROR,"Internal error: "+n)}class Ba{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ba.makeFromUrl(e,t)}catch{return new Ba(e,"")}if(r.path==="")return r;throw IP(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+s+c,"i"),d={bucket:1,path:3};function f(Y){Y.path_=decodeURIComponent(Y.path)}const g="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",_=new RegExp(`^https?://${b}/${g}/b/${s}/o${S}`,"i"),O={bucket:1,path:3},V=t===DS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",j=new RegExp(`^https?://${V}/${s}/${U}`,"i"),oe=[{regex:u,indices:d,postModify:o},{regex:_,indices:O,postModify:f},{regex:j,indices:{bucket:1,path:2},postModify:f}];for(let Y=0;Y<oe.length;Y++){const ie=oe[Y],de=ie.regex.exec(e);if(de){const q=de[ie.indices.bucket];let R=de[ie.indices.path];R||(R=""),r=new Ba(q,R),ie.postModify(r);break}}if(r==null)throw CP(e);return r}}class OP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function MP(n,e,t){let r=1,s=null,o=null,c=!1,u=0;function d(){return u===2}let f=!1;function g(...U){f||(f=!0,e.apply(null,U))}function b(U){s=setTimeout(()=>{s=null,n(_,d())},U)}function S(){o&&clearTimeout(o)}function _(U,...j){if(f){S();return}if(U){S(),g.call(null,U,...j);return}if(d()||c){S(),g.call(null,U,...j);return}r<64&&(r*=2);let oe;u===1?(u=2,oe=0):oe=(r+Math.random())*1e3,b(oe)}let O=!1;function V(U){O||(O=!0,S(),!f&&(s!==null?(U||(u=2),clearTimeout(s),b(0)):U||(u=1)))}return b(0),o=setTimeout(()=>{c=!0,V(!0)},t),V}function jP(n){n(!1)}function VP(n){return n!==void 0}function UP(n){return typeof n=="object"&&!Array.isArray(n)}function bv(n){return typeof n=="string"||n instanceof String}function Xw(n){return _v()&&n instanceof Blob}function _v(){return typeof Blob<"u"}function Qw(n,e,t,r){if(r<e)throw ty(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ty(`Invalid value for '${n}'. Expected ${t} or less.`)}function wv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function MS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var $u;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})($u||($u={}));function FP(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class BP{constructor(e,t,r,s,o,c,u,d,f,g,b,S=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,V)=>{this.resolve_=O,this.reject_=V,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Sm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const u=o.getErrorCode()===$u.NO_ERROR,d=o.getStatus();if(!u||FP(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===$u.ABORT;r(!1,new Sm(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Sm(f,o))})},t=(r,s)=>{const o=this.resolve_,c=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());VP(d)?o(d):o()}catch(d){c(d)}else if(u!==null){const d=vv();d.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,d)):c(d)}else if(s.canceled){const d=this.appDelete_?OS():TP();c(d)}else{const d=NP();c(d)}};this.canceled_?t(!1,new Sm(!1,null,!0)):this.backoffId_=MP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function zP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function qP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function GP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function WP(n,e,t,r,s,o,c=!0,u=!1){const d=MS(n.urlParams),f=n.url+d,g=Object.assign({},n.headers);return HP(g,e),zP(g,t),qP(g,o),GP(g,r),new BP(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,u)}function YP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $P(...n){const e=YP();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(_v())return new Blob(n);throw new fi(hi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function XP(n){if(typeof atob>"u")throw DP("base-64");return atob(n)}const vl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class B0{constructor(e,t){this.data=e,this.contentType=t||null}}function QP(n,e){switch(n){case vl.RAW:return new B0(jS(e));case vl.BASE64:case vl.BASE64URL:return new B0(VS(n,e));case vl.DATA_URL:return new B0(ZP(e),eO(e))}throw vv()}function jS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=n.charCodeAt(++t);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function JP(n){let e;try{e=decodeURIComponent(n)}catch{throw zd(vl.DATA_URL,"Malformed data URL.")}return jS(e)}function VS(n,e){switch(n){case vl.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw zd(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case vl.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw zd(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=XP(e)}catch(s){throw s.message.includes("polyfill")?s:zd(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class US{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw zd(vl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=tO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ZP(n){const e=new US(n);return e.base64?VS(vl.BASE64,e.rest):JP(e.rest)}function eO(n){return new US(n).contentType}function tO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Zc{constructor(e,t){let r=0,s="";Xw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Xw(this.data_)){const r=this.data_,s=KP(r,e,t);return s===null?null:new Zc(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Zc(r,!0)}}static getBlob(...e){if(_v()){const t=e.map(r=>r instanceof Zc?r.data_:r);return new Zc($P.apply(null,t))}else{const t=e.map(c=>bv(c)?QP(vl.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let o=0;return t.forEach(c=>{for(let u=0;u<c.length;u++)s[o++]=c[u]}),new Zc(s,!0)}}uploadData(){return this.data_}}function FS(n){let e;try{e=JSON.parse(n)}catch{return null}return UP(e)?e:null}function nO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function rO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function BS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function iO(n,e){return e}class Xs{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||iO}}let Em=null;function sO(n){return!bv(n)||n.length<2?n:BS(n)}function zS(){if(Em)return Em;const n=[];n.push(new Xs("bucket")),n.push(new Xs("generation")),n.push(new Xs("metageneration")),n.push(new Xs("name","fullPath",!0));function e(o,c){return sO(c)}const t=new Xs("name");t.xform=e,n.push(t);function r(o,c){return c!==void 0?Number(c):c}const s=new Xs("size");return s.xform=r,n.push(s),n.push(new Xs("timeCreated")),n.push(new Xs("updated")),n.push(new Xs("md5Hash",null,!0)),n.push(new Xs("cacheControl",null,!0)),n.push(new Xs("contentDisposition",null,!0)),n.push(new Xs("contentEncoding",null,!0)),n.push(new Xs("contentLanguage",null,!0)),n.push(new Xs("contentType",null,!0)),n.push(new Xs("metadata","customMetadata",!0)),Em=n,Em}function aO(n,e){function t(){const r=n.bucket,s=n.fullPath,o=new Ba(r,s);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function oO(n,e,t){const r={};r.type="file";const s=t.length;for(let o=0;o<s;o++){const c=t[o];r[c.local]=c.xform(r,e[c.server])}return aO(r,n),r}function qS(n,e,t){const r=FS(e);return r===null?null:oO(n,r,t)}function lO(n,e,t,r){const s=FS(e);if(s===null||!bv(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(f=>{const g=n.bucket,b=n.fullPath,S="/b/"+c(g)+"/o/"+c(b),_=wv(S,t,r),O=MS({alt:"media",token:f});return _+O})[0]}function cO(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class HS{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function GS(n){if(!n)throw vv()}function uO(n,e){function t(r,s){const o=qS(n,s,e);return GS(o!==null),o}return t}function hO(n,e){function t(r,s){const o=qS(n,s,e);return GS(o!==null),lO(o,s,n.host,n._protocol)}return t}function WS(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=SP():s=AP():t.getStatus()===402?s=xP(n.bucket):t.getStatus()===403?s=EP(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function fO(n){const e=WS(n);function t(r,s){let o=e(r,s);return r.getStatus()===404&&(o=wP(n.path)),o.serverResponse=s.serverResponse,o}return t}function dO(n,e,t){const r=e.fullServerUrl(),s=wv(r,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,u=new HS(s,o,hO(n,t),c);return u.errorHandler=fO(e),u}function pO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function mO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=pO(null,e)),r}function gO(n,e,t,r,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let oe="";for(let Y=0;Y<2;Y++)oe=oe+Math.random().toString().slice(2);return oe}const d=u();c["Content-Type"]="multipart/related; boundary="+d;const f=mO(e,r,s),g=cO(f,t),b="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,S=`\r
--`+d+"--",_=Zc.getBlob(b,r,S);if(_===null)throw kP();const O={name:f.fullPath},V=wv(o,n.host,n._protocol),U="POST",j=n.maxUploadRetryTime,te=new HS(V,U,uO(n,t),j);return te.urlParams=O,te.headers=c,te.body=_.uploadData(),te.errorHandler=WS(e),te}class yO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$u.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$u.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$u.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,o){if(this.sent_)throw Ed("cannot .send() more than once");if(bu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ed("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ed("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ed("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ed("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vO extends yO{initXhr(){this.xhr_.responseType="text"}}function YS(){return new vO}class ih{constructor(e,t){this._service=e,t instanceof Ba?this._location=t:this._location=Ba.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ih(e,t)}get root(){const e=new Ba(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BS(this._location.path)}get storage(){return this._service}get parent(){const e=nO(this._location.path);if(e===null)return null;const t=new Ba(this._location.bucket,e);return new ih(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw PP(e)}}function bO(n,e,t){n._throwIfRoot("uploadBytes");const r=gO(n.storage,n._location,zS(),new Zc(e,!0),t);return n.storage.makeRequestWithTokens(r,YS).then(s=>({metadata:s,ref:n}))}function _O(n){n._throwIfRoot("getDownloadURL");const e=dO(n.storage,n._location,zS());return n.storage.makeRequestWithTokens(e,YS).then(t=>{if(t===null)throw LP();return t})}function wO(n,e){const t=rO(n._location.path,e),r=new Ba(n._location.bucket,t);return new ih(n.storage,r)}function xO(n){return/^[A-Za-z]+:\/\//.test(n)}function AO(n,e){return new ih(n,e)}function $S(n,e){if(n instanceof xv){const t=n;if(t._bucket==null)throw RP();const r=new ih(t,t._bucket);return e!=null?$S(r,e):r}else return e!==void 0?wO(n,e):n}function SO(n,e){if(e&&xO(e)){if(n instanceof xv)return AO(n,e);throw ty("To use ref(service, url), the first argument must be a Storage instance.")}else return $S(n,e)}function Jw(n,e){const t=e?.[PS];return t==null?null:Ba.makeFromBucketSpec(t,n)}function EO(n,e,t,r={}){n.host=`${e}:${t}`;const s=bu(e);s&&(Cy(`https://${n.host}/b`),Iy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:lA(o,n.app.options.projectId))}class xv{constructor(e,t,r,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=DS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bP,this._maxUploadRetryTime=_P,this._requests=new Set,s!=null?this._bucket=Ba.makeFromBucketSpec(s,this._host):this._bucket=Jw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ba.makeFromBucketSpec(this._url,e):this._bucket=Jw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ih(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new OP(OS());{const c=WP(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Zw="@firebase/storage",ex="0.14.0";const KS="storage";function NO(n,e,t){return n=Hr(n),bO(n,e,t)}function TO(n){return n=Hr(n),_O(n)}function CO(n,e){return n=Hr(n),SO(n,e)}function IO(n=Ly(),e){n=Hr(n);const r=Ig(n,KS).getImmediate({identifier:e}),s=sA("storage");return s&&RO(r,...s),r}function RO(n,e,t,r={}){EO(n,e,t,r)}function kO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new xv(t,r,s,e,oh)}function LO(){Ju(new cu(KS,kO,"PUBLIC").setMultipleInstances(!0)),_l(Zw,ex,""),_l(Zw,ex,"esm2020")}LO();const DO={apiKey:"AIzaSyB73yZp1H-MAUCaxIlLIrItOB3REc0slrE",authDomain:"sistema-sede.firebaseapp.com",projectId:"sistema-sede",storageBucket:"sistema-sede.firebasestorage.app",messagingSenderId:"767667469459",appId:"1:767667469459:web:19feac8ebd664ea57ee166"},Av=hA(DO),z0=nL(Av),xs=bS(Av),PO=IO(Av),yu=Ty((n,e)=>({products:[],loading:!0,initialized:!1,initializeSubscription:()=>{const t=gv(yg(xs,"products"),yv("createdAt","desc")),r=rp(t,s=>{const o=s.docs.map(c=>({...c.data(),id:c.id}));o.length===0&&e().initialized,n({products:o,loading:!1,initialized:!0})},s=>{console.error("Error fetching inventory:",s),un.error("Error cargando inventario")});return n({initialized:!0}),r},addProduct:async t=>{try{await rh(Qs(xs,"products",t.id),t),un.success("Producto agregado")}catch(r){console.error(r),un.error("Error al agregar producto")}},updateProduct:async(t,r)=>{try{await Yu(Qs(xs,"products",t),{...r,updatedAt:Date.now()}),un.success("Producto actualizado")}catch(s){console.error(s),un.error("Error al actualizar producto")}},removeProduct:async t=>{try{await kS(Qs(xs,"products",t)),un.success("Producto eliminado")}catch(r){console.error(r),un.error("Error al eliminar producto")}},cleanup:()=>{n({products:[],loading:!0,initialized:!1})}})),cr=ct.forwardRef(({className:n,variant:e="default",size:t="default",...r},s)=>A.jsx("button",{ref:s,className:qr("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",e==="default"&&"bg-primary text-primary-foreground shadow hover:bg-primary/90",e==="destructive"&&"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",e==="outline"&&"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",e==="secondary"&&"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",e==="ghost"&&"hover:bg-accent hover:text-accent-foreground",e==="link"&&"text-primary underline-offset-4 hover:underline",t==="default"&&"h-9 px-4 py-2",t==="sm"&&"h-8 rounded-md px-3 text-xs",t==="lg"&&"h-10 rounded-md px-8",t==="icon"&&"h-9 w-9",n),...r}));cr.displayName="Button";const Jr=ct.forwardRef(({className:n,type:e,...t},r)=>A.jsx("input",{type:e,className:qr("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Jr.displayName="Input";function Sv({isOpen:n,onClose:e,onConfirm:t,title:r,message:s,confirmText:o="Aceptar",cancelText:c="Cancelar",variant:u="info"}){return n?A.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:A.jsx("div",{className:"bg-card w-full max-w-md rounded-xl shadow-2xl border border-border overflow-hidden animate-in zoom-in-95 duration-200",children:A.jsxs("div",{className:"p-6 relative",children:[A.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground transition-colors",children:A.jsx(cp,{className:"h-5 w-5"})}),A.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[A.jsx("div",{className:`p-3 rounded-full ${u==="danger"?"bg-red-100 text-red-600":"bg-primary/10 text-primary"}`,children:u==="danger"?A.jsx(Ey,{className:"h-8 w-8"}):A.jsx(S2,{className:"h-8 w-8"})}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("h3",{className:"text-xl font-bold",children:r}),A.jsx("p",{className:"text-muted-foreground text-sm",children:s})]}),A.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[A.jsx(cr,{variant:"outline",className:"flex-1",onClick:e,children:c}),A.jsx(cr,{variant:u==="danger"?"destructive":"default",className:"flex-1",onClick:()=>{t(),e()},children:o})]})]})]})})}):null}function tx({cost:n,price:e}){const[t,r]=ct.useState(!0);if(e===0)return A.jsx("span",{className:"text-muted-foreground",children:"-"});const s=e-n,o=(s/e*100).toFixed(1),c=s<0;return A.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),r(!t)},className:qr("px-2 py-1 rounded text-xs font-bold transition-all w-20 text-center cursor-pointer",c?"bg-destructive/10 text-destructive hover:bg-destructive/20":"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20"),title:"Clic para cambiar entre % y S/",children:t?`${o}%`:s>0?`+S/ ${s.toFixed(2)}`:`S/ ${s.toFixed(2)}`})}function OO({onAddProduct:n,onEditProduct:e}){const t=yu(_=>_.products),r=yu(_=>_.removeProduct),[s,o]=ct.useState(""),[c,u]=ct.useState([]),[d,f]=ct.useState(null),g=t.filter(_=>_.name.toLowerCase().includes(s.toLowerCase())||_.baseCode.toLowerCase().includes(s.toLowerCase())||_.collection.toLowerCase().includes(s.toLowerCase())),b=_=>{u(O=>O.includes(_)?O.filter(V=>V!==_):[...O,_])},S=async()=>{d&&(await r(d),f(null))};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Inventario Global"}),A.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona el catlogo de productos, existencias y precios."})]}),A.jsxs(cr,{onClick:n,size:"lg",className:"shadow-lg shadow-primary/20",children:[A.jsx(Yd,{className:"mr-2 h-5 w-5"})," Nuevo Producto"]})]}),A.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-sm overflow-hidden",children:[A.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between gap-4",children:[A.jsxs("div",{className:"relative flex-1 max-w-sm",children:[A.jsx(lp,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx(Jr,{placeholder:"Buscar por nombre, SKU o coleccin...",className:"pl-9 bg-background/50",value:s,onChange:_=>o(_.target.value)})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs(cr,{variant:"outline",size:"sm",className:"h-9",onClick:()=>alert("Funcionalidad de filtros avanzada pendiente"),children:[A.jsx(V4,{className:"mr-2 h-4 w-4"})," Filtros"]}),A.jsxs(cr,{variant:"outline",size:"sm",className:"h-9",onClick:()=>alert("Funcionalidad de ordenar pendiente"),children:[A.jsx(UT,{className:"mr-2 h-4 w-4"})," Ordenar"]})]})]}),A.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-muted/30 border-b border-border text-xs font-semibold uppercase tracking-wider text-muted-foreground items-center",children:[A.jsx("div",{className:"col-span-4 pl-2",children:"Producto"}),A.jsx("div",{className:"col-span-2",children:"SKU Base"}),A.jsx("div",{className:"col-span-1",children:"Coleccin"}),A.jsx("div",{className:"col-span-2 text-center",children:"Rango Precios"}),A.jsx("div",{className:"col-span-1 text-center",children:"Margen Prom."}),A.jsx("div",{className:"col-span-1 text-center",children:"Stock"}),A.jsx("div",{className:"col-span-1 text-right",children:"Acciones"})]}),A.jsx("div",{className:"divide-y divide-border",children:g.length===0?A.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No se encontraron productos que coincidan con tu bsqueda."}):g.map(_=>{const O=_.variants.reduce((ie,de)=>ie+de.stock,0),V=Math.min(..._.variants.map(ie=>ie.priceRetail)),U=Math.max(..._.variants.map(ie=>ie.priceRetail)),j=V===U?`S/ ${V}`:`S/ ${V} - S/ ${U}`,te=c.includes(_.id),oe=_.variants.reduce((ie,de)=>ie+de.priceProduction,0)/(_.variants.length||1),Y=_.variants.reduce((ie,de)=>ie+de.priceRetail,0)/(_.variants.length||1);return A.jsxs("div",{className:"group transition-colors hover:bg-accent/5",children:[A.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 items-center cursor-pointer",onClick:()=>b(_.id),children:[A.jsxs("div",{className:"col-span-4 flex items-center gap-4",children:[A.jsx("div",{className:"h-16 w-16 rounded-md bg-muted border border-border overflow-hidden flex-shrink-0 relative shadow-sm",children:(()=>{const ie=_.variants.flatMap(R=>R.images||[]);if(ie.length===0)return A.jsx("div",{className:"h-full w-full flex items-center justify-center text-muted-foreground",children:A.jsx(Wd,{className:"h-5 w-5 opacity-20"})});const[de,q]=ct.useState(0);return ct.useEffect(()=>{if(ie.length<=1)return;const R=setInterval(()=>{q(P=>(P+1)%ie.length)},2e3);return()=>clearInterval(R)},[ie.length]),A.jsx("img",{src:ie[de],alt:_.name,className:"h-full w-full object-cover transition-opacity duration-300"})})()}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-foreground",children:_.name}),A.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.type,"  ",_.gender]})]})]}),A.jsx("div",{className:"col-span-2",children:A.jsx("code",{className:"text-xs font-mono bg-accent px-1.5 py-0.5 rounded text-primary",children:_.baseCode})}),A.jsx("div",{className:"col-span-1",children:A.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-secondary text-secondary-foreground border border-secondary-foreground/10",children:_.collection})}),A.jsx("div",{className:"col-span-2 text-center text-sm font-medium",children:_.variants.length>0?j:A.jsx("span",{className:"text-muted-foreground",children:"-"})}),A.jsx("div",{className:"col-span-1 text-center flex justify-center",children:_.variants.length>0?A.jsx(tx,{cost:oe,price:Y}):"-"}),A.jsx("div",{className:"col-span-1 text-center",children:A.jsx("span",{className:qr("text-sm font-bold",O===0?"text-destructive":O<10?"text-yellow-600":"text-green-600"),children:O})}),A.jsx("div",{className:"col-span-1 flex justify-end",children:A.jsx(cr,{variant:te?"secondary":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:ie=>{ie.stopPropagation(),b(_.id)},children:A.jsx(KT,{className:"h-4 w-4"})})})]}),te&&A.jsxs("div",{className:"bg-muted/20 border-t border-border p-4 pl-12 cursor-default",onClick:ie=>ie.stopPropagation(),children:[A.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:"Detalle de Variantes"}),A.jsx("div",{className:"border border-border rounded-lg overflow-hidden bg-background shadow-sm",children:A.jsxs("table",{className:"w-full text-sm text-left",children:[A.jsx("thead",{className:"bg-muted/50 text-xs text-muted-foreground uppercase",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 font-medium w-16",children:"Img"}),A.jsx("th",{className:"px-4 py-2 font-medium",children:"SKU Variante"}),A.jsx("th",{className:"px-4 py-2 font-medium",children:"Color / Talla"}),A.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Costo Prod."}),A.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Precio Venta"}),A.jsx("th",{className:"px-4 py-2 font-medium text-center",children:"Margen"}),A.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Stock"})]})}),A.jsx("tbody",{className:"divide-y divide-border",children:_.variants.map(ie=>A.jsxs("tr",{className:"hover:bg-accent/5",children:[A.jsx("td",{className:"px-4 py-2",children:ie.images&&ie.images.length>0?A.jsx("img",{src:ie.images[0],alt:"",className:"w-8 h-8 rounded object-cover border border-border"}):A.jsx("div",{className:"w-8 h-8 rounded bg-muted flex items-center justify-center text-[10px] text-muted-foreground",children:"-"})}),A.jsx("td",{className:"px-4 py-2 font-mono text-xs text-muted-foreground",children:ie.sku}),A.jsx("td",{className:"px-4 py-2",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-medium",children:ie.color}),A.jsx("span",{className:"bg-accent px-1.5 py-0.5 rounded text-[10px] font-mono",children:ie.size})]})}),A.jsxs("td",{className:"px-4 py-2 text-right text-muted-foreground",children:["S/ ",ie.priceProduction.toFixed(2)]}),A.jsxs("td",{className:"px-4 py-2 text-right font-medium",children:["S/ ",ie.priceRetail.toFixed(2)]}),A.jsx("td",{className:"px-4 py-2 flex justify-center",children:A.jsx(tx,{cost:ie.priceProduction,price:ie.priceRetail})}),A.jsx("td",{className:"px-4 py-2 text-right font-bold",children:ie.stock})]},ie.id))})]})}),A.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[A.jsx(cr,{size:"sm",variant:"outline",onClick:()=>e(_),children:"Editar Producto"}),A.jsx(cr,{size:"sm",variant:"destructive",onClick:()=>f(_.id),children:"Eliminar"})]})]})]},_.id)})})]}),A.jsx(Sv,{isOpen:!!d,onClose:()=>f(null),onConfirm:S,title:"Eliminar Producto",message:"Ests seguro de que deseas eliminar este producto y todas sus variantes? Esta accin no se puede deshacer.",confirmText:"S, Eliminar",variant:"danger"})]})}var wp=n=>n.type==="checkbox",Gu=n=>n instanceof Date,_a=n=>n==null;const XS=n=>typeof n=="object";var Li=n=>!_a(n)&&!Array.isArray(n)&&XS(n)&&!Gu(n),MO=n=>Li(n)&&n.target?wp(n.target)?n.target.checked:n.target.value:n,jO=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,VO=(n,e)=>n.has(jO(e)),UO=n=>{const e=n.constructor&&n.constructor.prototype;return Li(e)&&e.hasOwnProperty("isPrototypeOf")},Ev=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pr(n){if(n instanceof Date)return new Date(n);const e=typeof FileList<"u"&&n instanceof FileList;if(Ev&&(n instanceof Blob||e))return n;const t=Array.isArray(n);if(!t&&!(Li(n)&&UO(n)))return n;const r=t?[]:Object.create(Object.getPrototypeOf(n));for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=Pr(n[s]));return r}var r1=n=>/^\w*$/.test(n),Ar=n=>n===void 0,i1=n=>Array.isArray(n)?n.filter(Boolean):[],Nv=n=>i1(n.replace(/["|']|\]/g,"").split(/\.|\[/)),At=(n,e,t)=>{if(!e||!Li(n))return t;const r=(r1(e)?[e]:Nv(e)).reduce((s,o)=>_a(s)?s:s[o],n);return Ar(r)||r===n?Ar(n[e])?t:n[e]:r},yl=n=>typeof n=="boolean",Mo=n=>typeof n=="function",Nr=(n,e,t)=>{let r=-1;const s=r1(e)?[e]:Nv(e),o=s.length,c=o-1;for(;++r<o;){const u=s[r];let d=t;if(r!==c){const f=n[u];d=Li(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;n[u]=d,n=n[u]}};const nx={BLUR:"blur",FOCUS_OUT:"focusout"},co={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},tc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QS=Xe.createContext(null);QS.displayName="HookFormControlContext";const FO=()=>Xe.useContext(QS);var BO=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const o in n)Object.defineProperty(s,o,{get:()=>{const c=o;return e._proxyFormState[c]!==co.all&&(e._proxyFormState[c]=!r||co.all),n[c]}});return s};const JS=typeof window<"u"?Xe.useLayoutEffect:Xe.useEffect;var Ua=n=>typeof n=="string",zO=(n,e,t,r,s)=>Ua(n)?(r&&e.watch.add(n),At(t,n,s)):Array.isArray(n)?n.map(o=>(r&&e.watch.add(o),At(t,o))):(r&&(e.watchAll=!0),t),ny=n=>_a(n)||!XS(n);function eu(n,e,t=new WeakSet){if(ny(n)||ny(e))return Object.is(n,e);if(Gu(n)&&Gu(e))return Object.is(n.getTime(),e.getTime());const r=Object.keys(n),s=Object.keys(e);if(r.length!==s.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const o of r){const c=n[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=e[o];if(Gu(c)&&Gu(u)||Li(c)&&Li(u)||Array.isArray(c)&&Array.isArray(u)?!eu(c,u,t):!Object.is(c,u))return!1}}return!0}const qO=Xe.createContext(null);qO.displayName="HookFormContext";var HO=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},xa=n=>Array.isArray(n)?n:[n],rx=()=>{let n=[];return{get observers(){return n},next:s=>{for(const o of n)o.next&&o.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(o=>o!==s)}}),unsubscribe:()=>{n=[]}}};function ZS(n,e){const t={};for(const r in n)if(n.hasOwnProperty(r)){const s=n[r],o=e[r];if(s&&Li(s)&&o){const c=ZS(s,o);Li(c)&&(t[r]=c)}else n[r]&&(t[r]=o)}return t}var Ms=n=>Li(n)&&!Object.keys(n).length,Tv=n=>n.type==="file",bg=n=>{if(!Ev)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},eE=n=>n.type==="select-multiple",Cv=n=>n.type==="radio",GO=n=>Cv(n)||wp(n),q0=n=>bg(n)&&n.isConnected;function WO(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Ar(n)?r++:n[e[r++]];return n}function YO(n){for(const e in n)if(n.hasOwnProperty(e)&&!Ar(n[e]))return!1;return!0}function yi(n,e){const t=Array.isArray(e)?e:r1(e)?[e]:Nv(e),r=t.length===1?n:WO(n,t),s=t.length-1,o=t[s];return r&&delete r[o],s!==0&&(Li(r)&&Ms(r)||Array.isArray(r)&&YO(r))&&yi(n,t.slice(0,-1)),n}var $O=n=>{for(const e in n)if(Mo(n[e]))return!0;return!1};function tE(n){return Array.isArray(n)||Li(n)&&!$O(n)}function ry(n,e={}){for(const t in n){const r=n[t];tE(r)?(e[t]=Array.isArray(r)?[]:{},ry(r,e[t])):Ar(r)||(e[t]=!0)}return e}function nf(n,e,t){t||(t=ry(e));for(const r in n){const s=n[r];if(tE(s))Ar(e)||ny(t[r])?t[r]=ry(s,Array.isArray(s)?[]:{}):nf(s,_a(e)?{}:e[r],t[r]);else{const o=e[r];t[r]=!eu(s,o)}}return t}const ix={value:!1,isValid:!1},sx={value:!0,isValid:!0};var nE=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Ar(n[0].attributes.value)?Ar(n[0].value)||n[0].value===""?sx:{value:n[0].value,isValid:!0}:sx:ix}return ix},rE=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Ar(n)?n:e?n===""?NaN:n&&+n:t&&Ua(n)?new Date(n):r?r(n):n;const ax={isValid:!1,value:null};var iE=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ax):ax;function ox(n){const e=n.ref;return Tv(e)?e.files:Cv(e)?iE(n.refs).value:eE(e)?[...e.selectedOptions].map(({value:t})=>t):wp(e)?nE(n.refs).value:rE(Ar(e.value)?n.ref.value:e.value,n)}var KO=(n,e,t,r)=>{const s={};for(const o of n){const c=At(e,o);c&&Nr(s,o,c._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},_g=n=>n instanceof RegExp,Nd=n=>Ar(n)?n:_g(n)?n.source:Li(n)?_g(n.value)?n.value.source:n.value:n,lf=n=>({isOnSubmit:!n||n===co.onSubmit,isOnBlur:n===co.onBlur,isOnChange:n===co.onChange,isOnAll:n===co.all,isOnTouch:n===co.onTouched});const lx="AsyncFunction";var XO=n=>!!n&&!!n.validate&&!!(Mo(n.validate)&&n.validate.constructor.name===lx||Li(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===lx)),QO=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),iy=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const mf=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const o=At(n,s);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],s)&&!r)return!0;if(c.ref&&e(c.ref,c.name)&&!r)return!0;if(mf(u,e))break}else if(Li(u)&&mf(u,e))break}}};function cx(n,e,t){const r=At(n,t);if(r||r1(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const o=s.join("."),c=At(e,o),u=At(n,o);if(c&&!Array.isArray(c)&&t!==o)return{name:t};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};s.pop()}return{name:t}}var JO=(n,e,t,r)=>{t(n);const{name:s,...o}=n;return Ms(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(c=>e[c]===(!r||co.all))},ZO=(n,e,t)=>!n||!e||n===e||xa(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),e9=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,t9=(n,e)=>!i1(At(n,e)).length&&yi(n,e),sE=(n,e,t)=>{const r=xa(At(n,t));return Nr(r,"root",e[t]),Nr(n,t,r),n};function ux(n,e,t="validate"){if(Ua(n)||Array.isArray(n)&&n.every(Ua)||yl(n)&&!n)return{type:t,message:Ua(n)?n:"",ref:e}}var $h=n=>Li(n)&&!_g(n)?n:{value:n,message:""},sy=async(n,e,t,r,s,o)=>{const{ref:c,refs:u,required:d,maxLength:f,minLength:g,min:b,max:S,pattern:_,validate:O,name:V,valueAsNumber:U,mount:j}=n._f,te=At(t,V);if(!j||e.has(V))return{};const oe=u?u[0]:c,Y=k=>{s&&oe.reportValidity&&(oe.setCustomValidity(yl(k)?"":k||""),oe.reportValidity())},ie={},de=Cv(c),q=wp(c),R=de||q,P=(U||Tv(c))&&Ar(c.value)&&Ar(te)||bg(c)&&c.value===""||te===""||Array.isArray(te)&&!te.length,G=HO.bind(null,V,r,ie),T=(k,D,fe,xe=tc.maxLength,ne=tc.minLength)=>{const Z=k?D:fe;ie[V]={type:k?xe:ne,message:Z,ref:c,...G(k?xe:ne,Z)}};if(o?!Array.isArray(te)||!te.length:d&&(!R&&(P||_a(te))||yl(te)&&!te||q&&!nE(u).isValid||de&&!iE(u).isValid)){const{value:k,message:D}=Ua(d)?{value:!!d,message:d}:$h(d);if(k&&(ie[V]={type:tc.required,message:D,ref:oe,...G(tc.required,D)},!r))return Y(D),ie}if(!P&&(!_a(b)||!_a(S))){let k,D;const fe=$h(S),xe=$h(b);if(!_a(te)&&!isNaN(te)){const ne=c.valueAsNumber||te&&+te;_a(fe.value)||(k=ne>fe.value),_a(xe.value)||(D=ne<xe.value)}else{const ne=c.valueAsDate||new Date(te),Z=ve=>new Date(new Date().toDateString()+" "+ve),re=c.type=="time",Ne=c.type=="week";Ua(fe.value)&&te&&(k=re?Z(te)>Z(fe.value):Ne?te>fe.value:ne>new Date(fe.value)),Ua(xe.value)&&te&&(D=re?Z(te)<Z(xe.value):Ne?te<xe.value:ne<new Date(xe.value))}if((k||D)&&(T(!!k,fe.message,xe.message,tc.max,tc.min),!r))return Y(ie[V].message),ie}if((f||g)&&!P&&(Ua(te)||o&&Array.isArray(te))){const k=$h(f),D=$h(g),fe=!_a(k.value)&&te.length>+k.value,xe=!_a(D.value)&&te.length<+D.value;if((fe||xe)&&(T(fe,k.message,D.message),!r))return Y(ie[V].message),ie}if(_&&!P&&Ua(te)){const{value:k,message:D}=$h(_);if(_g(k)&&!te.match(k)&&(ie[V]={type:tc.pattern,message:D,ref:c,...G(tc.pattern,D)},!r))return Y(D),ie}if(O){if(Mo(O)){const k=await O(te,t),D=ux(k,oe);if(D&&(ie[V]={...D,...G(tc.validate,D.message)},!r))return Y(D.message),ie}else if(Li(O)){let k={};for(const D in O){if(!Ms(k)&&!r)break;const fe=ux(await O[D](te,t),oe,D);fe&&(k={...fe,...G(D,fe.message)},Y(fe.message),r&&(ie[V]=k))}if(!Ms(k)&&(ie[V]={ref:oe,...k},!r))return ie}}return Y(!0),ie};const n9={mode:co.onSubmit,reValidateMode:co.onChange,shouldFocusError:!0};function r9(n={}){let e={...n9,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Mo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Li(e.defaultValues)||Li(e.values)?Pr(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Pr(s),c={action:!1,mount:!1,watch:!1,keepIsValid:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={...g};let S={...b};const _={array:rx(),state:rx()},O=e.criteriaMode===co.all,V=le=>ye=>{clearTimeout(f),f=setTimeout(le,ye)},U=async le=>{if(!c.keepIsValid&&!e.disabled&&(b.isValid||S.isValid||le)){let ye;e.resolver?(ye=Ms((await R()).errors),j()):ye=await G(r,!0),ye!==t.isValid&&_.state.next({isValid:ye})}},j=(le,ye)=>{!e.disabled&&(b.isValidating||b.validatingFields||S.isValidating||S.validatingFields)&&((le||Array.from(u.mount)).forEach(Se=>{Se&&(ye?Nr(t.validatingFields,Se,ye):yi(t.validatingFields,Se))}),_.state.next({validatingFields:t.validatingFields,isValidating:!Ms(t.validatingFields)}))},te=(le,ye=[],Se,$e,He=!0,Ve=!0)=>{if($e&&Se&&!e.disabled){if(c.action=!0,Ve&&Array.isArray(At(r,le))){const it=Se(At(r,le),$e.argA,$e.argB);He&&Nr(r,le,it)}if(Ve&&Array.isArray(At(t.errors,le))){const it=Se(At(t.errors,le),$e.argA,$e.argB);He&&Nr(t.errors,le,it),t9(t.errors,le)}if((b.touchedFields||S.touchedFields)&&Ve&&Array.isArray(At(t.touchedFields,le))){const it=Se(At(t.touchedFields,le),$e.argA,$e.argB);He&&Nr(t.touchedFields,le,it)}(b.dirtyFields||S.dirtyFields)&&(t.dirtyFields=nf(s,o)),_.state.next({name:le,isDirty:k(le,ye),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Nr(o,le,ye)},oe=(le,ye)=>{Nr(t.errors,le,ye),_.state.next({errors:t.errors})},Y=le=>{t.errors=le,_.state.next({errors:t.errors,isValid:!1})},ie=(le,ye,Se,$e)=>{const He=At(r,le);if(He){const Ve=At(o,le,Ar(Se)?At(s,le):Se);Ar(Ve)||$e&&$e.defaultChecked||ye?Nr(o,le,ye?Ve:ox(He._f)):xe(le,Ve),c.mount&&!c.action&&U()}},de=(le,ye,Se,$e,He)=>{let Ve=!1,it=!1;const dt={name:le};if(!e.disabled){if(!Se||$e){(b.isDirty||S.isDirty)&&(it=t.isDirty,t.isDirty=dt.isDirty=k(),Ve=it!==dt.isDirty);const st=eu(At(s,le),ye);it=!!At(t.dirtyFields,le),st?yi(t.dirtyFields,le):Nr(t.dirtyFields,le,!0),dt.dirtyFields=t.dirtyFields,Ve=Ve||(b.dirtyFields||S.dirtyFields)&&it!==!st}if(Se){const st=At(t.touchedFields,le);st||(Nr(t.touchedFields,le,Se),dt.touchedFields=t.touchedFields,Ve=Ve||(b.touchedFields||S.touchedFields)&&st!==Se)}Ve&&He&&_.state.next(dt)}return Ve?dt:{}},q=(le,ye,Se,$e)=>{const He=At(t.errors,le),Ve=(b.isValid||S.isValid)&&yl(ye)&&t.isValid!==ye;if(e.delayError&&Se?(d=V(()=>oe(le,Se)),d(e.delayError)):(clearTimeout(f),d=null,Se?Nr(t.errors,le,Se):yi(t.errors,le)),(Se?!eu(He,Se):He)||!Ms($e)||Ve){const it={...$e,...Ve&&yl(ye)?{isValid:ye}:{},errors:t.errors,name:le};t={...t,...it},_.state.next(it)}},R=async le=>(j(le,!0),await e.resolver(o,e.context,KO(le||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),P=async le=>{const{errors:ye}=await R(le);if(j(le),le)for(const Se of le){const $e=At(ye,Se);$e?Nr(t.errors,Se,$e):yi(t.errors,Se)}else t.errors=ye;return ye},G=async(le,ye,Se={valid:!0})=>{for(const $e in le){const He=le[$e];if(He){const{_f:Ve,...it}=He;if(Ve){const dt=u.array.has(Ve.name),st=He._f&&XO(He._f);st&&b.validatingFields&&j([Ve.name],!0);const bt=await sy(He,u.disabled,o,O,e.shouldUseNativeValidation&&!ye,dt);if(st&&b.validatingFields&&j([Ve.name]),bt[Ve.name]&&(Se.valid=!1,ye||n.shouldUseNativeValidation))break;!ye&&(At(bt,Ve.name)?dt?sE(t.errors,bt,Ve.name):Nr(t.errors,Ve.name,bt[Ve.name]):yi(t.errors,Ve.name))}!Ms(it)&&await G(it,ye,Se)}}return Se.valid},T=()=>{for(const le of u.unMount){const ye=At(r,le);ye&&(ye._f.refs?ye._f.refs.every(Se=>!q0(Se)):!q0(ye._f.ref))&&Ee(le)}u.unMount=new Set},k=(le,ye)=>!e.disabled&&(le&&ye&&Nr(o,le,ye),!eu(X(),s)),D=(le,ye,Se)=>zO(le,u,{...c.mount?o:Ar(ye)?s:Ua(le)?{[le]:ye}:ye},Se,ye),fe=le=>i1(At(c.mount?o:s,le,e.shouldUnregister?At(s,le,[]):[])),xe=(le,ye,Se={})=>{const $e=At(r,le);let He=ye;if($e){const Ve=$e._f;Ve&&(!Ve.disabled&&Nr(o,le,rE(ye,Ve)),He=bg(Ve.ref)&&_a(ye)?"":ye,eE(Ve.ref)?[...Ve.ref.options].forEach(it=>it.selected=He.includes(it.value)):Ve.refs?wp(Ve.ref)?Ve.refs.forEach(it=>{(!it.defaultChecked||!it.disabled)&&(Array.isArray(He)?it.checked=!!He.find(dt=>dt===it.value):it.checked=He===it.value||!!He)}):Ve.refs.forEach(it=>it.checked=it.value===He):Tv(Ve.ref)?Ve.ref.value="":(Ve.ref.value=He,Ve.ref.type||_.state.next({name:le,values:Pr(o)})))}(Se.shouldDirty||Se.shouldTouch)&&de(le,He,Se.shouldTouch,Se.shouldDirty,!0),Se.shouldValidate&&ve(le)},ne=(le,ye,Se)=>{for(const $e in ye){if(!ye.hasOwnProperty($e))return;const He=ye[$e],Ve=le+"."+$e,it=At(r,Ve);(u.array.has(le)||Li(He)||it&&!it._f)&&!Gu(He)?ne(Ve,He,Se):xe(Ve,He,Se)}},Z=(le,ye,Se={})=>{const $e=At(r,le),He=u.array.has(le),Ve=Pr(ye);Nr(o,le,Ve),He?(_.array.next({name:le,values:Pr(o)}),(b.isDirty||b.dirtyFields||S.isDirty||S.dirtyFields)&&Se.shouldDirty&&_.state.next({name:le,dirtyFields:nf(s,o),isDirty:k(le,Ve)})):$e&&!$e._f&&!_a(Ve)?ne(le,Ve,Se):xe(le,Ve,Se),iy(le,u)?_.state.next({...t,name:le,values:Pr(o)}):_.state.next({name:c.mount?le:void 0,values:Pr(o)})},re=async le=>{c.mount=!0;const ye=le.target;let Se=ye.name,$e=!0;const He=At(r,Se),Ve=st=>{$e=Number.isNaN(st)||Gu(st)&&isNaN(st.getTime())||eu(st,At(o,Se,st))},it=lf(e.mode),dt=lf(e.reValidateMode);if(He){let st,bt;const gt=ye.type?ox(He._f):MO(le),dn=le.type===nx.BLUR||le.type===nx.FOCUS_OUT,Zt=!QO(He._f)&&!e.resolver&&!At(t.errors,Se)&&!He._f.deps||e9(dn,At(t.touchedFields,Se),t.isSubmitted,dt,it),Pt=iy(Se,u,dn);Nr(o,Se,gt),dn?(!ye||!ye.readOnly)&&(He._f.onBlur&&He._f.onBlur(le),d&&d(0)):He._f.onChange&&He._f.onChange(le);const Ut=de(Se,gt,dn),Qt=!Ms(Ut)||Pt;if(!dn&&_.state.next({name:Se,type:le.type,values:Pr(o)}),Zt)return(b.isValid||S.isValid)&&(e.mode==="onBlur"?dn&&U():dn||U()),Qt&&_.state.next({name:Se,...Pt?{}:Ut});if(!dn&&Pt&&_.state.next({...t}),e.resolver){const{errors:Ot}=await R([Se]);if(j([Se]),Ve(gt),$e){const yn=cx(t.errors,r,Se),Et=cx(Ot,r,yn.name||Se);st=Et.error,Se=Et.name,bt=Ms(Ot)}}else j([Se],!0),st=(await sy(He,u.disabled,o,O,e.shouldUseNativeValidation))[Se],j([Se]),Ve(gt),$e&&(st?bt=!1:(b.isValid||S.isValid)&&(bt=await G(r,!0)));$e&&(He._f.deps&&(!Array.isArray(He._f.deps)||He._f.deps.length>0)&&ve(He._f.deps),q(Se,bt,st,Ut))}},Ne=(le,ye)=>{if(At(t.errors,ye)&&le.focus)return le.focus(),1},ve=async(le,ye={})=>{let Se,$e;const He=xa(le);if(e.resolver){const Ve=await P(Ar(le)?le:He);Se=Ms(Ve),$e=le?!He.some(it=>At(Ve,it)):Se}else le?($e=(await Promise.all(He.map(async Ve=>{const it=At(r,Ve);return await G(it&&it._f?{[Ve]:it}:it)}))).every(Boolean),!(!$e&&!t.isValid)&&U()):$e=Se=await G(r);return _.state.next({...!Ua(le)||(b.isValid||S.isValid)&&Se!==t.isValid?{}:{name:le},...e.resolver||!le?{isValid:Se}:{},errors:t.errors}),ye.shouldFocus&&!$e&&mf(r,Ne,le?He:u.mount),$e},X=(le,ye)=>{let Se={...c.mount?o:s};return ye&&(Se=ZS(ye.dirtyFields?t.dirtyFields:t.touchedFields,Se)),Ar(le)?Se:Ua(le)?At(Se,le):le.map($e=>At(Se,$e))},L=(le,ye)=>({invalid:!!At((ye||t).errors,le),isDirty:!!At((ye||t).dirtyFields,le),error:At((ye||t).errors,le),isValidating:!!At(t.validatingFields,le),isTouched:!!At((ye||t).touchedFields,le)}),z=le=>{le&&xa(le).forEach(ye=>yi(t.errors,ye)),_.state.next({errors:le?t.errors:{}})},$=(le,ye,Se)=>{const $e=(At(r,le,{_f:{}})._f||{}).ref,He=At(t.errors,le)||{},{ref:Ve,message:it,type:dt,...st}=He;Nr(t.errors,le,{...st,...ye,ref:$e}),_.state.next({name:le,errors:t.errors,isValid:!1}),Se&&Se.shouldFocus&&$e&&$e.focus&&$e.focus()},se=(le,ye)=>Mo(le)?_.state.subscribe({next:Se=>"values"in Se&&le(D(void 0,ye),Se)}):D(le,ye,!0),pe=le=>_.state.subscribe({next:ye=>{ZO(le.name,ye.name,le.exact)&&JO(ye,le.formState||b,Mt,le.reRenderRoot)&&le.callback({values:{...o},...t,...ye,defaultValues:s})}}).unsubscribe,me=le=>(c.mount=!0,S={...S,...le.formState},pe({...le,formState:{...g,...le.formState}})),Ee=(le,ye={})=>{for(const Se of le?xa(le):u.mount)u.mount.delete(Se),u.array.delete(Se),ye.keepValue||(yi(r,Se),yi(o,Se)),!ye.keepError&&yi(t.errors,Se),!ye.keepDirty&&yi(t.dirtyFields,Se),!ye.keepTouched&&yi(t.touchedFields,Se),!ye.keepIsValidating&&yi(t.validatingFields,Se),!e.shouldUnregister&&!ye.keepDefaultValue&&yi(s,Se);_.state.next({values:Pr(o)}),_.state.next({...t,...ye.keepDirty?{isDirty:k()}:{}}),!ye.keepIsValid&&U()},Ie=({disabled:le,name:ye})=>{if(yl(le)&&c.mount||le||u.disabled.has(ye)){const He=u.disabled.has(ye)!==!!le;le?u.disabled.add(ye):u.disabled.delete(ye),He&&c.mount&&!c.action&&U()}},Fe=(le,ye={})=>{let Se=At(r,le);const $e=yl(ye.disabled)||yl(e.disabled);return Nr(r,le,{...Se||{},_f:{...Se&&Se._f?Se._f:{ref:{name:le}},name:le,mount:!0,...ye}}),u.mount.add(le),Se?Ie({disabled:yl(ye.disabled)?ye.disabled:e.disabled,name:le}):ie(le,!0,ye.value),{...$e?{disabled:ye.disabled||e.disabled}:{},...e.progressive?{required:!!ye.required,min:Nd(ye.min),max:Nd(ye.max),minLength:Nd(ye.minLength),maxLength:Nd(ye.maxLength),pattern:Nd(ye.pattern)}:{},name:le,onChange:re,onBlur:re,ref:He=>{if(He){Fe(le,ye),Se=At(r,le);const Ve=Ar(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,it=GO(Ve),dt=Se._f.refs||[];if(it?dt.find(st=>st===Ve):Ve===Se._f.ref)return;Nr(r,le,{_f:{...Se._f,...it?{refs:[...dt.filter(q0),Ve,...Array.isArray(At(s,le))?[{}]:[]],ref:{type:Ve.type,name:le}}:{ref:Ve}}}),ie(le,!1,void 0,Ve)}else Se=At(r,le,{}),Se._f&&(Se._f.mount=!1),(e.shouldUnregister||ye.shouldUnregister)&&!(VO(u.array,le)&&c.action)&&u.unMount.add(le)}}},et=()=>e.shouldFocusError&&mf(r,Ne,u.mount),ot=le=>{yl(le)&&(_.state.next({disabled:le}),mf(r,(ye,Se)=>{const $e=At(r,Se);$e&&(ye.disabled=$e._f.disabled||le,Array.isArray($e._f.refs)&&$e._f.refs.forEach(He=>{He.disabled=$e._f.disabled||le}))},0,!1))},ut=(le,ye)=>async Se=>{let $e;Se&&(Se.preventDefault&&Se.preventDefault(),Se.persist&&Se.persist());let He=Pr(o);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:Ve,values:it}=await R();j(),t.errors=Ve,He=Pr(it)}else await G(r);if(u.disabled.size)for(const Ve of u.disabled)yi(He,Ve);if(yi(t.errors,"root"),Ms(t.errors)){_.state.next({errors:{}});try{await le(He,Se)}catch(Ve){$e=Ve}}else ye&&await ye({...t.errors},Se),et(),setTimeout(et);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ms(t.errors)&&!$e,submitCount:t.submitCount+1,errors:t.errors}),$e)throw $e},vt=(le,ye={})=>{At(r,le)&&(Ar(ye.defaultValue)?Z(le,Pr(At(s,le))):(Z(le,ye.defaultValue),Nr(s,le,Pr(ye.defaultValue))),ye.keepTouched||yi(t.touchedFields,le),ye.keepDirty||(yi(t.dirtyFields,le),t.isDirty=ye.defaultValue?k(le,Pr(At(s,le))):k()),ye.keepError||(yi(t.errors,le),b.isValid&&U()),_.state.next({...t}))},ae=(le,ye={})=>{const Se=le?Pr(le):s,$e=Pr(Se),He=Ms(le),Ve=He?s:$e;if(ye.keepDefaultValues||(s=Se),!ye.keepValues){if(ye.keepDirtyValues){const it=new Set([...u.mount,...Object.keys(nf(s,o))]);for(const dt of Array.from(it)){const st=At(t.dirtyFields,dt),bt=At(o,dt),gt=At(Ve,dt);st&&!Ar(bt)?Nr(Ve,dt,bt):!st&&!Ar(gt)&&Z(dt,gt)}}else{if(Ev&&Ar(le))for(const it of u.mount){const dt=At(r,it);if(dt&&dt._f){const st=Array.isArray(dt._f.refs)?dt._f.refs[0]:dt._f.ref;if(bg(st)){const bt=st.closest("form");if(bt){bt.reset();break}}}}if(ye.keepFieldsRef)for(const it of u.mount)Z(it,At(Ve,it));else r={}}o=e.shouldUnregister?ye.keepDefaultValues?Pr(s):{}:Pr(Ve),_.array.next({values:{...Ve}}),_.state.next({values:{...Ve}})}u={mount:ye.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!b.isValid||!!ye.keepIsValid||!!ye.keepDirtyValues||!e.shouldUnregister&&!Ms(Ve),c.watch=!!e.shouldUnregister,c.keepIsValid=!!ye.keepIsValid,c.action=!1,ye.keepErrors||(t.errors={}),_.state.next({submitCount:ye.keepSubmitCount?t.submitCount:0,isDirty:He?!1:ye.keepDirty?t.isDirty:!!(ye.keepDefaultValues&&!eu(le,s)),isSubmitted:ye.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:He?{}:ye.keepDirtyValues?ye.keepDefaultValues&&o?nf(s,o):t.dirtyFields:ye.keepDefaultValues&&le?nf(s,le):ye.keepDirty?t.dirtyFields:{},touchedFields:ye.keepTouched?t.touchedFields:{},errors:ye.keepErrors?t.errors:{},isSubmitSuccessful:ye.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},lt=(le,ye)=>ae(Mo(le)?le(o):le,{...e.resetOptions,...ye}),Kt=(le,ye={})=>{const Se=At(r,le),$e=Se&&Se._f;if($e){const He=$e.refs?$e.refs[0]:$e.ref;He.focus&&setTimeout(()=>{He.focus(),ye.shouldSelect&&Mo(He.select)&&He.select()})}},Mt=le=>{t={...t,...le}},pt={control:{register:Fe,unregister:Ee,getFieldState:L,handleSubmit:ut,setError:$,_subscribe:pe,_runSchema:R,_updateIsValidating:j,_focusError:et,_getWatch:D,_getDirty:k,_setValid:U,_setFieldArray:te,_setDisabledField:Ie,_setErrors:Y,_getFieldArray:fe,_reset:ae,_resetDefaultValues:()=>Mo(e.defaultValues)&&e.defaultValues().then(le=>{lt(le,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ot,_subjects:_,_proxyFormState:b,get _fields(){return r},get _formValues(){return o},get _state(){return c},set _state(le){c=le},get _defaultValues(){return s},get _names(){return u},set _names(le){u=le},get _formState(){return t},get _options(){return e},set _options(le){e={...e,...le}}},subscribe:me,trigger:ve,register:Fe,handleSubmit:ut,watch:se,setValue:Z,getValues:X,reset:lt,resetField:vt,clearErrors:z,unregister:Ee,setError:$,setFocus:Kt,getFieldState:L};return{...pt,formControl:pt}}var Wc=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const n=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+n)%16|0;return(e=="x"?t:t&3|8).toString(16)})},H0=(n,e,t={})=>t.shouldFocus||Ar(t.shouldFocus)?t.focusName||`${n}.${Ar(t.focusIndex)?e:t.focusIndex}.`:"",G0=(n,e)=>[...n,...xa(e)],W0=n=>Array.isArray(n)?n.map(()=>{}):void 0;function Y0(n,e,t){return[...n.slice(0,e),...xa(t),...n.slice(e)]}var $0=(n,e,t)=>Array.isArray(n)?(Ar(n[t])&&(n[t]=void 0),n.splice(t,0,n.splice(e,1)[0]),n):[],K0=(n,e)=>[...xa(e),...xa(n)];function i9(n,e){let t=0;const r=[...n];for(const s of e)r.splice(s-t,1),t++;return i1(r).length?r:[]}var X0=(n,e)=>Ar(e)?[]:i9(n,xa(e).sort((t,r)=>t-r)),Q0=(n,e,t)=>{[n[e],n[t]]=[n[t],n[e]]},hx=(n,e,t)=>(n[e]=t,n);function s9(n){const e=FO(),{control:t=e,name:r,keyName:s="id",shouldUnregister:o,rules:c}=n,[u,d]=Xe.useState(t._getFieldArray(r)),f=Xe.useRef(t._getFieldArray(r).map(Wc)),g=Xe.useRef(!1);t._names.array.add(r),Xe.useMemo(()=>c&&u.length>=0&&t.register(r,c),[t,r,u.length,c]),JS(()=>t._subjects.array.subscribe({next:({values:Y,name:ie})=>{if(ie===r||!ie){const de=At(Y,r);Array.isArray(de)&&(d(de),f.current=de.map(Wc))}}}).unsubscribe,[t,r]);const b=Xe.useCallback(Y=>{g.current=!0,t._setFieldArray(r,Y)},[t,r]),S=(Y,ie)=>{const de=xa(Pr(Y)),q=G0(t._getFieldArray(r),de);t._names.focus=H0(r,q.length-1,ie),f.current=G0(f.current,de.map(Wc)),b(q),d(q),t._setFieldArray(r,q,G0,{argA:W0(Y)})},_=(Y,ie)=>{const de=xa(Pr(Y)),q=K0(t._getFieldArray(r),de);t._names.focus=H0(r,0,ie),f.current=K0(f.current,de.map(Wc)),b(q),d(q),t._setFieldArray(r,q,K0,{argA:W0(Y)})},O=Y=>{const ie=X0(t._getFieldArray(r),Y);f.current=X0(f.current,Y),b(ie),d(ie),!Array.isArray(At(t._fields,r))&&Nr(t._fields,r,void 0),t._setFieldArray(r,ie,X0,{argA:Y})},V=(Y,ie,de)=>{const q=xa(Pr(ie)),R=Y0(t._getFieldArray(r),Y,q);t._names.focus=H0(r,Y,de),f.current=Y0(f.current,Y,q.map(Wc)),b(R),d(R),t._setFieldArray(r,R,Y0,{argA:Y,argB:W0(ie)})},U=(Y,ie)=>{const de=t._getFieldArray(r);Q0(de,Y,ie),Q0(f.current,Y,ie),b(de),d(de),t._setFieldArray(r,de,Q0,{argA:Y,argB:ie},!1)},j=(Y,ie)=>{const de=t._getFieldArray(r);$0(de,Y,ie),$0(f.current,Y,ie),b(de),d(de),t._setFieldArray(r,de,$0,{argA:Y,argB:ie},!1)},te=(Y,ie)=>{const de=Pr(ie),q=hx(t._getFieldArray(r),Y,de);f.current=[...q].map((R,P)=>!R||P===Y?Wc():f.current[P]),b(q),d([...q]),t._setFieldArray(r,q,hx,{argA:Y,argB:de},!0,!1)},oe=Y=>{const ie=xa(Pr(Y));f.current=ie.map(Wc),b([...ie]),d([...ie]),t._setFieldArray(r,[...ie],de=>de,{},!0,!1)};return Xe.useEffect(()=>{if(t._state.action=!1,iy(r,t._names)&&t._subjects.state.next({...t._formState}),g.current&&(!lf(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!lf(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([r]).then(Y=>{t._updateIsValidating([r]);const ie=At(Y.errors,r),de=At(t._formState.errors,r);(de?!ie&&de.type||ie&&(de.type!==ie.type||de.message!==ie.message):ie&&ie.type)&&(ie?Nr(t._formState.errors,r,ie):yi(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const Y=At(t._fields,r);Y&&Y._f&&!(lf(t._options.reValidateMode).isOnSubmit&&lf(t._options.mode).isOnSubmit)&&sy(Y,t._names.disabled,t._formValues,t._options.criteriaMode===co.all,t._options.shouldUseNativeValidation,!0).then(ie=>!Ms(ie)&&t._subjects.state.next({errors:sE(t._formState.errors,ie,r)}))}t._subjects.state.next({name:r,values:Pr(t._formValues)}),t._names.focus&&mf(t._fields,(Y,ie)=>{if(t._names.focus&&ie.startsWith(t._names.focus)&&Y.focus)return Y.focus(),1}),t._names.focus="",t._setValid(),g.current=!1},[u,r,t]),Xe.useEffect(()=>(!At(t._formValues,r)&&t._setFieldArray(r),()=>{const Y=(ie,de)=>{const q=At(t._fields,ie);q&&q._f&&(q._f.mount=de)};t._options.shouldUnregister||o?t.unregister(r):Y(r,!1)}),[r,t,s,o]),{swap:Xe.useCallback(U,[b,r,t]),move:Xe.useCallback(j,[b,r,t]),prepend:Xe.useCallback(_,[b,r,t]),append:Xe.useCallback(S,[b,r,t]),remove:Xe.useCallback(O,[b,r,t]),insert:Xe.useCallback(V,[b,r,t]),update:Xe.useCallback(te,[b,r,t]),replace:Xe.useCallback(oe,[b,r,t]),fields:Xe.useMemo(()=>u.map((Y,ie)=>({...Y,[s]:f.current[ie]||Wc()})),[u,s])}}function a9(n={}){const e=Xe.useRef(void 0),t=Xe.useRef(void 0),[r,s]=Xe.useState({isDirty:!1,isValidating:!1,isLoading:Mo(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Mo(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!Mo(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:c,...u}=r9(n);e.current={...u,formState:r}}const o=e.current.control;return o._options=n,JS(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),o._formState.isReady=!0,c},[o]),Xe.useEffect(()=>o._disableForm(n.disabled),[o,n.disabled]),Xe.useEffect(()=>{n.mode&&(o._options.mode=n.mode),n.reValidateMode&&(o._options.reValidateMode=n.reValidateMode)},[o,n.mode,n.reValidateMode]),Xe.useEffect(()=>{n.errors&&(o._setErrors(n.errors),o._focusError())},[o,n.errors]),Xe.useEffect(()=>{n.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,n.shouldUnregister]),Xe.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==r.isDirty&&o._subjects.state.next({isDirty:c})}},[o,r.isDirty]),Xe.useEffect(()=>{var c;n.values&&!eu(n.values,t.current)?(o._reset(n.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((c=o._options.resetOptions)===null||c===void 0)&&c.keepIsValid||o._setValid(),t.current=n.values,s(u=>({...u}))):o._resetDefaultValues()},[o,n.values]),Xe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=Xe.useMemo(()=>BO(r,o),[o,r]),e.current}function Nm(n,e,t,r){if(!e||!r)return"INVALID-SKU";const s={VERANO:"VER",INVIERNO:"INV",ANADIBLES:"ADD"},o=n.trim().toUpperCase(),c=s[o]||o.slice(0,3).replace(/[^A-Z]/g,"X"),u={HOMBRE:"H",MUJER:"M",UNISEX:"U"}[t]||"U",d=e.slice(0,3).toUpperCase(),f=r.split(" ").map(g=>g[0]).join("").slice(0,3).toUpperCase();return`${c}-${d}-${u}-${f}`}function fx(n,e,t){const s={negro:"BLK",black:"BLK",blanco:"WHT",white:"WHT",rojo:"RED",azul:"BLU",blue:"BLU",verde:"GRN",green:"GRN",amarillo:"YEL"}[e.toLowerCase()]||e.slice(0,3).toUpperCase(),o=t.toUpperCase();return`${n}-${s}-${o}`}function o9({initialData:n,onComplete:e}){const t=yu(Z=>Z.addProduct),r=yu(Z=>Z.updateProduct),[s,o]=ct.useState(!1),[c,u]=ct.useState(1),d=3,{register:f,control:g,watch:b,handleSubmit:S,reset:_,setValue:O,getValues:V,trigger:U}=a9({defaultValues:{collection:"VERANO",gender:"UNISEX",variants:[]}});ct.useEffect(()=>{n?(_({name:n.name,collection:n.collection,type:n.type,gender:n.gender,variants:n.variants.map(Z=>({id:Z.id,color:Z.color,colorCode:Z.colorCode||"#000000",size:Z.size,stock:Z.stock,priceProduction:Z.priceProduction,priceRetail:Z.priceRetail,images:Z.images||[]}))}),de(n.baseCode)):(_({name:"",collection:"VERANO",type:"",gender:"UNISEX",variants:[]}),de(""))},[n,_]);const j=b("name"),te=b("type"),oe=b("collection"),Y=b("gender"),[ie,de]=ct.useState("");ct.useEffect(()=>{if(j&&te){const Z=Nm(oe,te,Y,j);de(Z)}},[j,te,oe,Y]);const{fields:q,append:R,remove:P}=s9({control:g,name:"variants"}),G=(Z,re)=>{const Ne=Z.target.files;if(Ne&&Ne.length>0){const ve=V(`variants.${re}.images`)||[],X=Array.from(Ne);O(`variants.${re}.images`,[...ve,...X],{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0})}Z.target.value=""},T=(Z,re)=>{const ve=V(`variants.${Z}.images`).filter((X,L)=>L!==re);O(`variants.${Z}.images`,ve,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0})},[k,D]=ct.useState(!1),fe=async()=>{if(k)return;let Z=!1;c===1?Z=await U(["name","type","gender"]):c===2&&(Z=await U(["collection"])),Z&&(D(!0),u(re=>Math.min(re+1,d)),setTimeout(()=>D(!1),800))},xe=()=>{u(Z=>Math.max(Z-1,1))},ne=async Z=>{if(Z.variants.length===0){un.error("Debes agregar al menos una variante (Color/Talla) para registrar el producto.");return}o(!0);try{const re=n?.id||crypto.randomUUID(),Ne=Date.now(),ve=V("variants"),X=await Promise.all(Z.variants.map(async(L,z)=>{const $=L.id||crypto.randomUUID(),se=[],pe=ve[z]?.images;if(pe&&pe.length>0)for(const me of pe)if(me instanceof File)try{const Ee=CO(PO,`products/${re}/${$}/${Date.now()}-${me.name}`);await NO(Ee,me);const Ie=await TO(Ee);se.push(Ie)}catch(Ee){console.error("Error uploading image:",Ee),un.error(`Error al subir imagen para ${L.color}`)}else typeof me=="string"&&se.push(me);return{id:$,sku:fx(Nm(Z.collection,Z.type,Z.gender,Z.name),L.color,L.size),color:L.color,colorCode:L.colorCode||"#000000",size:L.size,stock:L.stock,priceProduction:L.priceProduction,priceRetail:L.priceRetail,images:se}}));if(n)await r(n.id,{name:Z.name,collection:Z.collection,type:Z.type,gender:Z.gender,baseCode:Nm(Z.collection,Z.type,Z.gender,Z.name),variants:X});else{const L={id:re,name:Z.name,collection:Z.collection,type:Z.type,gender:Z.gender,baseCode:Nm(Z.collection,Z.type,Z.gender,Z.name),updatedAt:Ne,createdAt:Ne,variants:X};await t(L)}e?e():(_(),de(""),u(1))}catch(re){console.error("Error saving product:",re),un.error("Error al guardar el producto")}finally{o(!1)}};return A.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8 min-h-[calc(100vh-10rem)]",children:[A.jsxs("div",{className:"mb-10",children:[A.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n?"Editar Producto":"Crear Nuevo Producto"}),A.jsx("p",{className:"text-muted-foreground mt-1",children:"Completa los pasos para registrar un tem en el inventario."})]}),!n&&A.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm font-medium text-muted-foreground bg-muted/50 px-4 py-2 rounded-full border border-border",children:[A.jsx(E0,{className:"w-4 h-4"}),A.jsx("span",{children:"Wizard Mode"})]})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-border -z-10 rounded-full"}),A.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-primary -z-10 rounded-full transition-all duration-300",style:{width:`${(c-1)/(d-1)*100}%`}}),A.jsx("div",{className:"flex justify-between",children:[{id:1,label:"Datos Bsicos",icon:Xu},{id:2,label:"Clasificacin",icon:E2},{id:3,label:"Variantes",icon:E0}].map(Z=>A.jsxs("div",{className:"flex flex-col items-center gap-2 bg-background px-2",children:[A.jsx("div",{className:qr("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300",c>=Z.id?"bg-primary border-primary text-primary-foreground shadow-lg shadow-primary/20":"bg-background border-border text-muted-foreground"),children:c>Z.id?A.jsx(A2,{className:"w-6 h-6"}):A.jsx(Z.icon,{className:"w-5 h-5"})}),A.jsx("span",{className:qr("text-xs font-semibold uppercase tracking-wider transition-colors duration-300",c>=Z.id?"text-primary":"text-muted-foreground"),children:Z.label})]},Z.id))})]})]}),A.jsxs("form",{onSubmit:S(ne),className:"space-y-8",onKeyDown:Z=>{Z.key==="Enter"&&Z.preventDefault()},children:[A.jsx("div",{className:qr("space-y-6 animate-in fade-in slide-in-from-right duration-300",c===1?"block":"hidden"),children:A.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 md:p-10 shadow-sm relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 pointer-events-none",children:A.jsx(Xu,{className:"w-64 h-64"})}),A.jsxs("div",{className:"space-y-8 relative z-10 max-w-3xl",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsxs("label",{className:"text-lg font-semibold flex items-center gap-2",children:[A.jsx("span",{className:"bg-primary/10 text-primary w-6 h-6 rounded-full flex items-center justify-center text-xs",children:"1"}),"Nombre del Producto"]}),A.jsx(Jr,{...f("name",{required:!0}),placeholder:"Ej. Polo Bsico Oversize",className:"h-14 text-xl px-5 bg-background shadow-sm border-2 focus-visible:ring-0 focus-visible:border-primary transition-colors",autoFocus:!0}),A.jsx("p",{className:"text-sm text-muted-foreground ml-1",children:"El nombre comercial que vern tus clientes."})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsxs("label",{className:"text-lg font-semibold flex items-center gap-2",children:[A.jsx("span",{className:"bg-primary/10 text-primary w-6 h-6 rounded-full flex items-center justify-center text-xs",children:"2"}),"Categora / Tipo"]}),A.jsx(Jr,{...f("type",{required:!0}),placeholder:"Ej. POLO",className:"h-12 font-mono uppercase tracking-wide"}),A.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["POLO","PANTALON","CASACA","SHORTS"].map(Z=>A.jsx("button",{type:"button",onClick:()=>{O("type",Z),U("type")},className:"text-xs bg-accent hover:bg-primary/10 hover:text-primary px-3 py-1.5 rounded-full border border-border transition-colors",children:Z},Z))})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("label",{className:"text-lg font-semibold flex items-center gap-2",children:[A.jsx("span",{className:"bg-primary/10 text-primary w-6 h-6 rounded-full flex items-center justify-center text-xs",children:"3"}),"Pblico Objetivo"]}),A.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"HOMBRE",label:"Hombre",icon:$d},{value:"MUJER",label:"Mujer",icon:$d},{value:"UNISEX",label:"Unisex",icon:O6}].map(Z=>A.jsxs("div",{onClick:()=>{O("gender",Z.value),U("gender")},className:qr("cursor-pointer rounded-xl border-2 p-3 flex flex-col items-center gap-2 transition-all duration-200 hover:scale-[1.02]",Y===Z.value?"border-primary bg-primary/5 text-primary":"border-border bg-background hover:bg-accent hover:border-accent-foreground/20"),children:[A.jsx(Z.icon,{className:qr("w-6 h-6",Y===Z.value?"fill-current":"")}),A.jsx("span",{className:"text-xs font-bold",children:Z.label})]},Z.value))}),A.jsx("input",{type:"hidden",...f("gender",{required:!0})})]})]})]})]})}),A.jsx("div",{className:qr("space-y-6 animate-in fade-in slide-in-from-right duration-300",c===2?"block":"hidden"),children:A.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 md:p-10 shadow-sm relative overflow-hidden flex flex-col items-center text-center",children:[A.jsx("div",{className:"absolute top-0 left-0 p-6 opacity-5 pointer-events-none",children:A.jsx(E2,{className:"w-64 h-64"})}),A.jsxs("div",{className:"max-w-xl w-full relative z-10 space-y-8",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-2xl font-bold",children:"Temporada y Coleccin"}),A.jsx("p",{className:"text-muted-foreground mt-2",children:"Agrupa este producto con otros de la misma lnea."})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex relative items-center",children:[A.jsx(Jr,{...f("collection",{required:!0}),placeholder:"Ej. VERANO 2026",className:"h-16 text-center text-xl font-bold bg-background shadow-sm pr-20 uppercase"}),A.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 h-8 w-16 bg-muted rounded flex items-center justify-center font-mono text-xs font-bold text-muted-foreground border border-border",title:"Cdigo de Coleccin",children:oe?oe.slice(0,3).toUpperCase():"---"})]}),A.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Verano 2026",code:"VERANO"},{label:"Invierno 2024",code:"INVIERNO"},{label:"Bsicos",code:"BASICOS"},{label:"Limitados",code:"LIMITED"}].map(Z=>A.jsxs("button",{type:"button",onClick:()=>{O("collection",Z.code),U("collection")},className:"p-4 rounded-lg bg-background border border-border hover:border-primary hover:bg-primary/5 transition-all text-left group",children:[A.jsx("span",{className:"block font-semibold group-hover:text-primary transition-colors",children:Z.label}),A.jsxs("span",{className:"text-xs text-muted-foreground",children:["Cdigo: ",Z.code]})]},Z.code))})]}),A.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg border border-dashed border-border",children:[A.jsx("span",{className:"text-sm font-medium text-muted-foreground block mb-2 uppercase tracking-widest text-[10px]",children:"Preview SKU Base"}),A.jsx("div",{className:"text-4xl font-mono font-black text-foreground tracking-widest bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary/50",children:ie||"????-???-?-???"})]})]})]})}),A.jsxs("div",{className:qr("space-y-6 animate-in fade-in slide-in-from-right duration-300",c===3?"block":"hidden"),children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[A.jsx(E0,{className:"text-primary"})," Variantes (",q.length,")"]}),A.jsxs(cr,{type:"button",onClick:()=>R({color:"",size:"",priceProduction:0,priceRetail:0,stock:0,images:[]}),className:"shadow-lg shadow-primary/20",children:[A.jsx(Yd,{className:"mr-2 h-4 w-4"})," Agregar Variante"]})]}),A.jsx("div",{className:"space-y-4",children:q.length===0?A.jsxs("div",{className:"text-center py-20 bg-card rounded-xl border-2 border-dashed border-border flex flex-col items-center justify-center gap-4 group cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>R({color:"Unico",size:"U",priceProduction:0,priceRetail:0,stock:0,images:[]}),children:[A.jsx("div",{className:"w-16 h-16 rounded-full bg-accent flex items-center justify-center text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:A.jsx(Yd,{className:"w-8 h-8"})}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-lg font-semibold",children:"No hay variantes"}),A.jsx("p",{className:"text-muted-foreground",children:"Haz clic para agregar tu primera variante (Color/Talla)"})]})]}):A.jsx("div",{className:"grid gap-6",children:q.map((Z,re)=>A.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[A.jsxs("div",{className:"bg-muted/30 px-6 py-3 border-b border-border flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("span",{className:"bg-background border border-border w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-muted-foreground",children:["#",re+1]}),A.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["SKU: ",ie?fx(ie,b(`variants.${re}.color`),b(`variants.${re}.size`)):"..."]})]}),A.jsx(cr,{type:"button",variant:"ghost",size:"icon",onClick:()=>P(re),className:"text-muted-foreground hover:text-destructive h-8 w-8",children:A.jsx(Sy,{className:"h-4 w-4"})})]}),A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[A.jsx("div",{className:"lg:col-span-4 space-y-4 lg:border-r border-border lg:pr-6 flex flex-col justify-between",children:A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground block mb-2",children:"Definicin"}),A.jsxs("div",{className:"flex gap-2 mb-3",children:[A.jsxs("div",{className:"relative w-10 h-10 rounded-full overflow-hidden border-2 border-border shadow-sm shrink-0 cursor-pointer hover:scale-105 transition-transform",title:"Elegir Color",children:[A.jsx("input",{type:"color",...f(`variants.${re}.colorCode`),className:"absolute -top-4 -left-4 w-20 h-20 p-0 cursor-pointer opacity-0"}),A.jsx("div",{className:"w-full h-full pointer-events-none",style:{backgroundColor:b(`variants.${re}.colorCode`)||"#000000"}})]}),A.jsx(Jr,{...f(`variants.${re}.color`),placeholder:"Nombre del Color",className:"flex-1 font-semibold bg-accent/20 border-transparent focus:bg-background focus:border-input transition-colors h-10"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-[10px] uppercase font-bold text-muted-foreground mb-1 block",children:"Talla"}),A.jsx(Jr,{...f(`variants.${re}.size`),placeholder:"Talla",className:"text-center font-mono font-bold uppercase h-10 text-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-[10px] uppercase font-bold text-muted-foreground mb-1 block",children:"Stock"}),A.jsx(Jr,{type:"number",...f(`variants.${re}.stock`,{valueAsNumber:!0}),className:"text-center font-bold text-lg h-10"})]})]})]})}),A.jsxs("div",{className:"lg:col-span-4 space-y-4 lg:border-r border-border lg:pr-6 lg:pl-2",children:[A.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground block mb-2",children:"Economa (Unitario)"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Costo"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-3 top-2.5 text-muted-foreground font-semibold text-sm",children:"S/"}),A.jsx(Jr,{type:"number",...f(`variants.${re}.priceProduction`,{valueAsNumber:!0}),className:"pl-8",placeholder:"0.00"})]})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("span",{className:"text-[10px] text-primary font-bold",children:"Precio Venta"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-3 top-2.5 text-primary font-bold text-sm",children:"S/"}),A.jsx(Jr,{type:"number",...f(`variants.${re}.priceRetail`,{valueAsNumber:!0}),className:"pl-8 font-bold border-primary/30 bg-primary/5 text-primary",placeholder:"0.00"})]})]})]})]}),A.jsxs("div",{className:"lg:col-span-4 lg:pl-2",children:[A.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground block mb-2",children:"Galera"}),A.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[(b(`variants.${re}.images`)||[]).map((Ne,ve)=>A.jsxs("div",{className:"relative aspect-square rounded-md overflow-hidden border border-border group bg-background",children:[A.jsx("img",{src:typeof Ne=="string"?Ne:URL.createObjectURL(Ne),alt:"Preview",className:"w-full h-full object-cover"}),A.jsx("button",{type:"button",onClick:()=>T(re,ve),className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white",children:A.jsx(cp,{className:"w-5 h-5"})})]},ve)),A.jsxs("label",{className:"aspect-square rounded-md border-2 border-dashed border-border hover:border-primary hover:bg-primary/5 cursor-pointer flex flex-col items-center justify-center gap-1 transition-colors text-muted-foreground hover:text-primary",children:[A.jsx(e6,{className:"w-5 h-5"}),A.jsx("span",{className:"text-[9px] font-bold uppercase",children:"Subir"}),A.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:Ne=>G(Ne,re)})]})]})]})]})})]},Z.id))})})]}),A.jsxs("div",{className:"flex items-center justify-between pt-8 border-t border-border mt-8",children:[A.jsx("div",{children:c===1?A.jsx(cr,{type:"button",variant:"ghost",size:"lg",onClick:e,children:"Cancelar"}):A.jsxs(cr,{type:"button",variant:"ghost",size:"lg",onClick:xe,className:"gap-2",children:[A.jsx(j4,{className:"w-4 h-4"})," Anterior"]})}),A.jsx("div",{children:c<d?A.jsxs(cr,{type:"button",size:"lg",onClick:fe,disabled:k,className:"gap-2 px-8 text-lg rounded-full",children:["Siguiente ",A.jsx(jT,{className:"w-5 h-5"})]}):!k&&A.jsx(cr,{type:"submit",size:"lg",className:"gap-2 px-10 text-lg rounded-full shadow-xl shadow-primary/25 animate-in fade-in zoom-in duration-300",disabled:s||q.length===0,children:s?A.jsxs(A.Fragment,{children:[A.jsx(Ay,{className:"w-5 h-5 animate-spin"})," Guardando..."]}):A.jsxs(A.Fragment,{children:[A.jsx(A2,{className:"w-5 h-5"})," Finalizar Registro"]})})})]})]})]})}function l9(){const[n,e]=ct.useState("LIST"),[t,r]=ct.useState(void 0),s=c=>{r(c),e("EDIT")},o=()=>{r(void 0),e("LIST")};return A.jsxs("div",{className:"h-full flex flex-col",children:[(n==="CREATE"||n==="EDIT")&&A.jsx("div",{className:"mb-4",children:A.jsxs(cr,{variant:"ghost",onClick:o,className:"gap-2",children:[A.jsx(j4,{className:"h-4 w-4"})," Volver al Listado"]})}),n==="LIST"?A.jsx(OO,{onAddProduct:()=>{r(void 0),e("CREATE")},onEditProduct:s}):A.jsx(o9,{initialData:t,onComplete:o})]})}const c9="modulepreload",u9=function(n){return"/sistema-control-sede/"+n},dx={},Gm=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=d(t.map(f=>{if(f=u9(f),f in dx)return;dx[f]=!0;const g=f.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${b}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":c9,g||(S.as="script"),S.crossOrigin="",S.href=f,u&&S.setAttribute("nonce",u),document.head.appendChild(S),g)return new Promise((_,O)=>{S.addEventListener("load",_),S.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},ip=Ty((n,e)=>({sales:[],promotions:[],loading:!0,initialized:!1,initializeSubscription:()=>{const t=gv(yg(xs,"sales"),yv("createdAt","desc")),r=rp(t,c=>{const u=c.docs.map(d=>({...d.data(),id:d.id}));n({sales:u})},c=>{console.error("Error fetching sales:",c),un.error("Error cargando ventas desde la nube")}),s=yg(xs,"promotions"),o=rp(s,c=>{const u=c.docs.map(d=>({...d.data(),id:d.id}));u.length===0&&e().initialized,n({promotions:u})},c=>{console.error("Error fetching promotions:",c)});return n({initialized:!0,loading:!1}),()=>{r(),o()}},addSale:async t=>{try{await rh(Qs(xs,"sales",t.id),t),un.success("Venta registrada en la nube")}catch(r){throw console.error(r),un.error("Error al guardar venta"),r}},updateSaleStatus:async(t,r)=>{try{await Yu(Qs(xs,"sales",t),{status:r,updatedAt:Date.now()}),un.success("Estado actualizado")}catch(s){console.error(s),un.error("Error al actualizar estado")}},addPromotion:async t=>{try{await rh(Qs(xs,"promotions",t.id),t),un.success("Promocin guardada")}catch(r){console.error(r),un.error("Error al guardar promocin")}},togglePromotion:async t=>{const r=e().promotions.find(s=>s.id===t);if(r)try{await Yu(Qs(xs,"promotions",t),{isActive:!r.isActive})}catch(s){console.error(s),un.error("Error al actualizar promocin")}},removePromotion:async t=>{const{deleteDoc:r}=await Gm(async()=>{const{deleteDoc:s}=await Promise.resolve().then(()=>vP);return{deleteDoc:s}},void 0);try{await r(Qs(xs,"promotions",t)),un.success("Promocin eliminada")}catch(s){console.error(s),un.error("Error al eliminar promocin")}},calculateCartTotal:(t,r,s=0)=>{const o=e().promotions.filter(g=>g.isActive);let c=new Set,u=0;t.forEach(g=>{let b=g.unitPrice*g.quantity;u+=b});let d=0;t.forEach(g=>{let b=g.unitPrice*g.quantity,S=0;o.forEach(_=>{let O=!1;switch(_.scope){case"GLOBAL":O=!0;break;case"COLLECTION":g.collection===_.target&&(O=!0);break;case"TYPE":g.type===_.target&&(O=!0);break;case"GENDER":g.gender===_.target&&(O=!0);break;case"PRODUCT":g.productName&&g.productName.includes(_.target||"")&&(O=!0);break}if(O){c.add(_.id);let V=_.type==="PERCENTAGE"?b*(_.value/100):_.value*g.quantity;V>S&&(S=V)}}),d+=S});let f=u-d-r+s;return f<0&&(f=0),{subtotal:u,discountTotal:d+r,shippingCost:s,total:f,appliedPromotions:Array.from(c)}},cleanup:()=>{n({sales:[],promotions:[],loading:!0,initialized:!1})}})),ay=[{name:"Lima Cercado",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Ancn",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Ate",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Barranco",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Brea",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Carabayllo",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Chaclacayo",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Chorrillos",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Cieneguilla",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Comas",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"El Agustino",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"Independencia",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"Jess Mara",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"La Molina",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"La Victoria",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"Lince",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Los Olivos",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Lurigancho",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Lurn",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Magdalena del Mar",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Miraflores",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Pachacmac",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Pucusana",department:"LIMA",basePrice:20,allowDoorDelivery:!1},{name:"Pueblo Libre",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Puente Piedra",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Punta Hermosa",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Punta Negra",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Rmac",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"San Bartolo",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"San Borja",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"San Isidro",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"San Juan de Lurigancho",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"San Juan de Miraflores",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"San Luis",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"San Martn de Porres",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"San Miguel",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Santa Anita",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Santa Mara del Mar",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Santa Rosa",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Santiago de Surco",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Surquillo",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Villa El Salvador",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Villa Mara del Triunfo",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Callao",department:"CALLAO",basePrice:10,allowDoorDelivery:!1},{name:"Bellavista",department:"CALLAO",basePrice:9,allowDoorDelivery:!0},{name:"Carmen de la Legua",department:"CALLAO",basePrice:9,allowDoorDelivery:!1},{name:"La Perla",department:"CALLAO",basePrice:9,allowDoorDelivery:!0},{name:"La Punta",department:"CALLAO",basePrice:10,allowDoorDelivery:!0},{name:"Ventanilla",department:"CALLAO",basePrice:12,allowDoorDelivery:!1},{name:"Mi Per",department:"CALLAO",basePrice:12,allowDoorDelivery:!1}];ay.sort((n,e)=>n.name.localeCompare(e.name));const sp=Ty((n,e)=>({globalShippingBase:5,districts:ay,loading:!0,initialized:!1,initializeSubscription:()=>{const t=Qs(xs,"settings","global"),r=rp(t,async s=>{if(s.exists()){const o=s.data();n({globalShippingBase:o.globalShippingBase,districts:o.districts,loading:!1,initialized:!0})}else try{await rh(t,{globalShippingBase:5,districts:ay})}catch(o){console.error("Error creating initial settings:",o),un.error("Error inicializando configuracin en la nube")}},s=>{console.error(s),un.error("No se pudo cargar la configuracin")});return n({initialized:!0}),r},updateGlobalShipping:async t=>{try{await Yu(Qs(xs,"settings","global"),{globalShippingBase:t}),un.success("Tarifa base actualizada")}catch(r){console.error(r),un.error("Error al guardar")}},updateDistrict:async(t,r)=>{const o=e().districts.map(c=>c.name===t?{...c,...r}:c);n({districts:o});try{await Yu(Qs(xs,"settings","global"),{districts:o})}catch(c){console.error(c),un.error("Error al actualizar distrito")}},toggleDoorDelivery:async t=>{const r=e().districts,s=r.map(o=>o.name===t?{...o,allowDoorDelivery:!o.allowDoorDelivery}:o);n({districts:s});try{await Yu(Qs(xs,"settings","global"),{districts:s})}catch(o){console.error(o),un.error("Error al actualizar"),n({districts:r})}},cleanup:()=>{n({initialized:!1,loading:!0})}}));function lr(n){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(n)}var zo=Uint8Array,za=Uint16Array,Iv=Int32Array,Rv=new zo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kv=new zo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),px=new zo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aE=function(n,e){for(var t=new za(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new Iv(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},oE=aE(Rv,2),h9=oE.b,oy=oE.r;h9[28]=258,oy[258]=28;var f9=aE(kv,0),mx=f9.r,ly=new za(32768);for(var Or=0;Or<32768;++Or){var Yc=(Or&43690)>>1|(Or&21845)<<1;Yc=(Yc&52428)>>2|(Yc&13107)<<2,Yc=(Yc&61680)>>4|(Yc&3855)<<4,ly[Or]=((Yc&65280)>>8|(Yc&255)<<8)>>1}var qd=(function(n,e,t){for(var r=n.length,s=0,o=new za(e);s<r;++s)n[s]&&++o[n[s]-1];var c=new za(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var u;if(t){u=new za(1<<e);var d=15-e;for(s=0;s<r;++s)if(n[s])for(var f=s<<4|n[s],g=e-n[s],b=c[n[s]-1]++<<g,S=b|(1<<g)-1;b<=S;++b)u[ly[b]>>d]=f}else for(u=new za(r),s=0;s<r;++s)n[s]&&(u[s]=ly[c[n[s]-1]++]>>15-n[s]);return u}),sh=new zo(288);for(var Or=0;Or<144;++Or)sh[Or]=8;for(var Or=144;Or<256;++Or)sh[Or]=9;for(var Or=256;Or<280;++Or)sh[Or]=7;for(var Or=280;Or<288;++Or)sh[Or]=8;var wg=new zo(32);for(var Or=0;Or<32;++Or)wg[Or]=5;var d9=qd(sh,9,0),p9=qd(wg,5,0),lE=function(n){return(n+7)/8|0},m9=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new zo(n.subarray(e,t))},nc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Td=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},J0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:uE,l:0};if(s==1){var c=new zo(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(ie,de){return ie.f-de.f}),t.push({s:-1,f:25001});var u=t[0],d=t[1],f=0,g=1,b=2;for(t[0]={s:-1,f:u.f+d.f,l:u,r:d};g!=s-1;)u=t[t[f].f<t[b].f?f++:b++],d=t[f!=g&&t[f].f<t[b].f?f++:b++],t[g++]={s:-1,f:u.f+d.f,l:u,r:d};for(var S=o[0].s,r=1;r<s;++r)o[r].s>S&&(S=o[r].s);var _=new za(S+1),O=cy(t[g-1],_,0);if(O>e){var r=0,V=0,U=O-e,j=1<<U;for(o.sort(function(de,q){return _[q.s]-_[de.s]||de.f-q.f});r<s;++r){var te=o[r].s;if(_[te]>e)V+=j-(1<<O-_[te]),_[te]=e;else break}for(V>>=U;V>0;){var oe=o[r].s;_[oe]<e?V-=1<<e-_[oe]++-1:++r}for(;r>=0&&V;--r){var Y=o[r].s;_[Y]==e&&(--_[Y],++V)}O=e}return{t:new zo(_),l:O}},cy=function(n,e,t){return n.s==-1?Math.max(cy(n.l,e,t+1),cy(n.r,e,t+1)):e[n.s]=t},gx=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new za(++e),r=0,s=n[0],o=1,c=function(d){t[r++]=d},u=1;u<=e;++u)if(n[u]==s&&u!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=n[u]}return{c:t.subarray(0,r),n:e}},Cd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},cE=function(n,e,t){var r=t.length,s=lE(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},yx=function(n,e,t,r,s,o,c,u,d,f,g){nc(e,g++,t),++s[256];for(var b=J0(s,15),S=b.t,_=b.l,O=J0(o,15),V=O.t,U=O.l,j=gx(S),te=j.c,oe=j.n,Y=gx(V),ie=Y.c,de=Y.n,q=new za(19),R=0;R<te.length;++R)++q[te[R]&31];for(var R=0;R<ie.length;++R)++q[ie[R]&31];for(var P=J0(q,7),G=P.t,T=P.l,k=19;k>4&&!G[px[k-1]];--k);var D=f+5<<3,fe=Cd(s,sh)+Cd(o,wg)+c,xe=Cd(s,S)+Cd(o,V)+c+14+3*k+Cd(q,G)+2*q[16]+3*q[17]+7*q[18];if(d>=0&&D<=fe&&D<=xe)return cE(e,g,n.subarray(d,d+f));var ne,Z,re,Ne;if(nc(e,g,1+(xe<fe)),g+=2,xe<fe){ne=qd(S,_,0),Z=S,re=qd(V,U,0),Ne=V;var ve=qd(G,T,0);nc(e,g,oe-257),nc(e,g+5,de-1),nc(e,g+10,k-4),g+=14;for(var R=0;R<k;++R)nc(e,g+3*R,G[px[R]]);g+=3*k;for(var X=[te,ie],L=0;L<2;++L)for(var z=X[L],R=0;R<z.length;++R){var $=z[R]&31;nc(e,g,ve[$]),g+=G[$],$>15&&(nc(e,g,z[R]>>5&127),g+=z[R]>>12)}}else ne=d9,Z=sh,re=p9,Ne=wg;for(var R=0;R<u;++R){var se=r[R];if(se>255){var $=se>>18&31;Td(e,g,ne[$+257]),g+=Z[$+257],$>7&&(nc(e,g,se>>23&31),g+=Rv[$]);var pe=se&31;Td(e,g,re[pe]),g+=Ne[pe],pe>3&&(Td(e,g,se>>5&8191),g+=kv[pe])}else Td(e,g,ne[se]),g+=Z[se]}return Td(e,g,ne[256]),g+Z[256]},g9=new Iv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uE=new zo(0),y9=function(n,e,t,r,s,o){var c=o.z||n.length,u=new zo(r+c+5*(1+Math.ceil(c/7e3))+s),d=u.subarray(r,u.length-s),f=o.l,g=(o.r||0)&7;if(e){g&&(d[0]=o.r>>3);for(var b=g9[e-1],S=b>>13,_=b&8191,O=(1<<t)-1,V=o.p||new za(32768),U=o.h||new za(O+1),j=Math.ceil(t/3),te=2*j,oe=function(vt){return(n[vt]^n[vt+1]<<j^n[vt+2]<<te)&O},Y=new Iv(25e3),ie=new za(288),de=new za(32),q=0,R=0,P=o.i||0,G=0,T=o.w||0,k=0;P+2<c;++P){var D=oe(P),fe=P&32767,xe=U[D];if(V[fe]=xe,U[D]=fe,T<=P){var ne=c-P;if((q>7e3||G>24576)&&(ne>423||!f)){g=yx(n,d,0,Y,ie,de,R,G,k,P-k,g),G=q=R=0,k=P;for(var Z=0;Z<286;++Z)ie[Z]=0;for(var Z=0;Z<30;++Z)de[Z]=0}var re=2,Ne=0,ve=_,X=fe-xe&32767;if(ne>2&&D==oe(P-X))for(var L=Math.min(S,ne)-1,z=Math.min(32767,P),$=Math.min(258,ne);X<=z&&--ve&&fe!=xe;){if(n[P+re]==n[P+re-X]){for(var se=0;se<$&&n[P+se]==n[P+se-X];++se);if(se>re){if(re=se,Ne=X,se>L)break;for(var pe=Math.min(X,se-2),me=0,Z=0;Z<pe;++Z){var Ee=P-X+Z&32767,Ie=V[Ee],Fe=Ee-Ie&32767;Fe>me&&(me=Fe,xe=Ee)}}}fe=xe,xe=V[fe],X+=fe-xe&32767}if(Ne){Y[G++]=268435456|oy[re]<<18|mx[Ne];var et=oy[re]&31,ot=mx[Ne]&31;R+=Rv[et]+kv[ot],++ie[257+et],++de[ot],T=P+re,++q}else Y[G++]=n[P],++ie[n[P]]}}for(P=Math.max(P,T);P<c;++P)Y[G++]=n[P],++ie[n[P]];g=yx(n,d,f,Y,ie,de,R,G,k,P-k,g),f||(o.r=g&7|d[g/8|0]<<3,g-=7,o.h=U,o.p=V,o.i=P,o.w=T)}else{for(var P=o.w||0;P<c+f;P+=65535){var ut=P+65535;ut>=c&&(d[g/8|0]=f,ut=c),g=cE(d,g+1,n.subarray(P,ut))}o.i=c}return m9(u,0,r+lE(g)+s)},hE=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)s+=r+=t[c];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},v9=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new zo(o.length+n.length);c.set(o),c.set(n,o.length),n=c,s.w=o.length}return y9(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},fE=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},b9=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=hE();s.p(e.dictionary),fE(n,2,s.d())}};function uy(n,e){e||(e={});var t=hE();t.p(n);var r=v9(n,e,e.dictionary?6:2,4);return b9(r,e),fE(r,r.length-4,t.d()),r}var _9=typeof TextDecoder<"u"&&new TextDecoder,w9=0;try{_9.decode(uE,{stream:!0}),w9=1}catch{}function x9(n){if(Array.isArray(n))return n}function A9(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,c,u=[],d=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(d=(r=o.call(t)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(g){f=!0,s=g}finally{try{if(!d&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw s}}return u}}function vx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function S9(n,e){if(n){if(typeof n=="string")return vx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?vx(n,e):void 0}}function E9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bx(n,e){return x9(n)||A9(n,e)||S9(n,e)||E9()}function _x(n,e="utf8"){return new TextDecoder(e).decode(n)}const N9=new TextEncoder;function T9(n){return N9.encode(n)}const C9=1024*8,I9=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Z0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Lv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=C9,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let c=s;(ArrayBuffer.isView(e)||e instanceof Lv)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Z0[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===I9&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(s,s+r));u.reverse();const d=new Z0[t](u.buffer);return this.offset+=r,d.reverse(),d}const c=new Z0[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return _x(this.readBytes(e))}decodeText(e=1,t="utf8"){return _x(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(T9(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Uf(n){let e=n.length;for(;--e>=0;)n[e]=0}const R9=3,k9=258,dE=29,L9=256,D9=L9+1+dE,pE=30,P9=512,O9=new Array((D9+2)*2);Uf(O9);const M9=new Array(pE*2);Uf(M9);const j9=new Array(P9);Uf(j9);const V9=new Array(k9-R9+1);Uf(V9);const U9=new Array(dE);Uf(U9);const F9=new Array(pE);Uf(F9);const B9=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do s=s+e[r++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var hy=B9;const z9=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},q9=new Uint32Array(z9()),H9=(n,e,t,r)=>{const s=q9,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^s[(n^e[c])&255];return n^-1};var pl=H9,fy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const G9=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var W9=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)G9(t,r)&&(n[r]=t[r])}}return n},Y9=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let c=n[r];t.set(c,s),s+=c.length}return t},gE={assign:W9,flattenChunks:Y9};let yE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yE=!1}const ap=new Uint8Array(256);for(let n=0;n<256;n++)ap[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ap[254]=ap[254]=1;var $9=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,c=n.length,u=0;for(s=0;s<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),o=0,s=0;o<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const K9=(n,e)=>{if(e<65534&&n.subarray&&yE)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var X9=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let c=n[r++];if(c<128){o[s++]=c;continue}let u=ap[c];if(u>4){o[s++]=65533,r+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&r<t;)c=c<<6|n[r++]&63,u--;if(u>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return K9(o,s)},Q9=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+ap[n[t]]>e?t:e},dy={string2buf:$9,buf2string:X9,utf8border:Q9};function J9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Z9=J9;const Tm=16209,eM=16191;var tM=function(e,t){let r,s,o,c,u,d,f,g,b,S,_,O,V,U,j,te,oe,Y,ie,de,q,R,P,G;const T=e.state;r=e.next_in,P=e.input,s=r+(e.avail_in-5),o=e.next_out,G=e.output,c=o-(t-e.avail_out),u=o+(e.avail_out-257),d=T.dmax,f=T.wsize,g=T.whave,b=T.wnext,S=T.window,_=T.hold,O=T.bits,V=T.lencode,U=T.distcode,j=(1<<T.lenbits)-1,te=(1<<T.distbits)-1;e:do{O<15&&(_+=P[r++]<<O,O+=8,_+=P[r++]<<O,O+=8),oe=V[_&j];t:for(;;){if(Y=oe>>>24,_>>>=Y,O-=Y,Y=oe>>>16&255,Y===0)G[o++]=oe&65535;else if(Y&16){ie=oe&65535,Y&=15,Y&&(O<Y&&(_+=P[r++]<<O,O+=8),ie+=_&(1<<Y)-1,_>>>=Y,O-=Y),O<15&&(_+=P[r++]<<O,O+=8,_+=P[r++]<<O,O+=8),oe=U[_&te];n:for(;;){if(Y=oe>>>24,_>>>=Y,O-=Y,Y=oe>>>16&255,Y&16){if(de=oe&65535,Y&=15,O<Y&&(_+=P[r++]<<O,O+=8,O<Y&&(_+=P[r++]<<O,O+=8)),de+=_&(1<<Y)-1,de>d){e.msg="invalid distance too far back",T.mode=Tm;break e}if(_>>>=Y,O-=Y,Y=o-c,de>Y){if(Y=de-Y,Y>g&&T.sane){e.msg="invalid distance too far back",T.mode=Tm;break e}if(q=0,R=S,b===0){if(q+=f-Y,Y<ie){ie-=Y;do G[o++]=S[q++];while(--Y);q=o-de,R=G}}else if(b<Y){if(q+=f+b-Y,Y-=b,Y<ie){ie-=Y;do G[o++]=S[q++];while(--Y);if(q=0,b<ie){Y=b,ie-=Y;do G[o++]=S[q++];while(--Y);q=o-de,R=G}}}else if(q+=b-Y,Y<ie){ie-=Y;do G[o++]=S[q++];while(--Y);q=o-de,R=G}for(;ie>2;)G[o++]=R[q++],G[o++]=R[q++],G[o++]=R[q++],ie-=3;ie&&(G[o++]=R[q++],ie>1&&(G[o++]=R[q++]))}else{q=o-de;do G[o++]=G[q++],G[o++]=G[q++],G[o++]=G[q++],ie-=3;while(ie>2);ie&&(G[o++]=G[q++],ie>1&&(G[o++]=G[q++]))}}else if((Y&64)===0){oe=U[(oe&65535)+(_&(1<<Y)-1)];continue n}else{e.msg="invalid distance code",T.mode=Tm;break e}break}}else if((Y&64)===0){oe=V[(oe&65535)+(_&(1<<Y)-1)];continue t}else if(Y&32){T.mode=eM;break e}else{e.msg="invalid literal/length code",T.mode=Tm;break e}break}}while(r<s&&o<u);ie=O>>3,r-=ie,O-=ie<<3,_&=(1<<O)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<u?257+(u-o):257-(o-u),T.hold=_,T.bits=O};const Kh=15,wx=852,xx=592,Ax=0,e2=1,Sx=2,nM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rM=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),iM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),aM=(n,e,t,r,s,o,c,u)=>{const d=u.bits;let f=0,g=0,b=0,S=0,_=0,O=0,V=0,U=0,j=0,te=0,oe,Y,ie,de,q,R=null,P;const G=new Uint16Array(Kh+1),T=new Uint16Array(Kh+1);let k=null,D,fe,xe;for(f=0;f<=Kh;f++)G[f]=0;for(g=0;g<r;g++)G[e[t+g]]++;for(_=d,S=Kh;S>=1&&G[S]===0;S--);if(_>S&&(_=S),S===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,u.bits=1,0;for(b=1;b<S&&G[b]===0;b++);for(_<b&&(_=b),U=1,f=1;f<=Kh;f++)if(U<<=1,U-=G[f],U<0)return-1;if(U>0&&(n===Ax||S!==1))return-1;for(T[1]=0,f=1;f<Kh;f++)T[f+1]=T[f]+G[f];for(g=0;g<r;g++)e[t+g]!==0&&(c[T[e[t+g]]++]=g);if(n===Ax?(R=k=c,P=20):n===e2?(R=nM,k=rM,P=257):(R=iM,k=sM,P=0),te=0,g=0,f=b,q=o,O=_,V=0,ie=-1,j=1<<_,de=j-1,n===e2&&j>wx||n===Sx&&j>xx)return 1;for(;;){D=f-V,c[g]+1<P?(fe=0,xe=c[g]):c[g]>=P?(fe=k[c[g]-P],xe=R[c[g]-P]):(fe=96,xe=0),oe=1<<f-V,Y=1<<O,b=Y;do Y-=oe,s[q+(te>>V)+Y]=D<<24|fe<<16|xe|0;while(Y!==0);for(oe=1<<f-1;te&oe;)oe>>=1;if(oe!==0?(te&=oe-1,te+=oe):te=0,g++,--G[f]===0){if(f===S)break;f=e[t+c[g]]}if(f>_&&(te&de)!==ie){for(V===0&&(V=_),q+=b,O=f-V,U=1<<O;O+V<S&&(U-=G[O+V],!(U<=0));)O++,U<<=1;if(j+=1<<O,n===e2&&j>wx||n===Sx&&j>xx)return 1;ie=te&de,s[ie]=_<<24|O<<16|q-o|0}}return te!==0&&(s[q+te]=f-V<<24|64<<16|0),u.bits=_,0};var Hd=aM;const oM=0,vE=1,bE=2,{Z_FINISH:Ex,Z_BLOCK:lM,Z_TREES:Cm,Z_OK:ah,Z_STREAM_END:cM,Z_NEED_DICT:uM,Z_STREAM_ERROR:fo,Z_DATA_ERROR:_E,Z_MEM_ERROR:wE,Z_BUF_ERROR:hM,Z_DEFLATED:Nx}=mE,s1=16180,Tx=16181,Cx=16182,Ix=16183,Rx=16184,kx=16185,Lx=16186,Dx=16187,Px=16188,Ox=16189,xg=16190,rc=16191,t2=16192,Mx=16193,n2=16194,jx=16195,Vx=16196,Ux=16197,Fx=16198,Im=16199,Rm=16200,Bx=16201,zx=16202,qx=16203,Hx=16204,Gx=16205,r2=16206,Wx=16207,Yx=16208,zr=16209,xE=16210,AE=16211,fM=852,dM=592,pM=15,mM=pM,$x=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function gM(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<s1||e.mode>AE?1:0},SE=n=>{if(hh(n))return fo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=s1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fM),e.distcode=e.distdyn=new Int32Array(dM),e.sane=1,e.back=-1,ah},EE=n=>{if(hh(n))return fo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,SE(n)},NE=(n,e)=>{let t;if(hh(n))return fo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?fo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,EE(n))},TE=(n,e)=>{if(!n)return fo;const t=new gM;n.state=t,t.strm=n,t.window=null,t.mode=s1;const r=NE(n,e);return r!==ah&&(n.state=null),r},yM=n=>TE(n,mM);let Kx=!0,i2,s2;const vM=n=>{if(Kx){i2=new Int32Array(512),s2=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Hd(vE,n.lens,0,288,i2,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Hd(bE,n.lens,0,32,s2,0,n.work,{bits:5}),Kx=!1}n.lencode=i2,n.lenbits=9,n.distcode=s2,n.distbits=5},CE=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},bM=(n,e)=>{let t,r,s,o,c,u,d,f,g,b,S,_,O,V,U=0,j,te,oe,Y,ie,de,q,R;const P=new Uint8Array(4);let G,T;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hh(n)||!n.output||!n.input&&n.avail_in!==0)return fo;t=n.state,t.mode===rc&&(t.mode=t2),c=n.next_out,s=n.output,d=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,f=t.hold,g=t.bits,b=u,S=d,R=ah;e:for(;;)switch(t.mode){case s1:if(t.wrap===0){t.mode=t2;break}for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=f&255,P[1]=f>>>8&255,t.check=pl(t.check,P,2,0),f=0,g=0,t.mode=Tx;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=zr;break}if((f&15)!==Nx){n.msg="unknown compression method",t.mode=zr;break}if(f>>>=4,g-=4,q=(f&15)+8,t.wbits===0&&(t.wbits=q),q>15||q>t.wbits){n.msg="invalid window size",t.mode=zr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?Ox:rc,f=0,g=0;break;case Tx:for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.flags=f,(t.flags&255)!==Nx){n.msg="unknown compression method",t.mode=zr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=zr;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=pl(t.check,P,2,0)),f=0,g=0,t.mode=Cx;case Cx:for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,P[2]=f>>>16&255,P[3]=f>>>24&255,t.check=pl(t.check,P,4,0)),f=0,g=0,t.mode=Ix;case Ix:for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=pl(t.check,P,2,0)),f=0,g=0,t.mode=Rx;case Rx:if(t.flags&1024){for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=pl(t.check,P,2,0)),f=0,g=0}else t.head&&(t.head.extra=null);t.mode=kx;case kx:if(t.flags&1024&&(_=t.length,_>u&&(_=u),_&&(t.head&&(q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+_),q)),t.flags&512&&t.wrap&4&&(t.check=pl(t.check,r,_,o)),u-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=Lx;case Lx:if(t.flags&2048){if(u===0)break e;_=0;do q=r[o+_++],t.head&&q&&t.length<65536&&(t.head.name+=String.fromCharCode(q));while(q&&_<u);if(t.flags&512&&t.wrap&4&&(t.check=pl(t.check,r,_,o)),u-=_,o+=_,q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Dx;case Dx:if(t.flags&4096){if(u===0)break e;_=0;do q=r[o+_++],t.head&&q&&t.length<65536&&(t.head.comment+=String.fromCharCode(q));while(q&&_<u);if(t.flags&512&&t.wrap&4&&(t.check=pl(t.check,r,_,o)),u-=_,o+=_,q)break e}else t.head&&(t.head.comment=null);t.mode=Px;case Px:if(t.flags&512){for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=zr;break}f=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=rc;break;case Ox:for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}n.adler=t.check=$x(f),f=0,g=0,t.mode=xg;case xg:if(t.havedict===0)return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,uM;n.adler=t.check=1,t.mode=rc;case rc:if(e===lM||e===Cm)break e;case t2:if(t.last){f>>>=g&7,g-=g&7,t.mode=r2;break}for(;g<3;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}switch(t.last=f&1,f>>>=1,g-=1,f&3){case 0:t.mode=Mx;break;case 1:if(vM(t),t.mode=Im,e===Cm){f>>>=2,g-=2;break e}break;case 2:t.mode=Vx;break;case 3:n.msg="invalid block type",t.mode=zr}f>>>=2,g-=2;break;case Mx:for(f>>>=g&7,g-=g&7;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=zr;break}if(t.length=f&65535,f=0,g=0,t.mode=n2,e===Cm)break e;case n2:t.mode=jx;case jx:if(_=t.length,_){if(_>u&&(_=u),_>d&&(_=d),_===0)break e;s.set(r.subarray(o,o+_),c),u-=_,o+=_,d-=_,c+=_,t.length-=_;break}t.mode=rc;break;case Vx:for(;g<14;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.nlen=(f&31)+257,f>>>=5,g-=5,t.ndist=(f&31)+1,f>>>=5,g-=5,t.ncode=(f&15)+4,f>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=zr;break}t.have=0,t.mode=Ux;case Ux:for(;t.have<t.ncode;){for(;g<3;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.lens[k[t.have++]]=f&7,f>>>=3,g-=3}for(;t.have<19;)t.lens[k[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,G={bits:t.lenbits},R=Hd(oM,t.lens,0,19,t.lencode,0,t.work,G),t.lenbits=G.bits,R){n.msg="invalid code lengths set",t.mode=zr;break}t.have=0,t.mode=Fx;case Fx:for(;t.have<t.nlen+t.ndist;){for(;U=t.lencode[f&(1<<t.lenbits)-1],j=U>>>24,te=U>>>16&255,oe=U&65535,!(j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(oe<16)f>>>=j,g-=j,t.lens[t.have++]=oe;else{if(oe===16){for(T=j+2;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(f>>>=j,g-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=zr;break}q=t.lens[t.have-1],_=3+(f&3),f>>>=2,g-=2}else if(oe===17){for(T=j+3;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=j,g-=j,q=0,_=3+(f&7),f>>>=3,g-=3}else{for(T=j+7;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=j,g-=j,q=0,_=11+(f&127),f>>>=7,g-=7}if(t.have+_>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=zr;break}for(;_--;)t.lens[t.have++]=q}}if(t.mode===zr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=zr;break}if(t.lenbits=9,G={bits:t.lenbits},R=Hd(vE,t.lens,0,t.nlen,t.lencode,0,t.work,G),t.lenbits=G.bits,R){n.msg="invalid literal/lengths set",t.mode=zr;break}if(t.distbits=6,t.distcode=t.distdyn,G={bits:t.distbits},R=Hd(bE,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,G),t.distbits=G.bits,R){n.msg="invalid distances set",t.mode=zr;break}if(t.mode=Im,e===Cm)break e;case Im:t.mode=Rm;case Rm:if(u>=6&&d>=258){n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,tM(n,S),c=n.next_out,s=n.output,d=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,f=t.hold,g=t.bits,t.mode===rc&&(t.back=-1);break}for(t.back=0;U=t.lencode[f&(1<<t.lenbits)-1],j=U>>>24,te=U>>>16&255,oe=U&65535,!(j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(te&&(te&240)===0){for(Y=j,ie=te,de=oe;U=t.lencode[de+((f&(1<<Y+ie)-1)>>Y)],j=U>>>24,te=U>>>16&255,oe=U&65535,!(Y+j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=Y,g-=Y,t.back+=Y}if(f>>>=j,g-=j,t.back+=j,t.length=oe,te===0){t.mode=Gx;break}if(te&32){t.back=-1,t.mode=rc;break}if(te&64){n.msg="invalid literal/length code",t.mode=zr;break}t.extra=te&15,t.mode=Bx;case Bx:if(t.extra){for(T=t.extra;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=zx;case zx:for(;U=t.distcode[f&(1<<t.distbits)-1],j=U>>>24,te=U>>>16&255,oe=U&65535,!(j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if((te&240)===0){for(Y=j,ie=te,de=oe;U=t.distcode[de+((f&(1<<Y+ie)-1)>>Y)],j=U>>>24,te=U>>>16&255,oe=U&65535,!(Y+j<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=Y,g-=Y,t.back+=Y}if(f>>>=j,g-=j,t.back+=j,te&64){n.msg="invalid distance code",t.mode=zr;break}t.offset=oe,t.extra=te&15,t.mode=qx;case qx:if(t.extra){for(T=t.extra;g<T;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=zr;break}t.mode=Hx;case Hx:if(d===0)break e;if(_=S-d,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=zr;break}_>t.wnext?(_-=t.wnext,O=t.wsize-_):O=t.wnext-_,_>t.length&&(_=t.length),V=t.window}else V=s,O=c-t.offset,_=t.length;_>d&&(_=d),d-=_,t.length-=_;do s[c++]=V[O++];while(--_);t.length===0&&(t.mode=Rm);break;case Gx:if(d===0)break e;s[c++]=t.length,d--,t.mode=Rm;break;case r2:if(t.wrap){for(;g<32;){if(u===0)break e;u--,f|=r[o++]<<g,g+=8}if(S-=d,n.total_out+=S,t.total+=S,t.wrap&4&&S&&(n.adler=t.check=t.flags?pl(t.check,s,S,c-S):hy(t.check,s,S,c-S)),S=d,t.wrap&4&&(t.flags?f:$x(f))!==t.check){n.msg="incorrect data check",t.mode=zr;break}f=0,g=0}t.mode=Wx;case Wx:if(t.wrap&&t.flags){for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=zr;break}f=0,g=0}t.mode=Yx;case Yx:R=cM;break e;case zr:R=_E;break e;case xE:return wE;case AE:default:return fo}return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,(t.wsize||S!==n.avail_out&&t.mode<zr&&(t.mode<r2||e!==Ex))&&CE(n,n.output,n.next_out,S-n.avail_out),b-=n.avail_in,S-=n.avail_out,n.total_in+=b,n.total_out+=S,t.total+=S,t.wrap&4&&S&&(n.adler=t.check=t.flags?pl(t.check,s,S,n.next_out-S):hy(t.check,s,S,n.next_out-S)),n.data_type=t.bits+(t.last?64:0)+(t.mode===rc?128:0)+(t.mode===Im||t.mode===n2?256:0),(b===0&&S===0||e===Ex)&&R===ah&&(R=hM),R},_M=n=>{if(hh(n))return fo;let e=n.state;return e.window&&(e.window=null),n.state=null,ah},wM=(n,e)=>{if(hh(n))return fo;const t=n.state;return(t.wrap&2)===0?fo:(t.head=e,e.done=!1,ah)},xM=(n,e)=>{const t=e.length;let r,s,o;return hh(n)||(r=n.state,r.wrap!==0&&r.mode!==xg)?fo:r.mode===xg&&(s=1,s=hy(s,e,t,0),s!==r.check)?_E:(o=CE(n,e,t,t),o?(r.mode=xE,wE):(r.havedict=1,ah))};var AM=EE,SM=NE,EM=SE,NM=yM,TM=TE,CM=bM,IM=_M,RM=wM,kM=xM,LM="pako inflate (from Nodeca project)",ic={inflateReset:AM,inflateReset2:SM,inflateResetKeep:EM,inflateInit:NM,inflateInit2:TM,inflate:CM,inflateEnd:IM,inflateGetHeader:RM,inflateSetDictionary:kM,inflateInfo:LM};function DM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PM=DM;const IE=Object.prototype.toString,{Z_NO_FLUSH:OM,Z_FINISH:MM,Z_OK:op,Z_STREAM_END:a2,Z_NEED_DICT:o2,Z_STREAM_ERROR:jM,Z_DATA_ERROR:Xx,Z_MEM_ERROR:VM}=mE;function xp(n){this.options=gE.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z9,this.strm.avail_out=0;let t=ic.inflateInit2(this.strm,e.windowBits);if(t!==op)throw new Error(fy[t]);if(this.header=new PM,ic.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=dy.string2buf(e.dictionary):IE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ic.inflateSetDictionary(this.strm,e.dictionary),t!==op)))throw new Error(fy[t])}xp.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?MM:OM,IE.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=ic.inflate(t,c),o===o2&&s&&(o=ic.inflateSetDictionary(t,s),o===op?o=ic.inflate(t,c):o===Xx&&(o=o2));t.avail_in>0&&o===a2&&t.state.wrap>0&&n[t.next_in]!==0;)ic.inflateReset(t),o=ic.inflate(t,c);switch(o){case jM:case Xx:case o2:case VM:return this.onEnd(o),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||o===a2))if(this.options.to==="string"){let d=dy.utf8border(t.output,t.next_out),f=t.next_out-d,g=dy.buf2string(t.output,d);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(d,d+f),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===op&&u===0)){if(o===a2)return o=ic.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};xp.prototype.onData=function(n){this.chunks.push(n)};xp.prototype.onEnd=function(n){n===op&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gE.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function UM(n,e){const t=new xp(e);if(t.push(n),t.err)throw t.msg||fy[t.err];return t.result}var FM=xp,BM=UM,zM={Inflate:FM,inflate:BM};const{Inflate:qM,inflate:HM}=zM;var Qx=qM,GM=HM;const RE=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;RE[n]=e}const Jx=4294967295;function WM(n,e,t){let r=n;for(let s=0;s<t;s++)r=RE[(r^e[s])&255]^r>>>8;return r}function YM(n,e){return(WM(Jx,n,e)^Jx)>>>0}function Zx(n,e,t){const r=n.readUint32(),s=YM(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function kE(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function LE(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function DE(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function PE(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function OE(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+$M(e[o-s],t[o],t[o-s])&255}}function $M(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return s<=o&&s<=c?n:o<=c?e:t}function KM(n,e,t,r,s,o){switch(n){case 0:kE(e,t,s);break;case 1:LE(e,t,s,o);break;case 2:DE(e,t,r,s);break;case 3:PE(e,t,r,s,o);break;case 4:OE(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const XM=new Uint16Array([255]),QM=new Uint8Array(XM.buffer),JM=QM[0]===255;function ZM(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*s,d=new Uint8Array(r*t*u);let f=0;for(let g=0;g<7;g++){const b=c[g],S=Math.ceil((t-b.x)/b.xStep),_=Math.ceil((r-b.y)/b.yStep);if(S<=0||_<=0)continue;const O=S*u,V=new Uint8Array(O);for(let U=0;U<_;U++){const j=e[f++],te=e.subarray(f,f+O);f+=O;const oe=new Uint8Array(O);KM(j,te,oe,V,O,u),V.set(oe);for(let Y=0;Y<S;Y++){const ie=b.x+Y*b.xStep,de=b.y+U*b.yStep;if(!(ie>=t||de>=r))for(let q=0;q<u;q++)d[(de*t+ie)*u+q]=oe[Y*u+q]}}}if(o===16){const g=new Uint16Array(d.buffer);if(JM)for(let b=0;b<g.length;b++)g[b]=ej(g[b]);return g}else return d}function ej(n){return(n&255)<<8|n>>8&255}const tj=new Uint16Array([255]),nj=new Uint8Array(tj.buffer),rj=nj[0]===255,ij=new Uint8Array(0);function e4(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=Math.ceil(o/8)*s,u=Math.ceil(o/8*s*t),d=new Uint8Array(r*u);let f=ij,g=0,b,S;for(let _=0;_<r;_++){switch(b=e.subarray(g+1,g+1+u),S=d.subarray(_*u,(_+1)*u),e[g]){case 0:kE(b,S,u);break;case 1:LE(b,S,u,c);break;case 2:DE(b,S,f,u);break;case 3:PE(b,S,f,u,c);break;case 4:OE(b,S,f,u,c);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}f=S,g+=u+1}if(o===16){const _=new Uint16Array(d.buffer);if(rj)for(let O=0;O<_.length;O++)_[O]=sj(_[O]);return _}else return d}function sj(n){return(n&255)<<8|n>>8&255}const Wm=Uint8Array.of(137,80,78,71,13,10,26,10);function t4(n){if(!aj(n.readBytes(Wm.length)))throw new Error("wrong PNG signature")}function aj(n){if(n.length<Wm.length)return!1;for(let e=0;e<Wm.length;e++)if(n[e]!==Wm[e])return!1;return!0}const oj="tEXt",lj=0,ME=new TextDecoder("latin1");function cj(n){if(hj(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const uj=/^[\u0000-\u00FF]*$/;function hj(n){if(!uj.test(n))throw new Error("invalid latin1 text")}function fj(n,e,t){const r=jE(e);n[r]=dj(e,t-r.length-1)}function jE(n){for(n.mark();n.readByte()!==lj;);const e=n.offset;n.reset();const t=ME.decode(n.readBytes(e-n.offset-1));return n.skip(1),cj(t),t}function dj(n,e){return ME.decode(n.readBytes(e))}const ja={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},l2={UNKNOWN:-1,DEFLATE:0},n4={UNKNOWN:-1,ADAPTIVE:0},c2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},km={NONE:0,BACKGROUND:1,PREVIOUS:2},u2={SOURCE:0,OVER:1};class pj extends Lv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Qx,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=l2.UNKNOWN,this._filterMethod=n4.UNKNOWN,this._interlaceMethod=c2.UNKNOWN,this._colorType=ja.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(t4(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(t4(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case oj:fj(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Zx(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Zx(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=mj(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ja.GREYSCALE:r=1;break;case ja.TRUECOLOUR:r=3;break;case ja.INDEXED_COLOUR:r=1;break;case ja.GREYSCALE_ALPHA:r=2;break;case ja.TRUECOLOUR_ALPHA:r=4;break;case ja.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==l2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ja.GREYSCALE:case ja.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ja.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ja.UNKNOWN:case ja.GREYSCALE_ALPHA:case ja.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=jE(this),r=this.readUint8();if(r!==l2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:GM(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=e4({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case km.NONE:break;case km.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const c=(s*e.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[c+u]=0}break;case km.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,c)=>{const u=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,d=(o*t.width+c)*this._png.channels;return{index:u,frameIndex:d}};switch(t.blendOp){case u2.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:d}=s(o,c);for(let f=0;f<this._png.channels;f++)e.data[u+f]=t.data[d+f]}break;case u2.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:d}=s(o,c);for(let f=0;f<this._png.channels;f++){const g=t.data[d+this._png.channels-1]/r,b=f%(this._png.channels-1)===0?1:t.data[d+f],S=Math.floor(g*b+(1-g)*e.data[u+f]);e.data[u+f]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==n4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===c2.NO_INTERLACE)this._png.data=e4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===c2.ADAM7)this._png.data=ZM({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:km.NONE,blendOp:u2.SOURCE,data:e}),this._inflator=new Qx,this._writingDataChunks=!1}}function mj(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var r4;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(r4||(r4={}));function gj(n,e){return new pj(n,e).decode()}var sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function h2(){sn.console&&typeof sn.console.log=="function"&&sn.console.log.apply(sn.console,arguments)}var xr={log:h2,warn:function(n){sn.console&&(typeof sn.console.warn=="function"?sn.console.warn.apply(sn.console,arguments):h2.call(null,arguments))},error:function(n){sn.console&&(typeof sn.console.error=="function"?sn.console.error.apply(sn.console,arguments):h2(n))}};function f2(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){zu(r.response,e,t)},r.onerror=function(){xr.error("could not download file")},r.send()}function i4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var zu=sn.saveAs||((typeof window>"u"?"undefined":lr(window))!=="object"||window!==sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=sn.URL||sn.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?i4(s.href)?f2(n,e,t):Lm(s,s.target="_blank"):Lm(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Lm(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(i4(n))f2(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Lm(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:lr(o)!=="object"&&(xr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return f2(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(sn.HTMLElement)||sn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":lr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var g=u.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},u.readAsDataURL(n)}else{var d=sn.URL||sn.webkitURL,f=d.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});function VE(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,c=s.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+u+d+f}}var Ym=sn.atob.bind(sn),s4=sn.btoa.bind(sn);function d2(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=Ls(t,r,s,o,e[0],7,-680876936),o=Ls(o,t,r,s,e[1],12,-389564586),s=Ls(s,o,t,r,e[2],17,606105819),r=Ls(r,s,o,t,e[3],22,-1044525330),t=Ls(t,r,s,o,e[4],7,-176418897),o=Ls(o,t,r,s,e[5],12,1200080426),s=Ls(s,o,t,r,e[6],17,-1473231341),r=Ls(r,s,o,t,e[7],22,-45705983),t=Ls(t,r,s,o,e[8],7,1770035416),o=Ls(o,t,r,s,e[9],12,-1958414417),s=Ls(s,o,t,r,e[10],17,-42063),r=Ls(r,s,o,t,e[11],22,-1990404162),t=Ls(t,r,s,o,e[12],7,1804603682),o=Ls(o,t,r,s,e[13],12,-40341101),s=Ls(s,o,t,r,e[14],17,-1502002290),t=Ds(t,r=Ls(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Ds(o,t,r,s,e[6],9,-1069501632),s=Ds(s,o,t,r,e[11],14,643717713),r=Ds(r,s,o,t,e[0],20,-373897302),t=Ds(t,r,s,o,e[5],5,-701558691),o=Ds(o,t,r,s,e[10],9,38016083),s=Ds(s,o,t,r,e[15],14,-660478335),r=Ds(r,s,o,t,e[4],20,-405537848),t=Ds(t,r,s,o,e[9],5,568446438),o=Ds(o,t,r,s,e[14],9,-1019803690),s=Ds(s,o,t,r,e[3],14,-187363961),r=Ds(r,s,o,t,e[8],20,1163531501),t=Ds(t,r,s,o,e[13],5,-1444681467),o=Ds(o,t,r,s,e[2],9,-51403784),s=Ds(s,o,t,r,e[7],14,1735328473),t=Ps(t,r=Ds(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Ps(o,t,r,s,e[8],11,-2022574463),s=Ps(s,o,t,r,e[11],16,1839030562),r=Ps(r,s,o,t,e[14],23,-35309556),t=Ps(t,r,s,o,e[1],4,-1530992060),o=Ps(o,t,r,s,e[4],11,1272893353),s=Ps(s,o,t,r,e[7],16,-155497632),r=Ps(r,s,o,t,e[10],23,-1094730640),t=Ps(t,r,s,o,e[13],4,681279174),o=Ps(o,t,r,s,e[0],11,-358537222),s=Ps(s,o,t,r,e[3],16,-722521979),r=Ps(r,s,o,t,e[6],23,76029189),t=Ps(t,r,s,o,e[9],4,-640364487),o=Ps(o,t,r,s,e[12],11,-421815835),s=Ps(s,o,t,r,e[15],16,530742520),t=Os(t,r=Ps(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Os(o,t,r,s,e[7],10,1126891415),s=Os(s,o,t,r,e[14],15,-1416354905),r=Os(r,s,o,t,e[5],21,-57434055),t=Os(t,r,s,o,e[12],6,1700485571),o=Os(o,t,r,s,e[3],10,-1894986606),s=Os(s,o,t,r,e[10],15,-1051523),r=Os(r,s,o,t,e[1],21,-2054922799),t=Os(t,r,s,o,e[8],6,1873313359),o=Os(o,t,r,s,e[15],10,-30611744),s=Os(s,o,t,r,e[6],15,-1560198380),r=Os(r,s,o,t,e[13],21,1309151649),t=Os(t,r,s,o,e[4],6,-145523070),o=Os(o,t,r,s,e[11],10,-1120210379),s=Os(s,o,t,r,e[2],15,718787259),r=Os(r,s,o,t,e[9],21,-343485551),n[0]=nu(t,n[0]),n[1]=nu(r,n[1]),n[2]=nu(s,n[2]),n[3]=nu(o,n[3])}function a1(n,e,t,r,s,o){return e=nu(nu(e,n),nu(r,o)),nu(e<<s|e>>>32-s,t)}function Ls(n,e,t,r,s,o,c){return a1(e&t|~e&r,n,e,s,o,c)}function Ds(n,e,t,r,s,o,c){return a1(e&r|t&~r,n,e,s,o,c)}function Ps(n,e,t,r,s,o,c){return a1(e^t^r,n,e,s,o,c)}function Os(n,e,t,r,s,o,c){return a1(t^(e|~r),n,e,s,o,c)}function UE(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)d2(r,yj(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(d2(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,d2(r,s),r}function yj(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var a4="0123456789abcdef".split("");function vj(n){for(var e="",t=0;t<4;t++)e+=a4[n>>8*t+4&15]+a4[n>>8*t&15];return e}function bj(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function py(n){return UE(n).map(bj).join("")}var _j=(function(n){for(var e=0;e<n.length;e++)n[e]=vj(n[e]);return n.join("")})(UE("hello"))!="5d41402abc4b2a76b9719d911017c592";function nu(n,e){if(_j){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function my(n,e){var t,r,s,o;if(n!==t){for(var c=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),u=[],d=0;d<256;d++)u[d]=d;var f=0;for(d=0;d<256;d++){var g=u[d];f=(f+g+c.charCodeAt(d))%256,u[d]=u[f],u[f]=g}t=n,r=u}else u=r;var b=e.length,S=0,_=0,O="";for(d=0;d<b;d++)_=(_+(g=u[S=(S+1)%256]))%256,u[S]=u[_],u[_]=g,c=u[(u[S]+u[_])%256],O+=String.fromCharCode(e.charCodeAt(d)^c);return O}var o4={print:4,modify:8,copy:16,"annot-forms":32};function rf(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(u){if(o4.perm!==void 0)throw new Error("Invalid permission: "+u);s+=o4[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=py(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=my(this.encryptionKey,this.padding)}function sf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function l4(n){if(lr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(u){sn.console&&xr.error("jsPDF PubSub Error",u.message,u)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ag(n){if(!(this instanceof Ag))return new Ag(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function FE(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function qu(n,e,t,r,s){if(!(this instanceof qu))return new qu(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,FE.call(this,r,s)}function cf(n,e,t,r,s){if(!(this instanceof cf))return new cf(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,FE.call(this,r,s)}function Bt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],c=[],u=1,d=16,f="S",g=null;lr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,S={},_={internal:{},__private__:{}};_.__private__.PubSub=l4;var O="1.3",V=_.__private__.getPdfVersion=function(){return O};_.__private__.setPdfVersion=function(x){O=x};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return U};var j=_.__private__.getPageFormat=function(x){return U[x]};s=s||"a4";var te="compat",oe="advanced",Y=te;function ie(){this.saveGraphicsState(),ae(new mt(bt,0,0,-bt,0,Hs()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),f="n",Y=oe}function de(){this.restoreGraphicsState(),f="S",Y=te}var q=_.__private__.combineFontStyleAndFontWeight=function(x,F){if(x=="bold"&&F=="normal"||x=="bold"&&F==400||x=="normal"&&F=="italic"||x=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(x=F==400||F==="normal"?x==="italic"?"italic":"normal":F!=700&&F!=="bold"||x!=="normal"?(F==700?"bold":F)+""+x:"bold"),x};_.advancedAPI=function(x){var F=Y===te;return F&&ie.call(this),typeof x!="function"||(x(this),F&&de.call(this)),this},_.compatAPI=function(x){var F=Y===oe;return F&&de.call(this),typeof x!="function"||(x(this),F&&ie.call(this)),this},_.isAdvancedAPI=function(){return Y===oe};var R,P=function(x){if(Y!==oe)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=_.roundToPrecision=_.__private__.roundToPrecision=function(x,F){var ue=e||F;if(isNaN(x)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ue).replace(/0+$/,"")};R=_.hpf=_.__private__.hpf=typeof d=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return G(x,d)}:d==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return G(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return G(x,16)};var T=_.f2=_.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return G(x,2)},k=_.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return G(x,3)},D=_.scale=_.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return Y===te?x*bt:Y===oe?x:void 0},fe=function(x){return D((function(F){return Y===te?Hs()-F:Y===oe?F:void 0})(x))};_.__private__.setPrecision=_.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var xe,ne="00000000000000000000000000000000",Z=_.__private__.getFileId=function(){return ne},re=_.__private__.setFileId=function(x){return ne=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(vr=new rf(g.userPermissions,g.userPassword,g.ownerPassword,ne)),ne};_.setFileId=function(x){return re(x),this},_.getFileId=function(){return Z()};var Ne=_.__private__.convertDateToPDFDate=function(x){var F=x.getTimezoneOffset(),ue=F<0?"+":"-",be=Math.floor(Math.abs(F/60)),Te=Math.abs(F%60),Ge=[ue,$(be),"'",$(Te),"'"].join("");return["D:",x.getFullYear(),$(x.getMonth()+1),$(x.getDate()),$(x.getHours()),$(x.getMinutes()),$(x.getSeconds()),Ge].join("")},ve=_.__private__.convertPDFDateToDate=function(x){var F=parseInt(x.substr(2,4),10),ue=parseInt(x.substr(6,2),10)-1,be=parseInt(x.substr(8,2),10),Te=parseInt(x.substr(10,2),10),Ge=parseInt(x.substr(12,2),10),tt=parseInt(x.substr(14,2),10);return new Date(F,ue,be,Te,Ge,tt,0)},X=_.__private__.setCreationDate=function(x){var F;if(x===void 0&&(x=new Date),x instanceof Date)F=Ne(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=x}return xe=F},L=_.__private__.getCreationDate=function(x){var F=xe;return x==="jsDate"&&(F=ve(xe)),F};_.setCreationDate=function(x){return X(x),this},_.getCreationDate=function(x){return L(x)};var z,$=_.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},se=_.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},pe=0,me=[],Ee=[],Ie=0,Fe=[],et=[],ot=!1,ut=Ee;_.__private__.setCustomOutputDestination=function(x){ot=!0,ut=x};var vt=function(x){ot||(ut=x)};_.__private__.resetCustomOutputDestination=function(){ot=!1,ut=Ee};var ae=_.__private__.out=function(x){return x=x.toString(),Ie+=x.length+1,ut.push(x),ut},lt=_.__private__.write=function(x){return ae(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Kt=_.__private__.getArrayBuffer=function(x){for(var F=x.length,ue=new ArrayBuffer(F),be=new Uint8Array(ue);F--;)be[F]=x.charCodeAt(F);return ue},Mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Mt};var Be=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(x){return Be=Y===oe?x/bt:x,this};var pt,le=_.__private__.getFontSize=_.getFontSize=function(){return Y===te?Be:Be*bt},ye=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(x){return ye=x,this},_.__private__.getR2L=_.getR2L=function(){return ye};var Se,$e=_.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))pt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');pt=x}else pt=parseInt(x,10)};_.__private__.getZoomMode=function(){return pt};var He,Ve=_.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Se=x};_.__private__.getPageMode=function(){return Se};var it=_.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');He=x};_.__private__.getLayoutMode=function(){return He},_.__private__.setDisplayMode=_.setDisplayMode=function(x,F,ue){return $e(x),it(F),Ve(ue),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(x){if(Object.keys(dt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[x]},_.__private__.getDocumentProperties=function(){return dt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(x){for(var F in dt)dt.hasOwnProperty(F)&&x[F]&&(dt[F]=x[F]);return this},_.__private__.setDocumentProperty=function(x,F){if(Object.keys(dt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[x]=F};var st,bt,gt,dn,Zt,Pt={},Ut={},Qt=[],Ot={},yn={},Et={},zt={},jn=null,jt=0,Ct=[],ht=new l4(_),wn=n.hotfixes||[],Sn={},ur={},Sr=[],mt=function x(F,ue,be,Te,Ge,tt){if(!(this instanceof x))return new x(F,ue,be,Te,Ge,tt);isNaN(F)&&(F=1),isNaN(ue)&&(ue=0),isNaN(be)&&(be=0),isNaN(Te)&&(Te=1),isNaN(Ge)&&(Ge=0),isNaN(tt)&&(tt=0),this._matrix=[F,ue,be,Te,Ge,tt]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(x)},mt.prototype.multiply=function(x){var F=x.sx*this.sx+x.shy*this.shx,ue=x.sx*this.shy+x.shy*this.sy,be=x.shx*this.sx+x.sy*this.shx,Te=x.shx*this.shy+x.sy*this.sy,Ge=x.tx*this.sx+x.ty*this.shx+this.tx,tt=x.tx*this.shy+x.ty*this.sy+this.ty;return new mt(F,ue,be,Te,Ge,tt)},mt.prototype.decompose=function(){var x=this.sx,F=this.shy,ue=this.shx,be=this.sy,Te=this.tx,Ge=this.ty,tt=Math.sqrt(x*x+F*F),xt=(x/=tt)*ue+(F/=tt)*be;ue-=x*xt,be-=F*xt;var It=Math.sqrt(ue*ue+be*be);return xt/=It,x*(be/=It)<F*(ue/=It)&&(x=-x,F=-F,xt=-xt,tt=-tt),{scale:new mt(tt,0,0,It,0,0),translate:new mt(1,0,0,1,Te,Ge),rotate:new mt(x,F,-F,x,0,0),skew:new mt(1,0,xt,1,0,0)}},mt.prototype.toString=function(x){return this.join(" ")},mt.prototype.inversed=function(){var x=this.sx,F=this.shy,ue=this.shx,be=this.sy,Te=this.tx,Ge=this.ty,tt=1/(x*be-F*ue),xt=be*tt,It=-F*tt,Wt=-ue*tt,Ft=x*tt;return new mt(xt,It,Wt,Ft,-xt*Te-Wt*Ge,-It*Te-Ft*Ge)},mt.prototype.applyToPoint=function(x){var F=x.x*this.sx+x.y*this.shx+this.tx,ue=x.x*this.shy+x.y*this.sy+this.ty;return new Si(F,ue)},mt.prototype.applyToRectangle=function(x){var F=this.applyToPoint(x),ue=this.applyToPoint(new Si(x.x+x.w,x.y+x.h));return new Zs(F.x,F.y,ue.x-F.x,ue.y-F.y)},mt.prototype.clone=function(){var x=this.sx,F=this.shy,ue=this.shx,be=this.sy,Te=this.tx,Ge=this.ty;return new mt(x,F,ue,be,Te,Ge)},_.Matrix=mt;var Er=_.matrixMult=function(x,F){return F.multiply(x)},ti=new mt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=ti;var Zn=function(x,F){if(!yn[x]){var ue=(F instanceof qu?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);F.id=ue,yn[x]=ue,Ot[ue]=F,ht.publish("addPattern",F)}};_.ShadingPattern=qu,_.TilingPattern=cf,_.addShadingPattern=function(x,F){return P("addShadingPattern()"),Zn(x,F),this},_.beginTilingPattern=function(x){P("beginTilingPattern()"),ea(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},_.endTilingPattern=function(x,F){P("endTilingPattern()"),F.stream=et[z].join(`
`),Zn(x,F),ht.publish("endTilingPattern",F),Sr.pop().restore()};var er,zn=_.__private__.newObject=function(){var x=Cn();return Gr(x,!0),x},Cn=_.__private__.newObjectDeferred=function(){return pe++,me[pe]=function(){return Ie},pe},Gr=function(x,F){return F=typeof F=="boolean"&&F,me[x]=Ie,F&&ae(x+" 0 obj"),x},Di=_.__private__.newAdditionalObject=function(){var x={objId:Cn(),content:""};return Fe.push(x),x},xi=Cn(),Gn=Cn(),rr=_.__private__.decodeColorString=function(x){var F=x.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ue=parseFloat(F[0]);F=[ue,ue,ue,"r"]}for(var be="#",Te=0;Te<3;Te++)be+=("0"+Math.floor(255*parseFloat(F[Te])).toString(16)).slice(-2);return be},ni=_.__private__.encodeColorString=function(x){var F;typeof x=="string"&&(x={ch1:x});var ue=x.ch1,be=x.ch2,Te=x.ch3,Ge=x.ch4,tt=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var xt=new VE(ue);if(xt.ok)ue=xt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var It=parseInt(ue.substr(1),16);ue=It>>16&255,be=It>>8&255,Te=255&It}if(be===void 0||Ge===void 0&&ue===be&&be===Te)F=typeof ue=="string"?ue+" "+tt[0]:x.precision===2?T(ue/255)+" "+tt[0]:k(ue/255)+" "+tt[0];else if(Ge===void 0||lr(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",tt[1]].join(" ");F=typeof ue=="string"?[ue,be,Te,tt[1]].join(" "):x.precision===2?[T(ue/255),T(be/255),T(Te/255),tt[1]].join(" "):[k(ue/255),k(be/255),k(Te/255),tt[1]].join(" ")}else F=typeof ue=="string"?[ue,be,Te,Ge,tt[2]].join(" "):x.precision===2?[T(ue),T(be),T(Te),T(Ge),tt[2]].join(" "):[k(ue),k(be),k(Te),k(Ge),tt[2]].join(" ");return F},Yi=_.__private__.getFilters=function(){return c},As=_.__private__.putStream=function(x){var F=(x=x||{}).data||"",ue=x.filters||Yi(),be=x.alreadyAppliedFilters||[],Te=x.addLength1||!1,Ge=F.length,tt=x.objectId,xt=function(N){return N};if(g!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(xt=vr.encryptor(tt,0));var It={};ue===!0&&(ue=["FlateEncode"]);var Wt=x.additionalKeyValues||[],Ft=(It=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(F,ue):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(It.data.length!==0&&(Wt.push({key:"Length",value:It.data.length}),Te===!0&&Wt.push({key:"Length1",value:Ge})),Ft.length!=0)if(Ft.split("/").length-1==1)Wt.push({key:"Filter",value:Ft});else{Wt.push({key:"Filter",value:"["+Ft+"]"});for(var xn=0;xn<Wt.length;xn+=1)if(Wt[xn].key==="DecodeParms"){for(var hr=[],tr=0;tr<It.reverseChain.split("/").length-1;tr+=1)hr.push("null");hr.push(Wt[xn].value),Wt[xn].value="["+hr.join(" ")+"]"}}ae("<<");for(var m=0;m<Wt.length;m++)ae("/"+Wt[m].key+" "+Wt[m].value);ae(">>"),It.data.length!==0&&(ae("stream"),ae(xt(It.data)),ae("endstream"))},qa=_.__private__.putPage=function(x){var F=x.number,ue=x.data,be=x.objId,Te=x.contentsObjId;Gr(be,!0),ae("<</Type /Page"),ae("/Parent "+x.rootDictionaryObjId+" 0 R"),ae("/Resources "+x.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(R(x.mediaBox.bottomLeftX))+" "+parseFloat(R(x.mediaBox.bottomLeftY))+" "+R(x.mediaBox.topRightX)+" "+R(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&ae("/CropBox ["+R(x.cropBox.bottomLeftX)+" "+R(x.cropBox.bottomLeftY)+" "+R(x.cropBox.topRightX)+" "+R(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&ae("/BleedBox ["+R(x.bleedBox.bottomLeftX)+" "+R(x.bleedBox.bottomLeftY)+" "+R(x.bleedBox.topRightX)+" "+R(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&ae("/TrimBox ["+R(x.trimBox.bottomLeftX)+" "+R(x.trimBox.bottomLeftY)+" "+R(x.trimBox.topRightX)+" "+R(x.trimBox.topRightY)+"]"),x.artBox!==null&&ae("/ArtBox ["+R(x.artBox.bottomLeftX)+" "+R(x.artBox.bottomLeftY)+" "+R(x.artBox.topRightX)+" "+R(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&ae("/UserUnit "+x.userUnit),ht.publish("putPage",{objId:be,pageContext:Ct[F],pageNumber:F,page:ue}),ae("/Contents "+Te+" 0 R"),ae(">>"),ae("endobj");var Ge=ue.join(`
`);return Y===oe&&(Ge+=`
Q`),Gr(Te,!0),As({data:Ge,filters:Yi(),objectId:Te}),ae("endobj"),be},Fs=_.__private__.putPages=function(){var x,F,ue=[];for(x=1;x<=jt;x++)Ct[x].objId=Cn(),Ct[x].contentsObjId=Cn();for(x=1;x<=jt;x++)ue.push(qa({number:x,data:et[x],objId:Ct[x].objId,contentsObjId:Ct[x].contentsObjId,mediaBox:Ct[x].mediaBox,cropBox:Ct[x].cropBox,bleedBox:Ct[x].bleedBox,trimBox:Ct[x].trimBox,artBox:Ct[x].artBox,userUnit:Ct[x].userUnit,rootDictionaryObjId:xi,resourceDictionaryObjId:Gn}));Gr(xi,!0),ae("<</Type /Pages");var be="/Kids [";for(F=0;F<jt;F++)be+=ue[F]+" 0 R ";ae(be+"]"),ae("/Count "+jt),ae(">>"),ae("endobj"),ht.publish("postPutPages")},$i=function(x){ht.publish("putFont",{font:x,out:ae,newObject:zn,putStream:As}),x.isAlreadyPutted!==!0&&(x.objectNumber=zn(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+sf(x.postScriptName)),ae("/Subtype /Type1"),typeof x.encoding=="string"&&ae("/Encoding /"+x.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Sa=function(x){x.objectNumber=zn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[R(x.x),R(x.y),R(x.x+x.width),R(x.y+x.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ue=x.pages[1].join(`
`);As({data:ue,additionalKeyValues:F,objectId:x.objectNumber}),ae("endobj")},ls=function(x,F){F||(F=21);var ue=zn(),be=(function(tt,xt){var It,Wt=[],Ft=1/(xt-1);for(It=0;It<1;It+=Ft)Wt.push(It);if(Wt.push(1),tt[0].offset!=0){var xn={offset:0,color:tt[0].color};tt.unshift(xn)}if(tt[tt.length-1].offset!=1){var hr={offset:1,color:tt[tt.length-1].color};tt.push(hr)}for(var tr="",m=0,N=0;N<Wt.length;N++){for(It=Wt[N];It>tt[m+1].offset;)m++;var M=tt[m].offset,J=(It-M)/(tt[m+1].offset-M),Re=tt[m].color,Me=tt[m+1].color;tr+=se(Math.round((1-J)*Re[0]+J*Me[0]).toString(16))+se(Math.round((1-J)*Re[1]+J*Me[1]).toString(16))+se(Math.round((1-J)*Re[2]+J*Me[2]).toString(16))}return tr.trim()})(x.colors,F),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+F+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),As({data:be,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),ae("endobj"),x.objectNumber=zn(),ae("<< /ShadingType "+x.type),ae("/ColorSpace /DeviceRGB");var Ge="/Coords ["+R(parseFloat(x.coords[0]))+" "+R(parseFloat(x.coords[1]))+" ";x.type===2?Ge+=R(parseFloat(x.coords[2]))+" "+R(parseFloat(x.coords[3])):Ge+=R(parseFloat(x.coords[2]))+" "+R(parseFloat(x.coords[3]))+" "+R(parseFloat(x.coords[4]))+" "+R(parseFloat(x.coords[5])),ae(Ge+="]"),x.matrix&&ae("/Matrix ["+x.matrix.toString()+"]"),ae("/Function "+ue+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Pi=function(x,F){var ue=Cn(),be=zn();F.push({resourcesOid:ue,objectOid:be}),x.objectNumber=be;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+x.boundingBox.map(R).join(" ")+"]"}),Te.push({key:"XStep",value:R(x.xStep)}),Te.push({key:"YStep",value:R(x.yStep)}),Te.push({key:"Resources",value:ue+" 0 R"}),x.matrix&&Te.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),As({data:x.stream,additionalKeyValues:Te,objectId:x.objectNumber}),ae("endobj")},cs=function(x){for(var F in x.objectNumber=zn(),ae("<<"),x)switch(F){case"opacity":ae("/ca "+T(x[F]));break;case"stroke-opacity":ae("/CA "+T(x[F]))}ae(">>"),ae("endobj")},Ss=function(x){Gr(x.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in ae("/Font <<"),Pt)Pt.hasOwnProperty(F)&&(b===!1||b===!0&&S.hasOwnProperty(F))&&ae("/"+F+" "+Pt[F].objectNumber+" 0 R");ae(">>")})(),(function(){if(Object.keys(Ot).length>0){for(var F in ae("/Shading <<"),Ot)Ot.hasOwnProperty(F)&&Ot[F]instanceof qu&&Ot[F].objectNumber>=0&&ae("/"+F+" "+Ot[F].objectNumber+" 0 R");ht.publish("putShadingPatternDict"),ae(">>")}})(),(function(F){if(Object.keys(Ot).length>0){for(var ue in ae("/Pattern <<"),Ot)Ot.hasOwnProperty(ue)&&Ot[ue]instanceof _.TilingPattern&&Ot[ue].objectNumber>=0&&Ot[ue].objectNumber<F&&ae("/"+ue+" "+Ot[ue].objectNumber+" 0 R");ht.publish("putTilingPatternDict"),ae(">>")}})(x.objectOid),(function(){if(Object.keys(Et).length>0){var F;for(F in ae("/ExtGState <<"),Et)Et.hasOwnProperty(F)&&Et[F].objectNumber>=0&&ae("/"+F+" "+Et[F].objectNumber+" 0 R");ht.publish("putGStateDict"),ae(">>")}})(),(function(){for(var F in ae("/XObject <<"),Sn)Sn.hasOwnProperty(F)&&Sn[F].objectNumber>=0&&ae("/"+F+" "+Sn[F].objectNumber+" 0 R");ht.publish("putXobjectDict"),ae(">>")})(),ae(">>"),ae("endobj")},Ir=function(x){Ut[x.fontName]=Ut[x.fontName]||{},Ut[x.fontName][x.fontStyle]=x.id},Go=function(x,F,ue,be,Te){var Ge={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:x,fontName:F,fontStyle:ue,encoding:be,isStandardFont:Te||!1,metadata:{}};return ht.publish("addFont",{font:Ge,instance:this}),Pt[Ge.id]=Ge,Ir(Ge),Ge.id},Ki=_.__private__.pdfEscape=_.pdfEscape=function(x,F){return(function(ue,be){var Te,Ge,tt,xt,It,Wt,Ft,xn,hr;if(tt=(be=be||{}).sourceEncoding||"Unicode",It=be.outputEncoding,(be.autoencode||It)&&Pt[st].metadata&&Pt[st].metadata[tt]&&Pt[st].metadata[tt].encoding&&(xt=Pt[st].metadata[tt].encoding,!It&&Pt[st].encoding&&(It=Pt[st].encoding),!It&&xt.codePages&&(It=xt.codePages[0]),typeof It=="string"&&(It=xt[It]),It)){for(Ft=!1,Wt=[],Te=0,Ge=ue.length;Te<Ge;Te++)(xn=It[ue.charCodeAt(Te)])?Wt.push(String.fromCharCode(xn)):Wt.push(ue[Te]),Wt[Te].charCodeAt(0)>>8&&(Ft=!0);ue=Wt.join("")}for(Te=ue.length;Ft===void 0&&Te!==0;)ue.charCodeAt(Te-1)>>8&&(Ft=!0),Te--;if(!Ft)return ue;for(Wt=be.noBOM?[]:[254,255],Te=0,Ge=ue.length;Te<Ge;Te++){if((hr=(xn=ue.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wt.push(hr),Wt.push(xn-(hr<<8))}return String.fromCharCode.apply(void 0,Wt)})(x,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Es=_.__private__.beginPage=function(x){et[++jt]=[],Ct[jt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Wo(jt),vt(et[z])},Bs=function(x,F){var ue,be,Te;switch(t=F||t,typeof x=="string"&&(ue=j(x.toLowerCase()),Array.isArray(ue)&&(be=ue[0],Te=ue[1])),Array.isArray(x)&&(be=x[0]*bt,Te=x[1]*bt),isNaN(be)&&(be=s[0],Te=s[1]),(be>14400||Te>14400)&&(xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Te=Math.min(14400,Te)),s=[be,Te],t.substr(0,1)){case"l":Te>be&&(s=[Te,be]);break;case"p":be>Te&&(s=[Te,be])}Es(s),qt(Qi),ae(hs),ds!==0&&ae(ds+" J"),Yr!==0&&ae(Yr+" j"),ht.publish("addPage",{pageNumber:jt})},po=function(x){x>0&&x<=jt&&(et.splice(x,1),Ct.splice(x,1),jt--,z>jt&&(z=jt),this.setPage(z))},Wo=function(x){x>0&&x<=jt&&(z=x)},Yo=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return et.length-1},Cl=function(x,F,ue){var be,Te=void 0;return ue=ue||{},x=x!==void 0?x:Pt[st].fontName,F=F!==void 0?F:Pt[st].fontStyle,be=x.toLowerCase(),Ut[be]!==void 0&&Ut[be][F]!==void 0?Te=Ut[be][F]:Ut[x]!==void 0&&Ut[x][F]!==void 0?Te=Ut[x][F]:ue.disableWarning===!1&&xr.warn("Unable to look up font label for font '"+x+"', '"+F+"'. Refer to getFontList() for available fonts."),Te||ue.noFallback||(Te=Ut.times[F])==null&&(Te=Ut.times.normal),Te},us=_.__private__.putInfo=function(){var x=zn(),F=function(be){return be};for(var ue in g!==null&&(F=vr.encryptor(x,0)),ae("<<"),ae("/Producer ("+Ki(F("jsPDF "+Bt.version))+")"),dt)dt.hasOwnProperty(ue)&&dt[ue]&&ae("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Ki(F(dt[ue]))+")");ae("/CreationDate ("+Ki(F(xe))+")"),ae(">>"),ae("endobj")},Ai=_.__private__.putCatalog=function(x){var F=(x=x||{}).rootDictionaryObjId||xi;switch(zn(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+F+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+pt;ue.substr(ue.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+T(pt)+"]")}switch(He||(He="continuous"),He){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Se&&ae("/PageMode /"+Se),ht.publish("putCatalog"),ae(">>"),ae("endobj")},Mr=_.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(pe+1)),ae("/Root "+pe+" 0 R"),ae("/Info "+(pe-1)+" 0 R"),g!==null&&ae("/Encrypt "+vr.oid+" 0 R"),ae("/ID [ <"+ne+"> <"+ne+"> ]"),ae(">>")},vn=_.__private__.putHeader=function(){ae("%PDF-"+O),ae("%")},Ea=_.__private__.putXRef=function(){var x="0000000000";ae("xref"),ae("0 "+(pe+1)),ae("0000000000 65535 f ");for(var F=1;F<=pe;F++)typeof me[F]=="function"?ae((x+me[F]()).slice(-10)+" 00000 n "):me[F]!==void 0?ae((x+me[F]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Ns=_.__private__.buildDocument=function(){var x;pe=0,Ie=0,Ee=[],me=[],Fe=[],xi=Cn(),Gn=Cn(),vt(Ee),ht.publish("buildDocument"),vn(),Fs(),(function(){ht.publish("putAdditionalObjects");for(var ue=0;ue<Fe.length;ue++){var be=Fe[ue];Gr(be.objId,!0),ae(be.content),ae("endobj")}ht.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ue in Pt)Pt.hasOwnProperty(ue)&&(b===!1||b===!0&&S.hasOwnProperty(ue))&&$i(Pt[ue])})(),(function(){var ue;for(ue in Et)Et.hasOwnProperty(ue)&&cs(Et[ue])})(),(function(){for(var ue in Sn)Sn.hasOwnProperty(ue)&&Sa(Sn[ue])})(),(function(ue){var be;for(be in Ot)Ot.hasOwnProperty(be)&&(Ot[be]instanceof qu?ls(Ot[be]):Ot[be]instanceof cf&&Pi(Ot[be],ue))})(x),ht.publish("putResources"),x.forEach(Ss),Ss({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),ht.publish("postPutResources"),g!==null&&(vr.oid=zn(),ae("<<"),ae("/Filter /Standard"),ae("/V "+vr.v),ae("/R "+vr.r),ae("/U <"+vr.toHexString(vr.U)+">"),ae("/O <"+vr.toHexString(vr.O)+">"),ae("/P "+vr.P),ae(">>"),ae("endobj")),us(),Ai();var F=Ie;return Ea(),Mr(),ae("startxref"),ae(""+F),ae("%%EOF"),vt(et[z]),Ee.join(`
`)},In=_.__private__.getBlob=function(x){return new Blob([Kt(x)],{type:"application/pdf"})},Ha=_.output=_.__private__.output=(er=function(x,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",x){case void 0:return Ns();case"save":_.save(F.filename);break;case"arraybuffer":return Kt(Ns());case"blob":return In(Ns());case"bloburi":case"bloburl":if(sn.URL!==void 0&&typeof sn.URL.createObjectURL=="function")return sn.URL&&sn.URL.createObjectURL(In(Ns()))||void 0;xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",be=Ns();try{ue=s4(be)}catch{ue=s4(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+F.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(Te=F.pdfObjectUrl,Ge="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",xt=sn.open();return xt!==null&&xt.document.write(tt),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Wt=sn.open();if(Wt!==null){Wt.document.write(It);var Ft=this;Wt.document.documentElement.querySelector("#pdfViewer").onload=function(){Wt.document.title=F.filename,Wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return Wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',hr=sn.open();if(hr!==null&&(hr.document.write(xn),hr.document.title=F.filename),hr||typeof safari>"u")return hr;break;case"datauri":case"dataurl":return sn.document.location.href=this.output("datauristring",F);default:return null}},er.foo=function(){try{return er.apply(this,arguments)}catch(ue){var x=ue.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var F="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ue.message;if(!sn.console)throw new Error(F);sn.console.error(F,ue),sn.alert&&alert(F)}},er.foo.bar=er,er.foo),Wr=function(x){return Array.isArray(wn)===!0&&wn.indexOf(x)>-1};switch(r){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Wr("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);bt=r}var vr=null;X(),re();var jr=_.__private__.getPageInfo=_.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[x].objId,pageNumber:x,pageContext:Ct[x]}},mo=_.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Ct)if(Ct[F].objId===x)break;return jr(F)},mc=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Ct[z].objId,pageNumber:z,pageContext:Ct[z]}};_.addPage=function(){return Bs.apply(this,arguments),this},_.setPage=function(){return Wo.apply(this,arguments),vt.call(this,et[z]),this},_.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},_.movePage=function(x,F){var ue,be;if(x>F){ue=et[x],be=Ct[x];for(var Te=x;Te>F;Te--)et[Te]=et[Te-1],Ct[Te]=Ct[Te-1];et[F]=ue,Ct[F]=be,this.setPage(F)}else if(x<F){ue=et[x],be=Ct[x];for(var Ge=x;Ge<F;Ge++)et[Ge]=et[Ge+1],Ct[Ge]=Ct[Ge+1];et[F]=ue,Ct[F]=be,this.setPage(F)}return this},_.deletePage=function(){return po.apply(this,arguments),this},_.__private__.text=_.text=function(x,F,ue,be,Te){var Ge,tt,xt,It,Wt,Ft,xn,hr,tr,m=(be=be||{}).scope||this;if(typeof x=="number"&&typeof F=="number"&&(typeof ue=="string"||Array.isArray(ue))){var N=ue;ue=F,F=x,x=N}if(arguments[3]instanceof mt==0?(xt=arguments[4],It=arguments[5],lr(xn=arguments[3])==="object"&&xn!==null||(typeof xt=="string"&&(It=xt,xt=null),typeof xn=="string"&&(It=xn,xn=null),typeof xn=="number"&&(xt=xn,xn=null),be={flags:xn,angle:xt,align:It})):(P("The transform parameter of text() with a Matrix value"),tr=Te),isNaN(F)||isNaN(ue)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return m;var M,J="",Re=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Ca,Me=m.internal.scaleFactor;function at(qn){return qn=qn.split("	").join(Array(be.TabLen||9).join(" ")),Ki(qn,xn)}function nn(qn){for(var On,dr=qn.concat(),Kr=[],no=dr.length;no--;)typeof(On=dr.shift())=="string"?Kr.push(On):Array.isArray(qn)&&(On.length===1||On[1]===void 0&&On[2]===void 0)?Kr.push(On[0]):Kr.push([On[0],On[1],On[2]]);return Kr}function fr(qn,On){var dr;if(typeof qn=="string")dr=On(qn)[0];else if(Array.isArray(qn)){for(var Kr,no,La=qn.concat(),Ml=[],Eu=La.length;Eu--;)typeof(Kr=La.shift())=="string"?Ml.push(On(Kr)[0]):Array.isArray(Kr)&&typeof Kr[0]=="string"&&(no=On(Kr[0],Kr[1],Kr[2]),Ml.push([no[0],no[1],no[2]]));dr=Ml}return dr}var mn=!1,Yn=!0;if(typeof x=="string")mn=!0;else if(Array.isArray(x)){var Ei=x.concat();tt=[];for(var Mi,ir=Ei.length;ir--;)(typeof(Mi=Ei.shift())!="string"||Array.isArray(Mi)&&typeof Mi[0]!="string")&&(Yn=!1);mn=Yn}if(mn===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var ji=Be/m.internal.scaleFactor,Gs=ji*(Re-1);switch(be.baseline){case"bottom":ue-=Gs;break;case"top":ue+=ji-Gs;break;case"hanging":ue+=ji-2*Gs;break;case"middle":ue+=ji/2-Gs}if((Ft=be.maxWidth||0)>0&&(typeof x=="string"?x=m.splitTextToSize(x,Ft):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(qn,On){return qn.concat(m.splitTextToSize(On,Ft))},[]))),Ge={text:x,x:F,y:ue,options:be,mutex:{pdfEscape:Ki,activeFontKey:st,fonts:Pt,activeFontSize:Be}},ht.publish("preProcessText",Ge),x=Ge.text,xt=(be=Ge.options).angle,tr instanceof mt==0&&xt&&typeof xt=="number"){xt*=Math.PI/180,be.rotationDirection===0&&(xt=-xt),Y===oe&&(xt=-xt);var Ka=Math.cos(xt),Xa=Math.sin(xt);tr=new mt(Ka,Xa,-Xa,Ka,0,0)}else xt&&xt instanceof mt&&(tr=xt);Y!==oe||tr||(tr=ti),(Wt=be.charSpace||fs)!==void 0&&(J+=R(D(Wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hr=be.horizontalScale)!==void 0&&(J+=R(100*hr)+` Tz
`),be.lang;var ms=-1,_o=be.renderingMode!==void 0?be.renderingMode:be.stroke,gc=m.internal.getCurrentPageInfo().pageContext;switch(_o){case 0:case!1:case"fill":ms=0;break;case 1:case!0:case"stroke":ms=1;break;case 2:case"fillThenStroke":ms=2;break;case 3:case"invisible":ms=3;break;case 4:case"fillAndAddForClipping":ms=4;break;case 5:case"strokeAndAddPathForClipping":ms=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ms=6;break;case 7:case"addToPathForClipping":ms=7}var Au=gc.usedRenderingMode!==void 0?gc.usedRenderingMode:-1;ms!==-1?J+=ms+` Tr
`:Au!==-1&&(J+=`0 Tr
`),ms!==-1&&(gc.usedRenderingMode=ms),It=be.align||"left";var Ws,Ra=Be*Re,wo=m.internal.pageSize.getWidth(),Su=Pt[st];Wt=be.charSpace||fs,Ft=be.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},be.flags);var ka=[],Zo=function(qn){return m.getStringUnitWidth(qn,{font:Su,charSpace:Wt,fontSize:Be,doKerning:!1})*Be/Me};if(Object.prototype.toString.call(x)==="[object Array]"){var Cs;tt=nn(x),It!=="left"&&(Ws=tt.map(Zo));var gs,Qa=0;if(It==="right"){F-=Ws[0],x=[],ir=tt.length;for(var Ja=0;Ja<ir;Ja++)Ja===0?(gs=pi(F),Cs=ri(ue)):(gs=D(Qa-Ws[Ja]),Cs=-Ra),x.push([tt[Ja],gs,Cs]),Qa=Ws[Ja]}else if(It==="center"){F-=Ws[0]/2,x=[],ir=tt.length;for(var xo=0;xo<ir;xo++)xo===0?(gs=pi(F),Cs=ri(ue)):(gs=D((Qa-Ws[xo])/2),Cs=-Ra),x.push([tt[xo],gs,Cs]),Qa=Ws[xo]}else if(It==="left"){x=[],ir=tt.length;for(var yc=0;yc<ir;yc++)x.push(tt[yc])}else if(It==="justify"&&Su.encoding==="Identity-H"){x=[],ir=tt.length,Ft=Ft!==0?Ft:wo;for(var vc=0,$r=0;$r<ir;$r++)if(Cs=$r===0?ri(ue):-Ra,gs=$r===0?pi(F):vc,$r<ir-1){var dh=D((Ft-Ws[$r])/(tt[$r].split(" ").length-1)),Za=tt[$r].split(" ");x.push([Za[0]+" ",gs,Cs]),vc=0;for(var eo=1;eo<Za.length;eo++){var Vi=(Zo(Za[eo-1]+" "+Za[eo])-Zo(Za[eo]))*Me+dh;eo==Za.length-1?x.push([Za[eo],Vi,0]):x.push([Za[eo]+" ",Vi,0]),vc-=Vi}}else x.push([tt[$r],gs,Cs]);x.push(["",vc,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],ir=tt.length,Ft=Ft!==0?Ft:wo,$r=0;$r<ir;$r++){Cs=$r===0?ri(ue):-Ra,gs=$r===0?pi(F):0;var Ao=tt[$r].split(" ").length-1,bc=Ao>0?(Ft-Ws[$r])/Ao:0;$r<ir-1?ka.push(R(D(bc))):ka.push(0),x.push([tt[$r],gs,Cs])}}}(typeof be.R2L=="boolean"?be.R2L:ye)===!0&&(x=fr(x,function(qn,On,dr){return[qn.split("").reverse().join(""),On,dr]})),Ge={text:x,x:F,y:ue,options:be,mutex:{pdfEscape:Ki,activeFontKey:st,fonts:Pt,activeFontSize:Be}},ht.publish("postProcessText",Ge),x=Ge.text,M=Ge.mutex.isHex||!1;var _c=Pt[st].encoding;_c!=="WinAnsiEncoding"&&_c!=="StandardEncoding"||(x=fr(x,function(qn,On,dr){return[at(qn),On,dr]})),tt=nn(x),x=[];for(var So,Eo,to,Ol=Array.isArray(tt[0])?1:0,Ys="",No=function(qn,On,dr){var Kr="";return dr instanceof mt?(dr=typeof be.angle=="number"?Er(dr,new mt(1,0,0,1,qn,On)):Er(new mt(1,0,0,1,qn,On),dr),Y===oe&&(dr=Er(new mt(1,0,0,-1,0,0),dr)),Kr=dr.join(" ")+` Tm
`):Kr=R(qn)+" "+R(On)+` Td
`,Kr},Ji=0;Ji<tt.length;Ji++){switch(Ys="",Ol){case 1:to=(M?"<":"(")+tt[Ji][0]+(M?">":")"),So=parseFloat(tt[Ji][1]),Eo=parseFloat(tt[Ji][2]);break;case 0:to=(M?"<":"(")+tt[Ji]+(M?">":")"),So=pi(F),Eo=ri(ue)}ka!==void 0&&ka[Ji]!==void 0&&(Ys=ka[Ji]+` Tw
`),Ji===0?x.push(Ys+No(So,Eo,tr)+to):Ol===0?x.push(Ys+to):Ol===1&&x.push(Ys+No(So,Eo,tr)+to)}x=Ol===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ra=`BT
/`;return ra+=st+" "+Be+` Tf
`,ra+=R(Be*Re)+` TL
`,ra+=qs+`
`,ra+=J,ra+=x,ae(ra+="ET"),S[st]=!0,m};var Il=_.__private__.clip=_.clip=function(x){return ae(x==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Il("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ae("n"),this};var Oi=_.__private__.isValidStyle=function(x){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(F=!0),F};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(x){return Oi(x)&&(f=x),this};var Rl=_.__private__.getStyle=_.getStyle=function(x){var F=f;switch(x){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=x}return F},Na=_.close=function(){return ae("h"),this};_.stroke=function(){return ae("S"),this},_.fill=function(x){return di("f",x),this},_.fillEvenOdd=function(x){return di("f*",x),this},_.fillStroke=function(x){return di("B",x),this},_.fillStrokeEvenOdd=function(x){return di("B*",x),this};var di=function(x,F){lr(F)==="object"?Ll(F,x):ae(x)},Ga=function(x){x===null||Y===oe&&x===void 0||(x=Rl(x),ae(x))};function kl(x,F,ue,be,Te){var Ge=new cf(F||this.boundingBox,ue||this.xStep,be||this.yStep,this.gState,Te||this.matrix);Ge.stream=this.stream;var tt=x+"$$"+this.cloneIndex+++"$$";return Zn(tt,Ge),Ge}var Ll=function(x,F){var ue=yn[x.key],be=Ot[ue];if(be instanceof qu)ae("q"),ae($o(F)),be.gState&&_.setGState(be.gState),ae(x.matrix.toString()+" cm"),ae("/"+ue+" sh"),ae("Q");else if(be instanceof cf){var Te=new mt(1,0,0,-1,0,Hs());x.matrix&&(Te=Te.multiply(x.matrix||ti),ue=kl.call(be,x.key,x.boundingBox,x.xStep,x.yStep,Te).id),ae("q"),ae("/Pattern cs"),ae("/"+ue+" scn"),be.gState&&_.setGState(be.gState),ae(F),ae("Q")}},$o=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ko=_.moveTo=function(x,F){return ae(R(D(x))+" "+R(fe(F))+" m"),this},Ta=_.lineTo=function(x,F){return ae(R(D(x))+" "+R(fe(F))+" l"),this},Xi=_.curveTo=function(x,F,ue,be,Te,Ge){return ae([R(D(x)),R(fe(F)),R(D(ue)),R(fe(be)),R(D(Te)),R(fe(Ge)),"c"].join(" ")),this};_.__private__.line=_.line=function(x,F,ue,be,Te){if(isNaN(x)||isNaN(F)||isNaN(ue)||isNaN(be)||!Oi(Te))throw new Error("Invalid arguments passed to jsPDF.line");return Y===te?this.lines([[ue-x,be-F]],x,F,[1,1],Te||"S"):this.lines([[ue-x,be-F]],x,F,[1,1]).stroke()},_.__private__.lines=_.lines=function(x,F,ue,be,Te,Ge){var tt,xt,It,Wt,Ft,xn,hr,tr,m,N,M,J;if(typeof x=="number"&&(J=ue,ue=F,F=x,x=J),be=be||[1,1],Ge=Ge||!1,isNaN(F)||isNaN(ue)||!Array.isArray(x)||!Array.isArray(be)||!Oi(Te)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(F,ue),tt=be[0],xt=be[1],Wt=x.length,N=F,M=ue,It=0;It<Wt;It++)(Ft=x[It]).length===2?(N=Ft[0]*tt+N,M=Ft[1]*xt+M,Ta(N,M)):(xn=Ft[0]*tt+N,hr=Ft[1]*xt+M,tr=Ft[2]*tt+N,m=Ft[3]*xt+M,N=Ft[4]*tt+N,M=Ft[5]*xt+M,Xi(xn,hr,tr,m,N,M));return Ge&&Na(),Ga(Te),this},_.path=function(x){for(var F=0;F<x.length;F++){var ue=x[F],be=ue.c;switch(ue.op){case"m":Ko(be[0],be[1]);break;case"l":Ta(be[0],be[1]);break;case"c":Xi.apply(this,be);break;case"h":Na()}}return this},_.__private__.rect=_.rect=function(x,F,ue,be,Te){if(isNaN(x)||isNaN(F)||isNaN(ue)||isNaN(be)||!Oi(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return Y===te&&(be=-be),ae([R(D(x)),R(fe(F)),R(D(ue)),R(D(be)),"re"].join(" ")),Ga(Te),this},_.__private__.triangle=_.triangle=function(x,F,ue,be,Te,Ge,tt){if(isNaN(x)||isNaN(F)||isNaN(ue)||isNaN(be)||isNaN(Te)||isNaN(Ge)||!Oi(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-x,be-F],[Te-ue,Ge-be],[x-Te,F-Ge]],x,F,[1,1],tt,!0),this},_.__private__.roundedRect=_.roundedRect=function(x,F,ue,be,Te,Ge,tt){if(isNaN(x)||isNaN(F)||isNaN(ue)||isNaN(be)||isNaN(Te)||isNaN(Ge)||!Oi(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*ue),Ge=Math.min(Ge,.5*be),this.lines([[ue-2*Te,0],[Te*xt,0,Te,Ge-Ge*xt,Te,Ge],[0,be-2*Ge],[0,Ge*xt,-Te*xt,Ge,-Te,Ge],[2*Te-ue,0],[-Te*xt,0,-Te,-Ge*xt,-Te,-Ge],[0,2*Ge-be],[0,-Ge*xt,Te*xt,-Ge,Te,-Ge]],x+Te,F,[1,1],tt,!0),this},_.__private__.ellipse=_.ellipse=function(x,F,ue,be,Te){if(isNaN(x)||isNaN(F)||isNaN(ue)||isNaN(be)||!Oi(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*ue,tt=4/3*(Math.SQRT2-1)*be;return Ko(x+ue,F),Xi(x+ue,F-tt,x+Ge,F-be,x,F-be),Xi(x-Ge,F-be,x-ue,F-tt,x-ue,F),Xi(x-ue,F+tt,x-Ge,F+be,x,F+be),Xi(x+Ge,F+be,x+ue,F+tt,x+ue,F),Ga(Te),this},_.__private__.circle=_.circle=function(x,F,ue,be){if(isNaN(x)||isNaN(F)||isNaN(ue)||!Oi(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,F,ue,ue,be)},_.setFont=function(x,F,ue){return ue&&(F=q(F,ue)),st=Cl(x,F,{disableWarning:!1}),this};var zs=_.__private__.getFont=_.getFont=function(){return Pt[Cl.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var x,F,ue={};for(x in Ut)if(Ut.hasOwnProperty(x))for(F in ue[x]=[],Ut[x])Ut[x].hasOwnProperty(F)&&ue[x].push(F);return ue},_.addFont=function(x,F,ue,be,Te){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(ue=q(ue,be)),Go.call(this,x,F,ue,Te=Te||"Identity-H")};var Ca,Qi=n.lineWidth||.200025,Wa=_.__private__.getLineWidth=_.getLineWidth=function(){return Qi},qt=_.__private__.setLineWidth=_.setLineWidth=function(x){return Qi=x,ae(R(D(x))+" w"),this};_.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(x,F){if(x=x||[],F=F||0,isNaN(F)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ue){return R(D(ue))}).join(" "),F=R(D(F)),ae("["+x+"] "+F+" d"),this};var go=_.__private__.getLineHeight=_.getLineHeight=function(){return Be*Ca};_.__private__.getLineHeight=_.getLineHeight=function(){return Be*Ca};var Xo=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ca=x),this},Ya=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return Ca};Xo(n.lineHeight);var pi=_.__private__.getHorizontalCoordinate=function(x){return D(x)},ri=_.__private__.getVerticalCoordinate=function(x){return Y===oe?x:Ct[z].mediaBox.topRightY-Ct[z].mediaBox.bottomLeftY-D(x)},yo=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(x){return R(pi(x))},Wn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(x){return R(ri(x))},hs=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return rr(hs)},_.__private__.setStrokeColor=_.setDrawColor=function(x,F,ue,be){return hs=ni({ch1:x,ch2:F,ch3:ue,ch4:be,pdfColorType:"draw",precision:2}),ae(hs),this};var vo=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return rr(vo)},_.__private__.setFillColor=_.setFillColor=function(x,F,ue,be){return vo=ni({ch1:x,ch2:F,ch3:ue,ch4:be,pdfColorType:"fill",precision:2}),ae(vo),this};var qs=n.textColor||"0 g",Dl=_.__private__.getTextColor=_.getTextColor=function(){return rr(qs)};_.__private__.setTextColor=_.setTextColor=function(x,F,ue,be){return qs=ni({ch1:x,ch2:F,ch3:ue,ch4:be,pdfColorType:"text",precision:3}),this};var fs=n.charSpace,Ia=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(fs||0)};_.__private__.setCharSpace=_.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fs=x,this};var ds=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(x){var F=_.CapJoinStyles[x];if(F===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ds=F,ae(F+" J"),this};var Yr=0;_.__private__.setLineJoin=_.setLineJoin=function(x){var F=_.CapJoinStyles[x];if(F===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yr=F,ae(F+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(R(D(x))+" M"),this},_.GState=Ag,_.setGState=function(x){(x=typeof x=="string"?Et[zt[x]]:Js(null,x)).equals(jn)||(ae("/"+x.id+" gs"),jn=x)};var Js=function(x,F){if(!x||!zt[x]){var ue=!1;for(var be in Et)if(Et.hasOwnProperty(be)&&Et[be].equals(F)){ue=!0;break}if(ue)F=Et[be];else{var Te="GS"+(Object.keys(Et).length+1).toString(10);Et[Te]=F,F.id=Te}return x&&(zt[x]=F.id),ht.publish("addGState",F),F}};_.addGState=function(x,F){return Js(x,F),this},_.saveGraphicsState=function(){return ae("q"),Qt.push({key:st,size:Be,color:qs}),this},_.restoreGraphicsState=function(){ae("Q");var x=Qt.pop();return st=x.key,Be=x.size,qs=x.color,jn=null,this},_.setCurrentTransformationMatrix=function(x){return ae(x.toString()+" cm"),this},_.comment=function(x){return ae("#"+x),this};var Si=function(x,F){var ue=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Ge){isNaN(Ge)||(ue=parseFloat(Ge))}});var be=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Ge){isNaN(Ge)||(be=parseFloat(Ge))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ge){Te=Ge.toString()}}),this},Zs=function(x,F,ue,be){Si.call(this,x,F),this.type="rect";var Te=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(tt){isNaN(tt)||(Te=parseFloat(tt))}});var Ge=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(tt){isNaN(tt)||(Ge=parseFloat(tt))}}),this},$a=function(){this.page=jt,this.currentPage=z,this.pages=et.slice(0),this.pagesContext=Ct.slice(0),this.x=gt,this.y=dn,this.matrix=Zt,this.width=Ts(z),this.height=Qo(z),this.outputDestination=ut,this.id="",this.objectNumber=-1};$a.prototype.restore=function(){jt=this.page,z=this.currentPage,Ct=this.pagesContext,et=this.pages,gt=this.x,dn=this.y,Zt=this.matrix,bo(z,this.width),ps(z,this.height),ut=this.outputDestination};var ea=function(x,F,ue,be,Te){Sr.push(new $a),jt=z=0,et=[],gt=x,dn=F,Zt=Te,Es([ue,be])};for(var ta in _.beginFormObject=function(x,F,ue,be,Te){return ea(x,F,ue,be,Te),this},_.endFormObject=function(x){return(function(F){if(ur[F])Sr.pop().restore();else{var ue=new $a,be="Xo"+(Object.keys(Sn).length+1).toString(10);ue.id=be,ur[F]=be,Sn[be]=ue,ht.publish("addFormObject",ue),Sr.pop().restore()}})(x),this},_.doFormObject=function(x,F){var ue=Sn[ur[x]];return ae("q"),ae(F.toString()+" cm"),ae("/"+ue.id+" Do"),ae("Q"),this},_.getFormObject=function(x){var F=Sn[ur[x]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},_.save=function(x,F){return x=x||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(zu(In(Ns()),x),typeof zu.unload=="function"&&sn.setTimeout&&setTimeout(zu.unload,911),this):new Promise(function(ue,be){try{var Te=zu(In(Ns()),x);typeof zu.unload=="function"&&sn.setTimeout&&setTimeout(zu.unload,911),ue(Te)}catch(Ge){be(Ge.message)}})},Bt.API)Bt.API.hasOwnProperty(ta)&&(ta==="events"&&Bt.API.events.length?(function(x,F){var ue,be,Te;for(Te=F.length-1;Te!==-1;Te--)ue=F[Te][0],be=F[Te][1],x.subscribe.apply(x,[ue].concat(typeof be=="function"?[be]:be))})(ht,Bt.API.events):_[ta]=Bt.API[ta]);function Ts(x){return Ct[x].mediaBox.topRightX-Ct[x].mediaBox.bottomLeftX}function bo(x,F){Ct[x].mediaBox.topRightX=F+Ct[x].mediaBox.bottomLeftX}function Qo(x){return Ct[x].mediaBox.topRightY-Ct[x].mediaBox.bottomLeftY}function ps(x,F){Ct[x].mediaBox.topRightY=F+Ct[x].mediaBox.bottomLeftY}var na=_.getPageWidth=function(x){return Ts(x=x||z)/bt},Pl=_.setPageWidth=function(x,F){bo(x,F*bt)},Hs=_.getPageHeight=function(x){return Qo(x=x||z)/bt},Jo=_.setPageHeight=function(x,F){ps(x,F*bt)};return _.internal={pdfEscape:Ki,getStyle:Rl,getFont:zs,getFontSize:le,getCharSpace:Ia,getTextColor:Dl,getLineHeight:go,getLineHeightFactor:Ya,getLineWidth:Wa,write:lt,getHorizontalCoordinate:pi,getVerticalCoordinate:ri,getCoordinateString:yo,getVerticalCoordinateString:Wn,collections:{},newObject:zn,newAdditionalObject:Di,newObjectDeferred:Cn,newObjectDeferredBegin:Gr,getFilters:Yi,putStream:As,events:ht,scaleFactor:bt,pageSize:{getWidth:function(){return na(z)},setWidth:function(x){Pl(z,x)},getHeight:function(){return Hs(z)},setHeight:function(x){Jo(z,x)}},encryptionOptions:g,encryption:vr,getEncryptor:function(x){return g!==null?vr.encryptor(x,0):function(F){return F}},output:Ha,getNumberOfPages:Yo,get pages(){return et},out:ae,f2:T,f3:k,getPageInfo:jr,getPageInfoByObjId:mo,getCurrentPageInfo:mc,getPDFVersion:V,Point:Si,Rectangle:Zs,Matrix:mt,hasHotfix:Wr},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return na(z)},set:function(x){Pl(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Hs(z)},set:function(x){Jo(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var F=0,ue=Mt.length;F<ue;F++){var be=Go.call(this,x[F][0],x[F][1],x[F][2],Mt[F][3],!0);b===!1&&(S[be]=!0);var Te=x[F][0].split("-");Ir({id:be,fontName:Te[0],fontStyle:Te[1]||""})}ht.publish("addFonts",{fonts:Pt,dictionary:Ut})}).call(_,Mt),st="F1",Bs(s,t),ht.publish("initialized"),_}rf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},rf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},rf.prototype.processOwnerPassword=function(n,e){return my(py(e).substr(0,5),n)},rf.prototype.encryptor=function(n,e){var t=py(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return my(t,r)}},Ag.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||lr(n)!==lr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Bt.API={events:[]},Bt.version="4.1.0";var ui=Bt.API,Dv=1,fh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sg=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},cn=function(n){return n.toFixed(2)},$c=function(n){return n.toFixed(5)};ui.__acroform__={};var Aa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},c4=function(n){return n*Dv},ml=function(n){var e=new zE,t=Dt.internal.getHeight(n)||0,r=Dt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(cn(r)),Number(cn(t))],e},wj=ui.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},xj=ui.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Aj=ui.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},bi=ui.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Aj(n,e-1)},_i=ui.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wj(n,e-1)},wi=ui.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return xj(n,e-1)},Sj=ui.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],c=n[2],u=n[3],d={};return d.lowerLeft_X=t(s)||0,d.lowerLeft_Y=r(o+u)||0,d.upperRight_X=t(s+c)||0,d.upperRight_Y=r(o)||0,[Number(cn(d.lowerLeft_X)),Number(cn(d.lowerLeft_Y)),Number(cn(d.upperRight_X)),Number(cn(d.upperRight_Y))]},Ej=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=gy(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+cn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=ml(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},gy=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var o=t,c=Dt.internal.getHeight(n)||0;c=c<0?-c:c;var u=Dt.internal.getWidth(n)||0;u=u<0?-u:u;var d=function(T,k,D){if(T+1<s.length){var fe=k+" "+s[T+1][0];return Dm(fe,n,D).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var f,g,b=Dm("3",n,o).height,S=n.multiline?c-o:(c-b)/2,_=S+=2,O=0,V=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dm(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var j="",te=0,oe=0;oe<s.length;oe++)if(s.hasOwnProperty(oe)){var Y=!1;if(s[oe].length!==1&&U!==s[oe].length-1){if((b+2)*(te+2)+2>c)continue e;j+=s[oe][U],Y=!0,V=oe,oe--}else{j=(j+=s[oe][U]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var ie=parseInt(oe),de=d(ie,j,o),q=oe>=s.length-1;if(de&&!q){j+=" ",U=0;continue}if(de||q){if(q)V=ie;else if(n.multiline&&(b+2)*(te+2)+2>c)continue e}else{if(!n.multiline||(b+2)*(te+2)+2>c)continue e;V=ie}}for(var R="",P=O;P<=V;P++){var G=s[P];if(n.multiline){if(P===V){R+=G[U]+" ",U=(U+1)%G.length;continue}if(P===O){R+=G[G.length-1]+" ";continue}}R+=G[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,g=Dm(R,n,o).width,n.textAlign){case"right":f=u-g-2;break;case"center":f=(u-g)/2;break;default:f=2}e+=cn(f)+" "+cn(_)+` Td
`,e+="("+fh(R)+`) Tj
`,e+=-cn(f)+` 0 Td
`,_=-(o+2),g=0,O=Y?V:V+1,te++,j=""}break}return r.text=e,r.fontSize=o,r},Dm=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},Nj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Tj=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Cj=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(qo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Nj)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Dv=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new qE,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&Tj(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var c in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var u=r[c],d=[],f=u.Rect;if(u.Rect&&(u.Rect=Sj(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Dt.createDefaultAppearanceStream(u),lr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var g=Ej(u);d.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(u.appearanceStreamContent){var b="";for(var S in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(S)){var _=u.appearanceStreamContent[S];if(b+="/"+S+" ",b+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var O=_[c];typeof O=="function"&&(O=O.call(s,u)),b+="/"+c+" "+O+" ",s.internal.acroformPlugin.xForms.indexOf(O)>=0||s.internal.acroformPlugin.xForms.push(O)}}else typeof(O=_)=="function"&&(O=O.call(s,u)),b+="/"+c+" "+O,s.internal.acroformPlugin.xForms.indexOf(O)>=0||s.internal.acroformPlugin.xForms.push(O);b+=">>"}d.push({key:"AP",value:`<<
`+b+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:u.objId}),s.internal.out("endobj")}o&&(function(V,U){for(var j in V)if(V.hasOwnProperty(j)){var te=j,oe=V[j];U.internal.newObjectDeferredBegin(oe.objId,!0),lr(oe)==="object"&&typeof oe.putStream=="function"&&oe.putStream(),delete V[te]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},BE=ui.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),lr(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Sg(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+fh(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},p2=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+fh(r(n))+")"},bl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bl.prototype.toString=function(){return this.objId+" 0 R"},bl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},bl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:BE(s,this.objId,this.scope)}):s instanceof bl?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var zE=function(){bl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Aa(zE,bl);var qE=function(){bl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+fh(t(n))+")"}},set:function(t){n=t}})};Aa(qE,bl);var qo=function n(){bl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bi(e,3)},set:function(j){j?this.F=_i(e,3):this.F=wi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Eg)return;o="FieldObject"+n.FieldNum++}var j=function(te){return te};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+fh(j(o))+")"},set:function(j){o=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(j){o=j}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Dv:f},set:function(j){f=j}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){g=j}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof Eg||this instanceof Ku))return p2(b,this.objId,this.scope)},set:function(j){j=j.toString(),b=j}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof ss==0?p2(S,this.objId,this.scope):S},set:function(j){j=j.toString(),S=this instanceof ss==0?j.substr(0,1)==="("?Xh(j.substr(1,j.length-2)):Xh(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?Xh(S.substr(1,S.length-1)):S},set:function(j){j=j.toString(),S=this instanceof ss==1?"/"+Sg(j):j}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ss==0?p2(_,this.objId,this.scope):_},set:function(j){j=j.toString(),_=this instanceof ss==0?j.substr(0,1)==="("?Xh(j.substr(1,j.length-2)):Xh(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?Xh(_.substr(1,_.length-1)):_},set:function(j){j=j.toString(),_=this instanceof ss==1?"/"+Sg(j):j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,V=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return V},set:function(j){j=!!j,V=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(j){O=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,1)},set:function(j){j?this.Ff=_i(this.Ff,1):this.Ff=wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,2)},set:function(j){j?this.Ff=_i(this.Ff,2):this.Ff=wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,3)},set:function(j){j?this.Ff=_i(this.Ff,3):this.Ff=wi(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');U=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(U){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};Aa(qo,bl);var gf=function(){qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BE(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,c,u){u||(u=1);for(var d,f=[];d=c.exec(o);)f.push(d[u]);return f})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,18)},set:function(t){t?this.Ff=_i(this.Ff,18):this.Ff=wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=_i(this.Ff,19):this.Ff=wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,20)},set:function(t){t?(this.Ff=_i(this.Ff,20),e.sort()):this.Ff=wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,22)},set:function(t){t?this.Ff=_i(this.Ff,22):this.Ff=wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,23)},set:function(t){t?this.Ff=_i(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,27)},set:function(t){t?this.Ff=_i(this.Ff,27):this.Ff=wi(this.Ff,27)}}),this.hasAppearanceStream=!1};Aa(gf,qo);var yf=function(){gf.call(this),this.fontName="helvetica",this.combo=!1};Aa(yf,gf);var vf=function(){yf.call(this),this.combo=!0};Aa(vf,yf);var $m=function(){vf.call(this),this.edit=!0};Aa($m,vf);var ss=function(){qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,15)},set:function(t){t?this.Ff=_i(this.Ff,15):this.Ff=wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,16)},set:function(t){t?this.Ff=_i(this.Ff,16):this.Ff=wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,17)},set:function(t){t?this.Ff=_i(this.Ff,17):this.Ff=wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,26)},set:function(t){t?this.Ff=_i(this.Ff,26):this.Ff=wi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+fh(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){lr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+Sg(t)}})};Aa(ss,qo);var Km=function(){ss.call(this),this.pushButton=!0};Aa(Km,ss);var bf=function(){ss.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Aa(bf,ss);var Eg=function(){var n,e;qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+fh(s(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){lr(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Aa(Eg,qo),bf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},bf.prototype.createOption=function(n){var e=new Eg;return e.Parent=this,e.optionName=n,this.Kids.push(e),Ij.call(this.scope,e),e};var Xm=function(){ss.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};Aa(Xm,ss);var Ku=function(){qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,13)},set:function(e){e?this.Ff=_i(this.Ff,13):this.Ff=wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,21)},set:function(e){e?this.Ff=_i(this.Ff,21):this.Ff=wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,23)},set:function(e){e?this.Ff=_i(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,24)},set:function(e){e?this.Ff=_i(this.Ff,24):this.Ff=wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,25)},set:function(e){e?this.Ff=_i(this.Ff,25):this.Ff=wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,26)},set:function(e){e?this.Ff=_i(this.Ff,26):this.Ff=wi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Aa(Ku,qo);var Qm=function(){Ku.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,14)},set:function(n){n?this.Ff=_i(this.Ff,14):this.Ff=wi(this.Ff,14)}}),this.password=!0};Aa(Qm,Ku);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=ml(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=gy(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+cn(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=ml(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=Dt.internal.getHeight(n),c=Dt.internal.getWidth(n),u=gy(n,n.caption);return s.push("1 g"),s.push("0 0 "+cn(c)+" "+cn(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+cn(c-1)+" "+cn(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+cn(u.fontSize)+" Tf "+r),s.push(u.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=ml(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Circle.YesNormal,e.D[n]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=ml(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Dt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+$c(Dt.internal.getWidth(n)/2)+" "+$c(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ml(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Dt.internal.Bezier_C).toFixed(5)),c=Number((r*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$c(Dt.internal.getWidth(n)/2)+" "+$c(Dt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+$c(Dt.internal.getWidth(n)/2)+" "+$c(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=ml(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$c(Dt.internal.getWidth(n)/2)+" "+$c(Dt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Cross.YesNormal,e.D[n]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=ml(n);e.scope=n.scope;var t=[],r=Dt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+cn(Dt.internal.getWidth(n)-2)+" "+cn(Dt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(cn(r.x1.x)+" "+cn(r.x1.y)+" m"),t.push(cn(r.x2.x)+" "+cn(r.x2.y)+" l"),t.push(cn(r.x4.x)+" "+cn(r.x4.y)+" m"),t.push(cn(r.x3.x)+" "+cn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ml(n);e.scope=n.scope;var t=Dt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+cn(Dt.internal.getWidth(n)-2)+" "+cn(Dt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(cn(t.x1.x)+" "+cn(t.x1.y)+" m"),r.push(cn(t.x2.x)+" "+cn(t.x2.y)+" l"),r.push(cn(t.x4.x)+" "+cn(t.x4.y)+" m"),r.push(cn(t.x3.x)+" "+cn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=ml(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Dt.internal.getWidth(n),t=Dt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Dt.internal.getWidth=function(n){var e=0;return lr(n)==="object"&&(e=c4(n.Rect[2])),e},Dt.internal.getHeight=function(n){var e=0;return lr(n)==="object"&&(e=c4(n.Rect[3])),e};var Ij=ui.addField=function(n){if(Cj(this,n),!(n instanceof qo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ui.AcroFormChoiceField=gf,ui.AcroFormListBox=yf,ui.AcroFormComboBox=vf,ui.AcroFormEditBox=$m,ui.AcroFormButton=ss,ui.AcroFormPushButton=Km,ui.AcroFormRadioButton=bf,ui.AcroFormCheckBox=Xm,ui.AcroFormTextField=Ku,ui.AcroFormPasswordField=Qm,ui.AcroFormAppearance=Dt,ui.AcroForm={ChoiceField:gf,ListBox:yf,ComboBox:vf,EditBox:$m,Button:ss,PushButton:Km,RadioButton:bf,CheckBox:Xm,TextField:Ku,PasswordField:Qm,Appearance:Dt},Bt.AcroForm={ChoiceField:gf,ListBox:yf,ComboBox:vf,EditBox:$m,Button:ss,PushButton:Km,RadioButton:bf,CheckBox:Xm,TextField:Ku,PasswordField:Qm,Appearance:Dt};Bt.AcroForm;function HE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(T,k){var D,fe,xe,ne,Z,re=t;if((k=k||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(de(T))for(Z in r)for(xe=r[Z],D=0;D<xe.length;D+=1){for(ne=!0,fe=0;fe<xe[D].length;fe+=1)if(xe[D][fe]!==void 0&&xe[D][fe]!==T[fe]){ne=!1;break}if(ne===!0){re=Z;break}}else for(Z in r)for(xe=r[Z],D=0;D<xe.length;D+=1){for(ne=!0,fe=0;fe<xe[D].length;fe+=1)if(xe[D][fe]!==void 0&&xe[D][fe]!==T.charCodeAt(fe)){ne=!1;break}if(ne===!0){re=Z;break}}return re===t&&k!==t&&(re=k),re},o=function T(k){for(var D=this.internal.write,fe=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:k.width}),ne.push({key:"Height",value:k.height}),k.colorSpace===j.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===j.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var Z="",re=0,Ne=k.transparency.length;re<Ne;re++)Z+=k.transparency[re]+" "+k.transparency[re]+" ";ne.push({key:"Mask",value:"["+Z+"]"})}k.sMask!==void 0&&ne.push({key:"SMask",value:k.objectId+1+" 0 R"});var ve=k.filter!==void 0?["/"+k.filter]:void 0;if(fe({data:k.data,additionalKeyValues:ne,alreadyAppliedFilters:ve,objectId:k.objectId}),D("endobj"),"sMask"in k&&k.sMask!==void 0){var X,L=(X=k.sMaskBitsPerComponent)!==null&&X!==void 0?X:k.bitsPerComponent,z={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:k.sMask};"filter"in k&&(z.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(k.width),z.filter=k.filter),T.call(this,z)}if(k.colorSpace===j.INDEXED){var $=this.internal.newObject();fe({data:R(new Uint8Array(k.palette)),objectId:$}),D("endobj")}},c=function(){var T=this.internal.collections[e+"images"];for(var k in T)o.call(this,T[k])},u=function(){var T,k=this.internal.collections[e+"images"],D=this.internal.write;for(var fe in k)D("/I"+(T=k[fe]).index,T.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var T=this.internal.collections[e+"images"];return d.call(this),T},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(T){return typeof n["process"+T.toUpperCase()]=="function"},S=function(T){return lr(T)==="object"&&T.nodeType===1},_=function(T,k){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var D=""+T.getAttribute("src");if(D.indexOf("data:image/")===0)return Ym(unescape(D).split("base64,").pop());var fe=n.loadFile(D,!0);if(fe!==void 0)return fe}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var xe;switch(k){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return Ym(T.toDataURL(xe,1).split("base64,").pop())}},O=function(T){var k=this.internal.collections[e+"images"];if(k){for(var D in k)if(T===k[D].alias)return k[D]}},V=function(T,k,D){return T||k||(T=-96,k=-96),T<0&&(T=-1*D.width*72/T/this.internal.scaleFactor),k<0&&(k=-1*D.height*72/k/this.internal.scaleFactor),T===0&&(T=k*D.width/D.height),k===0&&(k=T*D.height/D.width),[T,k]},U=function(T,k,D,fe,xe,ne){var Z=V.call(this,D,fe,xe),re=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,ve=f.call(this);if(D=Z[0],fe=Z[1],ve[xe.index]=xe,ne){ne*=Math.PI/180;var X=Math.cos(ne),L=Math.sin(ne),z=function(se){return se.toFixed(4)},$=[z(X),z(L),z(-1*L),z(X),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,re(T),Ne(k+fe),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([re(D),"0","0",re(fe),"0","0","cm"].join(" "))):this.internal.write([re(D),"0","0",re(fe),re(T),Ne(k+fe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var te=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},oe=n.__addimage__.sHashCode=function(T){var k,D,fe=0;if(typeof T=="string")for(D=T.length,k=0;k<D;k++)fe=(fe<<5)-fe+T.charCodeAt(k),fe|=0;else if(de(T))for(D=T.byteLength/2,k=0;k<D;k++)fe=(fe<<5)-fe+T[k],fe|=0;return fe},Y=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var k=!0;return T.length===0&&(k=!1),T.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(k=!1),k},ie=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var k=T.indexOf(",");return k<0?null:T.substring(0,k).trim().endsWith("base64")?T.substring(k+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var de=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},q=n.__addimage__.binaryStringToUint8Array=function(T){for(var k=T.length,D=new Uint8Array(k),fe=0;fe<k;fe++)D[fe]=T.charCodeAt(fe);return D},R=n.__addimage__.arrayBufferToBinaryString=function(T){for(var k="",D=de(T)?T:new Uint8Array(T),fe=0;fe<D.length;fe+=8192)k+=String.fromCharCode.apply(null,D.subarray(fe,fe+8192));return k};n.addImage=function(){var T,k,D,fe,xe,ne,Z,re,Ne;if(typeof arguments[1]=="number"?(k=t,D=arguments[1],fe=arguments[2],xe=arguments[3],ne=arguments[4],Z=arguments[5],re=arguments[6],Ne=arguments[7]):(k=arguments[1],D=arguments[2],fe=arguments[3],xe=arguments[4],ne=arguments[5],Z=arguments[6],re=arguments[7],Ne=arguments[8]),lr(T=arguments[0])==="object"&&!S(T)&&"imageData"in T){var ve=T;T=ve.imageData,k=ve.format||k||t,D=ve.x||D||0,fe=ve.y||fe||0,xe=ve.w||ve.width||xe,ne=ve.h||ve.height||ne,Z=ve.alias||Z,re=ve.compression||re,Ne=ve.rotation||ve.angle||Ne}var X=this.internal.getFilters();if(re===void 0&&X.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(D)||isNaN(fe))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var L=P.call(this,T,k,Z,re);return U.call(this,D,fe,xe,ne,L,Ne),this};var P=function(T,k,D,fe){var xe,ne,Z;if(typeof T=="string"&&s(T)===t){T=unescape(T);var re=G(T,!1);(re!==""||(re=n.loadFile(T,!0))!==void 0)&&(T=re)}if(S(T)&&(T=_(T,k)),k=s(T,k),!b(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((Z=D)==null||Z.length===0)&&(D=(function(Ne){return typeof Ne=="string"||de(Ne)?oe(Ne):de(Ne.data)?oe(Ne.data):null})(T)),(xe=O.call(this,D))||(T instanceof Uint8Array||k==="RGBA"||(ne=T,T=q(T)),xe=this["process"+k.toUpperCase()](T,g.call(this),D,(function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in n.image_compression?Ne:te.NONE})(fe),ne)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},G=n.__addimage__.convertBase64ToBinaryString=function(T,k){k=typeof k!="boolean"||k;var D,fe="";if(typeof T=="string"){var xe;D=(xe=ie(T))!==null&&xe!==void 0?xe:T;try{fe=Ym(D)}catch(ne){if(k)throw Y(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};n.getImageProperties=function(T){var k,D,fe="";if(S(T)&&(T=_(T)),typeof T=="string"&&s(T)===t&&((fe=G(T,!1))===""&&(fe=n.loadFile(T)||""),T=fe),D=s(T),!b(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(T instanceof Uint8Array||(T=q(T)),!(k=this["process"+D.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=D,k}})(Bt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,g=!1,b=0;b<f.length&&!g;b++)switch((r=f[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var S=0;S<f.length;S++){r=f[S];var _=this.internal.pdfEscape,O=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var V=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(V.objId),te=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+_(j(r.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+_(j(te))+") >>",V.content=o;var oe=V.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+oe,r.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(V.objId,"0 R",U.objId,"0 R");break;case"freetext":s="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var Y=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(O(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Y+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ie=this.annotations._nameMap[r.options.name];r.options.pageNumber=ie.page,r.options.top=ie.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(O(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var de=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+de+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(t),y:f(r),w:d(t+s),h:f(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,s,o){var c,u,d=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var g=this.splitTextToSize(t,u).length;c=Math.ceil(f*g)}else u=d,c=f;return this.text(t,r,s,o),s+=.2*f,o.align==="center"&&(r-=d/2),o.align==="right"&&(r-=d),this.link(r,s-f,u,c,o),d},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Bt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(V){return e[V.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(V){return typeof V=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(V)},u=n.__arabicParser__.isArabicEndLetter=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(V){return c(V)&&s.indexOf(V.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(V){var U=0,j=t,te="",oe=0;for(U=0;U<V.length;U+=1)j[V.charCodeAt(U)]!==void 0?(oe++,typeof(j=j[V.charCodeAt(U)])=="number"&&(te+=String.fromCharCode(j),j=t,oe=0),U===V.length-1&&(j=t,te+=V.charAt(U-(oe-1)),U-=oe-1,oe=0)):(j=t,te+=V.charAt(U-oe),U-=oe,oe=0);return te};n.__arabicParser__.isArabicDiacritic=function(V){return V!==void 0&&r[V.charCodeAt(0)]!==void 0};var S=n.__arabicParser__.getCorrectForm=function(V,U,j){return c(V)?o(V)===!1?-1:!f(V)||!c(U)&&!c(j)||!c(j)&&u(U)||u(V)&&!c(U)||u(V)&&d(U)||u(V)&&u(U)?0:g(V)&&c(U)&&!u(U)&&c(j)&&f(j)?3:u(V)||!c(j)?1:2:-1},_=function(V){var U=0,j=0,te=0,oe="",Y="",ie="",de=(V=V||"").split("\\s+"),q=[];for(U=0;U<de.length;U+=1){for(q.push(""),j=0;j<de[U].length;j+=1)oe=de[U][j],Y=de[U][j-1],ie=de[U][j+1],c(oe)?(te=S(oe,Y,ie),q[U]+=te!==-1?String.fromCharCode(e[oe.charCodeAt(0)][te]):oe):q[U]+=oe;q[U]=b(q[U])}return q.join(" ")},O=n.__arabicParser__.processArabic=n.processArabic=function(){var V,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(U)){var te=0;for(j=[],te=0;te<U.length;te+=1)Array.isArray(U[te])?j.push([_(U[te][0]),U[te][1],U[te][2]]):j.push([_(U[te])]);V=j}else V=_(U);return typeof arguments[0]=="string"?V:(arguments[0].text=V,arguments[0])};n.events.push(["preProcessText",O])})(Bt.API),Bt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Bt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(V){d=V}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(V){f=V}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(V){g=V}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(V){b=V}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(V){S=V}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(V){_=V}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(V){O=V}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,f){r.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),b=f.font||this.getFont(),S=f.scaleFactor||this.internal.scaleFactor,_=0,O=0,V=0,U=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var j=f.maxWidth;j>0?typeof d=="string"?d=this.splitTextToSize(d,j):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(oe,Y){return oe.concat(U.splitTextToSize(Y,j))},[])):d=Array.isArray(d)?d:[d];for(var te=0;te<d.length;te++)_<(V=this.getStringUnitWidth(d[te],{font:b})*g)&&(_=V);return _!==0&&(O=d.length),{w:_/=S,h:Math.max((O*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/S,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=b.top,_&&S&&(this.printHeaderRow(d.lineNumber,!0),d.y+=S[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-g,d.y+g,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+g,{align:"center",baseline:"top",maxWidth:d.width-g-g}):this.text(d.text,d.x+g,d.y+g,{align:"left",baseline:"top",maxWidth:d.width-g-g})),this.internal.__cell__.lastCell=d,this};n.table=function(d,f,g,b,S){if(r.call(this),!g)throw new Error("No data for PDF table.");var _,O,V,U,j=[],te=[],oe=[],Y={},ie={},de=[],q=[],R=(S=S||{}).autoSize||!1,P=S.printHeaders!==!1,G=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,T=S.margins||Object.assign({width:this.getPageWidth()},e),k=typeof S.padding=="number"?S.padding:3,D=S.headerBackgroundColor||"#c8c8c8",fe=S.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=fe,this.setFontSize(G),b==null)te=j=Object.keys(g[0]),oe=j.map(function(){return"left"});else if(Array.isArray(b)&&lr(b[0])==="object")for(j=b.map(function(ve){return ve.name}),te=b.map(function(ve){return ve.prompt||ve.name||""}),oe=b.map(function(ve){return ve.align||"left"}),_=0;_<b.length;_+=1)ie[b[_].name]=.7499990551181103*b[_].width;else Array.isArray(b)&&typeof b[0]=="string"&&(te=j=b,oe=j.map(function(){return"left"}));if(R||Array.isArray(b)&&typeof b[0]=="string")for(_=0;_<j.length;_+=1){for(Y[U=j[_]]=g.map(function(ve){return ve[U]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(te[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=Y[U],this.setFont(void 0,"normal"),V=0;V<O.length;V+=1)de.push(this.getTextDimensions(O[V],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[U]=Math.max.apply(null,de)+k+k,de=[]}if(P){var xe={};for(_=0;_<j.length;_+=1)xe[j[_]]={},xe[j[_]].text=te[_],xe[j[_]].align=oe[_];var ne=u.call(this,xe,ie);q=j.map(function(ve){return new o(d,f,ie[ve],ne,xe[ve].text,void 0,xe[ve].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var Z=b.reduce(function(ve,X){return ve[X.name]=X.align,ve},{});for(_=0;_<g.length;_+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:_,data:g[_]},this);var re=u.call(this,g[_],ie);for(V=0;V<j.length;V+=1){var Ne=g[_][j[V]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:_,col:V,data:Ne},this),c.call(this,new o(d,f,ie[j[V]],re,Ne,_+2,Z[j[V]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var u=function(d,f){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(d).map(function(_){var O=d[_];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,f[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*b/S+g+g},this).reduce(function(_,O){return Math.max(_,O)},0)};n.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,S.push(g)),g.lineNumber=d;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(O)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),t=!1}})(Bt.API);var GE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yy=HE(WE),YE=[100,200,300,400,500,600,700,800,900],Rj=HE(YE);function m2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return GE[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof yy[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function u4(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var kj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},h4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function f4(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function d4(n){return n.trimLeft()}function Lj(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Dj(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Qh,Pm,p4,m4,g4,g2=["times"];function y4(n,e,t,r,s){var o=4,c=b4;switch(s){case Bt.API.image_compression.FAST:o=1,c=v4;break;case Bt.API.image_compression.MEDIUM:o=6,c=_4;break;case Bt.API.image_compression.SLOW:o=9,c=w4}n=(function(d,f,g,b){for(var S,_=d.length/f,O=new Uint8Array(d.length+_),V=[Pj,v4,b4,_4,w4],U=0;U<_;U+=1){var j=U*f,te=d.subarray(j,j+f);if(b)O.set(b(te,g,S),j+U);else{for(var oe=V.length,Y=[],ie=0;ie<oe;ie+=1)Y[ie]=V[ie](te,g,S);var de=Mj(Y.concat());O.set(Y[de],j+U)}S=te}return O})(n,e,Math.ceil(t*r/8),c);var u=uy(n,{level:o});return Bt.API.__addimage__.arrayBufferToBinaryString(u)}function Pj(n){var e=Array.apply([],n);return e.unshift(0),e}function v4(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function b4(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;s[o+1]=n[o]-c+256&255}return s}function _4(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,u=t&&t[o]||0;s[o+1]=n[o]+256-(c+u>>>1)&255}return s}function w4(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var c=Oj(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-c+256&255}return s}function Oj(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function Mj(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function y2(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),c=(1<<t)-1;return $E(n,s)>>o&c}function x4(n,e,t,r){var s=t*r,o=Math.floor(s/8),c=16-(s-8*o+r),u=(1<<r)-1,d=(e&u)<<c;(function(f,g,b){if(g+1<f.byteLength)f.setUint16(g,b,!1);else{var S=b>>8&255;f.setUint8(g,S)}})(n,o,$E(n,o)&~(u<<c)&65535|d)}function $E(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function jj(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,c=1<<1+(7&s);n[e++],n[e++];var u=null,d=null;o&&(u=e,d=c,e+=3*c);var f=!0,g=[],b=0,S=null,_=0,O=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,O=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var V=n[e++];b=n[e++]|n[e++]<<8,S=n[e++],1&V||(S=null),_=V>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var U=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,te=n[e++]|n[e++]<<8,oe=n[e++]|n[e++]<<8,Y=n[e++],ie=Y>>6&1,de=1<<1+(7&Y),q=u,R=d,P=!1;Y>>7&&(P=!0,q=e,R=de,e+=3*de);var G=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}g.push({x:U,y:j,width:te,height:oe,has_local_palette:P,palette_offset:q,palette_size:R,data_offset:G,data_length:e-G,transparent_index:S,interlaced:!!ie,delay:b,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return O},this.frameInfo=function(k){if(k<0||k>=g.length)throw new Error("Frame index out of range.");return g[k]},this.decodeAndBlitFrameBGRA=function(k,D){var fe=this.frameInfo(k),xe=fe.width*fe.height,ne=new Uint8Array(xe);A4(n,fe.data_offset,ne,xe);var Z=fe.palette_offset,re=fe.transparent_index;re===null&&(re=256);var Ne=fe.width,ve=t-Ne,X=Ne,L=4*(fe.y*t+fe.x),z=4*((fe.y+fe.height)*t+fe.x),$=L,se=4*ve;fe.interlaced===!0&&(se+=4*t*7);for(var pe=8,me=0,Ee=ne.length;me<Ee;++me){var Ie=ne[me];if(X===0&&(X=Ne,($+=se)>=z&&(se=4*ve+4*t*(pe-1),$=L+(Ne+ve)*(pe<<1),pe>>=1)),Ie===re)$+=4;else{var Fe=n[Z+3*Ie],et=n[Z+3*Ie+1],ot=n[Z+3*Ie+2];D[$++]=ot,D[$++]=et,D[$++]=Fe,D[$++]=255}--X}},this.decodeAndBlitFrameRGBA=function(k,D){var fe=this.frameInfo(k),xe=fe.width*fe.height,ne=new Uint8Array(xe);A4(n,fe.data_offset,ne,xe);var Z=fe.palette_offset,re=fe.transparent_index;re===null&&(re=256);var Ne=fe.width,ve=t-Ne,X=Ne,L=4*(fe.y*t+fe.x),z=4*((fe.y+fe.height)*t+fe.x),$=L,se=4*ve;fe.interlaced===!0&&(se+=4*t*7);for(var pe=8,me=0,Ee=ne.length;me<Ee;++me){var Ie=ne[me];if(X===0&&(X=Ne,($+=se)>=z&&(se=4*ve+4*t*(pe-1),$=L+(Ne+ve)*(pe<<1),pe>>=1)),Ie===re)$+=4;else{var Fe=n[Z+3*Ie],et=n[Z+3*Ie+1],ot=n[Z+3*Ie+2];D[$++]=Fe,D[$++]=et,D[$++]=ot,D[$++]=255}--X}}}function A4(n,e,t,r){for(var s=n[e++],o=1<<s,c=o+1,u=c+1,d=s+1,f=(1<<d)-1,g=0,b=0,S=0,_=n[e++],O=new Int32Array(4096),V=null;;){for(;g<16&&_!==0;)b|=n[e++]<<g,g+=8,_===1?_=n[e++]:--_;if(g<d)break;var U=b&f;if(b>>=d,g-=d,U!==o){if(U===c)break;for(var j=U<u?U:V,te=0,oe=j;oe>o;)oe=O[oe]>>8,++te;var Y=oe;if(S+te+(j!==U?1:0)>r)return void xr.log("Warning, gif stream longer than expected.");t[S++]=Y;var ie=S+=te;for(j!==U&&(t[S++]=Y),oe=j;te--;)oe=O[oe],t[--ie]=255&oe,oe>>=8;V!==null&&u<4096&&(O[u++]=V<<8|Y,u>=f+1&&d<12&&(++d,f=f<<1|1)),V=U}else u=c+1,f=(1<<(d=s+1))-1,V=null}return S!==r&&xr.log("Warning, gif stream shorter than expected."),t}function v2(n){var e,t,r,s,o,c=Math.floor,u=new Array(64),d=new Array(64),f=new Array(64),g=new Array(64),b=new Array(65535),S=new Array(65535),_=new Array(64),O=new Array(64),V=[],U=0,j=7,te=new Array(64),oe=new Array(64),Y=new Array(64),ie=new Array(256),de=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(L,z){for(var $=0,se=0,pe=new Array,me=1;me<=16;me++){for(var Ee=1;Ee<=L[me];Ee++)pe[z[se]]=[],pe[z[se]][0]=$,pe[z[se]][1]=me,se++,$++;$*=2}return pe}function Z(L){for(var z=L[0],$=L[1]-1;$>=0;)z&1<<$&&(U|=1<<j),$--,--j<0&&(U==255?(re(255),re(0)):re(U),j=7,U=0)}function re(L){V.push(L)}function Ne(L){re(L>>8&255),re(255&L)}function ve(L,z,$,se,pe){for(var me,Ee=pe[0],Ie=pe[240],Fe=(function(Be,pt){var le,ye,Se,$e,He,Ve,it,dt,st,bt,gt=0;for(st=0;st<8;++st){le=Be[gt],ye=Be[gt+1],Se=Be[gt+2],$e=Be[gt+3],He=Be[gt+4],Ve=Be[gt+5],it=Be[gt+6];var dn=le+(dt=Be[gt+7]),Zt=le-dt,Pt=ye+it,Ut=ye-it,Qt=Se+Ve,Ot=Se-Ve,yn=$e+He,Et=$e-He,zt=dn+yn,jn=dn-yn,jt=Pt+Qt,Ct=Pt-Qt;Be[gt]=zt+jt,Be[gt+4]=zt-jt;var ht=.707106781*(Ct+jn);Be[gt+2]=jn+ht,Be[gt+6]=jn-ht;var wn=.382683433*((zt=Et+Ot)-(Ct=Ut+Zt)),Sn=.5411961*zt+wn,ur=1.306562965*Ct+wn,Sr=.707106781*(jt=Ot+Ut),mt=Zt+Sr,Er=Zt-Sr;Be[gt+5]=Er+Sn,Be[gt+3]=Er-Sn,Be[gt+1]=mt+ur,Be[gt+7]=mt-ur,gt+=8}for(gt=0,st=0;st<8;++st){le=Be[gt],ye=Be[gt+8],Se=Be[gt+16],$e=Be[gt+24],He=Be[gt+32],Ve=Be[gt+40],it=Be[gt+48];var ti=le+(dt=Be[gt+56]),Zn=le-dt,er=ye+it,zn=ye-it,Cn=Se+Ve,Gr=Se-Ve,Di=$e+He,xi=$e-He,Gn=ti+Di,rr=ti-Di,ni=er+Cn,Yi=er-Cn;Be[gt]=Gn+ni,Be[gt+32]=Gn-ni;var As=.707106781*(Yi+rr);Be[gt+16]=rr+As,Be[gt+48]=rr-As;var qa=.382683433*((Gn=xi+Gr)-(Yi=zn+Zn)),Fs=.5411961*Gn+qa,$i=1.306562965*Yi+qa,Sa=.707106781*(ni=Gr+zn),ls=Zn+Sa,Pi=Zn-Sa;Be[gt+40]=Pi+Fs,Be[gt+24]=Pi-Fs,Be[gt+8]=ls+$i,Be[gt+56]=ls-$i,gt++}for(st=0;st<64;++st)bt=Be[st]*pt[st],_[st]=bt>0?bt+.5|0:bt-.5|0;return _})(L,z),et=0;et<64;++et)O[q[et]]=Fe[et];var ot=O[0]-$;$=O[0],ot==0?Z(se[0]):(Z(se[S[me=32767+ot]]),Z(b[me]));for(var ut=63;ut>0&&O[ut]==0;)ut--;if(ut==0)return Z(Ee),$;for(var vt,ae=1;ae<=ut;){for(var lt=ae;O[ae]==0&&ae<=ut;)++ae;var Kt=ae-lt;if(Kt>=16){vt=Kt>>4;for(var Mt=1;Mt<=vt;++Mt)Z(Ie);Kt&=15}me=32767+O[ae],Z(pe[(Kt<<4)+S[me]]),Z(b[me]),ae++}return ut!=63&&Z(Ee),$}function X(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(z){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var pe=c(($[se]*z+50)/100);pe=Math.min(Math.max(pe,1),255),u[q[se]]=pe}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var Ie=c((me[Ee]*z+50)/100);Ie=Math.min(Math.max(Ie,1),255),d[q[Ee]]=Ie}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],et=0,ot=0;ot<8;ot++)for(var ut=0;ut<8;ut++)f[et]=1/(u[q[et]]*Fe[ot]*Fe[ut]*8),g[et]=1/(d[q[et]]*Fe[ot]*Fe[ut]*8),et++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,z){z&&X(z),V=new Array,U=0,j=7,Ne(65496),Ne(65504),Ne(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),Ne(1),Ne(1),re(0),re(0),(function(){Ne(65499),Ne(132),re(0);for(var ye=0;ye<64;ye++)re(u[ye]);re(1);for(var Se=0;Se<64;Se++)re(d[Se])})(),(function(ye,Se){Ne(65472),Ne(17),re(8),Ne(Se),Ne(ye),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(L.width,L.height),(function(){Ne(65476),Ne(418),re(0);for(var ye=0;ye<16;ye++)re(R[ye+1]);for(var Se=0;Se<=11;Se++)re(P[Se]);re(16);for(var $e=0;$e<16;$e++)re(G[$e+1]);for(var He=0;He<=161;He++)re(T[He]);re(1);for(var Ve=0;Ve<16;Ve++)re(k[Ve+1]);for(var it=0;it<=11;it++)re(D[it]);re(17);for(var dt=0;dt<16;dt++)re(fe[dt+1]);for(var st=0;st<=161;st++)re(xe[st])})(),Ne(65498),Ne(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var $=0,se=0,pe=0;U=0,j=7,this.encode.displayName="_encode_";for(var me,Ee,Ie,Fe,et,ot,ut,vt,ae,lt=L.data,Kt=L.width,Mt=L.height,Be=4*Kt,pt=0;pt<Mt;){for(me=0;me<Be;){for(et=Be*pt+me,ut=-1,vt=0,ae=0;ae<64;ae++)ot=et+(vt=ae>>3)*Be+(ut=4*(7&ae)),pt+vt>=Mt&&(ot-=Be*(pt+1+vt-Mt)),me+ut>=Be&&(ot-=me+ut-Be+4),Ee=lt[ot++],Ie=lt[ot++],Fe=lt[ot++],te[ae]=(de[Ee]+de[Ie+256|0]+de[Fe+512|0]>>16)-128,oe[ae]=(de[Ee+768|0]+de[Ie+1024|0]+de[Fe+1280|0]>>16)-128,Y[ae]=(de[Ee+1280|0]+de[Ie+1536|0]+de[Fe+1792|0]>>16)-128;$=ve(te,f,$,e,r),se=ve(oe,g,se,t,s),pe=ve(Y,g,pe,t,s),me+=32}pt+=8}if(j>=0){var le=[];le[1]=j+1,le[0]=(1<<j+1)-1,Z(le)}return Ne(65497),new Uint8Array(V)},n=n||50,(function(){for(var L=String.fromCharCode,z=0;z<256;z++)ie[z]=L(z)})(),e=ne(R,P),t=ne(k,D),r=ne(G,T),s=ne(fe,xe),(function(){for(var L=1,z=2,$=1;$<=15;$++){for(var se=L;se<z;se++)S[32767+se]=$,b[32767+se]=[],b[32767+se][1]=$,b[32767+se][0]=se;for(var pe=-(z-1);pe<=-L;pe++)S[32767+pe]=$,b[32767+pe]=[],b[32767+pe][1]=$,b[32767+pe][0]=z-1+pe;L<<=1,z<<=1}})(),(function(){for(var L=0;L<256;L++)de[L]=19595*L,de[L+256|0]=38470*L,de[L+512|0]=7471*L+32768,de[L+768|0]=-11059*L,de[L+1024|0]=-21709*L,de[L+1280|0]=32768*L+8421375,de[L+1536|0]=-27439*L,de[L+1792|0]=-5329*L})(),X(n)}function Oo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function S4(n){function e(P){if(!P)throw Error("assert :P")}function t(P,G,T){for(var k=0;4>k;k++)if(P[G+k]!=T.charCodeAt(k))return!0;return!1}function r(P,G,T,k,D){for(var fe=0;fe<D;fe++)P[G+fe]=T[k+fe]}function s(P,G,T,k){for(var D=0;D<k;D++)P[G+D]=T}function o(P){return new Int32Array(P)}function c(P,G){for(var T=[],k=0;k<P;k++)T.push(new G);return T}function u(P,G){var T=[];return(function k(D,fe,xe){for(var ne=xe[fe],Z=0;Z<ne&&(D.push(xe.length>fe+1?[]:new G),!(xe.length<fe+1));Z++)k(D[Z],fe+1,xe)})(T,0,P),T}var d=function(){var P=this;function G(p,v){for(var E=1<<v-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function T(p,v,E,C,B){e(!(C%E));do p[v+(C-=E)]=B;while(0<C)}function k(p,v,E,C,B){if(e(2328>=B),512>=B)var H=o(512);else if((H=o(B))==null)return 0;return(function(W,Q,ee,he,_e,De){var ce,Ae,ke=Q,qe=1<<ee,Le=o(16),ze=o(16);for(e(_e!=0),e(he!=null),e(W!=null),e(0<ee),Ae=0;Ae<_e;++Ae){if(15<he[Ae])return 0;++Le[he[Ae]]}if(Le[0]==_e)return 0;for(ze[1]=0,ce=1;15>ce;++ce){if(Le[ce]>1<<ce)return 0;ze[ce+1]=ze[ce]+Le[ce]}for(Ae=0;Ae<_e;++Ae)ce=he[Ae],0<he[Ae]&&(De[ze[ce]++]=Ae);if(ze[15]==1)return(he=new D).g=0,he.value=De[0],T(W,ke,1,qe,he),qe;var Ye,rt=-1,Ze=qe-1,Rt=0,_t=1,rn=1,Nt=1<<ee;for(Ae=0,ce=1,_e=2;ce<=ee;++ce,_e<<=1){if(_t+=rn<<=1,0>(rn-=Le[ce]))return 0;for(;0<Le[ce];--Le[ce])(he=new D).g=ce,he.value=De[Ae++],T(W,ke+Rt,_e,Nt,he),Rt=G(Rt,ce)}for(ce=ee+1,_e=2;15>=ce;++ce,_e<<=1){if(_t+=rn<<=1,0>(rn-=Le[ce]))return 0;for(;0<Le[ce];--Le[ce]){if(he=new D,(Rt&Ze)!=rt){for(ke+=Nt,Ye=1<<(rt=ce)-ee;15>rt&&!(0>=(Ye-=Le[rt]));)++rt,Ye<<=1;qe+=Nt=1<<(Ye=rt-ee),W[Q+(rt=Rt&Ze)].g=Ye+ee,W[Q+rt].value=ke-Q-rt}he.g=ce-ee,he.value=De[Ae++],T(W,ke+(Rt>>ee),_e,Nt,he),Rt=G(Rt,ce)}}return _t!=2*ze[15]-1?0:qe})(p,v,E,C,B,H)}function D(){this.value=this.g=0}function fe(){this.value=this.g=0}function xe(){this.G=c(5,D),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Zo,fe)}function ne(p,v,E,C){e(p!=null),e(v!=null),e(2147483648>C),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=E,p.Jd=v,p.Yc=E+C,p.Zc=4<=C?E+C-4+1:E,Ee(p)}function Z(p,v){for(var E=0;0<v--;)E|=Fe(p,128)<<v;return E}function re(p,v){var E=Z(p,v);return Ie(p)?-E:E}function Ne(p,v,E,C){var B,H=0;for(e(p!=null),e(v!=null),e(4294967288>C),p.Sb=C,p.Ra=0,p.u=0,p.h=0,4<C&&(C=4),B=0;B<C;++B)H+=v[E+B]<<8*B;p.Ra=H,p.bb=C,p.oa=v,p.pa=E}function ve(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Qa-8>>>0,++p.bb,p.u-=8;se(p)&&(p.h=1,p.u=0)}function X(p,v){if(e(0<=v),!p.h&&v<=gs){var E=$(p)&Cs[v];return p.u+=v,ve(p),E}return p.h=1,p.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(p){return p.Ra>>>(p.u&Qa-1)>>>0}function se(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Qa}function pe(p,v){p.u=v,p.h=se(p)}function me(p){p.u>=Ja&&(e(p.u>=Ja),ve(p))}function Ee(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ie(p){return Z(p,1)}function Fe(p,v){var E=p.Ca;0>p.b&&Ee(p);var C=p.b,B=E*v>>>8,H=(p.I>>>C>B)+0;for(H?(E-=B,p.I-=B+1<<C>>>0):E=B+1,C=E,B=0;256<=C;)B+=8,C>>=8;return C=7^B+xo[C],p.b-=C,p.Ca=(E<<C)-1,H}function et(p,v,E){p[v+0]=E>>24&255,p[v+1]=E>>16&255,p[v+2]=E>>8&255,p[v+3]=255&E}function ot(p,v){return p[v+0]|p[v+1]<<8}function ut(p,v){return ot(p,v)|p[v+2]<<16}function vt(p,v){return ot(p,v)|ot(p,v+2)<<16}function ae(p,v){var E=1<<v;return e(p!=null),e(0<v),p.X=o(E),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function lt(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function Kt(){this.X=[],this.Xa=this.Mb=0}function Mt(p,v,E,C){e(E!=null),e(C!=null);var B=E[0],H=C[0];return B==0&&(B=(p*H+v/2)/v),H==0&&(H=(v*B+p/2)/p),0>=B||0>=H?0:(E[0]=B,C[0]=H,1)}function Be(p,v){return p+(1<<v)-1>>>v}function pt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function le(p,v){P[v]=function(E,C,B,H,W,Q,ee){var he;for(he=0;he<W;++he){var _e=P[p](Q[ee+he-1],B,H+he);Q[ee+he]=pt(E[C+he],_e)}}}function ye(){this.ud=this.hd=this.jd=0}function Se(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function $e(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function He(p,v){return $e(p+(p-v+.5>>1))}function Ve(p,v,E){return Math.abs(v-E)-Math.abs(p-E)}function it(p,v,E,C,B,H,W){for(C=H[W-1],E=0;E<B;++E)H[W+E]=C=pt(p[v+E],C)}function dt(p,v,E,C,B){var H;for(H=0;H<E;++H){var W=p[v+H],Q=W>>8&255,ee=16711935&(ee=(ee=16711935&W)+((Q<<16)+Q));C[B+H]=(4278255360&W)+ee>>>0}}function st(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function bt(p,v,E,C,B,H){var W;for(W=0;W<C;++W){var Q=v[E+W],ee=Q>>>8,he=Q,_e=255&(_e=(_e=Q>>>16)+((p.jd<<24>>24)*(ee<<24>>24)>>>5));he=255&(he=(he+=(p.hd<<24>>24)*(ee<<24>>24)>>>5)+((p.ud<<24>>24)*(_e<<24>>24)>>>5)),B[H+W]=(4278255360&Q)+(_e<<16)+he}}function gt(p,v,E,C,B){P[v]=function(H,W,Q,ee,he,_e,De,ce,Ae){for(ee=De;ee<ce;++ee)for(De=0;De<Ae;++De)he[_e++]=B(Q[C(H[W++])])},P[p]=function(H,W,Q,ee,he,_e,De){var ce=8>>H.b,Ae=H.Ea,ke=H.K[0],qe=H.w;if(8>ce)for(H=(1<<H.b)-1,qe=(1<<ce)-1;W<Q;++W){var Le,ze=0;for(Le=0;Le<Ae;++Le)Le&H||(ze=C(ee[he++])),_e[De++]=B(ke[ze&qe]),ze>>=ce}else P["VP8LMapColor"+E](ee,he,ke,qe,_e,De,W,Q,Ae)}}function dn(p,v,E,C,B){for(E=v+E;v<E;){var H=p[v++];C[B++]=H>>16&255,C[B++]=H>>8&255,C[B++]=255&H}}function Zt(p,v,E,C,B){for(E=v+E;v<E;){var H=p[v++];C[B++]=H>>16&255,C[B++]=H>>8&255,C[B++]=255&H,C[B++]=H>>24&255}}function Pt(p,v,E,C,B){for(E=v+E;v<E;){var H=(W=p[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;C[B++]=H,C[B++]=W}}function Ut(p,v,E,C,B){for(E=v+E;v<E;){var H=(W=p[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;C[B++]=H,C[B++]=W}}function Qt(p,v,E,C,B){for(E=v+E;v<E;){var H=p[v++];C[B++]=255&H,C[B++]=H>>8&255,C[B++]=H>>16&255}}function Ot(p,v,E,C,B,H){if(H==0)for(E=v+E;v<E;)et(C,((H=p[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),B+=32;else r(C,B,p,v,E)}function yn(p,v){P[v][0]=P[p+"0"],P[v][1]=P[p+"1"],P[v][2]=P[p+"2"],P[v][3]=P[p+"3"],P[v][4]=P[p+"4"],P[v][5]=P[p+"5"],P[v][6]=P[p+"6"],P[v][7]=P[p+"7"],P[v][8]=P[p+"8"],P[v][9]=P[p+"9"],P[v][10]=P[p+"10"],P[v][11]=P[p+"11"],P[v][12]=P[p+"12"],P[v][13]=P[p+"13"],P[v][14]=P[p+"0"],P[v][15]=P[p+"0"]}function Et(p){return p==ku||p==vh||p==xc||p==bh}function zt(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new jn,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Sn(p,v){var E=p.T,C=v.ba.f.RGBA,B=C.eb,H=C.fb+p.ka*C.A,W=Bi[v.ba.S],Q=p.y,ee=p.O,he=p.f,_e=p.N,De=p.ea,ce=p.W,Ae=v.cc,ke=v.dc,qe=v.Mc,Le=v.Nc,ze=p.ka,Ye=p.ka+p.T,rt=p.U,Ze=rt+1>>1;for(ze==0?W(Q,ee,null,null,he,_e,De,ce,he,_e,De,ce,B,H,null,null,rt):(W(v.ec,v.fc,Q,ee,Ae,ke,qe,Le,he,_e,De,ce,B,H-C.A,B,H,rt),++E);ze+2<Ye;ze+=2)Ae=he,ke=_e,qe=De,Le=ce,_e+=p.Rc,ce+=p.Rc,H+=2*C.A,W(Q,(ee+=2*p.fa)-p.fa,Q,ee,Ae,ke,qe,Le,he,_e,De,ce,B,H-C.A,B,H,rt);return ee+=p.fa,p.j+Ye<p.o?(r(v.ec,v.fc,Q,ee,rt),r(v.cc,v.dc,he,_e,Ze),r(v.Mc,v.Nc,De,ce,Ze),E--):1&Ye||W(Q,ee,null,null,he,_e,De,ce,he,_e,De,ce,B,H+C.A,null,null,rt),E}function ur(p,v,E){var C=p.F,B=[p.J];if(C!=null){var H=p.U,W=v.ba.S,Q=W==Ru||W==xc;v=v.ba.f.RGBA;var ee=[0],he=p.ka;ee[0]=p.T,p.Kb&&(he==0?--ee[0]:(--he,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(ee[0]=p.o-p.j-he));var _e=v.eb;he=v.fb+he*v.A,p=Nu(C,B[0],p.width,H,ee,_e,he+(Q?0:3),v.A),e(E==ee),p&&Et(W)&&jl(_e,he,Q,H,ee,v.A)}return 0}function Sr(p){var v=p.ma,E=v.ba.S,C=11>E,B=E==es||E==sa||E==Ru||E==wc||E==12||Et(E);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!wo(v.Oa,p,B?11:12))return 0;if(B&&Et(E)&&nn(),p.da)alert("todo:use_scaling");else{if(C){if(v.Ib=wn,p.Kb){if(E=p.U+1>>1,v.memory=o(p.U+2*E),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+E,v.Ib=Sn,nn()}}else alert("todo:EmitYUV");B&&(v.Jb=ur,C&&Me())}if(C&&!al){for(p=0;256>p;++p)zi[p]=89858*(p-128)+Ec>>ha,l1[p]=-22014*(p-128)+Ec,Cp[p]=-45773*(p-128),Sh[p]=113618*(p-128)+Ec>>ha;for(p=Bl;p<sl;++p)v=76283*(p-16)+Ec>>ha,c1[p-Bl]=us(v,255),u1[p-Bl]=us(v+8>>4,15);al=1}return 1}function mt(p){var v=p.ma,E=p.U,C=p.T;return e(!(1&p.ka)),0>=E||0>=C?0:(E=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,E),v.Dc+=E,1)}function Er(p){p.ma.memory=null}function ti(p,v,E,C){return X(p,8)!=47?0:(v[0]=X(p,14)+1,E[0]=X(p,14)+1,C[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Zn(p,v){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+X(v,E)+1}function er(p,v){return 120<v?v-120:1<=(E=((E=oa[v-1])>>4)*p+(8-(15&E)))?E:1;var E}function zn(p,v,E){var C=$(E),B=p[v+=255&C].g-8;return 0<B&&(pe(E,E.u+8),C=$(E),v+=p[v].value,v+=C&(1<<B)-1),pe(E,E.u+p[v].g),p[v].value}function Cn(p,v,E){return E.g+=p.g,E.value+=p.value<<v>>>0,e(8>=E.g),p.g}function Gr(p,v,E){var C=p.xc;return e((v=C==0?0:p.vc[p.md*(E>>C)+(v>>C)])<p.Wb),p.Ya[v]}function Di(p,v,E,C){var B=p.ab,H=p.c*v,W=p.C;v=W+v;var Q=E,ee=C;for(C=p.Ta,E=p.Ua;0<B--;){var he=p.gc[B],_e=W,De=v,ce=Q,Ae=ee,ke=(ee=C,Q=E,he.Ea);switch(e(_e<De),e(De<=he.nc),he.hc){case 2:$r(ce,Ae,(De-_e)*ke,ee,Q);break;case 0:var qe=_e,Le=De,ze=ee,Ye=Q,rt=(Nt=he).Ea;qe==0&&(yc(ce,Ae,null,null,1,ze,Ye),it(ce,Ae+1,0,0,rt-1,ze,Ye+1),Ae+=rt,Ye+=rt,++qe);for(var Ze=1<<Nt.b,Rt=Ze-1,_t=Be(rt,Nt.b),rn=Nt.K,Nt=Nt.w+(qe>>Nt.b)*_t;qe<Le;){var An=rn,_r=Nt,on=1;for(vc(ce,Ae,ze,Ye-rt,1,ze,Ye);on<rt;){var wt=(on&~Rt)+Ze;wt>rt&&(wt=rt),(0,Ao[An[_r++]>>8&15])(ce,Ae+ +on,ze,Ye+on-rt,wt-on,ze,Ye+on),on=wt}Ae+=rt,Ye+=rt,++qe&Rt||(Nt+=_t)}De!=he.nc&&r(ee,Q-ke,ee,Q+(De-_e-1)*ke,ke);break;case 1:for(ke=ce,Le=Ae,rt=(ce=he.Ea)-(Ye=ce&~(ze=(Ae=1<<he.b)-1)),qe=Be(ce,he.b),Ze=he.K,he=he.w+(_e>>he.b)*qe;_e<De;){for(Rt=Ze,_t=he,rn=new ye,Nt=Le+Ye,An=Le+ce;Le<Nt;)st(Rt[_t++],rn),bc(rn,ke,Le,Ae,ee,Q),Le+=Ae,Q+=Ae;Le<An&&(st(Rt[_t++],rn),bc(rn,ke,Le,rt,ee,Q),Le+=rt,Q+=rt),++_e&ze||(he+=qe)}break;case 3:if(ce==ee&&Ae==Q&&0<he.b){for(Le=ee,ce=ke=Q+(De-_e)*ke-(Ye=(De-_e)*Be(he.Ea,he.b)),Ae=ee,ze=Q,qe=[],Ye=(rt=Ye)-1;0<=Ye;--Ye)qe[Ye]=Ae[ze+Ye];for(Ye=rt-1;0<=Ye;--Ye)Le[ce+Ye]=qe[Ye];dh(he,_e,De,ee,ke,ee,Q)}else dh(he,_e,De,ce,Ae,ee,Q)}Q=C,ee=E}ee!=E&&r(C,E,Q,ee,H)}function xi(p,v){var E=p.V,C=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var H=p.l,W=p.Ta,Q=p.Ua,ee=H.width;if(Di(p,B,E,C),B=Q=[Q],e((E=p.C)<(C=v)),e(H.v<H.va),C>H.o&&(C=H.o),E<H.j){var he=H.j-E;E=H.j,B[0]+=he*ee}if(E>=C?E=0:(B[0]+=4*H.v,H.ka=E-H.j,H.U=H.va-H.v,H.T=C-E,E=1),E){if(Q=Q[0],11>(E=p.ca).S){var _e=E.f.RGBA,De=(C=E.S,B=H.U,H=H.T,he=_e.eb,_e.A),ce=H;for(_e=_e.fb+p.Ma*_e.A;0<ce--;){var Ae=W,ke=Q,qe=B,Le=he,ze=_e;switch(C){case gh:_c(Ae,ke,qe,Le,ze);break;case es:So(Ae,ke,qe,Le,ze);break;case ku:So(Ae,ke,qe,Le,ze),jl(Le,ze,0,qe,1,0);break;case yh:Ol(Ae,ke,qe,Le,ze);break;case sa:Ot(Ae,ke,qe,Le,ze,1);break;case vh:Ot(Ae,ke,qe,Le,ze,1),jl(Le,ze,0,qe,1,0);break;case Ru:Ot(Ae,ke,qe,Le,ze,0);break;case xc:Ot(Ae,ke,qe,Le,ze,0),jl(Le,ze,1,qe,1,0);break;case wc:Eo(Ae,ke,qe,Le,ze);break;case bh:Eo(Ae,ke,qe,Le,ze),ia(Le,ze,qe,1,0);break;case el:to(Ae,ke,qe,Le,ze);break;default:e(0)}Q+=ee,_e+=De}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=E.height)}}p.C=v,e(p.C<=p.i)}function Gn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var E=p.Ya[v].G,C=p.Ya[v].H;if(0<E[1][C[1]+0].g||0<E[2][C[2]+0].g||0<E[3][C[3]+0].g)return 0}return 1}function rr(p,v,E,C,B,H){if(p.Z!=0){var W=p.qd,Q=p.rd;for(e(Co[p.Z]!=null);v<E;++v)Co[p.Z](W,Q,C,B,C,B,H),W=C,Q=B,B+=H;p.qd=W,p.rd=Q}}function ni(p,v){var E=p.l.ma,C=E.Z==0||E.Z==1?p.l.j:p.C;if(C=p.C<C?C:p.C,e(v<=p.l.o),v>C){var B=p.l.width,H=E.ca,W=E.tb+B*C,Q=p.V,ee=p.Ba+p.c*C,he=p.gc;e(p.ab==1),e(he[0].hc==3),eo(he[0],C,v,Q,ee,H,W),rr(E,C,v,H,W,B)}p.C=p.Ma=v}function Yi(p,v,E,C,B,H,W){var Q=p.$/C,ee=p.$%C,he=p.m,_e=p.s,De=E+p.$,ce=De;B=E+C*B;var Ae=E+C*H,ke=280+_e.ua,qe=p.Pb?Q:16777216,Le=0<_e.ua?_e.Wa:null,ze=_e.wc,Ye=De<Ae?Gr(_e,ee,Q):null;e(p.C<H),e(Ae<=B);var rt=!1;e:for(;;){for(;rt||De<Ae;){var Ze=0;if(Q>=qe){var Rt=De-E;e((qe=p).Pb),qe.wd=qe.m,qe.xd=Rt,0<qe.s.ua&&lt(qe.s.Wa,qe.s.vb),qe=Q+tl}if(ee&ze||(Ye=Gr(_e,ee,Q)),e(Ye!=null),Ye.Qb&&(v[De]=Ye.qb,rt=!0),!rt)if(me(he),Ye.jc){Ze=he,Rt=v;var _t=De,rn=Ye.pd[$(Ze)&Zo-1];e(Ye.jc),256>rn.g?(pe(Ze,Ze.u+rn.g),Rt[_t]=rn.value,Ze=0):(pe(Ze,Ze.u+rn.g-256),e(256<=rn.value),Ze=rn.value),Ze==0&&(rt=!0)}else Ze=zn(Ye.G[0],Ye.H[0],he);if(he.h)break;if(rt||256>Ze){if(!rt)if(Ye.nd)v[De]=(Ye.qb|Ze<<8)>>>0;else{if(me(he),rt=zn(Ye.G[1],Ye.H[1],he),me(he),Rt=zn(Ye.G[2],Ye.H[2],he),_t=zn(Ye.G[3],Ye.H[3],he),he.h)break;v[De]=(_t<<24|rt<<16|Ze<<8|Rt)>>>0}if(rt=!1,++De,++ee>=C&&(ee=0,++Q,W!=null&&Q<=H&&!(Q%16)&&W(p,Q),Le!=null))for(;ce<De;)Ze=v[ce++],Le.X[(506832829*Ze&4294967295)>>>Le.Mb]=Ze}else if(280>Ze){if(Ze=Zn(Ze-256,he),Rt=zn(Ye.G[4],Ye.H[4],he),me(he),Rt=er(C,Rt=Zn(Rt,he)),he.h)break;if(De-E<Rt||B-De<Ze)break e;for(_t=0;_t<Ze;++_t)v[De+_t]=v[De+_t-Rt];for(De+=Ze,ee+=Ze;ee>=C;)ee-=C,++Q,W!=null&&Q<=H&&!(Q%16)&&W(p,Q);if(e(De<=B),ee&ze&&(Ye=Gr(_e,ee,Q)),Le!=null)for(;ce<De;)Ze=v[ce++],Le.X[(506832829*Ze&4294967295)>>>Le.Mb]=Ze}else{if(!(Ze<ke))break e;for(rt=Ze-280,e(Le!=null);ce<De;)Ze=v[ce++],Le.X[(506832829*Ze&4294967295)>>>Le.Mb]=Ze;Ze=De,e(!(rt>>>(Rt=Le).Xa)),v[Ze]=Rt.X[rt],rt=!0}rt||e(he.h==se(he))}if(p.Pb&&he.h&&De<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&lt(p.s.vb,p.s.Wa);else{if(he.h)break e;W?.(p,Q>H?H:Q),p.a=0,p.$=De-E}return 1}return p.a=3,0}function As(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function qa(){var p=new Wt;return p==null?null:(p.a=0,p.xb=Hf,yn("Predictor","VP8LPredictors"),yn("Predictor","VP8LPredictors_C"),yn("PredictorAdd","VP8LPredictorsAdd"),yn("PredictorAdd","VP8LPredictorsAdd_C"),$r=dt,bc=bt,_c=dn,So=Zt,Eo=Pt,to=Ut,Ol=Qt,P.VP8LMapColor32b=Za,P.VP8LMapColor8b=Vi,p)}function Fs(p,v,E,C,B){var H=1,W=[p],Q=[v],ee=C.m,he=C.s,_e=null,De=0;e:for(;;){if(E)for(;H&&X(ee,1);){var ce=W,Ae=Q,ke=C,qe=1,Le=ke.m,ze=ke.gc[ke.ab],Ye=X(Le,2);if(ke.Oc&1<<Ye)H=0;else{switch(ke.Oc|=1<<Ye,ze.hc=Ye,ze.Ea=ce[0],ze.nc=Ae[0],ze.K=[null],++ke.ab,e(4>=ke.ab),Ye){case 0:case 1:ze.b=X(Le,3)+2,qe=Fs(Be(ze.Ea,ze.b),Be(ze.nc,ze.b),0,ke,ze.K),ze.K=ze.K[0];break;case 3:var rt,Ze=X(Le,8)+1,Rt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(ce[0]=Be(ze.Ea,Rt),ze.b=Rt,rt=qe=Fs(Ze,1,0,ke,ze.K)){var _t,rn=Ze,Nt=ze,An=1<<(8>>Nt.b),_r=o(An);if(_r==null)rt=0;else{var on=Nt.K[0],wt=Nt.w;for(_r[0]=Nt.K[0][0],_t=1;_t<1*rn;++_t)_r[_t]=pt(on[wt+_t],_r[_t-1]);for(;_t<4*An;++_t)_r[_t]=0;Nt.K[0]=null,Nt.K[0]=_r,rt=1}}qe=rt;break;case 2:break;default:e(0)}H=qe}}if(W=W[0],Q=Q[0],H&&X(ee,1)&&!(H=1<=(De=X(ee,4))&&11>=De)){C.a=3;break e}var ft;if(ft=H)t:{var Rr,Xt,fn,Xn=C,mi=W,qi=Q,pr=De,ii=E,ts=Xn.m,si=Xn.s,gn=[null],Vn=1,kr=0,Hn=la[pr];n:for(;;){if(ii&&X(ts,1)){var gi=X(ts,3)+2,Lr=Be(mi,gi),Un=Be(qi,gi),Qr=Lr*Un;if(!Fs(Lr,Un,0,Xn,gn))break n;for(gn=gn[0],si.xc=gi,Rr=0;Rr<Qr;++Rr){var Qn=gn[Rr]>>8&65535;gn[Rr]=Qn,Qn>=Vn&&(Vn=Qn+1)}}if(ts.h)break n;for(Xt=0;5>Xt;++Xt){var ai=Ul[Xt];!Xt&&0<pr&&(ai+=1<<pr),kr<ai&&(kr=ai)}var oi=c(Vn*Hn,D),sr=Vn,Mn=c(sr,xe);if(Mn==null)var ns=null;else e(65536>=sr),ns=Mn;var Ur=o(kr);if(ns==null||Ur==null||oi==null){Xn.a=1;break n}var Ht=oi;for(Rr=fn=0;Rr<Vn;++Rr){var Yt=ns[Rr],Fn=Yt.G,Is=Yt.H,fa=0,vs=1,li=0;for(Xt=0;5>Xt;++Xt){ai=Ul[Xt],Fn[Xt]=Ht,Is[Xt]=fn,!Xt&&0<pr&&(ai+=1<<pr);i:{var ol,ll=ai,Nh=Xn,mr=Ur,Wf=Ht,Yf=fn,Th=0,Io=Nh.m,h1=X(Io,1);if(s(mr,0,0,ll),h1){var $f=X(Io,1)+1,Kf=X(Io,1),Ch=X(Io,Kf==0?1:8);mr[Ch]=1,$f==2&&(mr[Ch=X(Io,8)]=1);var Ni=1}else{var Fr=o(19),Ou=X(Io,4)+4;if(19<Ou){Nh.a=3;var cl=0;break i}for(ol=0;ol<Ou;++ol)Fr[Lu[ol]]=X(Io,3);var Tc=void 0,zl=void 0,io=Nh,Ih=Fr,Cc=ll,Rh=mr,kh=0,Ro=io.m,Xf=8,Qf=c(128,D);r:for(;k(Qf,0,7,Ih,19);){if(X(Ro,1)){var Ip=2+2*X(Ro,3);if((Tc=2+X(Ro,Ip))>Cc)break r}else Tc=Cc;for(zl=0;zl<Cc&&Tc--;){me(Ro);var Jf=Qf[0+(127&$(Ro))];pe(Ro,Ro.u+Jf.g);var ul=Jf.value;if(16>ul)Rh[zl++]=ul,ul!=0&&(Xf=ul);else{var Rp=ul==16,kp=ul-16,Lp=Ac[kp],Zf=X(Ro,aa[kp])+Lp;if(zl+Zf>Cc)break r;for(var Dp=Rp?Xf:0;0<Zf--;)Rh[zl++]=Dp}}kh=1;break r}kh||(io.a=3),Ni=kh}(Ni=Ni&&!Io.h)&&(Th=k(Wf,Yf,8,mr,ll)),Ni&&Th!=0?cl=Th:(Nh.a=3,cl=0)}if(cl==0)break n;if(vs&&_h[Xt]==1&&(vs=Ht[fn].g==0),fa+=Ht[fn].g,fn+=cl,3>=Xt){var ql,Lh=Ur[0];for(ql=1;ql<ai;++ql)Ur[ql]>Lh&&(Lh=Ur[ql]);li+=Lh}}if(Yt.nd=vs,Yt.Qb=0,vs&&(Yt.qb=(Fn[3][Is[3]+0].value<<24|Fn[1][Is[1]+0].value<<16|Fn[2][Is[2]+0].value)>>>0,fa==0&&256>Fn[0][Is[0]+0].value&&(Yt.Qb=1,Yt.qb+=Fn[0][Is[0]+0].value<<8)),Yt.jc=!Yt.Qb&&6>li,Yt.jc){var Mu,so=Yt;for(Mu=0;Mu<Zo;++Mu){var ko=Mu,Lo=so.pd[ko],Dh=so.G[0][so.H[0]+ko];256<=Dh.value?(Lo.g=Dh.g+256,Lo.value=Dh.value):(Lo.g=0,Lo.value=0,ko>>=Cn(Dh,8,Lo),ko>>=Cn(so.G[1][so.H[1]+ko],16,Lo),ko>>=Cn(so.G[2][so.H[2]+ko],0,Lo),Cn(so.G[3][so.H[3]+ko],24,Lo))}}}si.vc=gn,si.Wb=Vn,si.Ya=ns,si.yc=oi,ft=1;break t}ft=0}if(!(H=ft)){C.a=3;break e}if(0<De){if(he.ua=1<<De,!ae(he.Wa,De)){C.a=1,H=0;break e}}else he.ua=0;var Ph=C,Hl=W,Pp=Q,Ic=Ph.s,Rc=Ic.xc;if(Ph.c=Hl,Ph.i=Pp,Ic.md=Be(Hl,Rc),Ic.wc=Rc==0?-1:(1<<Rc)-1,E){C.xb=nl;break e}if((_e=o(W*Q))==null){C.a=1,H=0;break e}H=(H=Yi(C,_e,0,W,Q,Q,null))&&!ee.h;break e}return H?(B!=null?B[0]=_e:(e(_e==null),e(E)),C.$=0,E||As(he)):As(he),H}function $i(p,v){var E=p.c*p.i,C=E+v+16*v;return e(p.c<=v),p.V=o(C),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+v,1)}function Sa(p,v){var E=p.C,C=v-E,B=p.V,H=p.Ba+p.c*E;for(e(v<=p.l.o);0<C;){var W=16<C?16:C,Q=p.l.ma,ee=p.l.width,he=ee*W,_e=Q.ca,De=Q.tb+ee*E,ce=p.Ta,Ae=p.Ua;Di(p,W,B,H),$s(ce,Ae,_e,De,he),rr(Q,E,E+W,_e,De,ee),C-=W,B+=W*p.c,E+=W}e(E==v),p.C=p.Ma=v}function ls(){this.ub=this.yd=this.td=this.Rb=0}function Pi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cs(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ss(){this.Yb=(function(){var p=[];return(function v(E,C,B){for(var H=B[C],W=0;W<H&&(E.push(B.length>C+1?[]:0),!(B.length<C+1));W++)v(E[W],C+1,B)})(p,0,[3,11]),p})()}function Ir(){this.jb=o(3),this.Wc=u([4,8],Ss),this.Xc=u([4,17],Ss)}function Go(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ki(){this.ld=this.La=this.dd=this.tc=0}function Es(){this.Na=this.la=0}function Bs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function po(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ki),this.Y=0,this.ya=Array(new po),this.aa=0,this.l=new Ai}function Yo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Cl(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new ls,this.Kc=new Pi,this.ed=new Go,this.Qa=new cs,this.Ic=this.$c=this.Aa=0,this.D=new Wo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,L),this.ia=0,this.pb=c(4,Bs),this.Pa=new Ir,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Yo),this.Hd=0,this.rb=Array(new Es),this.sb=0,this.wa=Array(new Ki),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new po),this.L=this.aa=0,this.gd=u([4,2],Ki),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function us(p,v){return 0>p?0:p>v?v:p}function Ai(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mr(){var p=new Cl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ks||(Ks=In)),p}function vn(p,v,E){return p.a==0&&(p.a=v,p.sc=E,p.cb=0),0}function Ea(p,v,E){return 3<=E&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Ns(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return vn(p,2,"null VP8Io passed to VP8GetHeaders()");var E=v.data,C=v.w,B=v.ha;if(4>B)return vn(p,7,"Truncated header.");var H=E[C+0]|E[C+1]<<8|E[C+2]<<16,W=p.Od;if(W.Rb=!(1&H),W.td=H>>1&7,W.yd=H>>4&1,W.ub=H>>5,3<W.td)return vn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return vn(p,4,"Frame not displayable.");C+=3,B-=3;var Q=p.Kc;if(W.Rb){if(7>B)return vn(p,7,"cannot parse picture header");if(!Ea(E,C,B))return vn(p,3,"Bad code word");Q.c=16383&(E[C+4]<<8|E[C+3]),Q.Td=E[C+4]>>6,Q.i=16383&(E[C+6]<<8|E[C+5]),Q.Ud=E[C+6]>>6,C+=7,B-=7,p.za=Q.c+15>>4,p.Ub=Q.i+15>>4,v.width=Q.c,v.height=Q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(W.ub>B)return vn(p,7,"bad partition length");ne(H=p.m,E,C,W.ub),C+=W.ub,B-=W.ub,W.Rb&&(Q.Ld=Ie(H),Q.Kd=Ie(H)),Q=p.Qa;var ee,he=p.Pa;if(e(H!=null),e(Q!=null),Q.Cb=Ie(H),Q.Cb){if(Q.Bb=Ie(H),Ie(H)){for(Q.Fb=Ie(H),ee=0;4>ee;++ee)Q.Zb[ee]=Ie(H)?re(H,7):0;for(ee=0;4>ee;++ee)Q.Lb[ee]=Ie(H)?re(H,6):0}if(Q.Bb)for(ee=0;3>ee;++ee)he.jb[ee]=Ie(H)?Z(H,8):255}else Q.Bb=0;if(H.Ka)return vn(p,3,"cannot parse segment header");if((Q=p.ed).zd=Ie(H),Q.Tb=Z(H,6),Q.wb=Z(H,3),Q.Pc=Ie(H),Q.Pc&&Ie(H)){for(he=0;4>he;++he)Ie(H)&&(Q.vd[he]=re(H,6));for(he=0;4>he;++he)Ie(H)&&(Q.od[he]=re(H,6))}if(p.L=Q.Tb==0?0:Q.zd?1:2,H.Ka)return vn(p,3,"cannot parse filter header");var _e=B;if(B=ee=C,C=ee+_e,Q=_e,p.Xb=(1<<Z(p.m,2))-1,_e<3*(he=p.Xb))E=7;else{for(ee+=3*he,Q-=3*he,_e=0;_e<he;++_e){var De=E[B+0]|E[B+1]<<8|E[B+2]<<16;De>Q&&(De=Q),ne(p.Jc[+_e],E,ee,De),ee+=De,Q-=De,B+=3}ne(p.Jc[+he],E,ee,Q),E=ee<C?0:5}if(E!=0)return vn(p,E,"cannot parse partitions");for(E=Z(ee=p.m,7),B=Ie(ee)?re(ee,4):0,C=Ie(ee)?re(ee,4):0,Q=Ie(ee)?re(ee,4):0,he=Ie(ee)?re(ee,4):0,ee=Ie(ee)?re(ee,4):0,_e=p.Qa,De=0;4>De;++De){if(_e.Cb){var ce=_e.Zb[De];_e.Fb||(ce+=E)}else{if(0<De){p.pb[De]=p.pb[0];continue}ce=E}var Ae=p.pb[De];Ae.Sc[0]=ca[us(ce+B,127)],Ae.Sc[1]=ua[us(ce+0,127)],Ae.Eb[0]=2*ca[us(ce+C,127)],Ae.Eb[1]=101581*ua[us(ce+Q,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=ca[us(ce+he,117)],Ae.Qc[1]=ua[us(ce+ee,127)],Ae.lc=ce+ee}if(!W.Rb)return vn(p,4,"Not a key frame.");for(Ie(H),W=p.Pa,E=0;4>E;++E){for(B=0;8>B;++B)for(C=0;3>C;++C)for(Q=0;11>Q;++Q)he=Fe(H,br[E][B][C][Q])?Z(H,8):Tp[E][B][C][Q],W.Wc[E][B].Yb[C][Q]=he;for(B=0;17>B;++B)W.Xc[E][B]=W.Wc[E][En[B]]}return p.kc=Ie(H),p.kc&&(p.Bd=Z(H,8)),p.cb=1}function In(p,v,E,C,B,H,W){var Q=v[B].Yb[E];for(E=0;16>B;++B){if(!Fe(p,Q[E+0]))return B;for(;!Fe(p,Q[E+1]);)if(Q=v[++B].Yb[0],E=0,B==16)return 16;var ee=v[B+1].Yb;if(Fe(p,Q[E+2])){var he=p,_e=0;if(Fe(he,(ce=Q)[(De=E)+3]))if(Fe(he,ce[De+6])){for(Q=0,De=2*(_e=Fe(he,ce[De+8]))+(ce=Fe(he,ce[De+9+_e])),_e=0,ce=Np[De];ce[Q];++Q)_e+=_e+Fe(he,ce[Q]);_e+=3+(8<<De)}else Fe(he,ce[De+7])?(_e=7+2*Fe(he,165),_e+=Fe(he,145)):_e=5+Fe(he,159);else _e=Fe(he,ce[De+4])?3+Fe(he,ce[De+5]):2;Q=ee[2]}else _e=1,Q=ee[1];ee=W+qf[B],0>(he=p).b&&Ee(he);var De,ce=he.b,Ae=(De=he.Ca>>1)-(he.I>>ce)>>31;--he.b,he.Ca+=Ae,he.Ca|=1,he.I-=(De+1&Ae)<<ce,H[ee]=((_e^Ae)-Ae)*C[(0<B)+0]}return 16}function Ha(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Wr(p,v,E,C,B){B=p[v+E+32*C]+(B>>3),p[v+E+32*C]=-256&B?0>B?0:255:B}function vr(p,v,E,C,B,H){Wr(p,v,0,E,C+B),Wr(p,v,1,E,C+H),Wr(p,v,2,E,C-H),Wr(p,v,3,E,C-B)}function jr(p){return(20091*p>>16)+p}function mo(p,v,E,C){var B,H=0,W=o(16);for(B=0;4>B;++B){var Q=p[v+0]+p[v+8],ee=p[v+0]-p[v+8],he=(35468*p[v+4]>>16)-jr(p[v+12]),_e=jr(p[v+4])+(35468*p[v+12]>>16);W[H+0]=Q+_e,W[H+1]=ee+he,W[H+2]=ee-he,W[H+3]=Q-_e,H+=4,v++}for(B=H=0;4>B;++B)Q=(p=W[H+0]+4)+W[H+8],ee=p-W[H+8],he=(35468*W[H+4]>>16)-jr(W[H+12]),Wr(E,C,0,0,Q+(_e=jr(W[H+4])+(35468*W[H+12]>>16))),Wr(E,C,1,0,ee+he),Wr(E,C,2,0,ee-he),Wr(E,C,3,0,Q-_e),H++,C+=32}function mc(p,v,E,C){var B=p[v+0]+4,H=35468*p[v+4]>>16,W=jr(p[v+4]),Q=35468*p[v+1]>>16;vr(E,C,0,B+W,p=jr(p[v+1]),Q),vr(E,C,1,B+H,p,Q),vr(E,C,2,B-H,p,Q),vr(E,C,3,B-W,p,Q)}function Il(p,v,E,C,B){mo(p,v,E,C),B&&mo(p,v+16,E,C+4)}function Oi(p,v,E,C){No(p,v+0,E,C,1),No(p,v+32,E,C+128,1)}function Rl(p,v,E,C){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)Wr(E,C,v,B,p)}function Na(p,v,E,C){p[v+0]&&qn(p,v+0,E,C),p[v+16]&&qn(p,v+16,E,C+4),p[v+32]&&qn(p,v+32,E,C+128),p[v+48]&&qn(p,v+48,E,C+128+4)}function di(p,v,E,C){var B,H=o(16);for(B=0;4>B;++B){var W=p[v+0+B]+p[v+12+B],Q=p[v+4+B]+p[v+8+B],ee=p[v+4+B]-p[v+8+B],he=p[v+0+B]-p[v+12+B];H[0+B]=W+Q,H[8+B]=W-Q,H[4+B]=he+ee,H[12+B]=he-ee}for(B=0;4>B;++B)W=(p=H[0+4*B]+3)+H[3+4*B],Q=H[1+4*B]+H[2+4*B],ee=H[1+4*B]-H[2+4*B],he=p-H[3+4*B],E[C+0]=W+Q>>3,E[C+16]=he+ee>>3,E[C+32]=W-Q>>3,E[C+48]=he-ee>>3,C+=64}function Ga(p,v,E){var C,B=v-32,H=Zi,W=255-p[B-1];for(C=0;C<E;++C){var Q,ee=H,he=W+p[v-1];for(Q=0;Q<E;++Q)p[v+Q]=ee[he+p[B+Q]];v+=32}}function kl(p,v){Ga(p,v,4)}function Ll(p,v){Ga(p,v,8)}function $o(p,v){Ga(p,v,16)}function Ko(p,v){var E;for(E=0;16>E;++E)r(p,v+32*E,p,v-32,16)}function Ta(p,v){var E;for(E=16;0<E;--E)s(p,v,p[v-1],16),v+=32}function Xi(p,v,E){var C;for(C=0;16>C;++C)s(v,E+32*C,p,16)}function zs(p,v){var E,C=16;for(E=0;16>E;++E)C+=p[v-1+32*E]+p[v+E-32];Xi(C>>5,p,v)}function Ca(p,v){var E,C=8;for(E=0;16>E;++E)C+=p[v-1+32*E];Xi(C>>4,p,v)}function Qi(p,v){var E,C=8;for(E=0;16>E;++E)C+=p[v+E-32];Xi(C>>4,p,v)}function Wa(p,v){Xi(128,p,v)}function qt(p,v,E){return p+2*v+E+2>>2}function go(p,v){var E,C=v-32;for(C=new Uint8Array([qt(p[C-1],p[C+0],p[C+1]),qt(p[C+0],p[C+1],p[C+2]),qt(p[C+1],p[C+2],p[C+3]),qt(p[C+2],p[C+3],p[C+4])]),E=0;4>E;++E)r(p,v+32*E,C,0,C.length)}function Xo(p,v){var E=p[v-1],C=p[v-1+32],B=p[v-1+64],H=p[v-1+96];et(p,v+0,16843009*qt(p[v-1-32],E,C)),et(p,v+32,16843009*qt(E,C,B)),et(p,v+64,16843009*qt(C,B,H)),et(p,v+96,16843009*qt(B,H,H))}function Ya(p,v){var E,C=4;for(E=0;4>E;++E)C+=p[v+E-32]+p[v-1+32*E];for(C>>=3,E=0;4>E;++E)s(p,v+32*E,C,4)}function pi(p,v){var E=p[v-1+0],C=p[v-1+32],B=p[v-1+64],H=p[v-1-32],W=p[v+0-32],Q=p[v+1-32],ee=p[v+2-32],he=p[v+3-32];p[v+0+96]=qt(C,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=qt(E,C,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=qt(H,E,C),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=qt(W,H,E),p[v+3+64]=p[v+2+32]=p[v+1+0]=qt(Q,W,H),p[v+3+32]=p[v+2+0]=qt(ee,Q,W),p[v+3+0]=qt(he,ee,Q)}function ri(p,v){var E=p[v+1-32],C=p[v+2-32],B=p[v+3-32],H=p[v+4-32],W=p[v+5-32],Q=p[v+6-32],ee=p[v+7-32];p[v+0+0]=qt(p[v+0-32],E,C),p[v+1+0]=p[v+0+32]=qt(E,C,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=qt(C,B,H),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=qt(B,H,W),p[v+3+32]=p[v+2+64]=p[v+1+96]=qt(H,W,Q),p[v+3+64]=p[v+2+96]=qt(W,Q,ee),p[v+3+96]=qt(Q,ee,ee)}function yo(p,v){var E=p[v-1+0],C=p[v-1+32],B=p[v-1+64],H=p[v-1-32],W=p[v+0-32],Q=p[v+1-32],ee=p[v+2-32],he=p[v+3-32];p[v+0+0]=p[v+1+64]=H+W+1>>1,p[v+1+0]=p[v+2+64]=W+Q+1>>1,p[v+2+0]=p[v+3+64]=Q+ee+1>>1,p[v+3+0]=ee+he+1>>1,p[v+0+96]=qt(B,C,E),p[v+0+64]=qt(C,E,H),p[v+0+32]=p[v+1+96]=qt(E,H,W),p[v+1+32]=p[v+2+96]=qt(H,W,Q),p[v+2+32]=p[v+3+96]=qt(W,Q,ee),p[v+3+32]=qt(Q,ee,he)}function Wn(p,v){var E=p[v+0-32],C=p[v+1-32],B=p[v+2-32],H=p[v+3-32],W=p[v+4-32],Q=p[v+5-32],ee=p[v+6-32],he=p[v+7-32];p[v+0+0]=E+C+1>>1,p[v+1+0]=p[v+0+64]=C+B+1>>1,p[v+2+0]=p[v+1+64]=B+H+1>>1,p[v+3+0]=p[v+2+64]=H+W+1>>1,p[v+0+32]=qt(E,C,B),p[v+1+32]=p[v+0+96]=qt(C,B,H),p[v+2+32]=p[v+1+96]=qt(B,H,W),p[v+3+32]=p[v+2+96]=qt(H,W,Q),p[v+3+64]=qt(W,Q,ee),p[v+3+96]=qt(Q,ee,he)}function hs(p,v){var E=p[v-1+0],C=p[v-1+32],B=p[v-1+64],H=p[v-1+96];p[v+0+0]=E+C+1>>1,p[v+2+0]=p[v+0+32]=C+B+1>>1,p[v+2+32]=p[v+0+64]=B+H+1>>1,p[v+1+0]=qt(E,C,B),p[v+3+0]=p[v+1+32]=qt(C,B,H),p[v+3+32]=p[v+1+64]=qt(B,H,H),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=H}function vo(p,v){var E=p[v-1+0],C=p[v-1+32],B=p[v-1+64],H=p[v-1+96],W=p[v-1-32],Q=p[v+0-32],ee=p[v+1-32],he=p[v+2-32];p[v+0+0]=p[v+2+32]=E+W+1>>1,p[v+0+32]=p[v+2+64]=C+E+1>>1,p[v+0+64]=p[v+2+96]=B+C+1>>1,p[v+0+96]=H+B+1>>1,p[v+3+0]=qt(Q,ee,he),p[v+2+0]=qt(W,Q,ee),p[v+1+0]=p[v+3+32]=qt(E,W,Q),p[v+1+32]=p[v+3+64]=qt(C,E,W),p[v+1+64]=p[v+3+96]=qt(B,C,E),p[v+1+96]=qt(H,B,C)}function qs(p,v){var E;for(E=0;8>E;++E)r(p,v+32*E,p,v-32,8)}function Dl(p,v){var E;for(E=0;8>E;++E)s(p,v,p[v-1],8),v+=32}function fs(p,v,E){var C;for(C=0;8>C;++C)s(v,E+32*C,p,8)}function Ia(p,v){var E,C=8;for(E=0;8>E;++E)C+=p[v+E-32]+p[v-1+32*E];fs(C>>4,p,v)}function ds(p,v){var E,C=4;for(E=0;8>E;++E)C+=p[v+E-32];fs(C>>3,p,v)}function Yr(p,v){var E,C=4;for(E=0;8>E;++E)C+=p[v-1+32*E];fs(C>>3,p,v)}function Js(p,v){fs(128,p,v)}function Si(p,v,E){var C=p[v-E],B=p[v+0],H=3*(B-C)+To[1020+p[v-2*E]-p[v+E]],W=Iu[112+(H+4>>3)];p[v-E]=Zi[255+C+Iu[112+(H+3>>3)]],p[v+0]=Zi[255+B-W]}function Zs(p,v,E,C){var B=p[v+0],H=p[v+E];return Ui[255+p[v-2*E]-p[v-E]]>C||Ui[255+H-B]>C}function $a(p,v,E,C){return 4*Ui[255+p[v-E]-p[v+0]]+Ui[255+p[v-2*E]-p[v+E]]<=C}function ea(p,v,E,C,B){var H=p[v-3*E],W=p[v-2*E],Q=p[v-E],ee=p[v+0],he=p[v+E],_e=p[v+2*E],De=p[v+3*E];return 4*Ui[255+Q-ee]+Ui[255+W-he]>C?0:Ui[255+p[v-4*E]-H]<=B&&Ui[255+H-W]<=B&&Ui[255+W-Q]<=B&&Ui[255+De-_e]<=B&&Ui[255+_e-he]<=B&&Ui[255+he-ee]<=B}function ta(p,v,E,C){var B=2*C+1;for(C=0;16>C;++C)$a(p,v+C,E,B)&&Si(p,v+C,E)}function Ts(p,v,E,C){var B=2*C+1;for(C=0;16>C;++C)$a(p,v+C*E,1,B)&&Si(p,v+C*E,1)}function bo(p,v,E,C){var B;for(B=3;0<B;--B)ta(p,v+=4*E,E,C)}function Qo(p,v,E,C){var B;for(B=3;0<B;--B)Ts(p,v+=4,E,C)}function ps(p,v,E,C,B,H,W,Q){for(H=2*H+1;0<B--;){if(ea(p,v,E,H,W))if(Zs(p,v,E,Q))Si(p,v,E);else{var ee=p,he=v,_e=E,De=ee[he-2*_e],ce=ee[he-_e],Ae=ee[he+0],ke=ee[he+_e],qe=ee[he+2*_e],Le=27*(Ye=To[1020+3*(Ae-ce)+To[1020+De-ke]])+63>>7,ze=18*Ye+63>>7,Ye=9*Ye+63>>7;ee[he-3*_e]=Zi[255+ee[he-3*_e]+Ye],ee[he-2*_e]=Zi[255+De+ze],ee[he-_e]=Zi[255+ce+Le],ee[he+0]=Zi[255+Ae-Le],ee[he+_e]=Zi[255+ke-ze],ee[he+2*_e]=Zi[255+qe-Ye]}v+=C}}function na(p,v,E,C,B,H,W,Q){for(H=2*H+1;0<B--;){if(ea(p,v,E,H,W))if(Zs(p,v,E,Q))Si(p,v,E);else{var ee=p,he=v,_e=E,De=ee[he-_e],ce=ee[he+0],Ae=ee[he+_e],ke=Iu[112+(4+(qe=3*(ce-De))>>3)],qe=Iu[112+(qe+3>>3)],Le=ke+1>>1;ee[he-2*_e]=Zi[255+ee[he-2*_e]+Le],ee[he-_e]=Zi[255+De+qe],ee[he+0]=Zi[255+ce-ke],ee[he+_e]=Zi[255+Ae-Le]}v+=C}}function Pl(p,v,E,C,B,H){ps(p,v,E,1,16,C,B,H)}function Hs(p,v,E,C,B,H){ps(p,v,1,E,16,C,B,H)}function Jo(p,v,E,C,B,H){var W;for(W=3;0<W;--W)na(p,v+=4*E,E,1,16,C,B,H)}function x(p,v,E,C,B,H){var W;for(W=3;0<W;--W)na(p,v+=4,1,E,16,C,B,H)}function F(p,v,E,C,B,H,W,Q){ps(p,v,B,1,8,H,W,Q),ps(E,C,B,1,8,H,W,Q)}function ue(p,v,E,C,B,H,W,Q){ps(p,v,1,B,8,H,W,Q),ps(E,C,1,B,8,H,W,Q)}function be(p,v,E,C,B,H,W,Q){na(p,v+4*B,B,1,8,H,W,Q),na(E,C+4*B,B,1,8,H,W,Q)}function Te(p,v,E,C,B,H,W,Q){na(p,v+4,1,B,8,H,W,Q),na(E,C+4,1,B,8,H,W,Q)}function Ge(){this.ba=new jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function It(){this.ua=0,this.Wa=new Kt,this.vb=new Kt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new D}function Wt(){this.xb=this.a=0,this.l=new Ai,this.ca=new jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new It,this.ab=0,this.gc=c(4,xt),this.Oc=0}function Ft(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ai,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xn(p,v,E,C,B,H,W){for(p=p==null?0:p[v+0],v=0;v<W;++v)B[H+v]=p+E[C+v]&255,p=B[H+v]}function hr(p,v,E,C,B,H,W){var Q;if(p==null)xn(null,null,E,C,B,H,W);else for(Q=0;Q<W;++Q)B[H+Q]=p[v+Q]+E[C+Q]&255}function tr(p,v,E,C,B,H,W){if(p==null)xn(null,null,E,C,B,H,W);else{var Q,ee=p[v+0],he=ee,_e=ee;for(Q=0;Q<W;++Q)he=_e+(ee=p[v+Q])-he,_e=E[C+Q]+(-256&he?0>he?0:255:he)&255,he=ee,B[H+Q]=_e}}function m(p,v,E,C){var B=v.width,H=v.o;if(e(p!=null&&v!=null),0>E||0>=C||E+C>H)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Ft,(W=p.ga==null)||(W=v.width*v.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var Q=p.Fa,ee=p.P,he=p.qc,_e=p.mb,De=p.nb,ce=ee+1,Ae=he-1,ke=W.l;if(e(Q!=null&&_e!=null&&v!=null),Co[0]=null,Co[1]=xn,Co[2]=hr,Co[3]=tr,W.ca=_e,W.tb=De,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=he)v=0;else if(W.$a=3&Q[ee+0],W.Z=Q[ee+0]>>2&3,W.Lc=Q[ee+0]>>4&3,ee=Q[ee+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ee)v=0;else if(ke.put=mt,ke.ac=Sr,ke.bc=Er,ke.ma=W,ke.width=v.width,ke.height=v.height,ke.Da=v.Da,ke.v=v.v,ke.va=v.va,ke.j=v.j,ke.o=v.o,W.$a)e:{e(W.$a==1),v=qa();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,Ne(v.m,Q,ce,Ae),!Fs(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Gn(v.s)?(W.ic=1,Q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=$i(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=Ae>=W.c*W.i;W=!v}if(W)return null;p.ga.Lc!=1?p.Ga=0:C=H-E}e(p.ga!=null),e(E+C<=H);e:{if(v=(Q=p.ga).c,H=Q.l.o,Q.$a==0){if(ce=p.rc,Ae=p.Vc,ke=p.Fa,ee=p.P+1+E*v,he=p.mb,_e=p.nb+E*v,e(ee<=p.P+p.qc),Q.Z!=0)for(e(Co[Q.Z]!=null),W=0;W<C;++W)Co[Q.Z](ce,Ae,ke,ee,he,_e,v),ce=he,Ae=_e,_e+=v,ee+=v;else for(W=0;W<C;++W)r(he,_e,ke,ee,v),ce=he,Ae=_e,_e+=v,ee+=v;p.rc=ce,p.Vc=Ae}else{if(e(Q.mc!=null),v=E+C,e((W=Q.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(Q.ic||Me(),Q.ic){Q=W.V,ce=W.Ba,Ae=W.c;var qe=W.i,Le=(ke=1,ee=W.$/Ae,he=W.$%Ae,_e=W.m,De=W.s,W.$),ze=Ae*qe,Ye=Ae*v,rt=De.wc,Ze=Le<Ye?Gr(De,he,ee):null;e(Le<=ze),e(v<=qe),e(Gn(De));t:for(;;){for(;!_e.h&&Le<Ye;){if(he&rt||(Ze=Gr(De,he,ee)),e(Ze!=null),me(_e),256>(qe=zn(Ze.G[0],Ze.H[0],_e)))Q[ce+Le]=qe,++Le,++he>=Ae&&(he=0,++ee<=v&&!(ee%16)&&ni(W,ee));else{if(!(280>qe)){ke=0;break t}qe=Zn(qe-256,_e);var Rt,_t=zn(Ze.G[4],Ze.H[4],_e);if(me(_e),!(Le>=(_t=er(Ae,_t=Zn(_t,_e)))&&ze-Le>=qe)){ke=0;break t}for(Rt=0;Rt<qe;++Rt)Q[ce+Le+Rt]=Q[ce+Le+Rt-_t];for(Le+=qe,he+=qe;he>=Ae;)he-=Ae,++ee<=v&&!(ee%16)&&ni(W,ee);Le<Ye&&he&rt&&(Ze=Gr(De,he,ee))}e(_e.h==se(_e))}ni(W,ee>v?v:ee);break t}!ke||_e.h&&Le<ze?(ke=0,W.a=_e.h?5:3):W.$=Le,v=ke}else v=Yi(W,W.V,W.Ba,W.c,W.i,v,Sa);if(!v){C=0;break e}}E+C>=H&&(p.Cc=1),C=1}if(!C)return null;if(p.Cc&&((C=p.ga)!=null&&(C.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*B}function N(p,v,E,C,B,H){for(;0<B--;){var W,Q=p,ee=v+(E?1:0),he=p,_e=v+(E?0:3);for(W=0;W<C;++W){var De=he[_e+4*W];De!=255&&(De*=32897,Q[ee+4*W+0]=Q[ee+4*W+0]*De>>23,Q[ee+4*W+1]=Q[ee+4*W+1]*De>>23,Q[ee+4*W+2]=Q[ee+4*W+2]*De>>23)}v+=H}}function M(p,v,E,C,B){for(;0<C--;){var H;for(H=0;H<E;++H){var W=p[v+2*H+0],Q=15&(he=p[v+2*H+1]),ee=4369*Q,he=(240&he|he>>4)*ee>>16;p[v+2*H+0]=(240&W|W>>4)*ee>>16&240|(15&W|W<<4)*ee>>16>>4&15,p[v+2*H+1]=240&he|Q}v+=B}}function J(p,v,E,C,B,H,W,Q){var ee,he,_e=255;for(he=0;he<B;++he){for(ee=0;ee<C;++ee){var De=p[v+ee];H[W+4*ee]=De,_e&=De}v+=E,W+=Q}return _e!=255}function Re(p,v,E,C,B){var H;for(H=0;H<B;++H)E[C+H]=p[v+H]>>8}function Me(){jl=N,ia=M,Nu=J,$s=Re}function at(p,v,E){P[p]=function(C,B,H,W,Q,ee,he,_e,De,ce,Ae,ke,qe,Le,ze,Ye,rt){var Ze,Rt=rt-1>>1,_t=Q[ee+0]|he[_e+0]<<16,rn=De[ce+0]|Ae[ke+0]<<16;e(C!=null);var Nt=3*_t+rn+131074>>2;for(v(C[B+0],255&Nt,Nt>>16,qe,Le),H!=null&&(Nt=3*rn+_t+131074>>2,v(H[W+0],255&Nt,Nt>>16,ze,Ye)),Ze=1;Ze<=Rt;++Ze){var An=Q[ee+Ze]|he[_e+Ze]<<16,_r=De[ce+Ze]|Ae[ke+Ze]<<16,on=_t+An+rn+_r+524296,wt=on+2*(An+rn)>>3;Nt=wt+_t>>1,_t=(on=on+2*(_t+_r)>>3)+An>>1,v(C[B+2*Ze-1],255&Nt,Nt>>16,qe,Le+(2*Ze-1)*E),v(C[B+2*Ze-0],255&_t,_t>>16,qe,Le+(2*Ze-0)*E),H!=null&&(Nt=on+rn>>1,_t=wt+_r>>1,v(H[W+2*Ze-1],255&Nt,Nt>>16,ze,Ye+(2*Ze-1)*E),v(H[W+2*Ze+0],255&_t,_t>>16,ze,Ye+(2*Ze+0)*E)),_t=An,rn=_r}1&rt||(Nt=3*_t+rn+131074>>2,v(C[B+rt-1],255&Nt,Nt>>16,qe,Le+(rt-1)*E),H!=null&&(Nt=3*rn+_t+131074>>2,v(H[W+rt-1],255&Nt,Nt>>16,ze,Ye+(rt-1)*E)))}}function nn(){Bi[gh]=Fl,Bi[es]=Sc,Bi[yh]=Gf,Bi[sa]=xh,Bi[Ru]=rl,Bi[wc]=ro,Bi[el]=il,Bi[ku]=Sc,Bi[vh]=xh,Bi[xc]=rl,Bi[bh]=ro}function fr(p){return p&-16384?0>p?0:255:p>>Ah}function mn(p,v){return fr((19077*p>>8)+(26149*v>>8)-14234)}function Yn(p,v,E){return fr((19077*p>>8)-(6419*v>>8)-(13320*E>>8)+8708)}function Ei(p,v){return fr((19077*p>>8)+(33050*v>>8)-17685)}function Mi(p,v,E,C,B){C[B+0]=mn(p,E),C[B+1]=Yn(p,v,E),C[B+2]=Ei(p,v)}function ir(p,v,E,C,B){C[B+0]=Ei(p,v),C[B+1]=Yn(p,v,E),C[B+2]=mn(p,E)}function ji(p,v,E,C,B){var H=Yn(p,v,E);v=H<<3&224|Ei(p,v)>>3,C[B+0]=248&mn(p,E)|H>>5,C[B+1]=v}function Gs(p,v,E,C,B){var H=240&Ei(p,v)|15;C[B+0]=240&mn(p,E)|Yn(p,v,E)>>4,C[B+1]=H}function Ka(p,v,E,C,B){C[B+0]=255,Mi(p,v,E,C,B+1)}function Xa(p,v,E,C,B){ir(p,v,E,C,B),C[B+3]=255}function ms(p,v,E,C,B){Mi(p,v,E,C,B),C[B+3]=255}function _o(p,v,E){P[p]=function(C,B,H,W,Q,ee,he,_e,De){for(var ce=_e+(-2&De)*E;_e!=ce;)v(C[B+0],H[W+0],Q[ee+0],he,_e),v(C[B+1],H[W+0],Q[ee+0],he,_e+E),B+=2,++W,++ee,_e+=2*E;1&De&&v(C[B+0],H[W+0],Q[ee+0],he,_e)}}function gc(p,v,E){return E==0?p==0?v==0?6:5:v==0?4:0:E}function Au(p,v,E,C,B){switch(p>>>30){case 3:No(v,E,C,B,0);break;case 2:Ji(v,E,C,B);break;case 1:qn(v,E,C,B)}}function Ws(p,v){var E,C,B=v.M,H=v.Nb,W=p.oc,Q=p.pc+40,ee=p.oc,he=p.pc+584,_e=p.oc,De=p.pc+600;for(E=0;16>E;++E)W[Q+32*E-1]=129;for(E=0;8>E;++E)ee[he+32*E-1]=129,_e[De+32*E-1]=129;for(0<B?W[Q-1-32]=ee[he-1-32]=_e[De-1-32]=129:(s(W,Q-32-1,127,21),s(ee,he-32-1,127,9),s(_e,De-32-1,127,9)),C=0;C<p.za;++C){var ce=v.ya[v.aa+C];if(0<C){for(E=-1;16>E;++E)r(W,Q+32*E-4,W,Q+32*E+12,4);for(E=-1;8>E;++E)r(ee,he+32*E-4,ee,he+32*E+4,4),r(_e,De+32*E-4,_e,De+32*E+4,4)}var Ae=p.Gd,ke=p.Hd+C,qe=ce.ad,Le=ce.Hc;if(0<B&&(r(W,Q-32,Ae[ke].y,0,16),r(ee,he-32,Ae[ke].f,0,8),r(_e,De-32,Ae[ke].ea,0,8)),ce.Za){var ze=W,Ye=Q-32+16;for(0<B&&(C>=p.za-1?s(ze,Ye,Ae[ke].y[15],4):r(ze,Ye,Ae[ke+1].y,0,4)),E=0;4>E;E++)ze[Ye+128+E]=ze[Ye+256+E]=ze[Ye+384+E]=ze[Ye+0+E];for(E=0;16>E;++E,Le<<=2)ze=W,Ye=Q+Xr[E],Vr[ce.Ob[E]](ze,Ye),Au(Le,qe,16*+E,ze,Ye)}else if(ze=gc(C,B,ce.Ob[0]),ys[ze](W,Q),Le!=0)for(E=0;16>E;++E,Le<<=2)Au(Le,qe,16*+E,W,Q+Xr[E]);for(E=ce.Gc,ze=gc(C,B,ce.Dd),Da[ze](ee,he),Da[ze](_e,De),Le=qe,ze=ee,Ye=he,255&(ce=0|E)&&(170&ce?ra(Le,256,ze,Ye):On(Le,256,ze,Ye)),ce=_e,Le=De,255&(E>>=8)&&(170&E?ra(qe,320,ce,Le):On(qe,320,ce,Le)),B<p.Ub-1&&(r(Ae[ke].y,0,W,Q+480,16),r(Ae[ke].f,0,ee,he+224,8),r(Ae[ke].ea,0,_e,De+224,8)),E=8*H*p.B,Ae=p.sa,ke=p.ta+16*C+16*H*p.R,qe=p.qa,ce=p.ra+8*C+E,Le=p.Ha,ze=p.Ia+8*C+E,E=0;16>E;++E)r(Ae,ke+E*p.R,W,Q+32*E,16);for(E=0;8>E;++E)r(qe,ce+E*p.B,ee,he+32*E,8),r(Le,ze+E*p.B,_e,De+32*E,8)}}function Ra(p,v,E,C,B,H,W,Q,ee){var he=[0],_e=[0],De=0,ce=ee!=null?ee.kd:0,Ae=ee??new tt;if(p==null||12>E)return 7;Ae.data=p,Ae.w=v,Ae.ha=E,v=[v],E=[E],Ae.gb=[Ae.gb];e:{var ke=v,qe=E,Le=Ae.gb;if(e(p!=null),e(qe!=null),e(Le!=null),Le[0]=0,12<=qe[0]&&!t(p,ke[0],"RIFF")){if(t(p,ke[0]+8,"WEBP")){Le=3;break e}var ze=vt(p,ke[0]+4);if(12>ze||4294967286<ze){Le=3;break e}if(ce&&ze>qe[0]-8){Le=7;break e}Le[0]=ze,ke[0]+=12,qe[0]-=12}Le=0}if(Le!=0)return Le;for(ze=0<Ae.gb[0],E=E[0];;){e:{var Ye=p;qe=v,Le=E;var rt=he,Ze=_e,Rt=ke=[0];if((Nt=De=[De])[0]=0,8>Le[0])Le=7;else{if(!t(Ye,qe[0],"VP8X")){if(vt(Ye,qe[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var _t=vt(Ye,qe[0]+8),rn=1+ut(Ye,qe[0]+12);if(2147483648<=rn*(Ye=1+ut(Ye,qe[0]+15))){Le=3;break e}Rt!=null&&(Rt[0]=_t),rt!=null&&(rt[0]=rn),Ze!=null&&(Ze[0]=Ye),qe[0]+=18,Le[0]-=18,Nt[0]=1}Le=0}}if(De=De[0],ke=ke[0],Le!=0)return Le;if(qe=!!(2&ke),!ze&&De)return 3;if(H!=null&&(H[0]=!!(16&ke)),W!=null&&(W[0]=qe),Q!=null&&(Q[0]=0),W=he[0],ke=_e[0],De&&qe&&ee==null){Le=0;break}if(4>E){Le=7;break}if(ze&&De||!ze&&!De&&!t(p,v[0],"ALPH")){E=[E],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{_t=p,Le=v,ze=E;var Nt=Ae.gb;rt=Ae.na,Ze=Ae.P,Rt=Ae.Sa,rn=22,e(_t!=null),e(ze!=null),Ye=Le[0];var An=ze[0];for(e(rt!=null),e(Rt!=null),rt[0]=null,Ze[0]=null,Rt[0]=0;;){if(Le[0]=Ye,ze[0]=An,8>An){Le=7;break e}var _r=vt(_t,Ye+4);if(4294967286<_r){Le=3;break e}var on=8+_r+1&-2;if(rn+=on,0<Nt&&rn>Nt){Le=3;break e}if(!t(_t,Ye,"VP8 ")||!t(_t,Ye,"VP8L")){Le=0;break e}if(An[0]<on){Le=7;break e}t(_t,Ye,"ALPH")||(rt[0]=_t,Ze[0]=Ye+8,Rt[0]=_r),Ye+=on,An-=on}}if(E=E[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],Le!=0)break}E=[E],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(Nt=p,Le=v,ze=E,rt=Ae.gb[0],Ze=Ae.Ja,Rt=Ae.xa,_t=Le[0],Ye=!t(Nt,_t,"VP8 "),rn=!t(Nt,_t,"VP8L"),e(Nt!=null),e(ze!=null),e(Ze!=null),e(Rt!=null),8>ze[0])Le=7;else{if(Ye||rn){if(Nt=vt(Nt,_t+4),12<=rt&&Nt>rt-12){Le=3;break e}if(ce&&Nt>ze[0]-8){Le=7;break e}Ze[0]=Nt,Le[0]+=8,ze[0]-=8,Rt[0]=rn}else Rt[0]=5<=ze[0]&&Nt[_t+0]==47&&!(Nt[_t+4]>>5),Ze[0]=ze[0];Le=0}if(E=E[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],v=v[0],Le!=0)break;if(4294967286<Ae.Ja)return 3;if(Q==null||qe||(Q[0]=Ae.xa?2:1),W=[W],ke=[ke],Ae.xa){if(5>E){Le=7;break}Q=W,ce=ke,qe=H,p==null||5>E?p=0:5<=E&&p[v+0]==47&&!(p[v+4]>>5)?(ze=[0],Nt=[0],rt=[0],Ne(Ze=new z,p,v,E),ti(Ze,ze,Nt,rt)?(Q!=null&&(Q[0]=ze[0]),ce!=null&&(ce[0]=Nt[0]),qe!=null&&(qe[0]=rt[0]),p=1):p=0):p=0}else{if(10>E){Le=7;break}Q=ke,p==null||10>E||!Ea(p,v+3,E-3)?p=0:(ce=p[v+0]|p[v+1]<<8|p[v+2]<<16,qe=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=Ae.Ja||!qe||!p?p=0:(W&&(W[0]=qe),Q&&(Q[0]=p),p=1))}if(!p||(W=W[0],ke=ke[0],De&&(he[0]!=W||_e[0]!=ke)))return 3;ee!=null&&(ee[0]=Ae,ee.offset=v-ee.w,e(4294967286>v-ee.w),e(ee.offset==ee.ha-E));break}return Le==0||Le==7&&De&&ee==null?(H!=null&&(H[0]|=Ae.na!=null&&0<Ae.na.length),C!=null&&(C[0]=W),B!=null&&(B[0]=ke),0):Le}function wo(p,v,E){var C=v.width,B=v.height,H=0,W=0,Q=C,ee=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(Q=p.cd,ee=p.bd,H=p.v,W=p.j,11>E||(H&=-2,W&=-2),0>H||0>W||0>=Q||0>=ee||H+Q>C||W+ee>B))return 0;if(v.v=H,v.j=W,v.va=H+Q,v.o=W+ee,v.U=Q,v.T=ee,v.da=p!=null&&0<p.da,v.da){if(!Mt(Q,ee,E=[p.ib],H=[p.hb]))return 0;v.ib=E[0],v.hb=H[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*C/4&&v.hb<3*B/4,v.Kb=0),1}function Su(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function ka(p,v,E,C){if(C==null||0>=p||0>=v)return 2;if(E!=null){if(E.Da){var B=E.cd,H=E.bd,W=-2&E.v,Q=-2&E.j;if(0>W||0>Q||0>=B||0>=H||W+B>p||Q+H>v)return 2;p=B,v=H}if(E.da){if(!Mt(p,v,B=[E.ib],H=[E.hb]))return 2;p=B[0],v=H[0]}}C.width=p,C.height=v;e:{var ee=C.width,he=C.height;if(p=C.S,0>=ee||0>=he||!(p>=gh&&13>p))p=2;else{if(0>=C.Rd&&C.sd==null){W=H=B=v=0;var _e=(Q=ee*Eh[p])*he;if(11>p||(H=(he+1)/2*(v=(ee+1)/2),p==12&&(W=(B=ee)*he)),(he=o(_e+2*H+W))==null){p=1;break e}C.sd=he,11>p?((ee=C.f.RGBA).eb=he,ee.fb=0,ee.A=Q,ee.size=_e):((ee=C.f.kb).y=he,ee.O=0,ee.fa=Q,ee.Fd=_e,ee.f=he,ee.N=0+_e,ee.Ab=v,ee.Cd=H,ee.ea=he,ee.W=0+_e+H,ee.Db=v,ee.Ed=H,p==12&&(ee.F=he,ee.J=0+_e+2*H),ee.Tc=W,ee.lb=B)}if(v=1,B=C.S,H=C.width,W=C.height,B>=gh&&13>B)if(11>B)p=C.f.RGBA,v&=(Q=Math.abs(p.A))*(W-1)+H<=p.size,v&=Q>=H*Eh[B],v&=p.eb!=null;else{p=C.f.kb,Q=(H+1)/2,_e=(W+1)/2,ee=Math.abs(p.fa),he=Math.abs(p.Ab);var De=Math.abs(p.Db),ce=Math.abs(p.lb),Ae=ce*(W-1)+H;v&=ee*(W-1)+H<=p.Fd,v&=he*(_e-1)+Q<=p.Cd,v=(v&=De*(_e-1)+Q<=p.Ed)&ee>=H&he>=Q&De>=Q,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=ce>=H,v&=Ae<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||E!=null&&E.fd&&(p=Su(C)),p}var Zo=64,Cs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gs=24,Qa=32,Ja=8,xo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];le("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(p){return p},P.Predictor2=function(p,v,E){return v[E+0]},P.Predictor3=function(p,v,E){return v[E+1]},P.Predictor4=function(p,v,E){return v[E-1]},P.Predictor5=function(p,v,E){return Se(Se(p,v[E+1]),v[E+0])},P.Predictor6=function(p,v,E){return Se(p,v[E-1])},P.Predictor7=function(p,v,E){return Se(p,v[E+0])},P.Predictor8=function(p,v,E){return Se(v[E-1],v[E+0])},P.Predictor9=function(p,v,E){return Se(v[E+0],v[E+1])},P.Predictor10=function(p,v,E){return Se(Se(p,v[E-1]),Se(v[E+0],v[E+1]))},P.Predictor11=function(p,v,E){var C=v[E+0];return 0>=Ve(C>>24&255,p>>24&255,(v=v[E-1])>>24&255)+Ve(C>>16&255,p>>16&255,v>>16&255)+Ve(C>>8&255,p>>8&255,v>>8&255)+Ve(255&C,255&p,255&v)?C:p},P.Predictor12=function(p,v,E){var C=v[E+0];return($e((p>>24&255)+(C>>24&255)-((v=v[E-1])>>24&255))<<24|$e((p>>16&255)+(C>>16&255)-(v>>16&255))<<16|$e((p>>8&255)+(C>>8&255)-(v>>8&255))<<8|$e((255&p)+(255&C)-(255&v)))>>>0},P.Predictor13=function(p,v,E){var C=v[E-1];return(He((p=Se(p,v[E+0]))>>24&255,C>>24&255)<<24|He(p>>16&255,C>>16&255)<<16|He(p>>8&255,C>>8&255)<<8|He(255&p,255&C))>>>0};var yc=P.PredictorAdd0;P.PredictorAdd1=it,le("Predictor2","PredictorAdd2"),le("Predictor3","PredictorAdd3"),le("Predictor4","PredictorAdd4"),le("Predictor5","PredictorAdd5"),le("Predictor6","PredictorAdd6"),le("Predictor7","PredictorAdd7"),le("Predictor8","PredictorAdd8"),le("Predictor9","PredictorAdd9"),le("Predictor10","PredictorAdd10"),le("Predictor11","PredictorAdd11"),le("Predictor12","PredictorAdd12"),le("Predictor13","PredictorAdd13");var vc=P.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var $r,dh=P.ColorIndexInverseTransform,Za=P.MapARGB,eo=P.VP8LColorIndexInverseTransformAlpha,Vi=P.MapAlpha,Ao=P.VP8LPredictorsAdd=[];Ao.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var bc,_c,So,Eo,to,Ol,Ys,No,Ji,ra,qn,On,dr,Kr,no,La,Ml,Eu,Ff,Ap,Sp,Ep,Bf,zf,jl,ia,Nu,$s,Vl=o(511),ph=o(2041),Tu=o(225),Cu=o(767),mh=0,To=ph,Iu=Tu,Zi=Cu,Ui=Vl,gh=0,es=1,yh=2,sa=3,Ru=4,wc=5,el=6,ku=7,vh=8,xc=9,bh=10,aa=[2,3,7],Ac=[3,3,11],Ul=[280,256,256,256,40],_h=[0,1,1,1,0],Lu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],oa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],la=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tl=8,ca=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ua=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ks=null,Np=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Tp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Fi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],br=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],En=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ys=[],Vr=[],Da=[],nl=1,Hf=2,Co=[],Bi=[];at("UpsampleRgbLinePair",Mi,3),at("UpsampleBgrLinePair",ir,3),at("UpsampleRgbaLinePair",ms,4),at("UpsampleBgraLinePair",Xa,4),at("UpsampleArgbLinePair",Ka,4),at("UpsampleRgba4444LinePair",Gs,2),at("UpsampleRgb565LinePair",ji,2);var Fl=P.UpsampleRgbLinePair,Gf=P.UpsampleBgrLinePair,Sc=P.UpsampleRgbaLinePair,xh=P.UpsampleBgraLinePair,rl=P.UpsampleArgbLinePair,ro=P.UpsampleRgba4444LinePair,il=P.UpsampleRgb565LinePair,ha=16,Ec=1<<ha-1,Bl=-227,sl=482,Ah=6,al=0,zi=o(256),Sh=o(256),Cp=o(256),l1=o(256),c1=o(sl-Bl),u1=o(sl-Bl);_o("YuvToRgbRow",Mi,3),_o("YuvToBgrRow",ir,3),_o("YuvToRgbaRow",ms,4),_o("YuvToBgraRow",Xa,4),_o("YuvToArgbRow",Ka,4),_o("YuvToRgba4444Row",Gs,2),_o("YuvToRgb565Row",ji,2);var Xr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nc=[0,2,8],Du=[8,7,6,4,4,2,2,2,1,1,1,1],Pu=1;this.WebPDecodeRGBA=function(p,v,E,C,B){var H=es,W=new Ge,Q=new jt;W.ba=Q,Q.S=H,Q.width=[Q.width],Q.height=[Q.height];var ee=Q.width,he=Q.height,_e=new Ct;if(_e==null||p==null)var De=2;else e(_e!=null),De=Ra(p,v,E,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(De!=0?ee=0:(ee!=null&&(ee[0]=_e.width[0]),he!=null&&(he[0]=_e.height[0]),ee=1),ee){Q.width=Q.width[0],Q.height=Q.height[0],C!=null&&(C[0]=Q.width),B!=null&&(B[0]=Q.height);e:{if(C=new Ai,(B=new tt).data=p,B.w=v,B.ha=E,B.kd=1,v=[0],e(B!=null),((p=Ra(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(W!=null),C.data=B.data,C.w=B.w+B.offset,C.ha=B.ha-B.offset,C.put=mt,C.ac=Sr,C.bc=Er,C.ma=W,B.xa){if((p=qa())==null){W=1;break e}if((function(ce,Ae){var ke=[0],qe=[0],Le=[0];t:for(;;){if(ce==null)return 0;if(Ae==null)return ce.a=2,0;if(ce.l=Ae,ce.a=0,Ne(ce.m,Ae.data,Ae.w,Ae.ha),!ti(ce.m,ke,qe,Le)){ce.a=3;break t}if(ce.xb=Hf,Ae.width=ke[0],Ae.height=qe[0],!Fs(ke[0],qe[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(p,C)){if(C=(v=ka(C.width,C.height,W.Oa,W.ba))==0){t:{C=p;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((E=C.l)!=null),e((B=E.ma)!=null),C.xb!=0){if(C.ca=B.ba,C.tb=B.tb,e(C.ca!=null),!wo(B.Oa,E,sa)){C.a=2;break n}if(!$i(C,E.width)||E.da)break n;if((E.da||Et(C.ca.S))&&Me(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Me()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!ae(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Yi(C,C.V,C.Ba,C.c,C.i,E.o,xi))break n;B.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(v=p.a)}else v=p.a}else{if((p=new Mr)==null){W=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,Ns(p,C)){if((v=ka(C.width,C.height,W.Oa,W.ba))==0){if(p.Aa=0,E=W.Oa,e((B=p)!=null),E!=null){if(0<(ee=0>(ee=E.Md)?0:100<ee?255:255*ee/100)){for(he=_e=0;4>he;++he)12>(De=B.pb[he]).lc&&(De.ia=ee*Du[0>De.lc?0:De.lc]>>3),_e|=De.ia;_e&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=E.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(ce,Ae){if(ce==null)return 0;if(Ae==null)return vn(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!Ns(ce,Ae))return 0;if(e(ce.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(ce.L=0);var ke=Nc[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=Ae.v-ke>>4,ce.zb=Ae.j-ke>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=Ae.o+15+ke>>4,ce.Hb=Ae.va+15+ke>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var qe=ce.ed;for(ke=0;4>ke;++ke){var Le;if(ce.Qa.Cb){var ze=ce.Qa.Lb[ke];ce.Qa.Fb||(ze+=qe.Tb)}else ze=qe.Tb;for(Le=0;1>=Le;++Le){var Ye=ce.gd[ke][Le],rt=ze;if(qe.Pc&&(rt+=qe.vd[0],Le&&(rt+=qe.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Ze=rt;0<qe.wb&&(Ze=4<qe.wb?Ze>>2:Ze>>1)>9-qe.wb&&(Ze=9-qe.wb),1>Ze&&(Ze=1),Ye.dd=Ze,Ye.tc=2*rt+Ze,Ye.ld=40<=rt?2:15<=rt?1:0}else Ye.tc=0;Ye.La=Le}}}ke=0}else vn(ce,6,"Frame setup failed"),ke=ce.a;if(ke=ke==0){if(ke){ce.$c=0,0<ce.Aa||(ce.Ic=Pu);t:{ke=ce.Ic,qe=4*(Ze=ce.za);var Rt=32*Ze,_t=Ze+1,rn=0<ce.L?Ze*(0<ce.Aa?2:1):0,Nt=(ce.Aa==2?2:1)*Ze;if((Ye=qe+832+(Le=3*(16*ke+Nc[ce.L])/2*Rt)+(ze=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=Ye)ke=0;else{if(Ye>ce.Vb){if(ce.Vb=0,ce.Ec=o(Ye),ce.Fc=0,ce.Ec==null){ke=vn(ce,1,"no memory during frame initialization.");break t}ce.Vb=Ye}Ye=ce.Ec,rt=ce.Fc,ce.Ac=Ye,ce.Bc=rt,rt+=qe,ce.Gd=c(Rt,Yo),ce.Hd=0,ce.rb=c(_t+1,Es),ce.sb=1,ce.wa=rn?c(rn,Ki):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=Ze),e(!0),ce.oc=Ye,ce.pc=rt,rt+=832,ce.ya=c(Nt,po),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=Ze),ce.R=16*Ze,ce.B=8*Ze,Ze=(Rt=Nc[ce.L])*ce.R,Rt=Rt/2*ce.B,ce.sa=Ye,ce.ta=rt+Ze,ce.qa=ce.sa,ce.ra=ce.ta+16*ke*ce.R+Rt,ce.Ha=ce.qa,ce.Ia=ce.ra+8*ke*ce.B+Rt,ce.$c=0,rt+=Le,ce.mb=ze?Ye:null,ce.nb=ze?rt:null,e(rt+ze<=ce.Fc+ce.Vb),Ha(ce),s(ce.Ac,ce.Bc,0,qe),ke=1}}if(ke){if(Ae.ka=0,Ae.y=ce.sa,Ae.O=ce.ta,Ae.f=ce.qa,Ae.N=ce.ra,Ae.ea=ce.Ha,Ae.Vd=ce.Ia,Ae.fa=ce.R,Ae.Rc=ce.B,Ae.F=null,Ae.J=0,!mh){for(ke=-255;255>=ke;++ke)Vl[255+ke]=0>ke?-ke:ke;for(ke=-1020;1020>=ke;++ke)ph[1020+ke]=-128>ke?-128:127<ke?127:ke;for(ke=-112;112>=ke;++ke)Tu[112+ke]=-16>ke?-16:15<ke?15:ke;for(ke=-255;510>=ke;++ke)Cu[255+ke]=0>ke?0:255<ke?255:ke;mh=1}Ys=di,No=Il,ra=Oi,qn=Rl,On=Na,Ji=mc,dr=Pl,Kr=Hs,no=F,La=ue,Ml=Jo,Eu=x,Ff=be,Ap=Te,Sp=ta,Ep=Ts,Bf=bo,zf=Qo,Vr[0]=Ya,Vr[1]=kl,Vr[2]=go,Vr[3]=Xo,Vr[4]=pi,Vr[5]=yo,Vr[6]=ri,Vr[7]=Wn,Vr[8]=vo,Vr[9]=hs,ys[0]=zs,ys[1]=$o,ys[2]=Ko,ys[3]=Ta,ys[4]=Ca,ys[5]=Qi,ys[6]=Wa,Da[0]=Ia,Da[1]=Ll,Da[2]=qs,Da[3]=Dl,Da[4]=Yr,Da[5]=ds,Da[6]=Js,ke=1}else ke=0}ke&&(ke=(function(An,_r){for(An.M=0;An.M<An.Va;++An.M){var on,wt=An.Jc[An.M&An.Xb],ft=An.m,Rr=An;for(on=0;on<Rr.za;++on){var Xt=ft,fn=Rr,Xn=fn.Ac,mi=fn.Bc+4*on,qi=fn.zc,pr=fn.ya[fn.aa+on];if(fn.Qa.Bb?pr.$b=Fe(Xt,fn.Pa.jb[0])?2+Fe(Xt,fn.Pa.jb[2]):Fe(Xt,fn.Pa.jb[1]):pr.$b=0,fn.kc&&(pr.Ad=Fe(Xt,fn.Bd)),pr.Za=!Fe(Xt,145)+0,pr.Za){var ii=pr.Ob,ts=0;for(fn=0;4>fn;++fn){var si,gn=qi[0+fn];for(si=0;4>si;++si){gn=Fi[Xn[mi+si]][gn];for(var Vn=wh[Fe(Xt,gn[0])];0<Vn;)Vn=wh[2*Vn+Fe(Xt,gn[Vn])];gn=-Vn,Xn[mi+si]=gn}r(ii,ts,Xn,mi,4),ts+=4,qi[0+fn]=gn}}else gn=Fe(Xt,156)?Fe(Xt,128)?1:3:Fe(Xt,163)?2:0,pr.Ob[0]=gn,s(Xn,mi,gn,4),s(qi,0,gn,4);pr.Dd=Fe(Xt,142)?Fe(Xt,114)?Fe(Xt,183)?1:3:2:0}if(Rr.m.Ka)return vn(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(Rr=wt,Xt=(ft=An).rb[ft.sb-1],Xn=ft.rb[ft.sb+ft.ja],on=ft.ya[ft.aa+ft.ja],mi=ft.kc?on.Ad:0)Xt.la=Xn.la=0,on.Za||(Xt.Na=Xn.Na=0),on.Hc=0,on.Gc=0,on.ia=0;else{var kr,Hn;if(Xt=Xn,Xn=Rr,mi=ft.Pa.Xc,qi=ft.ya[ft.aa+ft.ja],pr=ft.pb[qi.$b],fn=qi.ad,ii=0,ts=ft.rb[ft.sb-1],gn=si=0,s(fn,ii,0,384),qi.Za)var gi=0,Lr=mi[3];else{Vn=o(16);var Un=Xt.Na+ts.Na;if(Un=Ks(Xn,mi[1],Un,pr.Eb,0,Vn,0),Xt.Na=ts.Na=(0<Un)+0,1<Un)Ys(Vn,0,fn,ii);else{var Qr=Vn[0]+3>>3;for(Vn=0;256>Vn;Vn+=16)fn[ii+Vn]=Qr}gi=1,Lr=mi[0]}var Qn=15&Xt.la,ai=15&ts.la;for(Vn=0;4>Vn;++Vn){var oi=1&ai;for(Qr=Hn=0;4>Qr;++Qr)Qn=Qn>>1|(oi=(Un=Ks(Xn,Lr,Un=oi+(1&Qn),pr.Sc,gi,fn,ii))>gi)<<7,Hn=Hn<<2|(3<Un?3:1<Un?2:fn[ii+0]!=0),ii+=16;Qn>>=4,ai=ai>>1|oi<<7,si=(si<<8|Hn)>>>0}for(Lr=Qn,gi=ai>>4,kr=0;4>kr;kr+=2){for(Hn=0,Qn=Xt.la>>4+kr,ai=ts.la>>4+kr,Vn=0;2>Vn;++Vn){for(oi=1&ai,Qr=0;2>Qr;++Qr)Un=oi+(1&Qn),Qn=Qn>>1|(oi=0<(Un=Ks(Xn,mi[2],Un,pr.Qc,0,fn,ii)))<<3,Hn=Hn<<2|(3<Un?3:1<Un?2:fn[ii+0]!=0),ii+=16;Qn>>=2,ai=ai>>1|oi<<5}gn|=Hn<<4*kr,Lr|=Qn<<4<<kr,gi|=(240&ai)<<kr}Xt.la=Lr,ts.la=gi,qi.Hc=si,qi.Gc=gn,qi.ia=43690&gn?0:pr.ia,mi=!(si|gn)}if(0<ft.L&&(ft.wa[ft.Y+ft.ja]=ft.gd[on.$b][on.Za],ft.wa[ft.Y+ft.ja].La|=!mi),Rr.Ka)return vn(An,7,"Premature end-of-file encountered.")}if(Ha(An),ft=_r,Rr=1,on=(wt=An).D,Xt=0<wt.L&&wt.M>=wt.zb&&wt.M<=wt.Va,wt.Aa==0)t:{if(on.M=wt.M,on.uc=Xt,Ws(wt,on),Rr=1,on=(Hn=wt.D).Nb,Xt=(gn=Nc[wt.L])*wt.R,Xn=gn/2*wt.B,Vn=16*on*wt.R,Qr=8*on*wt.B,mi=wt.sa,qi=wt.ta-Xt+Vn,pr=wt.qa,fn=wt.ra-Xn+Qr,ii=wt.Ha,ts=wt.Ia-Xn+Qr,ai=(Qn=Hn.M)==0,si=Qn>=wt.Va-1,wt.Aa==2&&Ws(wt,Hn),Hn.uc)for(oi=(Un=wt).D.M,e(Un.D.uc),Hn=Un.yb;Hn<Un.Hb;++Hn){gi=Hn,Lr=oi;var sr=(Mn=(li=Un).D).Nb;kr=li.R;var Mn=Mn.wa[Mn.Y+gi],ns=li.sa,Ur=li.ta+16*sr*kr+16*gi,Ht=Mn.dd,Yt=Mn.tc;if(Yt!=0)if(e(3<=Yt),li.L==1)0<gi&&Ep(ns,Ur,kr,Yt+4),Mn.La&&zf(ns,Ur,kr,Yt),0<Lr&&Sp(ns,Ur,kr,Yt+4),Mn.La&&Bf(ns,Ur,kr,Yt);else{var Fn=li.B,Is=li.qa,fa=li.ra+8*sr*Fn+8*gi,vs=li.Ha,li=li.Ia+8*sr*Fn+8*gi;sr=Mn.ld,0<gi&&(Kr(ns,Ur,kr,Yt+4,Ht,sr),La(Is,fa,vs,li,Fn,Yt+4,Ht,sr)),Mn.La&&(Eu(ns,Ur,kr,Yt,Ht,sr),Ap(Is,fa,vs,li,Fn,Yt,Ht,sr)),0<Lr&&(dr(ns,Ur,kr,Yt+4,Ht,sr),no(Is,fa,vs,li,Fn,Yt+4,Ht,sr)),Mn.La&&(Ml(ns,Ur,kr,Yt,Ht,sr),Ff(Is,fa,vs,li,Fn,Yt,Ht,sr))}}if(wt.ia&&alert("todo:DitherRow"),ft.put!=null){if(Hn=16*Qn,Qn=16*(Qn+1),ai?(ft.y=wt.sa,ft.O=wt.ta+Vn,ft.f=wt.qa,ft.N=wt.ra+Qr,ft.ea=wt.Ha,ft.W=wt.Ia+Qr):(Hn-=gn,ft.y=mi,ft.O=qi,ft.f=pr,ft.N=fn,ft.ea=ii,ft.W=ts),si||(Qn-=gn),Qn>ft.o&&(Qn=ft.o),ft.F=null,ft.J=null,wt.Fa!=null&&0<wt.Fa.length&&Hn<Qn&&(ft.J=m(wt,ft,Hn,Qn-Hn),ft.F=wt.mb,ft.F==null&&ft.F.length==0)){Rr=vn(wt,3,"Could not decode alpha data.");break t}Hn<ft.j&&(gn=ft.j-Hn,Hn=ft.j,e(!(1&gn)),ft.O+=wt.R*gn,ft.N+=wt.B*(gn>>1),ft.W+=wt.B*(gn>>1),ft.F!=null&&(ft.J+=ft.width*gn)),Hn<Qn&&(ft.O+=ft.v,ft.N+=ft.v>>1,ft.W+=ft.v>>1,ft.F!=null&&(ft.J+=ft.v),ft.ka=Hn-ft.j,ft.U=ft.va-ft.v,ft.T=Qn-Hn,Rr=ft.put(ft))}on+1!=wt.Ic||si||(r(wt.sa,wt.ta-Xt,mi,qi+16*wt.R,Xt),r(wt.qa,wt.ra-Xn,pr,fn+8*wt.B,Xn),r(wt.Ha,wt.Ia-Xn,ii,ts+8*wt.B,Xn))}if(!Rr)return vn(An,6,"Output aborted.")}return 1})(ce,Ae)),Ae.bc!=null&&Ae.bc(Ae),ke&=1}return ke?(ce.cb=0,ke):0})(p,C)||(v=p.a)}}else v=p.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Su(W.ba))}W=v}H=W!=0?null:11>H?Q.f.RGBA.eb:Q.f.kb.y}else H=null;return H};var Eh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(P,G){for(var T="",k=0;k<4;k++)T+=String.fromCharCode(P[G++]);return T}function g(P,G){return P[G+0]|P[G+1]<<8}function b(P,G){return(P[G+0]|P[G+1]<<8|P[G+2]<<16)>>>0}function S(P,G){return(P[G+0]|P[G+1]<<8|P[G+2]<<16|P[G+3]<<24)>>>0}new d;var _=[0],O=[0],V=[],U=new d,j=n,te=(function(P,G){var T={},k=0,D=!1,fe=0,xe=0;if(T.frames=[],!(function(L,z){for(var $=0;$<4;$++)if(L[z+$]!="RIFF".charCodeAt($))return!0;return!1})(P,G)){for(S(P,G+=4),G+=8;G<P.length;){var ne=f(P,G),Z=S(P,G+=4);G+=4;var re=Z+(1&Z);switch(ne){case"VP8 ":case"VP8L":T.frames[k]===void 0&&(T.frames[k]={}),(X=T.frames[k]).src_off=D?xe:G-8,X.src_size=fe+Z+8,k++,D&&(D=!1,fe=0,xe=0);break;case"VP8X":(X=T.header={}).feature_flags=P[G];var Ne=G+4;X.canvas_width=1+b(P,Ne),Ne+=3,X.canvas_height=1+b(P,Ne),Ne+=3;break;case"ALPH":D=!0,fe=re+8,xe=G-8;break;case"ANIM":(X=T.header).bgcolor=S(P,G),Ne=G+4,X.loop_count=g(P,Ne),Ne+=2;break;case"ANMF":var ve,X;(X=T.frames[k]={}).offset_x=2*b(P,G),G+=3,X.offset_y=2*b(P,G),G+=3,X.width=1+b(P,G),G+=3,X.height=1+b(P,G),G+=3,X.duration=b(P,G),G+=3,ve=P[G++],X.dispose=1&ve,X.blend=ve>>1&1}ne!="ANMF"&&(G+=re)}return T}})(j,0);te.response=j,te.rgbaoutput=!0,te.dataurl=!1;var oe=te.header?te.header:null,Y=te.frames?te.frames:null;if(oe){oe.loop_counter=oe.loop_count,_=[oe.canvas_height],O=[oe.canvas_width];for(var ie=0;ie<Y.length&&Y[ie].blend!=0;ie++);}var de=Y[0],q=U.WebPDecodeRGBA(j,de.src_off,de.src_size,O,_);de.rgba=q,de.imgwidth=O[0],de.imgheight=_[0];for(var R=0;R<O[0]*_[0]*4;R++)V[R]=q[R];return this.width=O,this.height=_,this.data=V,this}function Vj(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function Uj(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,s,o,c,u,d,f,g=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new d,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new c,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new c,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,f=new g}]);var b=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(ae){$=!!ae}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(ae){se=!!ae}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(ae){isNaN(ae)||(pe=ae)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(ae){isNaN(ae)||(me=ae)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ae){var lt;typeof ae=="number"?lt=[ae,ae,ae,ae]:((lt=new Array(4))[0]=ae[0],lt[1]=ae.length>=2?ae[1]:lt[0],lt[2]=ae.length>=3?ae[2]:lt[0],lt[3]=ae.length>=4?ae[3]:lt[1]),f.margin=lt}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(ae){Ee=ae}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(ae){Ie=ae}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(ae){Fe=ae}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ae){ae instanceof g&&(f=ae)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ae){f.path=ae}});var et=[];Object.defineProperty(this,"ctxStack",{get:function(){return et},set:function(ae){et=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var lt;lt=S(ae),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var lt=S(ae);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var ot=null,ut=null,vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(ae){ot=null,ut=null,vt=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var lt;if(this.ctx.font=ae,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ae))!==null){var Kt=lt[1];lt[2];var Mt=lt[3],Be=lt[4];lt[5];var pt=lt[6],le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(le==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:le==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var ye=(function(gt){var dn,Zt,Pt=[],Ut=gt.trim();if(Ut==="")return g2;if(Ut in h4)return[h4[Ut]];for(;Ut!=="";){switch(Zt=null,dn=(Ut=d4(Ut)).charAt(0)){case'"':case"'":Zt=Lj(Ut.substring(1),dn);break;default:Zt=Dj(Ut)}if(Zt===null||(Pt.push(Zt[0]),(Ut=d4(Zt[1]))!==""&&Ut.charAt(0)!==","))return g2;Ut=Ut.replace(/^,/,"")}return Pt})(pt);if(this.fontFaces){var Se=(function(gt,dn){var Zt=gt.getFontList(),Pt=JSON.stringify(Zt);if(ot===null||ut!==Pt){var Ut=(function(Qt){var Ot=[];return Object.keys(Qt).forEach(function(yn){Qt[yn].forEach(function(Et){var zt=null;switch(Et){case"bold":zt={family:yn,weight:"bold"};break;case"italic":zt={family:yn,style:"italic"};break;case"bolditalic":zt={family:yn,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:yn}}zt!==null&&(zt.ref={name:yn,style:Et},Ot.push(zt))})}),Ot})(Zt);ot=(function(Qt){for(var Ot={},yn=0;yn<Qt.length;++yn){var Et=m2(Qt[yn]),zt=Et.family,jn=Et.stretch,jt=Et.style,Ct=Et.weight;Ot[zt]=Ot[zt]||{},Ot[zt][jn]=Ot[zt][jn]||{},Ot[zt][jn][jt]=Ot[zt][jn][jt]||{},Ot[zt][jn][jt][Ct]=Et}return Ot})(Ut.concat(dn)),ut=Pt}return ot})(this.pdf,this.fontFaces),$e=ye.map(function(gt){return{family:gt,stretch:"normal",weight:Mt,style:Kt}}),He=(function(gt,dn,Zt){for(var Pt=(Zt=Zt||{}).defaultFontFamily||"times",Ut=Object.assign({},kj,Zt.genericFontFamilies||{}),Qt=null,Ot=null,yn=0;yn<dn.length;++yn)if(Ut[(Qt=m2(dn[yn])).family]&&(Qt.family=Ut[Qt.family]),gt.hasOwnProperty(Qt.family)){Ot=gt[Qt.family];break}if(!(Ot=Ot||gt[Pt]))throw new Error("Could not find a font-family for the rule '"+f4(Qt)+"' and default family '"+Pt+"'.");if(Ot=(function(Et,zt){if(zt[Et])return zt[Et];var jn=yy[Et],jt=jn<=yy.normal?-1:1,Ct=u4(zt,WE,jn,jt);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+Et);return Ct})(Qt.stretch,Ot),Ot=(function(Et,zt){if(zt[Et])return zt[Et];for(var jn=GE[Et],jt=0;jt<jn.length;++jt)if(zt[jn[jt]])return zt[jn[jt]];throw new Error("Could not find a matching font-style for "+Et)})(Qt.style,Ot),!(Ot=(function(Et,zt){if(zt[Et])return zt[Et];if(Et===400&&zt[500])return zt[500];if(Et===500&&zt[400])return zt[400];var jn=Rj[Et],jt=u4(zt,YE,jn,Et<400?-1:1);if(!jt)throw new Error("Could not find a matching font-weight for value "+Et);return jt})(Qt.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+f4(Qt)+"'.");return Ot})(Se,$e);this.pdf.setFont(He.ref.name,He.ref.style)}else{var Ve="";(Mt==="bold"||parseInt(Mt,10)>=700||Kt==="bold")&&(Ve="bold"),Kt==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var it="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<ye.length;st++){if(this.pdf.internal.getFont(ye[st],Ve,{noFallback:!0,disableWarning:!0})!==void 0){it=ye[st];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(ye[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=ye[st],Ve="bold";else if(this.pdf.internal.getFont(ye[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=ye[st],Ve="normal";break}}if(it===""){for(var bt=0;bt<ye.length;bt++)if(dt[ye[bt]]){it=dt[ye[bt]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};b.prototype.setLineDash=function(L){this.lineDash=L},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){Y.call(this,"fill",!1)},b.prototype.stroke=function(){Y.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new c(L,z));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new c(L,z)},b.prototype.closePath=function(){var L=new c(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&lr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new c(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(L.x,L.y)},b.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new c(L,z));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new c($.x,$.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Y.call(this,null,!0)},b.prototype.quadraticCurveTo=function(L,z,$,se){if(isNaN($)||isNaN(se)||isNaN(L)||isNaN(z))throw xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new c($,se)),me=this.ctx.transform.applyToPoint(new c(L,z));this.path.push({type:"qct",x1:me.x,y1:me.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new c(pe.x,pe.y)},b.prototype.bezierCurveTo=function(L,z,$,se,pe,me){if(isNaN(pe)||isNaN(me)||isNaN(L)||isNaN(z)||isNaN($)||isNaN(se))throw xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new c(pe,me)),Ie=this.ctx.transform.applyToPoint(new c(L,z)),Fe=this.ctx.transform.applyToPoint(new c($,se));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:Fe.x,y2:Fe.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new c(Ee.x,Ee.y)},b.prototype.arc=function(L,z,$,se,pe,me){if(isNaN(L)||isNaN(z)||isNaN($)||isNaN(se)||isNaN(pe))throw xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new c(L,z));L=Ee.x,z=Ee.y;var Ie=this.ctx.transform.applyToPoint(new c(0,$)),Fe=this.ctx.transform.applyToPoint(new c(0,0));$=Math.sqrt(Math.pow(Ie.x-Fe.x,2)+Math.pow(Ie.y-Fe.y,2))}Math.abs(pe-se)>=2*Math.PI&&(se=0,pe=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:$,startAngle:se,endAngle:pe,counterclockwise:me})},b.prototype.arcTo=function(L,z,$,se,pe){throw new Error("arcTo not implemented.")},b.prototype.rect=function(L,z,$,se){if(isNaN(L)||isNaN(z)||isNaN($)||isNaN(se))throw xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+$,z),this.lineTo(L+$,z+se),this.lineTo(L,z+se),this.lineTo(L,z),this.lineTo(L+$,z),this.lineTo(L,z)},b.prototype.fillRect=function(L,z,$,se){if(isNaN(L)||isNaN(z)||isNaN($)||isNaN(se))throw xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,$,se),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},b.prototype.strokeRect=function(L,z,$,se){if(isNaN(L)||isNaN(z)||isNaN($)||isNaN(se))throw xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(L,z,$,se),this.stroke())},b.prototype.clearRect=function(L,z,$,se){if(isNaN(L)||isNaN(z)||isNaN($)||isNaN(se))throw xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,$,se))},b.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},b.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(L){var z,$,se,pe;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,$=0,se=0,pe=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(me!==null)z=parseInt(me[1]),$=parseInt(me[2]),se=parseInt(me[3]),pe=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(me[1]),$=parseInt(me[2]),se=parseInt(me[3]),pe=parseFloat(me[4]);else{if(pe=1,typeof L=="string"&&L.charAt(0)!=="#"){var Ee=new VE(L);L=Ee.ok?Ee.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,$=L.substring(2,3),$+=$,se=L.substring(3,4),se+=se):(z=L.substring(1,3),$=L.substring(3,5),se=L.substring(5,7)),z=parseInt(z,16),$=parseInt($,16),se=parseInt(se,16)}}return{r:z,g:$,b:se,a:pe,style:L}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(L,z,$,se){if(isNaN(z)||isNaN($)||typeof L!="string")throw xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!_.call(this)){var pe=re(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;k.call(this,{text:L,x:z,y:$,scale:me,angle:pe,align:this.textAlign,maxWidth:se})}},b.prototype.strokeText=function(L,z,$,se){if(isNaN(z)||isNaN($)||typeof L!="string")throw xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){se=isNaN(se)?void 0:se;var pe=re(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;k.call(this,{text:L,x:z,y:$,scale:me,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:se})}},b.prototype.measureText=function(L){if(typeof L!="string")throw xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,$=this.pdf.internal.scaleFactor,se=z.internal.getFontSize(),pe=z.getStringUnitWidth(L)*se/z.internal.scaleFactor;return new function(me){var Ee=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:pe*=Math.round(96*$/72*1e4)/1e4})},b.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new d(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply($)},b.prototype.rotate=function(L){if(isNaN(L))throw xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new d(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},b.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new d(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply($)},b.prototype.transform=function(L,z,$,se,pe,me){if(isNaN(L)||isNaN(z)||isNaN($)||isNaN(se)||isNaN(pe)||isNaN(me))throw xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new d(L,z,$,se,pe,me);this.ctx.transform=this.ctx.transform.multiply(Ee)},b.prototype.setTransform=function(L,z,$,se,pe,me){L=isNaN(L)?1:L,z=isNaN(z)?0:z,$=isNaN($)?0:$,se=isNaN(se)?1:se,pe=isNaN(pe)?0:pe,me=isNaN(me)?0:me,this.ctx.transform=new d(L,z,$,se,pe,me)};var V=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(L,z,$,se,pe,me,Ee,Ie,Fe){var et=this.pdf.getImageProperties(L),ot=1,ut=1,vt=1,ae=1;se!==void 0&&Ie!==void 0&&(vt=Ie/se,ae=Fe/pe,ot=et.width/se*Ie/se,ut=et.height/pe*Fe/pe),me===void 0&&(me=z,Ee=$,z=0,$=0),se!==void 0&&Ie===void 0&&(Ie=se,Fe=pe),se===void 0&&Ie===void 0&&(Ie=et.width,Fe=et.height);var lt=this.ctx.transform.decompose(),Kt=re(lt.rotate.shx),Mt=new d,Be=(Mt=(Mt=(Mt=Mt.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new u(me-z*vt,Ee-$*ae,se*ot,pe*ut));if(this.autoPaging){for(var pt,le=U.call(this,Be),ye=[],Se=0;Se<le.length;Se+=1)ye.indexOf(le[Se])===-1&&ye.push(le[Se]);oe(ye);for(var $e=ye[0],He=ye[ye.length-1],Ve=$e;Ve<He+1;Ve++){this.pdf.setPage(Ve);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Ve===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Ve===1?0:st+(Ve-2)*bt;if(this.ctx.clip_path.length!==0){var dn=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(pt,this.posX+this.margin[3],-gt+dt+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=dn}var Zt=JSON.parse(JSON.stringify(Be));Zt=te([Zt],this.posX+this.margin[3],-gt+dt+this.ctx.prevPageLastElemOffset)[0];var Pt=(Ve>$e||Ve<He)&&V.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,bt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,Kt),Pt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,Kt)};var U=function(L,z,$){var se=[];z=z||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":se.push(Math.floor((L.y+pe)/$)+1);break;case"arc":se.push(Math.floor((L.y+pe-L.radius)/$)+1),se.push(Math.floor((L.y+pe+L.radius)/$)+1);break;case"qct":var me=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);se.push(Math.floor((me.y+pe)/$)+1),se.push(Math.floor((me.y+me.h+pe)/$)+1);break;case"bct":var Ee=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);se.push(Math.floor((Ee.y+pe)/$)+1),se.push(Math.floor((Ee.y+Ee.h+pe)/$)+1);break;case"rect":se.push(Math.floor((L.y+pe)/$)+1),se.push(Math.floor((L.y+L.h+pe)/$)+1)}for(var Ie=0;Ie<se.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<se[Ie];)j.call(this);return se},j=function(){var L=this.fillStyle,z=this.strokeStyle,$=this.font,se=this.lineCap,pe=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=$,this.lineCap=se,this.lineWidth=pe,this.lineJoin=me},te=function(L,z,$){for(var se=0;se<L.length;se++)switch(L[se].type){case"bct":L[se].x2+=z,L[se].y2+=$;case"qct":L[se].x1+=z,L[se].y1+=$;default:L[se].x+=z,L[se].y+=$}return L},oe=function(L){return L.sort(function(z,$){return z-$})},Y=function(L,z){var $=this.fillStyle,se=this.strokeStyle,pe=this.lineCap,me=this.lineWidth,Ee=Math.abs(me*this.ctx.transform.scaleX),Ie=this.lineJoin;if(this.autoPaging){for(var Fe,et,ot=JSON.parse(JSON.stringify(this.path)),ut=JSON.parse(JSON.stringify(this.path)),vt=[],ae=0;ae<ut.length;ae++)if(ut[ae].x!==void 0)for(var lt=U.call(this,ut[ae]),Kt=0;Kt<lt.length;Kt+=1)vt.indexOf(lt[Kt])===-1&&vt.push(lt[Kt]);for(var Mt=0;Mt<vt.length;Mt++)for(;this.pdf.internal.getNumberOfPages()<vt[Mt];)j.call(this);oe(vt);for(var Be=vt[0],pt=vt[vt.length-1],le=Be;le<pt+1;le++){this.pdf.setPage(le),this.fillStyle=$,this.strokeStyle=se,this.lineCap=pe,this.lineWidth=Ee,this.lineJoin=Ie;var ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=le===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=le===1?0:$e+(le-2)*He;if(this.ctx.clip_path.length!==0){var it=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Fe,this.posX+this.margin[3],-Ve+Se+this.ctx.prevPageLastElemOffset),ie.call(this,L,!0),this.path=it}if(et=JSON.parse(JSON.stringify(ot)),this.path=te(et,this.posX+this.margin[3],-Ve+Se+this.ctx.prevPageLastElemOffset),z===!1||le===0){var dt=(le>Be||le<pt)&&V.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ye,He,null).clip().discardPath()),ie.call(this,L,z),dt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=ot}else this.lineWidth=Ee,ie.call(this,L,z),this.lineWidth=me},ie=function(L,z){if((L!=="stroke"||z||!O.call(this))&&(L==="stroke"||z||!_.call(this))){for(var $,se,pe=[],me=this.path,Ee=0;Ee<me.length;Ee++){var Ie=me[Ee];switch(Ie.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:Ie,deltas:[],abs:[]});break;case"lt":var Fe=pe.length;if(me[Ee-1]&&!isNaN(me[Ee-1].x)&&($=[Ie.x-me[Ee-1].x,Ie.y-me[Ee-1].y],Fe>0)){for(;Fe>=0;Fe--)if(pe[Fe-1].close!==!0&&pe[Fe-1].begin!==!0){pe[Fe-1].deltas.push($),pe[Fe-1].abs.push(Ie);break}}break;case"bct":$=[Ie.x1-me[Ee-1].x,Ie.y1-me[Ee-1].y,Ie.x2-me[Ee-1].x,Ie.y2-me[Ee-1].y,Ie.x-me[Ee-1].x,Ie.y-me[Ee-1].y],pe[pe.length-1].deltas.push($);break;case"qct":var et=me[Ee-1].x+2/3*(Ie.x1-me[Ee-1].x),ot=me[Ee-1].y+2/3*(Ie.y1-me[Ee-1].y),ut=Ie.x+2/3*(Ie.x1-Ie.x),vt=Ie.y+2/3*(Ie.y1-Ie.y),ae=Ie.x,lt=Ie.y;$=[et-me[Ee-1].x,ot-me[Ee-1].y,ut-me[Ee-1].x,vt-me[Ee-1].y,ae-me[Ee-1].x,lt-me[Ee-1].y],pe[pe.length-1].deltas.push($);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(Ie)}}se=z?null:L==="stroke"?"stroke":"fill";for(var Kt=!1,Mt=0;Mt<pe.length;Mt++)if(pe[Mt].arc)for(var Be=pe[Mt].abs,pt=0;pt<Be.length;pt++){var le=Be[pt];le.type==="arc"?R.call(this,le.x,le.y,le.radius,le.startAngle,le.endAngle,le.counterclockwise,void 0,z,!Kt):D.call(this,le.x,le.y),Kt=!0}else if(pe[Mt].close===!0)this.pdf.internal.out("h"),Kt=!1;else if(pe[Mt].begin!==!0){var ye=pe[Mt].start.x,Se=pe[Mt].start.y;fe.call(this,pe[Mt].deltas,ye,Se),Kt=!0}se&&P.call(this,se),z&&G.call(this)}},de=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-$;case"top":return L+z-$;case"hanging":return L+z-2*$;case"middle":return L+z/2-$;default:return L}},q=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,$){this.colorStops.push([z,$])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(L,z,$,se,pe,me,Ee,Ie,Fe){for(var et=ne.call(this,$,se,pe,me),ot=0;ot<et.length;ot++){var ut=et[ot];ot===0&&(Fe?T.call(this,ut.x1+L,ut.y1+z):D.call(this,ut.x1+L,ut.y1+z)),xe.call(this,L,z,ut.x2,ut.y2,ut.x3,ut.y3,ut.x4,ut.y4)}Ie?G.call(this):P.call(this,Ee)},P=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(L,z){this.pdf.internal.out(t(L)+" "+r(z)+" m")},k=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var $,se,pe,me=this.pdf.getTextDimensions(L.text),Ee=de.call(this,L.y),Ie=q.call(this,Ee)-me.h,Fe=this.ctx.transform.applyToPoint(new c(L.x,Ee));if(this.autoPaging){var et=this.ctx.transform.decompose(),ot=new d;ot=(ot=(ot=ot.multiply(et.translate)).multiply(et.skew)).multiply(et.scale);for(var ut=this.ctx.transform.applyToRectangle(new u(L.x,Ee,me.w,me.h)),vt=ot.applyToRectangle(new u(L.x,Ie,me.w,me.h)),ae=U.call(this,vt),lt=[],Kt=0;Kt<ae.length;Kt+=1)lt.indexOf(ae[Kt])===-1&&lt.push(ae[Kt]);oe(lt);for(var Mt=lt[0],Be=lt[lt.length-1],pt=Mt;pt<Be+1;pt++){this.pdf.setPage(pt);var le=pt===1?this.posY+this.margin[0]:this.margin[0],ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],$e=Se-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Ve=He-this.margin[3],it=pt===1?0:ye+(pt-2)*$e;if(this.ctx.clip_path.length!==0){var dt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te($,this.posX+this.margin[3],-1*it+le),ie.call(this,"fill",!0),this.path=dt}var st=te([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-it+le+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*L.scale),pe=this.lineWidth,this.lineWidth=pe*L.scale);var bt=this.autoPaging!=="text";if(bt||st.y+st.h<=Se){if(bt||st.y>=le&&st.x<=He){var gt=bt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||He-st.x)[0],dn=te([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-it+le+this.ctx.prevPageLastElemOffset)[0],Zt=bt&&(pt>Mt||pt<Be)&&V.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,$e,null).clip().discardPath()),this.pdf.text(gt,dn.x,dn.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else st.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-st.y);L.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=pe)}}else L.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*L.scale),pe=this.lineWidth,this.lineWidth=pe*L.scale),this.pdf.text(L.text,Fe.x+this.posX,Fe.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=pe)},D=function(L,z,$,se){$=$||0,se=se||0,this.pdf.internal.out(t(L+$)+" "+r(z+se)+" l")},fe=function(L,z,$){return this.pdf.lines(L,z,$,null,null)},xe=function(L,z,$,se,pe,me,Ee,Ie){this.pdf.internal.out([e(s($+L)),e(o(se+z)),e(s(pe+L)),e(o(me+z)),e(s(Ee+L)),e(o(Ie+z)),"c"].join(" "))},ne=function(L,z,$,se){for(var pe=2*Math.PI,me=Math.PI/2;z>$;)z-=pe;var Ee=Math.abs($-z);Ee<pe&&se&&(Ee=pe-Ee);for(var Ie=[],Fe=se?-1:1,et=z;Ee>1e-5;){var ot=et+Fe*Math.min(Ee,me);Ie.push(Z.call(this,L,et,ot)),Ee-=Math.abs(ot-et),et=ot}return Ie},Z=function(L,z,$){var se=($-z)/2,pe=L*Math.cos(se),me=L*Math.sin(se),Ee=pe,Ie=-me,Fe=Ee*Ee+Ie*Ie,et=Fe+Ee*pe+Ie*me,ot=4/3*(Math.sqrt(2*Fe*et)-et)/(Ee*me-Ie*pe),ut=Ee-ot*Ie,vt=Ie+ot*Ee,ae=ut,lt=-vt,Kt=se+z,Mt=Math.cos(Kt),Be=Math.sin(Kt);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:ut*Mt-vt*Be,y2:ut*Be+vt*Mt,x3:ae*Mt-lt*Be,y3:ae*Be+lt*Mt,x4:L*Math.cos($),y4:L*Math.sin($)}},re=function(L){return 180*L/Math.PI},Ne=function(L,z,$,se,pe,me){var Ee=L+.5*($-L),Ie=z+.5*(se-z),Fe=pe+.5*($-pe),et=me+.5*(se-me),ot=Math.min(L,pe,Ee,Fe),ut=Math.max(L,pe,Ee,Fe),vt=Math.min(z,me,Ie,et),ae=Math.max(z,me,Ie,et);return new u(ot,vt,ut-ot,ae-vt)},ve=function(L,z,$,se,pe,me,Ee,Ie){var Fe,et,ot,ut,vt,ae,lt,Kt,Mt,Be,pt,le,ye,Se,$e=$-L,He=se-z,Ve=pe-$,it=me-se,dt=Ee-pe,st=Ie-me;for(et=0;et<41;et++)Mt=(lt=(ot=L+(Fe=et/40)*$e)+Fe*((vt=$+Fe*Ve)-ot))+Fe*(vt+Fe*(pe+Fe*dt-vt)-lt),Be=(Kt=(ut=z+Fe*He)+Fe*((ae=se+Fe*it)-ut))+Fe*(ae+Fe*(me+Fe*st-ae)-Kt),et==0?(pt=Mt,le=Be,ye=Mt,Se=Be):(pt=Math.min(pt,Mt),le=Math.min(le,Be),ye=Math.max(ye,Mt),Se=Math.max(Se,Be));return new u(Math.round(pt),Math.round(le),Math.round(ye-pt),Math.round(Se-le))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,$=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Bt.API),(function(n){var e=function(c){var u,d,f,g,b,S,_,O,V,U;for(d=[],f=0,g=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;g>f;f+=4)(b=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(S=(b=((b=((b=((b=(b-(U=b%85))/85)-(V=b%85))/85)-(O=b%85))/85)-(_=b%85))/85)%85,d.push(S+33,_+33,O+33,V+33,U+33)):d.push(122);return(function(j,te){for(var oe=te;oe>0;oe--)j.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},t=function(c){var u,d,f,g,b,S=String,_="length",O=255,V="charCodeAt",U="slice",j="replace";for(c[U](-2),c=c[U](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),f=[],g=0,b=(c+=u="uuuuu"[U](c[_]%5||5))[_];b>g;g+=5)d=52200625*(c[V](g)-33)+614125*(c[V](g+1)-33)+7225*(c[V](g+2)-33)+85*(c[V](g+3)-33)+(c[V](g+4)-33),f.push(O&d>>24,O&d>>16,O&d>>8,O&d);return(function(te,oe){for(var Y=oe;Y>0;Y--)te.pop()})(f,u[_]),S.fromCharCode.apply(S,f)},r=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",f=0;f<c.length;f+=2)d+=String.fromCharCode("0x"+(c[f]+c[f+1]));return d},o=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=uy(u)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};n.processDataByFilters=function(c,u){var d=0,f=c||"",g=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}})(Bt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,f,g){var b=new XMLHttpRequest,S=0,_=function(O){var V=O.length,U=[],j=String.fromCharCode;for(S=0;S<V;S+=1)U.push(j(255&O.charCodeAt(S)));return U.join("")};if(b.open("GET",d,!f),b.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(b.onload=function(){b.status===200?g(_(this.responseText)):g(void 0)}),b.send(null),f&&b.status===200)return _(b.responseText)})(s,o,c)}catch{}return u})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Bt.API),(function(n){function e(){return(sn.html2canvas?Promise.resolve(sn.html2canvas):Gm(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(sn.DOMPurify?Promise.resolve(sn.DOMPurify):Gm(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var d=lr(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(u,d){var f=document.createElement(u);for(var g in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[g]=d.style[g];return f},o=function u(d,f){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)f!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(u(b,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g},c=function u(d){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),g=u.convert(Promise.resolve(),f);return(g=g.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(t).then(function(f){return this.set({src:s("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var f=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var _=0;_<g.length;++_){var O=g[_],V=O.src.find(function(U){return U.format==="truetype"});V&&f.addFont(V.url,O.ref.name,O.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,f.context2d.save(!0),d(this.prop.container,S)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(r(u)!=="object")return this;var d=Object.keys(u||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var f=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(f):f})},c.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(u=u||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,f,g){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,f,g){return this.setProgress(u?this.progress.val+u:null,d||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(u,d){var f=this;return this.thenCore(u,d,function(g,b){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(S){return f.updateProgress(null,g),S}).then(g,b).then(function(S){return f.updateProgress(1),S})})},c.prototype.thenCore=function(u,d,f){f=f||Promise.prototype.then;var g=this;u&&(u=u.bind(g)),d&&(d=d.bind(g));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),S=f.call(b,u,d);return c.convert(S,g.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(f){d=d.thenCore(f)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Bt.getPageSize=function(u,d,f){if(lr(u)==="object"){var g=u;u=g.orientation,d=g.unit||d,f=g.format||f}d=d||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var b,S=(""+f).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+d}var O,V=0,U=0;if(_.hasOwnProperty(S))V=_[S][1]/b,U=_[S][0]/b;else try{V=f[1],U=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",U>V&&(O=U,U=V,V=O);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",V>U&&(O=U,U=V,V=O)}return{width:U,height:V,unit:d,k:b,orientation:u}},n.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(m2):null;var f=new c(d);return d.worker?f:f.from(u).doCallback()}})(Bt.API),Bt.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],u=r.exec(c);if(u!=null){var d=u[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(o=0;o<f;o++){var b=t.internal.newObject();g.push(b);var S=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var c={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(Bt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,c,u){var d,f=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(b){for(var S,_=256*b.charCodeAt(4)+b.charCodeAt(5),O=b.length,V={width:0,height:0,numcomponents:1},U=4;U<O;U+=2){if(U+=_,e.indexOf(b.charCodeAt(U+1))!==-1){S=256*b.charCodeAt(U+5)+b.charCodeAt(U+6),V={width:256*b.charCodeAt(U+7)+b.charCodeAt(U+8),height:S,numcomponents:b.charCodeAt(U+9)};break}_=256*b.charCodeAt(U+2)+b.charCodeAt(U+3)}return V})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}g={data:t,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:s}}return g}})(Bt.API),Bt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=gj(n,{checkCrc:!0}),c=o.width,u=o.height,d=o.channels,f=o.palette,g=o.depth;s=f&&d===1?(function(R){for(var P=R.width,G=R.height,T=R.data,k=R.palette,D=R.depth,fe=!1,xe=[],ne=[],Z=void 0,re=!1,Ne=0,ve=0;ve<k.length;ve++){var X=bx(k[ve],4),L=X[0],z=X[1],$=X[2],se=X[3];xe.push(L,z,$),se!=null&&(se===0?(Ne++,ne.length<1&&ne.push(ve)):se<255&&(re=!0))}if(re||Ne>1){fe=!0,ne=void 0;var pe=P*G;Z=new Uint8Array(pe);for(var me=new DataView(T.buffer),Ee=0;Ee<pe;Ee++){var Ie=y2(me,Ee,D),Fe=bx(k[Ie],4)[3];Z[Ee]=Fe}}else Ne===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:fe?8:void 0,colorBytes:T,alphaBytes:Z,needSMask:fe,palette:xe,mask:ne}})(o):d===2||d===4?(function(R){for(var P=R.data,G=R.width,T=R.height,k=R.channels,D=R.depth,fe=k===2?"DeviceGray":"DeviceRGB",xe=k-1,ne=G*T,Z=xe,re=ne*Z,Ne=1*ne,ve=Math.ceil(re*D/8),X=Math.ceil(Ne*D/8),L=new Uint8Array(ve),z=new Uint8Array(X),$=new DataView(P.buffer),se=new DataView(L.buffer),pe=new DataView(z.buffer),me=!1,Ee=0;Ee<ne;Ee++){for(var Ie=Ee*k,Fe=0;Fe<Z;Fe++)x4(se,y2($,Ie+Fe,D),Ee*Z+Fe,D);var et=y2($,Ie+Z,D);et<(1<<D)-1&&(me=!0),x4(pe,et,1*Ee,D)}return{colorSpace:fe,colorsPerPixel:xe,sMaskBitsPerComponent:me?D:void 0,colorBytes:L,alphaBytes:z,needSMask:me}})(o):(function(R){var P=R.data,G=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(T){for(var k=T.length,D=new Uint8Array(2*k),fe=new DataView(D.buffer,D.byteOffset,D.byteLength),xe=0;xe<k;xe++)fe.setUint16(2*xe,T[xe],!1);return D})(P):P,needSMask:!1}})(o);var b,S,_,O=s,V=O.colorSpace,U=O.colorsPerPixel,j=O.sMaskBitsPerComponent,te=O.colorBytes,oe=O.alphaBytes,Y=O.needSMask,ie=O.palette,de=O.mask,q=null;return r!==Bt.API.image_compression.NONE&&typeof uy=="function"?(q=(function(R){var P;switch(R){case Bt.API.image_compression.FAST:P=11;break;case Bt.API.image_compression.MEDIUM:P=13;break;case Bt.API.image_compression.SLOW:P=14;break;default:P=12}return P})(r),b=this.decode.FLATE_DECODE,S="/Predictor ".concat(q," /Colors ").concat(U," /BitsPerComponent ").concat(g," /Columns ").concat(c),n=y4(te,Math.ceil(c*U*g/8),U,g,r),Y&&(_=y4(oe,Math.ceil(c*j/8),1,j,r))):(b=void 0,S=void 0,n=te,Y&&(_=oe)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:n,index:e,filter:b,decodeParameters:S,transparency:de,palette:ie,sMask:_,predictor:q,width:c,height:u,bitsPerComponent:g,sMaskBitsPerComponent:j,colorSpace:V}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new jj(e),c=o.width,u=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:c,height:u},g=new v2(100).encode(f,100);return n.processJPEG.call(this,g,t,r,s)},n.processGIF87A=n.processGIF89A})(Bt.API),Oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oo.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){xr.log("bit decode error:"+t)}},Oo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var d=this.palette[o>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Oo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*s*4,u=o>>4,d=15&o,f=this.palette[u];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*s+1>=this.width)break;f=this.palette[d],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Oo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Oo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,f=o>>15?255:0,g=r*this.width*4+4*s;this.data[g]=d,this.data[g+1]=u,this.data[g+2]=c,this.data[g+3]=f}this.pos+=n}},Oo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&e)/e*255|0,d=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=f,this.data[g+1]=d,this.data[g+2]=u,this.data[g+3]=255}this.pos+=n}},Oo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},Oo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=c}},Oo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new Oo(e,!1),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},f=new v2(100).encode(d,100);return n.processJPEG.call(this,f,t,r,s)}})(Bt.API),S4.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new S4(e),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},f=new v2(100).encode(d,100);return n.processJPEG.call(this,f,t,r,s)}})(Bt.API),Bt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),u=0,d=0,f=0;f<s;f+=4){var g=r[f],b=r[f+1],S=r[f+2],_=r[f+3];o[u++]=g,o[u++]=b,o[u++]=S,c[d++]=_}var O=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:O,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Bt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qh=Bt.API,Pm=Qh.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:s.metadata.Unicode.widths,d=u.fof?u.fof:1,f=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=f.fof?f.fof:1,b=e.doKerning!==!1,S=0,_=n.length,O=0,V=u[0]||d,U=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?U.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(S=b&&lr(f[r])==="object"&&!isNaN(parseInt(f[r][O],10))?f[r][O]/g:0,U.push((u[r]||V)/d+S)),O=r;return U},p4=Qh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Qh.processArabic&&(n=Qh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:Pm.apply(this,arguments).reduce(function(o,c){return o+c},0)},m4=function(n,e,t,r){for(var s=[],o=0,c=n.length,u=0;o!==c&&u+e[o]<t;)u+=e[o],o++;s.push(n.slice(0,o));var d=o;for(u=0;o!==c;)u+e[o]>r&&(s.push(n.slice(d,o)),u=0,d=o),u+=e[o],o++;return d!==o&&s.push(n.slice(d,o)),s},g4=function(n,e,t){t||(t={});var r,s,o,c,u,d,f,g=[],b=[g],S=t.textIndent||0,_=0,O=0,V=n.split(" "),U=Pm.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?V[0].length+2:t.lineIndent||0){var j=Array(d).join(" "),te=[];V.map(function(Y){(Y=Y.split(/\s*\n/)).length>1?te=te.concat(Y.map(function(ie,de){return(de&&ie.length?`
`:"")+ie})):te.push(Y[0])}),V=te,d=p4.apply(this,[j,t])}for(o=0,c=V.length;o<c;o++){var oe=0;if(r=V[o],d&&r[0]==`
`&&(r=r.substr(1),oe=1),S+_+(O=(s=Pm.apply(this,[r,t])).reduce(function(Y,ie){return Y+ie},0))>e||oe){if(O>e){for(u=m4.apply(this,[r,s,e-(S+_),e]),g.push(u.shift()),g=[u.pop()];u.length;)b.push([u.shift()]);O=s.slice(r.length-(g[0]?g[0].length:0)).reduce(function(Y,ie){return Y+ie},0)}else g=[r];b.push(g),S=O+d,_=U}else g.push(r),S+=_+O,_=U}return f=d?function(Y,ie){return(ie?j:"")+Y.join(" ")}:function(Y){return Y.join(" ")},b.map(f)},Qh.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle),S="Unicode";return b.metadata[S]?{widths:b.metadata[S].widths||{0:1},kerning:b.metadata[S].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var u,d,f=[];for(u=0,d=r.length;u<d;u++)f=f.concat(g4.apply(this,[r[u],c,o]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var c=function(S){return"0x"+parseInt(S,10).toString(16)},u=n.__fontmetrics__.compress=function(S){var _,O,V,U,j=["{"];for(var te in S){if(_=S[te],isNaN(parseInt(te,10))?O="'"+te+"'":(te=parseInt(te,10),O=(O=c(te).slice(2)).slice(0,-1)+s[O.slice(-1)]),typeof _=="number")_<0?(V=c(_).slice(3),U="-"):(V=c(_).slice(2),U=""),V=U+V.slice(0,-1)+s[V.slice(-1)];else{if(lr(_)!=="object")throw new Error("Don't know what to do with value type "+lr(_)+".");V=u(_)}j.push(O+V)}return j.push("}"),j.join("")},d=n.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,O,V,U,j={},te=1,oe=j,Y=[],ie="",de="",q=S.length-1,R=1;R<q;R+=1)(U=S[R])=="'"?_?(V=_.join(""),_=void 0):_=[]:_?_.push(U):U=="{"?(Y.push([oe,V]),oe={},V=void 0):U=="}"?((O=Y.pop())[0][O[1]]=oe,V=void 0,oe=O[0]):U=="-"?te=-1:V===void 0?r.hasOwnProperty(U)?(ie+=r[U],V=parseInt(ie,16)*te,te=1,ie=""):ie+=U:r.hasOwnProperty(U)?(de+=r[U],oe[V]=parseInt(de,16)*te,te=1,V=void 0,de=""):de+=U;return j},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},b={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(S){var _=S.font,O=b.Unicode[_.postScriptName];O&&(_.metadata.Unicode={},_.metadata.Unicode.widths=O.widths,_.metadata.Unicode.kerning=O.kerning);var V=g.Unicode[_.postScriptName];V&&(_.metadata.Unicode.encoding=V,_.encoding=V.codePages[0])}])})(Bt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Ym(u)),c.metadata=n.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,r)}}])})(Bt),Bt.API.addSvgAsImage=function(n,e,t,r,s,o,c,u){if(isNaN(e)||isNaN(t))throw xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(sn.canvg?Promise.resolve(sn.canvg):Gm(()=>import("./index.es-YFLYgwGD.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(f,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){b.addImage(d.toDataURL("image/jpeg",1),e,t,r,s,c,u)})},Bt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Bt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],f=0,g=0,b=0;function S(O,V){var U,j=!1;for(U=0;U<O.length;U+=1)O[U]===V&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=u.length;for(b=0;b<_;b+=1)t[u[b]].value=t[u[b]].defaultValue,t[u[b]].explicitSet=!1}if(lr(n)==="object"){for(s in n)if(o=n[s],S(u,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&S(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(f=0;f<o.length;f+=1)if(r=!0,o[f].length===1&&typeof o[f][0]=="number")d.push(String(o[f]-1));else if(o[f].length>1){for(g=0;g<o[f].length;g+=1)typeof o[f][g]!="number"&&(r=!1);r===!0&&d.push([o[f][0]-1,o[f][1]-1].join(" "))}t[s].value="["+d.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var O,V=[];for(O in t)t[O].explicitSet===!0&&(t[O].type==="name"?V.push("/"+O+" /"+t[O].value):V.push("/"+O+" "+t[O].value));V.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+V.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},Bt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",Uj),this.internal.events.subscribe("postPutResources",Vj)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var u,d=c.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],b=0,S=o.length;b<S;++b){if(u=c.metadata.characterToGlyph(o.charCodeAt(b)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(b),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return g.join("");u=u.toString(16),g.push(f[4-u.length],u)}return g.join("")},r=function(o){var c,u,d,f,g,b,S;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],b=0,S=(u=Object.keys(o).sort(function(_,O){return _-O})).length;b<S;b++)c=u[b],d.length>=100&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+f+">"));return d.length&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,f=c.newObject,g=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var b=u.metadata.Unicode.widths,S=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),_="",O=0;O<S.length;O++)_+=String.fromCharCode(S[O]);var V=f();g({data:_,addLength1:!0,objectId:V}),d("endobj");var U=f();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:U}),d("endobj");var j=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+sf(u.fontName)),d("/FontFile2 "+V+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var te=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+sf(u.fontName)),d("/FontDescriptor "+j+" 0 R"),d("/W "+n.API.PDFObject.convert(b)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+U+" 0 R"),d("/BaseFont /"+sf(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+te+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,f=c.newObject,g=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var b=u.metadata.rawData,S="",_=0;_<b.length;_++)S+=String.fromCharCode(b[_]);var O=f();g({data:S,addLength1:!0,objectId:O}),d("endobj");var V=f();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:V}),d("endobj");var U=f();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+O+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+sf(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=f();for(var j=0;j<u.metadata.hmtx.widths.length;j++)u.metadata.hmtx.widths[j]=parseInt(u.metadata.hmtx.widths[j]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+V+" 0 R/BaseFont/"+sf(u.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,u=o.text||"",d=o.x,f=o.y,g=o.options||{},b=o.mutex||{},S=b.pdfEscape,_=b.activeFontKey,O=b.fonts,V=_,U="",j=0,te="",oe=O[V].encoding;if(O[V].encoding!=="Identity-H")return{text:u,x:d,y:f,options:g,mutex:b};for(te=u,V=_,Array.isArray(u)&&(te=u[0]),j=0;j<te.length;j+=1)O[V].metadata.hasOwnProperty("cmap")&&(c=O[V].metadata.cmap.unicode.codeMap[te[j].charCodeAt(0)]),c||te[j].charCodeAt(0)<256&&O[V].metadata.hasOwnProperty("Unicode")?U+=te[j]:U+="";var Y="";return parseInt(V.slice(1))<14||oe==="WinAnsiEncoding"?Y=S(U,V).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):oe==="Identity-H"&&(Y=t(U,O[V])),b.isHex=!0,{text:Y,x:d,y:f,options:g,mutex:b}};e.events.push(["postProcessText",function(o){var c=o.text||"",u=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?u.push([s(Object.assign({},d,{text:c[f][0]})).text,c[f][1],c[f][2]]):u.push(s(Object.assign({},d,{text:c[f]})).text);o.text=u}else o.text=s(Object.assign({},d,{text:c})).text}])})(Bt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Bt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,c,u,d,f,g,b=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},V={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),te=!1,oe=0;this.__bidiEngine__={};var Y=function(T){var k=T.charCodeAt(),D=k>>8,fe=V[D];return fe!==void 0?b[256*fe+(255&k)]:D===252||D===253?"AL":j.test(D)?"L":D===8?"R":"N"},ie=function(T){for(var k,D=0;D<T.length;D++){if((k=Y(T.charAt(D)))==="L")return!1;if(k==="R")return!0}return!1},de=function(T,k,D,fe){var xe,ne,Z,re,Ne=k[fe];switch(Ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":te=!1;break;case"N":case"AN":break;case"EN":te&&(Ne="AN");break;case"AL":te=!0,Ne="R";break;case"WS":case"BN":Ne="N";break;case"CS":fe<1||fe+1>=k.length||(xe=D[fe-1])!=="EN"&&xe!=="AN"||(ne=k[fe+1])!=="EN"&&ne!=="AN"?Ne="N":te&&(ne="AN"),Ne=ne===xe?ne:"N";break;case"ES":Ne=(xe=fe>0?D[fe-1]:"B")==="EN"&&fe+1<k.length&&k[fe+1]==="EN"?"EN":"N";break;case"ET":if(fe>0&&D[fe-1]==="EN"){Ne="EN";break}if(te){Ne="N";break}for(Z=fe+1,re=k.length;Z<re&&k[Z]==="ET";)Z++;Ne=Z<re&&k[Z]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(re=k.length,Z=fe+1;Z<re&&k[Z]==="NSM";)Z++;if(Z<re){var ve=T[fe],X=ve>=1425&&ve<=2303||ve===64286;if(xe=k[Z],X&&(xe==="R"||xe==="AL")){Ne="R";break}}}Ne=fe<1||(xe=k[fe-1])==="B"?"N":D[fe-1];break;case"B":te=!1,s=!0,Ne=oe;break;case"S":o=!0,Ne="N"}return Ne},q=function(T,k,D){var fe=T.split("");return D&&R(fe,D,{hiLevel:oe}),fe.reverse(),k&&k.reverse(),fe.join("")},R=function(T,k,D){var fe,xe,ne,Z,re,Ne=-1,ve=T.length,X=0,L=[],z=oe?_:S,$=[];for(te=!1,s=!1,o=!1,xe=0;xe<ve;xe++)$[xe]=Y(T[xe]);for(ne=0;ne<ve;ne++){if(re=X,L[ne]=de(T,$,L,ne),fe=240&(X=z[re][O[L[ne]]]),X&=15,k[ne]=Z=z[X][5],fe>0)if(fe===16){for(xe=Ne;xe<ne;xe++)k[xe]=1;Ne=-1}else Ne=-1;if(z[X][6])Ne===-1&&(Ne=ne);else if(Ne>-1){for(xe=Ne;xe<ne;xe++)k[xe]=Z;Ne=-1}$[ne]==="B"&&(k[ne]=0),D.hiLevel|=Z}o&&(function(se,pe,me){for(var Ee=0;Ee<me;Ee++)if(se[Ee]==="S"){pe[Ee]=oe;for(var Ie=Ee-1;Ie>=0&&se[Ie]==="WS";Ie--)pe[Ie]=oe}})($,k,ve)},P=function(T,k,D,fe,xe){if(!(xe.hiLevel<T)){if(T===1&&oe===1&&!s)return k.reverse(),void(D&&D.reverse());for(var ne,Z,re,Ne,ve=k.length,X=0;X<ve;){if(fe[X]>=T){for(re=X+1;re<ve&&fe[re]>=T;)re++;for(Ne=X,Z=re-1;Ne<Z;Ne++,Z--)ne=k[Ne],k[Ne]=k[Z],k[Z]=ne,D&&(ne=D[Ne],D[Ne]=D[Z],D[Z]=ne);X=re}X++}}},G=function(T,k,D){var fe=T.split(""),xe={hiLevel:oe};return D||(D=[]),R(fe,D,xe),(function(ne,Z,re){if(re.hiLevel!==0&&g)for(var Ne,ve=0;ve<ne.length;ve++)Z[ve]===1&&(Ne=U.indexOf(ne[ve]))>=0&&(ne[ve]=U[Ne+1])})(fe,D,xe),P(2,fe,k,D,xe),P(1,fe,k,D,xe),fe.join("")};return this.__bidiEngine__.doBidiReorder=function(T,k,D){if((function(xe,ne){if(ne)for(var Z=0;Z<xe.length;Z++)ne[Z]=Z;u===void 0&&(u=ie(xe)),f===void 0&&(f=ie(xe))})(T,k),c||!d||f)if(c&&d&&u^f)oe=u?1:0,T=q(T,k,D);else if(!c&&d&&f)oe=u?1:0,T=G(T,k,D),T=q(T,k);else if(!c||u||d||f){if(c&&!d&&u^f)T=q(T,k),u?(oe=0,T=G(T,k,D)):(oe=1,T=G(T,k,D),T=q(T,k));else if(c&&u&&!d&&f)oe=1,T=G(T,k,D),T=q(T,k);else if(!c&&!d&&u^f){var fe=g;u?(oe=1,T=G(T,k,D),oe=0,g=!1,T=G(T,k,D),g=fe):(oe=0,T=G(T,k,D),T=q(T,k),oe=1,g=!1,T=G(T,k,D),g=fe,T=q(T,k))}}else oe=0,T=G(T,k,D);else oe=u?1:0,T=G(T,k,D);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,d=T.isOutputVisual,u=T.isInputRtl,f=T.isOutputRtl,g=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(c=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?c.push([t.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):c.push([t.doBidiReorder(s[u])]);r.text=c}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Bt),Bt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new vu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Fj(this.contents),this.head=new zj(this),this.name=new Yj(this),this.cmap=new KE(this),this.toUnicode={},this.hhea=new qj(this),this.maxp=new $j(this),this.hmtx=new Kj(this),this.post=new Gj(this),this.os2=new Hj(this),this.loca=new Zj(this),this.glyf=new Xj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,d,f;for(f=[],c=0,u=(d=this.bbox).length;c<u;c++)e=d[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,c,u;for(c=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Ho,vu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,c,u,d;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*c+256*u+d},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),Fj=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,c,u,d,f,g,b,S,_,O,V;for(V in _=Object.keys(t).length,d=Math.log(2),b=16*Math.floor(Math.log(_)/d),c=Math.floor(b/d),g=16*_-b,(s=new vu).writeInt(this.scalarType),s.writeShort(_),s.writeShort(b),s.writeShort(c),s.writeShort(g),o=16*_,f=s.pos+o,u=null,O=[],t)for(S=t[V],s.writeString(V),s.writeInt(n(S)),s.writeInt(f),s.writeInt(S.length),O=O.concat(S),V==="head"&&(u=f),f+=S.length;f%4;)O.push(0),f++;return s.write(O),r=2981146554-n(s.data),s.pos=u+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,c;for(t=XE.call(t);t.length%4;)t.push(0);for(o=new vu(t),s=0,r=0,c=t.length;r<c;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),Bj={}.hasOwnProperty,Tl=function(n,e){for(var t in e)Bj.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Ho=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var zj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new vu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),E4=(function(){function n(e,t){var r,s,o,c,u,d,f,g,b,S,_,O,V,U,j,te,oe;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(_=e.readUInt16(),S=_/2,e.pos+=6,o=(function(){var Y,ie;for(ie=[],d=Y=0;0<=S?Y<S:Y>S;d=0<=S?++Y:--Y)ie.push(e.readUInt16());return ie})(),e.pos+=2,V=(function(){var Y,ie;for(ie=[],d=Y=0;0<=S?Y<S:Y>S;d=0<=S?++Y:--Y)ie.push(e.readUInt16());return ie})(),f=(function(){var Y,ie;for(ie=[],d=Y=0;0<=S?Y<S:Y>S;d=0<=S?++Y:--Y)ie.push(e.readUInt16());return ie})(),g=(function(){var Y,ie;for(ie=[],d=Y=0;0<=S?Y<S:Y>S;d=0<=S?++Y:--Y)ie.push(e.readUInt16());return ie})(),s=(this.length-e.pos+this.offset)/2,u=(function(){var Y,ie;for(ie=[],d=Y=0;0<=s?Y<s:Y>s;d=0<=s?++Y:--Y)ie.push(e.readUInt16());return ie})(),d=j=0,oe=o.length;j<oe;d=++j)for(U=o[d],r=te=O=V[d];O<=U?te<=U:te>=U;r=O<=U?++te:--te)g[d]===0?c=r+f[d]:(c=u[g[d]/2+(r-O)-(S-d)]||0)!==0&&(c+=f[d]),this.codeMap[r]=65535&c}e.pos=b}return n.encode=function(e,t){var r,s,o,c,u,d,f,g,b,S,_,O,V,U,j,te,oe,Y,ie,de,q,R,P,G,T,k,D,fe,xe,ne,Z,re,Ne,ve,X,L,z,$,se,pe,me,Ee,Ie,Fe,et,ot;switch(fe=new vu,c=Object.keys(e).sort(function(ut,vt){return ut-vt}),t){case"macroman":for(V=0,U=(function(){var ut=[];for(O=0;O<256;++O)ut.push(0);return ut})(),te={0:0},o={},xe=0,Ne=c.length;xe<Ne;xe++)te[Ie=e[s=c[xe]]]==null&&(te[Ie]=++V),o[s]={old:e[s],new:te[e[s]]},U[s]=te[e[s]];return fe.writeUInt16(1),fe.writeUInt16(0),fe.writeUInt32(12),fe.writeUInt16(0),fe.writeUInt16(262),fe.writeUInt16(0),fe.write(U),{charMap:o,subtable:fe.data,maxGlyphID:V+1};case"unicode":for(k=[],b=[],oe=0,te={},r={},j=f=null,ne=0,ve=c.length;ne<ve;ne++)te[ie=e[s=c[ne]]]==null&&(te[ie]=++oe),r[s]={old:ie,new:te[ie]},u=te[ie]-s,j!=null&&u===f||(j&&b.push(j),k.push(s),f=u),j=s;for(j&&b.push(j),b.push(65535),k.push(65535),G=2*(P=k.length),R=2*Math.pow(Math.log(P)/Math.LN2,2),S=Math.log(R/2)/Math.LN2,q=2*P-R,d=[],de=[],_=[],O=Z=0,X=k.length;Z<X;O=++Z){if(T=k[O],g=b[O],T===65535){d.push(0),de.push(0);break}if(T-(D=r[T].new)>=32768)for(d.push(0),de.push(2*(_.length+P-O)),s=re=T;T<=g?re<=g:re>=g;s=T<=g?++re:--re)_.push(r[s].new);else d.push(D-T),de.push(0)}for(fe.writeUInt16(3),fe.writeUInt16(1),fe.writeUInt32(12),fe.writeUInt16(4),fe.writeUInt16(16+8*P+2*_.length),fe.writeUInt16(0),fe.writeUInt16(G),fe.writeUInt16(R),fe.writeUInt16(S),fe.writeUInt16(q),me=0,L=b.length;me<L;me++)s=b[me],fe.writeUInt16(s);for(fe.writeUInt16(0),Ee=0,z=k.length;Ee<z;Ee++)s=k[Ee],fe.writeUInt16(s);for(Fe=0,$=d.length;Fe<$;Fe++)u=d[Fe],fe.writeUInt16(u);for(et=0,se=de.length;et<se;et++)Y=de[et],fe.writeUInt16(Y);for(ot=0,pe=_.length;ot<pe;ot++)V=_[ot],fe.writeUInt16(V);return{charMap:r,subtable:fe.data,maxGlyphID:oe+1}}},n})(),KE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new E4(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=E4.encode(e,t),(s=new vu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),qj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),Hj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),Gj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(e.readUInt32());return d}).call(this)}},n})(),Wj=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Yj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,c,u,d,f,g,b,S;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},o=g=0,b=r.length;g<b;o=++g)s=r[o],e.pos=s.offset,f=e.readString(s.length),c=new Wj(f,s),d[S=s.nameID]==null&&(d[S]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n})(),$j=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),Kj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,c,u,d;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,g;for(g=[],t=f=0;0<=s?f<s:f>s;t=0<=s?++f:--f)g.push(e.readInt16());return g})(),this.widths=(function(){var f,g,b,S;for(S=[],f=0,g=(b=this.metrics).length;f<g;f++)o=b[f],S.push(o.advance);return S}).call(this),r=this.widths[this.widths.length-1],d=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)d.push(this.widths.push(r));return d},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),XE=[].slice,Xj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,c,u,d,f,g,b;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(u=new vu(t.read(s))).readShort(),f=u.readShort(),b=u.readShort(),d=u.readShort(),g=u.readShort(),this.cache[e]=c===-1?new Jj(u,f,b,d,g):new Qj(u,c,f,b,d,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,c,u,d;for(c=[],o=[],u=0,d=t.length;u<d;u++)s=e[t[u]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),Qj=(function(){function n(e,t,r,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),Jj=(function(){function n(e,t,r,s,o){var c,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new vu(XE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),Zj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Tl(n,Ho),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<t.length&&t[o]==c){++o,r[c]=s;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(s+=d)}for(var f=new Array(4*r.length),g=0;g<r.length;++g)f[4*g+3]=255&r[g],f[4*g+2]=(65280&r[g])>>8,f[4*g+1]=(16711680&r[g])>>16,f[4*g]=(4278190080&r[g])>>24;return f},n})(),eV=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,c,u,d;for(s={},c=0,u=e.length;c<u;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))r=d[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,c,u,d,f,g,b,S,_,O,V,U,j;for(s in r=KE.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},j=r.charMap)_[(d=j[s]).old]=d.new;for(O in S=r.maxGlyphID,c)O in _||(_[O]=S++);return g=(function(te){var oe,Y;for(oe in Y={},te)Y[te[oe]]=oe;return Y})(_),b=Object.keys(g).sort(function(te,oe){return te-oe}),V=(function(){var te,oe,Y;for(Y=[],te=0,oe=b.length;te<oe;te++)u=b[te],Y.push(g[u]);return Y})(),o=this.font.glyf.encode(c,V,_),f=this.font.loca.encode(o.offsets,V),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n})();Bt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,c;if(Array.isArray(t))return"["+(function(){var u,d,f;for(f=[],u=0,d=t.length;u<d;u++)r=t[u],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function QE(n,e,t,r,s){r=r||{};var o=1.15,c=s.internal.scaleFactor,u=s.internal.getFontSize()/c,d=s.getLineHeightFactor?s.getLineHeightFactor():o,f=u*d,g=/\r\n|\r|\n/g,b="",S=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(b=typeof n=="string"?n.split(g):n,S=b.length||1),t+=u*(2-o),r.valign==="middle"?t-=S/2*f:r.valign==="bottom"&&(t-=S*f),r.halign==="center"||r.halign==="right"){var _=u;if(r.halign==="center"&&(_*=.5),b&&S>=1){for(var O=0;O<b.length;O++)s.text(b[O],e-s.getStringUnitWidth(b[O])*_,t),t+=f;return s}e-=s.getStringUnitWidth(n)*_}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var N4={},_f=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:N4=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,d=c.fontName;if(e.font&&(d=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[d];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(d,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=n.unifyColor(e.textColor),g&&(s=this.jsPDFDocument).setTextColor.apply(s,g),g=n.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,o){return this.jsPDFDocument.rect(e,t,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return N4||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),vy=function(n,e){return vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},vy(n,e)};function JE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ZE=(function(n){JE(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function tV(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function nV(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Ng(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return s}function eN(n,e,t,r){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var c=tN(s,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,c)}function tN(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function o1(n,e){var t,r,s,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function nN(n,e){var t=o1(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function rV(n,e,t,r,s){var o={},c=1.3333333333333333,u=b2(e,function(oe){return s.getComputedStyle(oe).backgroundColor});u!=null&&(o.fillColor=u);var d=b2(e,function(oe){return s.getComputedStyle(oe).color});d!=null&&(o.textColor=d);var f=sV(r,t);f&&(o.cellPadding=f);var g="borderTopColor",b=c*t,S=r.borderTopWidth;if(r.borderBottomWidth===S&&r.borderRightWidth===S&&r.borderLeftWidth===S){var _=(parseFloat(S)||0)/b;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/b,right:(parseFloat(r.borderRightWidth)||0)/b,bottom:(parseFloat(r.borderBottomWidth)||0)/b,left:(parseFloat(r.borderLeftWidth)||0)/b},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var O=b2(e,function(oe){return s.getComputedStyle(oe)[g]});O!=null&&(o.lineColor=O);var V=["left","right","center","justify"];V.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),V=["middle","bottom","top"],V.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var U=parseInt(r.fontSize||"");isNaN(U)||(o.fontSize=U/c);var j=iV(r);j&&(o.fontStyle=j);var te=(r.fontFamily||"").toLowerCase();return n.indexOf(te)!==-1&&(o.font=te),o}function iV(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function b2(n,e){var t=rN(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function rN(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:rN(n.parentElement,e):t}function sV(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(u){return parseInt(u||"0")/r}),c=o1(o,0);return s>c.top&&(c.top=s),s>c.bottom&&(c.bottom=s),c}function iN(n,e,t,r,s){var o,c;r===void 0&&(r=!1),s===void 0&&(s=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var d=Object.keys(n.getFontList()),f=n.scaleFactor(),g=[],b=[],S=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:g,body:b,foot:S};for(var _=0;_<u.rows.length;_++){var O=u.rows[_],V=(c=(o=O?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),U=aV(d,f,t,O,r,s);U&&(V==="thead"?g.push(U):V==="tfoot"?S.push(U):b.push(U))}return{head:g,body:b,foot:S}}function aV(n,e,t,r,s,o){for(var c=new ZE(r),u=0;u<r.cells.length;u++){var d=r.cells[u],f=t.getComputedStyle(d);if(s||f.display!=="none"){var g=void 0;o&&(g=rV(n,d,e,f,t)),c.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:g,_element:d,content:oV(d)})}}var b=t.getComputedStyle(r);if(c.length>0&&(s||b.display!=="none"))return c}function oV(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function lV(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function oc(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])}return o}function sN(n,e){var t=new _f(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();lV(s,r,e);var o=oc({},s,r,e),c;typeof window<"u"&&(c=window);var u=cV(s,r,e),d=uV(s,r,e),f=hV(t,o),g=dV(t,o,c);return{id:e.tableId,content:g,hooks:d,styles:u,settings:f}}function cV(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(d){if(d==="columnStyles"){var f=n[d],g=e[d],b=t[d];r.columnStyles=oc({},f,g,b)}else{var S=[n,e,t],_=S.map(function(O){return O[d]||{}});r[d]=oc({},_[0],_[1],_[2])}},o=0,c=Object.keys(r);o<c.length;o++){var u=c[o];s(u)}return r}function uV(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=r;o<c.length;o++){var u=c[o];u.didParseCell&&s.didParseCell.push(u.didParseCell),u.willDrawCell&&s.willDrawCell.push(u.willDrawCell),u.didDrawCell&&s.didDrawCell.push(u.didDrawCell),u.willDrawPage&&s.willDrawPage.push(u.willDrawPage),u.didDrawPage&&s.didDrawPage.push(u.didDrawPage)}return s}function hV(n,e){var t,r,s,o,c,u,d,f,g,b,S,_,O=o1(e.margin,40/n.scaleFactor()),V=(t=fV(n,e.startY))!==null&&t!==void 0?t:O.top,U;e.showFoot===!0?U="everyPage":e.showFoot===!1?U="never":U=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var te=(o=e.useCss)!==null&&o!==void 0?o:!1,oe=e.theme||(te?"plain":"striped"),Y=!!e.horizontalPageBreak,ie=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:te,theme:oe,startY:V,margin:O,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:j,showFoot:U,tableLineWidth:(b=e.tableLineWidth)!==null&&b!==void 0?b:0,tableLineColor:(S=e.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:ie,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function fV(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function dV(n,e,t){var r=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var u=iN(n,e.html,t,c,e.useCss)||{};r=u.head||r,s=u.body||r,o=u.foot||r}else console.error("Cannot parse html in non browser environment")}var d=e.columns||pV(r,s,o);return{columns:d,head:r,body:s,foot:o}}function pV(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,u;Array.isArray(r)?u=r[parseInt(o)]:u=r[o],typeof u=="object"&&!Array.isArray(u)&&(c=u?.colSpan||1);for(var d=0;d<c;d++){var f=void 0;Array.isArray(r)?f=s.length:f=o+(d>0?"_".concat(d):"");var g={dataKey:f};s.push(g)}}),s}var by=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),mV=(function(n){JE(e,n);function e(t,r,s,o,c,u){var d=n.call(this,t,r,u)||this;return d.cell=s,d.row=o,d.column=c,d.section=o.section,d}return e})(by),gV=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,o,c){for(var u=0,d=t;u<d.length;u++){var f=d[u],g=new mV(e,this,r,s,o,c),b=f(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],b)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new by(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new by(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),aN=(function(){function n(e,t,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof ZE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var o;return Math.max(r,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,o){var c=r.cells[o.index];if(!c)return 0;var u=t.getLineHeight(c.styles.fontSize),d=c.padding("vertical"),f=d+u;return f>s?f:s},0)},n})(),oN=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=o1(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),yV=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var o=s[r],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function vV(n,e){bV(n,e);var t=[],r=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=_y(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=_y(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),wV(e),xV(e,n),_V(e)}function bV(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=nN(n,e);e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var d=u[c],f=o.cells[d.index];if(f){var g=e.hooks.didParseCell;e.callCellHooks(n,g,f,o,d,null);var b=f.padding("horizontal");f.contentWidth=Ng(f.text,f.styles,n)+b;var S=Ng(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=S+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>s?(f.minWidth=s,f.wrappedWidth=s):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var _=10/t;f.minWidth=f.styles.minCellWidth||_,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var d=u[c],f=o.cells[d.index];if(f&&f.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,f.wrappedWidth),d.minWidth=Math.max(d.minWidth,f.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,f.minReadableWidth);else{var g=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},b=g.cellWidth||g.minCellWidth;b&&typeof b=="number"&&(d.minWidth=b,d.wrappedWidth=b)}f&&(f.colSpan>1&&!d.minWidth&&(d.minWidth=f.minWidth),f.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=f.minWidth))}})}function _y(n,e,t){for(var r=e,s=n.reduce(function(_,O){return _+O.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],u=c.wrappedWidth/s,d=r*u,f=c.width+d,g=t(c),b=f<g?g:f;e-=b-c.width,c.width=b}if(e=Math.round(e*1e10)/1e10,e){var S=n.filter(function(_){return e<0?_.width>t(_):!0});S.length&&(e=_y(S,e,t))}return e}function _V(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],c=0,u=n.columns;c<u.length;c++){var d=u[c],f=e[d.index];if(t>1)t--,delete o.cells[d.index];else if(f)f.cell.height+=o.height,t=f.cell.colSpan,delete o.cells[d.index],f.left--,f.left<=1&&delete e[d.index];else{var g=o.cells[d.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var b=r.length-s,S=g.rowSpan>b?b:g.rowSpan;e[d.index]={cell:g,left:S,row:o}}}}}function wV(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,o=0,c=0,u=0;u<n.columns.length;u++){var d=n.columns[u];if(c-=1,c>1&&n.columns[u+1])o+=d.width,delete r.cells[d.index];else if(s){var f=s;delete r.cells[d.index],s=null,f.width=d.width+o}else{var f=r.cells[d.index];if(!f)continue;if(c=f.colSpan,o=0,f.colSpan>1){s=f,o+=d.width;continue}f.width=d.width+o}}}function xV(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],c=0,u=n.columns;c<u.length;c++){var d=u[c],f=o.cells[d.index];if(f){e.applyStyles(f.styles,!0);var g=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,g+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=T4(f.text,g,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=T4(f.text,g,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var b=f.styles.overflow(f.text,g);typeof b=="string"?f.text=[b]:f.text=b}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var S=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<S*f.rowSpan?t={height:S,count:f.rowSpan}:t&&t.count>0&&t.height>S&&(S=t.height),S>o.height&&(o.height=S)}}t.count--}}function T4(n,e,t,r,s){return n.map(function(o){return AV(o,e,t,r,s)})}function AV(n,e,t,r,s){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Ng(n,t,r))return n;for(;e<Ng(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function lN(n,e){var t=new _f(n),r=SV(e,t.scaleFactor()),s=new gV(e,r);return vV(t,s),t.applyStyles(t.userStyles),s}function SV(n,e){var t=n.content,r=NV(t.columns);if(t.head.length===0){var s=C4(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=C4(r,"foot");s&&t.foot.push(s)}var o=n.settings.theme,c=n.styles;return{columns:r,head:_2("head",t.head,r,c,o,e),body:_2("body",t.body,r,c,o,e),foot:_2("foot",t.foot,r,c,o,e)}}function _2(n,e,t,r,s,o){var c={},u=e.map(function(d,f){for(var g=0,b={},S=0,_=0,O=0,V=t;O<V.length;O++){var U=V[O];if(c[U.index]==null||c[U.index].left===0)if(_===0){var j=void 0;Array.isArray(d)?j=d[U.index-S-g]:j=d[U.dataKey];var te={};typeof j=="object"&&!Array.isArray(j)&&(te=j?.styles||{});var oe=TV(n,U,f,s,r,o,te),Y=new oN(j,oe,n);b[U.dataKey]=Y,b[U.index]=Y,_=Y.colSpan-1,c[U.index]={left:Y.rowSpan-1,times:_}}else _--,S++;else c[U.index].left--,_=c[U.index].times,g++}return new aN(d,f,n,b)});return u}function C4(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=EV(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function EV(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function NV(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new yV(s,e,t)})}function TV(n,e,t,r,s,o,c){var u=nV(r),d;n==="head"?d=s.headStyles:n==="body"?d=s.bodyStyles:n==="foot"&&(d=s.footStyles);var f=oc({},u.table,u[n],s.styles,d),g=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},b=n==="body"?g:{},S=n==="body"&&t%2===0?oc({},u.alternateRow,s.alternateRowStyles):{},_=tV(o),O=oc({},_,f,S,b);return oc(O,c)}function CV(n,e,t){var r;t===void 0&&(t={});var s=nN(n,e),o=new Map,c=[],u=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(S){var _=e.columns.find(function(O){return O.dataKey===S||O.index===S});_&&!o.has(_.index)&&(o.set(_.index,!0),c.push(_.index),u.push(e.columns[_.index]),s-=_.wrappedWidth)});for(var f=!0,g=(r=t?.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(o.has(g)){g++;continue}var b=e.columns[g].wrappedWidth;if(f||s>=b)f=!1,c.push(g),u.push(e.columns[g]),s-=b;else break;g++}return{colIndexes:c,columns:u,lastIndex:g-1}}function IV(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=CV(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function cN(n,e){var t=e.settings,r=t.startY,s=t.margin,o={x:s.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+s.bottom+c;if(t.pageBreak==="avoid"){var d=e.body,f=d.reduce(function(S,_){return S+_.height},0);u+=f}var g=new _f(n);(t.pageBreak==="always"||t.startY!=null&&u>g.pageSize().height)&&(hN(g),o.y=s.top),e.callWillDrawPageHooks(g,o);var b=oc({},o);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?RV(g,e,b,o):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(S){return dc(g,e,S,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(S,_){var O=_===e.body.length-1;Tg(g,e,S,O,b,o,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(S){return dc(g,e,S,o,e.columns)})),eN(g,e,b,o),e.callEndPageHooks(g,o),e.finalY=o.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function RV(n,e,t,r){var s=IV(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(f,g){n.applyStyles(n.userStyles),g>0?Gd(n,e,t,r,f.columns,!0):I4(n,e,r,f.columns),kV(n,e,t,r,f.columns),w2(n,e,r,f.columns)});else for(var c=-1,u=s[0],d=function(){var f=c;if(u){n.applyStyles(n.userStyles);var g=u.columns;c>=0?Gd(n,e,t,r,g,!0):I4(n,e,r,g),f=R4(n,e,c+1,r,g),w2(n,e,r,g)}var b=f-c;s.slice(1).forEach(function(S){n.applyStyles(n.userStyles),Gd(n,e,t,r,S.columns,!0),R4(n,e,c+1,r,S.columns,b),w2(n,e,r,S.columns)}),c=f};c<e.body.length-1;)d()}function I4(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return dc(n,e,o,t,r)})}function kV(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var u=c===e.body.length-1;Tg(n,e,o,u,t,r,s)})}function R4(n,e,t,r,s,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),u=-1;return e.body.slice(t,c).forEach(function(d,f){var g=t+f===e.body.length-1,b=uN(n,e,g,r);d.canEntireRowFit(b,s)&&(dc(n,e,d,r,s),u=t+f)}),u}function w2(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return dc(n,e,o,t,r)})}function LV(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((e-s)/r);return Math.max(0,o)}function DV(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,u=t.columns;c<u.length;c++){var d=u[c],f=n.cells[d.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var g=new oN(f.raw,f.styles,f.section);g=oc(g,f),g.text=[];var b=LV(f,e,r);f.text.length>b&&(g.text=f.text.splice(b,f.text.length));var S=r.scaleFactor(),_=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(S,_),f.contentHeight>=e&&(f.contentHeight=e,g.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),g.contentHeight=g.getContentHeight(S,_),g.contentHeight>o&&(o=g.contentHeight),s[d.index]=g}}var O=new aN(n.raw,-1,n.section,s,!0);O.height=o;for(var V=0,U=t.columns;V<U.length;V++){var d=U[V],g=O.cells[d.index];g&&(g.height=O.height);var f=n.cells[d.index];f&&(f.height=n.height)}return O}function PV(n,e,t,r){var s=n.pageSize().height,o=r.settings.margin,c=o.top+o.bottom,u=s-c;e.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var d=e.getMinimumRowHeight(r.columns,n),f=d<t;if(d>u)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var g=e.hasRowSpan(r.columns),b=e.getMaxCellHeight(r.columns)>u;return b?(g&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function Tg(n,e,t,r,s,o,c){var u=uN(n,e,r,o);if(t.canEntireRowFit(u,c))dc(n,e,t,o,c);else if(PV(n,t,u,e)){var d=DV(t,u,e,n);dc(n,e,t,o,c),Gd(n,e,s,o,c),Tg(n,e,d,r,s,o,c)}else Gd(n,e,s,o,c),Tg(n,e,t,r,s,o,c)}function dc(n,e,t,r,s){r.x=e.settings.margin.left;for(var o=0,c=s;o<c.length;o++){var u=c[o],d=t.cells[u.index];if(!d){r.x+=u.width;continue}n.applyStyles(d.styles),d.x=r.x,d.y=r.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,d,t,u,r);if(f===!1){r.x+=u.width;continue}OV(n,d,r);var g=d.getTextPos();QE(d.text,g.x,g.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,d,t,u,r),r.x+=u.width}r.y+=t.height}function OV(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=tN(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),MV(n,e,t,r.lineWidth))}function MV(n,e,t,r){var s,o,c,u;r.top&&(s=t.x,o=t.y,c=t.x+e.width,u=t.y,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),d(r.top,s,o,c,u)),r.bottom&&(s=t.x,o=t.y+e.height,c=t.x+e.width,u=t.y+e.height,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),d(r.bottom,s,o,c,u)),r.left&&(s=t.x,o=t.y,c=t.x,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),d(r.left,s,o,c,u)),r.right&&(s=t.x+e.width,o=t.y,c=t.x+e.width,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),d(r.right,s,o,c,u));function d(f,g,b,S,_){n.getDocument().setLineWidth(f),n.getDocument().line(g,b,S,_,"S")}}function uN(n,e,t,r){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function Gd(n,e,t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(u){return dc(n,e,u,r,s)}),e.callEndPageHooks(n,r);var c=e.settings.margin;eN(n,e,t,r),hN(n),e.pageNumber++,r.x=c.left,r.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return dc(n,e,u,r,s)}),n.applyStyles(n.userStyles))}function hN(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function jV(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=sN(this,r),o=lN(this,s);return cN(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){QE(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return _f.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){_f.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new _f(this),o=iN(s,e,window,t,!1),c=o.head,u=o.body,d=((r=c[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:d,rows:u,data:u}}}var x2;function VV(n,e){var t=sN(n,e),r=lN(n,t);cN(n,r)}try{if(typeof window<"u"&&window){var k4=window,L4=k4.jsPDF||((x2=k4.jspdf)===null||x2===void 0?void 0:x2.jsPDF);L4&&jV(L4)}}catch(n){console.error("Could not apply autoTable plugin",n)}const fN=n=>{try{const e=new Bt;e.setFontSize(18),e.text("SISTEMA DE CONTROL DE SEDE",105,15,{align:"center"}),e.setFontSize(10),e.setFontSize(11),e.text(`Boleta de Venta: ${n.id.slice(0,8).toUpperCase()}`,14,40);const t=new Date(n.createdAt);e.text(`Fecha: ${t.toLocaleDateString()} ${t.toLocaleTimeString()}`,14,45),e.text("Cliente:",14,55),e.setFontSize(10),e.text(`${n.customer.name}`,35,55),e.text(`${n.customer.address}`,35,60),n.customer.district&&e.text(`${n.customer.district}, ${n.customer.department||""}`,35,65);const r=n.items.map(f=>[`${f.productName} 
${f.color} / ${f.size}`,f.quantity,`S/ ${f.unitPrice.toFixed(2)}`,`S/ ${(f.unitPrice*f.quantity).toFixed(2)}`]);VV(e,{startY:75,head:[["Descripcin","Cant.","P. Unit","Importe"]],body:r,theme:"grid",headStyles:{fillColor:[40,40,40],textColor:255},styles:{fontSize:9,cellPadding:2},columnStyles:{0:{cellWidth:80},1:{halign:"center"},2:{halign:"right"},3:{halign:"right"}},didDrawPage:()=>{}});const o=(e.lastAutoTable?.finalY||150)+10;e.setFontSize(10),e.text("Subtotal:",140,o,{align:"right"}),e.text(`S/ ${n.subtotal.toFixed(2)}`,190,o,{align:"right"});let c=o;if(n.globalDiscount>0||n.items.some(f=>f.discount>0)){c+=5;const f=n.subtotal+n.shippingCost-n.total;e.text("Descuentos:",140,c,{align:"right"}),e.text(`- S/ ${f.toFixed(2)}`,190,c,{align:"right"})}const u=c+5;e.text("Envo:",140,u,{align:"right"}),e.text(`S/ ${n.shippingCost.toFixed(2)}`,190,u,{align:"right"});const d=u+10;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("TOTAL A PAGAR:",140,d,{align:"right"}),e.text(`S/ ${n.total.toFixed(2)}`,190,d,{align:"right"}),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("Gracias por su compra!",105,d+20,{align:"center"}),e.save(`boleta_${n.id.slice(0,8)}.pdf`)}catch(e){throw console.error("PDF Generation Error:",e),e}};function UV({product:n,addToCart:e,cart:t}){const r=ct.useMemo(()=>{const f={};return n.variants.forEach(g=>{const b=g.colorCode||g.color;f[b]||(f[b]=[]),f[b].push(g)}),f},[n.variants]),s=Object.keys(r),[o,c]=ct.useState(s[0]||"");ct.useEffect(()=>{s.includes(o)||c(s[0]||"")},[s,o]);const u=r[o]||[],d=ct.useMemo(()=>{const f=u.find(b=>b.images&&b.images.length>0);return f?f.images[0]:n.variants.find(b=>b.images&&b.images.length>0)?.images[0]},[u,n.variants]);return A.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all group flex flex-col h-full",children:[A.jsxs("div",{className:"aspect-[4/5] w-full bg-muted relative overflow-hidden",children:[d?A.jsx("img",{src:d,alt:n.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):A.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground bg-accent/30",children:A.jsx(Wd,{className:"h-12 w-12 opacity-20"})}),A.jsx("div",{className:"absolute top-2 left-2",children:A.jsx("span",{className:"text-[10px] uppercase font-bold px-2 py-1 bg-background/90 backdrop-blur-sm text-foreground rounded-md shadow-sm border border-border/50",children:n.collection})})]}),A.jsxs("div",{className:"p-4 flex flex-col flex-1 gap-3",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-base leading-tight line-clamp-2",children:n.name}),A.jsx("p",{className:"text-xs text-muted-foreground mt-1 font-mono",children:n.baseCode})]}),s.length>0&&A.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(f=>{const g=r[f][0],b=f===o;return A.jsx("button",{onClick:()=>c(f),className:qr("w-6 h-6 rounded-full border border-border transition-all relative",b?"ring-2 ring-primary ring-offset-2 scale-110":"hover:scale-110"),title:g.color,style:{backgroundColor:g.colorCode||"#000000"},children:f===o&&A.jsx("span",{className:"absolute inset-0 flex items-center justify-center"})},f)})}),A.jsx("div",{className:"grid grid-cols-4 gap-2 mt-auto",children:u.map(f=>{const g=t.find(S=>S.variantId===f.id)?.quantity||0,b=f.stock===0;return A.jsxs("button",{disabled:b,onClick:()=>e(f,n),className:qr("flex flex-col items-center justify-center py-2 rounded-md border text-center transition-all relative overflow-hidden",b?"bg-muted text-muted-foreground cursor-not-allowed opacity-50 border-transparent":"bg-background hover:border-primary hover:text-primary active:bg-primary/5 border-border"),children:[A.jsx("span",{className:"text-xs font-bold",children:f.size}),A.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["S/",f.priceRetail]}),g>0&&A.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-primary rounded-bl-full shadow-sm"})]},f.id)})})]})]})}function FV(){const n=yu(ve=>ve.products),e=ip(),{districts:t,globalShippingBase:r}=sp(),[s,o]=ct.useState(""),[c,u]=ct.useState([]),[d,f]=ct.useState(""),[g,b]=ct.useState(!1),[S,_]=ct.useState(null),[O,V]=ct.useState("ENCUENTRO"),[U,j]=ct.useState(!1),[te,oe]=ct.useState(""),[Y,ie]=ct.useState(""),[de,q]=ct.useState("LIMA"),[R,P]=ct.useState(""),[G,T]=ct.useState(r.toString()),k=t.filter(ve=>ve.department===de),[D,fe]=ct.useState({subtotal:0,discountTotal:0,shippingCost:0,total:0,appliedPromotions:[]});ct.useEffect(()=>{if(O==="ENCUENTRO")T("0");else if(O==="PUERTA"&&R){const ve=t.find(X=>X.name===R);ve&&(ve.allowDoorDelivery?(j(!1),T(ve.basePrice.toString())):j(!0))}},[R,O,t]),ct.useEffect(()=>{const ve=parseFloat(d)||0,X=parseFloat(G)||0,L=e.calculateCartTotal(c,ve,X);fe(L)},[c,d,G,e]);const xe=n.filter(ve=>ve.name.toLowerCase().includes(s.toLowerCase())||ve.baseCode.toLowerCase().includes(s.toLowerCase())),ne=(ve,X)=>{if((c.find(z=>z.variantId===ve.id)?.quantity||0)+1>ve.stock){un.error(`Stock insuficiente! Solo quedan ${ve.stock} unidades.`);return}u(z=>z.find(se=>se.variantId===ve.id)?z.map(se=>se.variantId===ve.id?{...se,quantity:se.quantity+1}:se):[...z,{variantId:ve.id,sku:ve.sku,productName:X.name,collection:X.collection,type:X.type,gender:X.gender,color:ve.color,size:ve.size,quantity:1,unitPrice:ve.priceRetail,discount:0,subtotal:ve.priceRetail}]),un.success("Agregado al carrito")},Z=ve=>{u(X=>X.filter(L=>L.variantId!==ve))},re=(ve,X)=>{if(X>0){const L=c.find(se=>se.variantId===ve),$=n.find(se=>se.variants.some(pe=>pe.id===ve))?.variants.find(se=>se.id===ve);if(L&&$&&L.quantity+X>$.stock){un.error(`Stock insuficiente! Solo quedan ${$.stock} unidades.`);return}}u(L=>L.map(z=>{if(z.variantId===ve){const $=z.quantity+X;return $>0?{...z,quantity:$}:z}return z}))},Ne=async()=>{if(c.length===0)return;if(!te.trim()){alert("Nombre del Cliente es obligatorio");return}if(!Y.trim()){alert("Direccin de Entrega es obligatoria");return}if(!R){alert("Debe seleccionar un Distrito");return}const ve={name:te,address:Y,department:de,district:R},X={id:crypto.randomUUID(),customer:ve,items:c,subtotal:D.subtotal,globalDiscount:D.discountTotal,shippingCost:D.shippingCost,total:D.total,status:"ADELANTADO",paymentStatus:"PENDIENTE",promotionsApplied:D.appliedPromotions,createdAt:Date.now(),updatedAt:Date.now()};try{await e.addSale(X),_(X),b(!0),u([]),oe(""),ie(""),f(""),P("")}catch(L){console.error(L)}};return A.jsxs("div",{className:"h-full grid grid-cols-12 gap-6 p-1",children:[A.jsxs("div",{className:"col-span-8 flex flex-col gap-4 h-full",children:[A.jsxs("div",{className:"relative",children:[A.jsx(lp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),A.jsx(Jr,{placeholder:"Buscar producto por nombre...",className:"pl-10 h-12 text-lg bg-card rounded-xl shadow-sm border-border/50 focus-visible:ring-primary/20",value:s,onChange:ve=>o(ve.target.value)})]}),A.jsx("div",{className:"flex-1 overflow-y-auto pr-2 pb-20",children:A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:xe.map(ve=>A.jsx(UV,{product:ve,addToCart:ne,cart:c},ve.id))})})]}),A.jsxs("div",{className:"col-span-4 bg-card border border-border rounded-xl h-full flex flex-col shadow-xl overflow-hidden",children:[A.jsx("div",{className:"p-4 border-b border-border bg-muted/30",children:A.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[A.jsx(c_,{className:"h-5 w-5"})," Carrito de Venta"]})}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:c.length===0?A.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground opacity-50",children:[A.jsx(c_,{className:"h-16 w-16 mb-4"}),A.jsx("p",{children:"Carrito vaco"})]}):c.map(ve=>A.jsxs("div",{className:"flex flex-col p-3 bg-accent/20 rounded-lg border border-border/50",children:[A.jsxs("div",{className:"flex justify-between items-start mb-1",children:[A.jsx("span",{className:"font-medium text-sm line-clamp-1",children:ve.productName}),A.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:ve.sku})]}),A.jsxs("div",{className:"flex justify-between items-center mt-2",children:[A.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[A.jsx("div",{className:"w-3 h-3 rounded-full border border-border",style:{backgroundColor:xe.find(X=>X.variants.some(L=>L.id===ve.variantId))?.variants.find(X=>X.id===ve.variantId)?.colorCode||"#ddd"}}),ve.color," / ",ve.size]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-1 bg-background rounded border border-border",children:[A.jsx("button",{onClick:()=>re(ve.variantId,-1),className:"p-1 hover:bg-accent",children:A.jsx(m6,{className:"h-3 w-3"})}),A.jsx("span",{className:"text-xs font-mono w-6 text-center",children:ve.quantity}),A.jsx("button",{onClick:()=>re(ve.variantId,1),className:"p-1 hover:bg-accent",children:A.jsx(Yd,{className:"h-3 w-3"})})]}),A.jsxs("span",{className:"font-bold text-sm min-w-[3rem] text-right",children:["S/",(ve.unitPrice*ve.quantity).toFixed(0)]}),A.jsx("button",{onClick:()=>Z(ve.variantId),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:A.jsx(Sy,{className:"h-4 w-4"})})]})]})]},ve.variantId))}),A.jsxs("div",{className:"p-4 bg-muted/10 border-t border-border space-y-3 text-sm",children:[A.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-1",children:[A.jsx($d,{className:"h-3 w-3"})," Datos de Envo (Obligatorios)"]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 p-1 bg-muted rounded-md border border-border",children:[A.jsx("button",{className:`text-xs font-medium py-1.5 rounded-sm transition-all ${O==="PUERTA"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>V("PUERTA"),children:"A Puerta "}),A.jsx("button",{className:`text-xs font-medium py-1.5 rounded-sm transition-all ${O==="ENCUENTRO"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>V("ENCUENTRO"),children:"Punto Encuentro "})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none",value:de,onChange:ve=>{q(ve.target.value),P("")},children:[A.jsx("option",{value:"LIMA",children:"LIMA"}),A.jsx("option",{value:"CALLAO",children:"CALLAO"})]}),A.jsxs("select",{className:`flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none ${U?"border-destructive":""}`,value:R,onChange:ve=>P(ve.target.value),children:[A.jsx("option",{value:"",children:"Distrito..."}),k.map(ve=>A.jsxs("option",{value:ve.name,children:[ve.name," ",!ve.allowDoorDelivery&&O==="PUERTA"?"(No Cob.)":""]},ve.name))]})]}),O==="PUERTA"&&R&&(()=>{const ve=t.find(X=>X.name===R);return ve&&!ve.allowDoorDelivery?A.jsxs("div",{className:"text-[10px] text-destructive font-bold bg-destructive/10 p-2 rounded flex items-center gap-2",children:[A.jsx(Ey,{className:"h-3 w-3"}),"No hay cobertura a puerta en ",R,"."]}):null})(),A.jsx(Jr,{placeholder:O==="PUERTA"?"Direccin Exacta *":"Punto de Encuentro (Estacin, CC...) *",value:Y,onChange:ve=>ie(ve.target.value),className:"bg-background h-9"}),A.jsx(Jr,{placeholder:"Nombre Completo *",value:te,onChange:ve=>oe(ve.target.value),className:"bg-background h-9"})]}),A.jsxs("div",{className:"p-6 bg-card border-t-2 border-primary/20 space-y-3 shadow-inner",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Xu,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx(Jr,{placeholder:"Desc. Global",className:"bg-background pl-9 h-9",type:"number",value:d,onChange:ve=>f(ve.target.value)})]}),A.jsxs("div",{className:"relative",children:[A.jsx(B4,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx(Jr,{placeholder:"Envo",className:"bg-background pl-9 h-9",type:"number",value:G,onChange:ve=>T(ve.target.value)})]})]}),A.jsxs("div",{className:"space-y-1 text-sm pt-2",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),A.jsxs("span",{children:["S/ ",D.subtotal.toFixed(2)]})]}),A.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[A.jsx("span",{children:"Envo"}),A.jsxs("span",{children:["+S/ ",D.shippingCost.toFixed(2)]})]}),D.discountTotal>0&&A.jsxs("div",{className:"flex justify-between text-emerald-600 font-medium",children:[A.jsxs("span",{children:["Descuentos ",D.appliedPromotions.length>0&&`(${D.appliedPromotions.length} reglas)`]}),A.jsxs("span",{children:["-S/ ",D.discountTotal.toFixed(2)]})]}),A.jsxs("div",{className:"flex justify-between text-xl font-black pt-2 border-t border-border mt-2",children:[A.jsx("span",{children:"Total"}),A.jsxs("span",{children:["S/ ",D.total.toFixed(2)]})]})]}),A.jsxs(cr,{size:"lg",className:"w-full shadow-lg shadow-primary/20 text-lg h-12",onClick:Ne,disabled:c.length===0,children:["Cobrar S/ ",D.total.toFixed(2)]})]})]}),A.jsx(Sv,{isOpen:g,onClose:()=>b(!1),onConfirm:()=>{if(S)try{fN(S),un.success("Boleta generada correctamente")}catch(ve){console.error(ve),un.error("Error al generar la boleta")}},title:"Venta Registrada Exitosamente",message:"Desea generar y descargar la boleta de venta ahora?",confirmText:"S, Generar Boleta",cancelText:"No por ahora",variant:"success"})]})}function BV(){const{sales:n,updateSaleStatus:e}=ip(),[t,r]=ct.useState(""),[s,o]=ct.useState("ALL"),c=ct.useMemo(()=>n.filter(u=>{const d=u.customer.name.toLowerCase().includes(t.toLowerCase()),f=s==="ALL"||u.status===s;return d&&f}).sort((u,d)=>d.createdAt-u.createdAt),[n,t,s]);return A.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[A.jsxs("div",{className:"flex gap-4 items-center bg-card p-4 rounded-xl border border-border",children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx(lp,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx(Jr,{placeholder:"Buscar por cliente...",className:"pl-9 bg-background",value:t,onChange:u=>r(u.target.value)})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(V4,{className:"h-4 w-4 text-muted-foreground"}),A.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:s,onChange:u=>o(u.target.value),children:[A.jsx("option",{value:"ALL",children:"Todos los estados"}),A.jsx("option",{value:"ADELANTADO",children:"Adelantado"}),A.jsx("option",{value:"COMPLETO",children:"Pagado / Completo"}),A.jsx("option",{value:"ENTREGADO",children:"Entregado"}),A.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]})]}),A.jsx("div",{className:"flex-1 overflow-auto border border-border rounded-xl bg-card shadow-sm",children:A.jsxs("table",{className:"w-full text-sm text-left",children:[A.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted/50 sticky top-0 z-10",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"ID / Fecha"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Cliente"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Detalles"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Estado"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Tiempo Restante (SLA)"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Total"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Acciones"})]})}),A.jsx("tbody",{className:"divide-y divide-border bg-card",children:c.length===0?A.jsx("tr",{children:A.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-muted-foreground",children:"No se encontraron ventas"})}):c.map(u=>{const d=u.createdAt+864e5,f=Date.now(),g=u.status==="ENTREGADO",b=d-f,S=Math.floor(b/(1e3*60*60)),_=Math.floor(b%(1e3*60*60)/(1e3*60));let O="text-emerald-600",V=`${S}h ${_}m`;return g?(O="text-muted-foreground",V="Completado"):b<0?(O="text-red-600 font-bold animate-pulse",V=`VENCIDO (${Math.abs(S)}h)`):S<4&&(O="text-orange-500 font-semibold"),A.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"font-mono text-xs font-bold",children:u.id.slice(0,8)}),A.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.createdAt).toLocaleDateString()}),A.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"font-medium text-sm",children:u.customer.name}),A.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",title:u.customer.address,children:u.customer.address})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("div",{className:"flex flex-col gap-1 max-w-[200px]",children:u.items.map(U=>A.jsxs("span",{className:"text-xs",children:[A.jsxs("b",{children:[U.quantity,"x"]})," ",U.productName," ",A.jsxs("span",{className:"text-muted-foreground",children:["(",U.color,"/",U.size,")"]})]},U.variantId))})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"relative group w-fit cursor-pointer",children:[A.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium w-full min-w-[100px] justify-center transition-all group-hover:opacity-80
                                                    ${u.status==="ADELANTADO"?"bg-yellow-100 text-yellow-800":""}
                                                    ${u.status==="COMPLETO"?"bg-blue-100 text-blue-800":""}
                                                    ${u.status==="ENTREGADO"?"bg-green-100 text-green-800":""}
                                                    ${u.status==="CANCELADO"?"bg-red-100 text-red-800":""}
                                                `,children:[u.status==="ADELANTADO"&&A.jsx(GT,{className:"w-3 h-3 mr-1"}),u.status==="ENTREGADO"&&A.jsx(S2,{className:"w-3 h-3 mr-1"}),u.status]}),A.jsxs("select",{className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",value:u.status,onChange:U=>{confirm(`Cambiar estado a ${U.target.value}?`)&&e(u.id,U.target.value)},children:[A.jsx("option",{value:"ADELANTADO",children:"ADELANTADO"}),A.jsx("option",{value:"COMPLETO",children:"COMPLETO"}),A.jsx("option",{value:"ENTREGADO",children:"ENTREGADO"}),A.jsx("option",{value:"CANCELADO",children:"CANCELADO"})]}),A.jsx("div",{className:"absolute -right-2 -top-1",children:A.jsx("span",{className:"flex h-2 w-2 rounded-full bg-primary opacity-0 group-hover:opacity-100 transition-opacity"})})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"bg-muted/40 p-2 rounded-lg border border-border/50",children:[A.jsxs("div",{className:`flex items-center gap-2 text-sm ${O}`,children:[!g&&b<0&&A.jsx(Ey,{className:"h-4 w-4"}),g&&A.jsx(S2,{className:"h-4 w-4"}),A.jsx("span",{className:"font-mono font-medium",children:V})]}),!g&&b>0&&A.jsx("div",{className:"w-24 h-1.5 bg-muted rounded-full mt-1 overflow-hidden",children:A.jsx("div",{className:`h-full rounded-full ${S<4?"bg-orange-500":"bg-emerald-500"}`,style:{width:`${Math.max(0,Math.min(100,(1-b/(1440*60*1e3))*100))}%`}})})]})}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-foreground",children:["S/ ",u.total.toFixed(2)]}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A.jsx("button",{onClick:()=>{try{fN(u)}catch(U){console.error("Error generating receipt:",U),alert("Error al generar la boleta. Verifica la consola.")}},className:"text-muted-foreground hover:text-primary transition-colors p-2 hover:bg-accent rounded-full",title:"Imprimir Boleta",children:A.jsx(QT,{className:"h-4 w-4"})})})]},u.id)})})]})})]})}function wy(){const{promotions:n,addPromotion:e,togglePromotion:t,removePromotion:r}=ip(),{products:s}=yu(),[o,c]=ct.useState(!1),[u,d]=ct.useState(""),[f,g]=ct.useState("PERCENTAGE"),[b,S]=ct.useState(""),[_,O]=ct.useState("COLLECTION"),[V,U]=ct.useState(""),[j,te]=ct.useState(null),oe=ct.useMemo(()=>{if(_==="GLOBAL")return[];const de=new Set;return s.forEach(q=>{_==="COLLECTION"&&de.add(q.collection),_==="TYPE"&&de.add(q.type),_==="GENDER"&&de.add(q.gender),_==="PRODUCT"&&de.add(q.name)}),Array.from(de).sort()},[s,_]),Y=()=>{if(!u||!b||_!=="GLOBAL"&&!V){un.warning("Por favor complete todos los campos requeridos.");return}const de={id:crypto.randomUUID(),name:u,type:f,value:parseFloat(b),scope:_,target:V.toUpperCase(),isActive:!0};e(de),un.success("Promocin creada exitosamente"),c(!1),ie()},ie=()=>{d(""),S(""),U(""),O("COLLECTION"),g("PERCENTAGE")};return A.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[A.jsx(Xu,{className:"h-8 w-8 text-primary"})," Gestor de Promociones"]}),A.jsx("p",{className:"text-muted-foreground mt-1",children:"Configura reglas de descuento automticas para tus ventas."})]}),A.jsxs(cr,{onClick:()=>c(!0),size:"lg",className:o?"hidden":"",children:[A.jsx(Yd,{className:"mr-2 h-5 w-5"})," Nueva Regla"]})]}),o&&A.jsxs("div",{className:"bg-muted/30 border border-primary/20 rounded-xl p-6 shadow-sm animate-in fade-in slide-in-from-top-4",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Nueva Regla de Descuento"}),A.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:A.jsx(cp,{className:"h-4 w-4"})})]}),A.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[A.jsxs("div",{className:"col-span-4 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Nombre de la Promocin"}),A.jsx(Jr,{placeholder:"Ej: Liquidacin Verano 2026",value:u,onChange:de=>d(de.target.value),autoFocus:!0})]}),A.jsxs("div",{className:"col-span-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Tipo"}),A.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:f,onChange:de=>g(de.target.value),children:[A.jsx("option",{value:"PERCENTAGE",children:"Porcentaje (%)"}),A.jsx("option",{value:"FIXED_AMOUNT",children:"Monto Fijo (S/)"})]})]}),A.jsxs("div",{className:"col-span-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Valor"}),A.jsxs("div",{className:"relative",children:[A.jsx(Jr,{type:"number",placeholder:"0",className:"pl-8",value:b,onChange:de=>S(de.target.value)}),A.jsx("span",{className:"absolute left-3 top-2.5 text-xs font-bold text-muted-foreground",children:f==="PERCENTAGE"?"%":"S/"})]})]}),A.jsxs("div",{className:"col-span-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Alcance (Scope)"}),A.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:_,onChange:de=>{O(de.target.value),U("")},children:[A.jsx("option",{value:"GLOBAL",children:"Toda la Tienda"}),A.jsx("option",{value:"COLLECTION",children:"Por Coleccin"}),A.jsx("option",{value:"TYPE",children:"Por Tipo"}),A.jsx("option",{value:"GENDER",children:"Por Gnero"}),A.jsx("option",{value:"PRODUCT",children:"Por Nombre Producto"})]})]}),A.jsxs("div",{className:"col-span-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Objetivo"}),_==="GLOBAL"?A.jsx(Jr,{disabled:!0,value:"Todos",className:"opacity-50"}):A.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:V,onChange:de=>U(de.target.value),children:[A.jsx("option",{value:"",children:"Seleccionar..."}),oe.map(de=>A.jsx("option",{value:de,children:de},de))]})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[A.jsx(cr,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),A.jsxs(cr,{onClick:Y,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[A.jsx(F4,{className:"mr-2 h-4 w-4"})," Guardar Regla"]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 overflow-y-auto pb-10",children:[n.map(de=>A.jsxs("div",{className:`
                            relative group border rounded-xl p-5 transition-all
                            ${de.isActive?"bg-card border-l-4 border-l-primary shadow-sm hover:shadow-md":"bg-muted/40 border-l-4 border-l-muted opacity-70 grayscale-[0.5]"}
                        `,children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-lg",children:de.name}),A.jsx("div",{className:"flex items-center gap-2 mt-1",children:A.jsxs("span",{className:"text-[10px] uppercase font-bold px-2 py-0.5 bg-accent rounded text-muted-foreground tracking-wider",children:[de.scope," ",de.scope!=="GLOBAL"&&` ${de.target}`]})})]}),A.jsx(cr,{variant:de.isActive?"default":"secondary",size:"icon",className:`h-8 w-8 rounded-full transition-colors ${de.isActive?"bg-green-500 hover:bg-green-600":""}`,onClick:()=>t(de.id),children:A.jsx(_6,{className:"h-4 w-4"})})]}),A.jsxs("div",{className:"mt-4 flex items-baseline gap-1",children:[A.jsx("span",{className:"text-3xl font-black text-foreground",children:de.type==="PERCENTAGE"?`${de.value}%`:`S/ ${de.value}`}),A.jsx("span",{className:"text-sm font-medium text-muted-foreground uppercase",children:"DESCUENTO"})]}),A.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 flex justify-between items-center text-xs text-muted-foreground",children:[A.jsxs("span",{children:["Estado: ",A.jsx("b",{className:de.isActive?"text-green-600":"text-muted-foreground",children:de.isActive?"ACTIVO":"INACTIVO"})]}),A.jsxs("button",{onClick:()=>te(de.id),className:"flex items-center gap-1 hover:text-destructive transition-colors",children:[A.jsx(Sy,{className:"h-3 w-3"})," Eliminar"]})]})]},de.id)),n.length===0&&A.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center p-12 text-muted-foreground opacity-50 border-2 border-dashed border-border rounded-xl",children:[A.jsx(Xu,{className:"h-12 w-12 mb-2"}),A.jsx("p",{children:"No hay reglas de promocin activas"})]})]}),A.jsx(Sv,{isOpen:!!j,onClose:()=>te(null),onConfirm:()=>{j&&(r(j),un.success("Promocin eliminada"))},title:"Eliminar Promocin",message:"Ests seguro de que deseas eliminar esta regla de descuento de forma permanente?",confirmText:"S, Eliminar",variant:"danger"})]})}function zV(){const[n,e]=ct.useState("POS");return A.jsxs("div",{className:"h-full flex flex-col",children:[A.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:A.jsxs("div",{className:"flex gap-2 bg-muted p-1 rounded-lg",children:[A.jsxs(cr,{variant:n==="POS"?"secondary":"ghost",size:"sm",onClick:()=>e("POS"),className:"gap-2",children:[A.jsx(N2,{className:"h-4 w-4"})," Punto de Venta"]}),A.jsxs(cr,{variant:n==="LIST"?"secondary":"ghost",size:"sm",onClick:()=>e("LIST"),className:"gap-2",children:[A.jsx(U4,{className:"h-4 w-4"})," Historial de Ventas"]}),A.jsxs(cr,{variant:n==="PROMOTIONS"?"secondary":"ghost",size:"sm",onClick:()=>e("PROMOTIONS"),className:"gap-2",children:[A.jsx(Xu,{className:"h-4 w-4"})," Gestor Descuentos"]})]})}),A.jsxs("div",{className:"flex-1 overflow-hidden",children:[n==="POS"&&A.jsx(FV,{}),n==="LIST"&&A.jsx(BV,{}),n==="PROMOTIONS"&&A.jsx(wy,{})]})]})}function qV(){const[n,e]=ct.useState("light"),[t,r]=ct.useState("Admin"),{globalShippingBase:s,updateGlobalShipping:o}=sp(),[c,u]=ct.useState(s.toString());ct.useEffect(()=>{u(s.toString())},[s]),ct.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const d=()=>{const f=parseFloat(c);!isNaN(f)&&f!==s&&o(f),localStorage.setItem("scs_settings_user",t),alert("Preferencias guardadas")};return A.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-10",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Configuracin"}),A.jsx("p",{className:"text-muted-foreground mt-1",children:"Preferencias del sistema y logstica."})]}),A.jsxs(cr,{onClick:d,children:[A.jsx(F4,{className:"mr-2 h-4 w-4"})," Guardar Preferencias"]})]}),A.jsxs("div",{className:"grid gap-6",children:[A.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[A.jsx($d,{className:"h-5 w-5 text-primary"})," Perfil de Usuario"]}),A.jsx("div",{className:"grid gap-4",children:A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Nombre de Usuario"}),A.jsx(Jr,{value:t,onChange:f=>r(f.target.value)})]})})]}),A.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[A.jsx(l_,{className:"h-5 w-5 text-primary"})," Apariencia"]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("div",{onClick:()=>e("light"),className:`cursor-pointer rounded-lg border-2 p-4 flex flex-col items-center gap-2 flex-1 ${n==="light"?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[A.jsx(C6,{className:"h-6 w-6"}),A.jsx("span",{className:"text-sm font-medium",children:"Claro"})]}),A.jsxs("div",{onClick:()=>e("dark"),className:`cursor-pointer rounded-lg border-2 p-4 flex flex-col items-center gap-2 flex-1 ${n==="dark"?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[A.jsx(l_,{className:"h-6 w-6"}),A.jsx("span",{className:"text-sm font-medium",children:"Oscuro"})]})]})]})]}),A.jsx("div",{className:"bg-accent/10 border border-accent rounded-xl p-6 text-center",children:A.jsxs("p",{className:"text-muted-foreground",children:["Buscas la configuracin de envos? Ahora tiene su propia seccin en ",A.jsx("strong",{children:"Logstica"}),"."]})})]})]})}const D4=({dist:n,onUpdate:e,onToggle:t})=>{const[r,s]=ct.useState(n.basePrice.toString()),[o,c]=ct.useState(!1);ct.useEffect(()=>{o||s(n.basePrice.toString())},[n.basePrice]);const u=()=>{c(!1);const f=parseFloat(r);!isNaN(f)&&f!==n.basePrice?e(n.name,f):s(n.basePrice.toString())},d=f=>{f.key==="Enter"&&f.currentTarget.blur()};return A.jsxs("div",{className:qr("group relative flex items-center justify-between p-4 rounded-xl border transition-all duration-200",n.allowDoorDelivery?"bg-card border-border hover:border-emerald-500/30 hover:shadow-md":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:qr("h-10 w-10 rounded-full flex items-center justify-center transition-colors",n.allowDoorDelivery?"bg-emerald-100 text-emerald-600":"bg-gray-200 text-gray-500"),children:A.jsx(h6,{className:"h-5 w-5"})}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-foreground",children:n.name}),A.jsx("span",{className:"text-xs font-medium text-muted-foreground bg-accent px-2 py-0.5 rounded-full",children:n.department})]})]}),A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsxs("div",{className:"text-right",children:[A.jsx("label",{className:"text-[10px] uppercase font-bold text-muted-foreground block mb-1",children:"Costo Envo"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-2 top-1.5 text-xs text-muted-foreground font-bold",children:"S/"}),A.jsx(Jr,{className:"h-8 w-20 pl-6 text-right font-bold bg-background shadow-sm focus:ring-primary/20",value:r,onChange:f=>s(f.target.value),onBlur:u,onFocus:()=>c(!0),onKeyDown:d})]})]}),A.jsxs("div",{className:"text-center w-24",children:[A.jsx("label",{className:"text-[10px] uppercase font-bold text-muted-foreground block mb-1",children:n.allowDoorDelivery?"A Puerta":"Solo Encuentro"}),A.jsx(cr,{variant:n.allowDoorDelivery?"default":"secondary",size:"sm",onClick:()=>t(n.name),className:qr("w-full h-8 transition-all",n.allowDoorDelivery?"bg-emerald-600 hover:bg-emerald-700":"bg-muted-foreground/20 hover:bg-muted-foreground/30 text-muted-foreground"),children:n.allowDoorDelivery?A.jsxs(A.Fragment,{children:[A.jsx(A2,{className:"w-3 h-3 mr-1"})," Activo"]}):A.jsxs(A.Fragment,{children:[A.jsx(cp,{className:"w-3 h-3 mr-1"})," Restringido"]})})]})]})]})};function HV(){const{globalShippingBase:n,updateGlobalShipping:e,districts:t,updateDistrict:r,toggleDoorDelivery:s}=sp(),[o,c]=ct.useState(""),[u,d]=ct.useState(n.toString());ct.useEffect(()=>{d(n.toString())},[n]);const f=()=>{const _=parseFloat(u);!isNaN(_)&&_!==n&&e(_)},g=t.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.department.toLowerCase().includes(o.toLowerCase())),b=g.filter(_=>_.department==="LIMA"),S=g.filter(_=>_.department==="CALLAO");return A.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[A.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Logstica y Envos"}),A.jsx("p",{className:"text-muted-foreground mt-1 text-lg",children:"Gestiona la cobertura y tarifas de entrega."})]}),A.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-xl p-4 flex items-center gap-4 shadow-sm",children:[A.jsx("div",{className:"bg-primary/20 p-3 rounded-full text-primary",children:A.jsx(Wd,{className:"h-6 w-6"})}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-semibold text-foreground block",children:"Tarifa Base Global"}),A.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Precio por defecto para nuevos destinos"})]}),A.jsxs("div",{className:"relative w-24 ml-2",children:[A.jsx("span",{className:"absolute left-3 top-2 text-sm text-foreground font-bold",children:"S/"}),A.jsx(Jr,{className:"pl-8 font-bold text-lg h-10 bg-white border-primary/30 focus:border-primary",value:u,onChange:_=>d(_.target.value),onBlur:f,onKeyDown:_=>_.key==="Enter"&&_.currentTarget.blur()})]})]})]}),A.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-md py-4 border-b border-border mb-6",children:A.jsxs("div",{className:"relative max-w-2xl",children:[A.jsx(lp,{className:"absolute left-4 top-3.5 h-5 w-5 text-muted-foreground"}),A.jsx(Jr,{placeholder:"Buscar distrito (ej. Miraflores)...",className:"pl-12 h-12 text-lg rounded-full shadow-sm border-muted-foreground/20 hover:border-primary/50 transition-colors",value:o,onChange:_=>c(_.target.value)})]})}),A.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"Lima Metropolitana"}),A.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs font-bold",children:b.length})]}),A.jsxs("div",{className:"space-y-3",children:[b.map(_=>A.jsx(D4,{dist:_,onUpdate:(O,V)=>r(O,{basePrice:V}),onToggle:s},_.name)),b.length===0&&A.jsx("p",{className:"text-muted-foreground italic p-4",children:"No se encontraron distritos."})]})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"Callao"}),A.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs font-bold",children:S.length})]}),A.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl p-1 border border-dashed border-slate-300 dark:border-slate-700",children:A.jsx("div",{className:"space-y-3 p-3",children:S.map(_=>A.jsx(D4,{dist:_,onUpdate:(O,V)=>r(O,{basePrice:V}),onToggle:s},_.name))})})]})]})]})}const dN=ct.createContext(null);function GV({children:n}){const[e,t]=ct.useState(null),[r,s]=ct.useState(null),[o,c]=ct.useState(!0);ct.useEffect(()=>{const g=HR(z0,async b=>{if(b)try{const S=Qs(xs,"users",b.uid),_=await RS(S);if(_.exists())s(_.data());else{const O={name:b.email?.split("@")[0]||"Usuario",email:b.email,role:"admin",requiresPasswordChange:!0,createdAt:Date.now()};try{await rh(S,O),s(O)}catch(V){console.error("Error creating user profile:",V),s({})}}}catch(S){console.error("Error fetching user profile (Permissions?):",S),s(null),un.error("Error de permisos en Base de Datos. Revisa las reglas de Firestore.")}else s(null);t(b),c(!1)});return()=>g()},[]);const u=async(g,b)=>{const S=g.includes("@")?g:`${g.toLowerCase()}@artemya.com`;try{await UR(z0,S,b),un.success("Sesin iniciada correctamente")}catch(_){console.error(_);const O=_;throw O.code==="auth/invalid-credential"||O.code==="auth/user-not-found"||O.code==="auth/wrong-password"?un.error("Usuario o contrasea incorrectos"):un.error(`Error al iniciar sesin: ${O.message} `),_}},d=async()=>{try{await GR(z0),un.success("Sesin cerrada")}catch{un.error("Error al cerrar sesin")}},f=async g=>{if(!e)throw new Error("No hay usuario autenticado");try{await FR(e,g),await rh(Qs(xs,"users",e.uid),{requiresPasswordChange:!1},{merge:!0}),s(b=>({...b,requiresPasswordChange:!1})),un.success("Contrasea actualizada correctamente")}catch(b){throw console.error(b),un.error("Error al actualizar la contrasea"),b}};return A.jsx(dN.Provider,{value:{user:e,userData:r,loading:o,login:u,logout:d,changePassword:f},children:!o&&n})}const Pv=()=>{const n=ct.useContext(dN);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};function WV(){const{login:n,loading:e}=Pv(),[t,r]=ct.useState(""),[s,o]=ct.useState(""),[c,u]=ct.useState(!1),d=async f=>{f.preventDefault(),u(!0);try{await n(t,s)}catch{}finally{u(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 bg-pattern",children:A.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-2xl border border-gray-100",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"SCS"}),A.jsx("p",{className:"text-gray-500 mt-2",children:"Sistema de Control de Sede"})]}),A.jsxs("form",{onSubmit:d,className:"space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usuario"}),A.jsxs("div",{className:"relative",children:[A.jsx($d,{className:"absolute left-3 top-3  h-5 w-5 text-gray-400"}),A.jsx("input",{type:"text",placeholder:"ej. sebastian",value:t,onChange:f=>r(f.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-gray-50 focus:bg-white",required:!0})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contrasea"}),A.jsxs("div",{className:"relative",children:[A.jsx(o6,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),A.jsx("input",{type:"password",placeholder:"",value:s,onChange:f=>o(f.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-gray-50 focus:bg-white",required:!0})]})]}),A.jsx("button",{type:"submit",disabled:c||e,className:"w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-200 flex items-center justify-center gap-2 transform active:scale-95",children:c?A.jsx(Ay,{className:"h-5 w-5 animate-spin"}):"Iniciar Sesin"}),A.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:"Acceso restringido a personal autorizado."})]})]})})}function YV(){const{changePassword:n}=Pv(),[e,t]=ct.useState(""),[r,s]=ct.useState(""),[o,c]=ct.useState(!1),u=async d=>{if(d.preventDefault(),e.length<6){un.error("La contrasea debe tener al menos 6 caracteres");return}if(e!==r){un.error("Las contraseas no coinciden");return}c(!0);try{await n(e)}catch{}finally{c(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:A.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-xl border border-red-100 relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-400 to-red-500"}),A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-orange-100 text-orange-600 mb-4",children:A.jsx(n6,{size:32})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seguridad Requerida"}),A.jsx("p",{className:"text-gray-500 mt-2 px-4",children:"Por motivos de seguridad, debes actualizar tu contrasea antes de continuar."})]}),A.jsxs("form",{onSubmit:u,className:"space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nueva Contrasea"}),A.jsx("input",{type:"password",placeholder:"Mnimo 6 caracteres",value:e,onChange:d=>t(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all outline-none",required:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Confirmar Contrasea"}),A.jsx("input",{type:"password",placeholder:"Repite la contrasea",value:r,onChange:d=>s(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all outline-none",required:!0})]}),A.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 px-4 bg-gray-900 hover:bg-black text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2",children:o?A.jsx(Ay,{className:"h-5 w-5 animate-spin"}):"Actualizar Contrasea"})]})]})})}function $V(){const[n,e]=ct.useState(null),[t,r]=ct.useState(!1);ct.useEffect(()=>{const c=u=>{u.preventDefault(),e(u),r(!0)};return window.addEventListener("beforeinstallprompt",c),()=>{window.removeEventListener("beforeinstallprompt",c)}},[]);const s=async()=>{if(!n)return;n.prompt();const{outcome:c}=await n.userChoice;console.log(`User response to the install prompt: ${c}`),e(null),r(!1)},o=()=>{r(!1)};return t?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:A.jsxs("div",{className:"bg-card text-card-foreground border border-border rounded-xl shadow-lg max-w-sm w-full p-6 relative animate-in zoom-in-95 duration-300",children:[A.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors",children:A.jsx(cp,{size:20})}),A.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[A.jsx("div",{className:"h-12 w-12 bg-primary/10 text-primary rounded-full flex items-center justify-center",children:A.jsx(YT,{size:24})}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("h3",{className:"font-bold text-lg",children:"Instalar Aplicacin"}),A.jsx("p",{className:"text-muted-foreground text-sm",children:"Instala SCS en tu dispositivo para un acceso ms rpido, uso sin conexin y una mejor experiencia."})]}),A.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[A.jsx(cr,{variant:"outline",className:"flex-1",onClick:o,children:"Ahora no"}),A.jsx(cr,{className:"flex-1",onClick:s,children:"Instalar"})]})]})]})}):null}function KV(){const{user:n,userData:e,logout:t}=Pv(),[r,s]=ct.useState(!0),[o,c]=ct.useState("DASHBOARD"),{products:u,initializeSubscription:d}=yu(),{sales:f,initializeSubscription:g}=ip(),{initializeSubscription:b}=sp();ct.useEffect(()=>{if(!n){yu.getState().cleanup(),ip.getState().cleanup(),sp.getState().cleanup();return}let _=()=>{},O=()=>{},V=()=>{};try{_=d(),O=g(),V=b()}catch(U){console.error("Failed to initialize subscriptions:",U)}return()=>{try{_(),O(),V()}catch(U){console.error("Error cleaning up subscriptions:",U)}}},[n,d,g,b]);const S=ct.useMemo(()=>{const _=u.reduce((Y,ie)=>Y+ie.variants.reduce((de,q)=>de+q.stock,0),0),O=new Date,V=O.getMonth(),U=O.getFullYear(),j=f.filter(Y=>{const ie=new Date(Y.createdAt);return ie.getMonth()===V&&ie.getFullYear()===U&&Y.status!=="CANCELADO"}).reduce((Y,ie)=>Y+ie.total,0),te=f.filter(Y=>Y.status!=="ENTREGADO"&&Y.status!=="CANCELADO").length,oe=f.filter(Y=>Y.status!=="CANCELADO").reduce((Y,ie)=>{const de=ie.subtotal-ie.globalDiscount,q=ie.items.reduce((R,P)=>{const T=u.find(k=>k.variants.some(D=>D.id===P.variantId))?.variants.find(k=>k.id===P.variantId);return R+P.quantity*(T?.priceProduction||0)},0);return Y+(de-q)},0);return{inventoryCount:_,monthlySales:j,pendingOrders:te,estimatedProfit:oe}},[u,f]);return n?e?.requiresPasswordChange?A.jsx(YV,{}):A.jsxs("div",{className:"min-h-screen bg-background text-foreground flex overflow-hidden",children:[A.jsxs("aside",{className:qr("bg-card border-r border-border transition-all duration-300 ease-in-out z-20",r?"w-64":"w-20"),children:[A.jsxs("div",{className:"h-16 flex items-center justify-center border-b border-border gap-2",children:[A.jsx(E2,{className:qr("text-primary transition-all",r?"h-8 w-8":"h-6 w-6")}),A.jsx("h1",{className:qr("font-bold text-2xl text-primary transition-all overflow-hidden whitespace-nowrap",!r&&"w-0 opacity-0"),children:"SCS"})]}),A.jsxs("nav",{className:"p-4 space-y-2 flex flex-col h-[calc(100vh-4rem)]",children:[A.jsxs("div",{className:"flex-1 space-y-2",children:[A.jsx(Id,{icon:A.jsx(U4,{size:20}),label:"Dashboard",isOpen:r,active:o==="DASHBOARD",onClick:()=>c("DASHBOARD")}),A.jsx(Id,{icon:A.jsx(Wd,{size:20}),label:"Inventario",isOpen:r,active:o==="INVENTORY",onClick:()=>c("INVENTORY")}),A.jsx(Id,{icon:A.jsx(N2,{size:20}),label:"Ventas",isOpen:r,active:o==="SALES",onClick:()=>c("SALES")}),A.jsx(Id,{icon:A.jsx(B4,{size:20}),label:"Logstica",isOpen:r,active:o==="LOGISTICS",onClick:()=>c("LOGISTICS")}),A.jsx("div",{className:"pt-4 mt-4 border-t border-border",children:A.jsx(Id,{icon:A.jsx(S6,{size:20}),label:"Configuracin",isOpen:r,active:o==="SETTINGS",onClick:()=>c("SETTINGS")})})]}),A.jsx("div",{className:"border-t border-border pt-2",children:A.jsxs("button",{onClick:t,className:qr("w-full flex items-center gap-3 px-3 py-2 rounded-md transition-all duration-200 group relative hover:bg-destructive/10 hover:text-destructive text-muted-foreground"),children:[A.jsx("span",{className:"group-hover:text-destructive",children:A.jsx(c6,{size:20})}),A.jsx("span",{className:qr("whitespace-nowrap transition-all duration-300 origin-left font-medium",!r&&"scale-0 w-0 opacity-0 overflow-hidden"),children:"Cerrar Sesin"})]})})]})]}),A.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[A.jsxs("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-sm flex items-center justify-between px-6 sticky top-0 z-10",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:()=>s(!r),className:"p-2 hover:bg-accent rounded-md transition-colors",children:A.jsx(d6,{size:20})}),A.jsxs("div",{className:"relative hidden md:block",children:[A.jsx(lp,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-9 h-9 w-64 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{className:"p-2 hover:bg-accent rounded-full relative",children:[A.jsx(o_,{size:20}),A.jsx("span",{className:"absolute top-1.5 right-1.5 h-2 w-2 bg-destructive rounded-full"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("div",{className:"text-right hidden sm:block",children:[A.jsx("p",{className:"text-sm font-medium leading-none",children:e?.name||n.email}),A.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]}),A.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-medium",children:e?.name?.charAt(0)||n.email?.charAt(0).toUpperCase()})]})]})]}),A.jsxs("main",{className:"flex-1 p-6 overflow-auto",children:[o==="DASHBOARD"&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Bienvenido al SCS"}),A.jsx("p",{className:"text-muted-foreground",children:"Sistema de Control de Sede - Panel Principal"})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[A.jsx(Om,{title:"Inventario Total (Unidades)",value:S.inventoryCount.toString(),icon:A.jsx(Wd,{className:"text-primary"})}),A.jsx(Om,{title:"Ventas del Mes",value:`S/ ${S.monthlySales.toFixed(2)}`,icon:A.jsx(N2,{className:"text-primary"})}),A.jsx(Om,{title:"Ganancia Estimada",value:`S/ ${S.estimatedProfit.toFixed(2)}`,icon:A.jsx(Xu,{className:"text-emerald-500"})}),A.jsx(Om,{title:"Pedidos Pendientes",value:S.pendingOrders.toString(),icon:A.jsx(o_,{className:"text-destructive"})})]}),A.jsxs("div",{className:"rounded-xl border border-border bg-card text-card-foreground shadow p-6",children:[A.jsx("h3",{className:"font-semibold leading-none tracking-tight mb-4",children:"Estado del Sistema"}),A.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema operativo v1.0. Las mtricas se actualizan en tiempo real."})]})]}),o==="INVENTORY"&&A.jsx("div",{className:"h-full",children:A.jsx(l9,{})}),o==="SALES"&&A.jsx(zV,{}),o==="PROMOTIONS"&&A.jsx(wy,{}),o==="PROMOTIONS"&&A.jsx(wy,{}),o==="LOGISTICS"&&A.jsx(HV,{}),o==="SETTINGS"&&A.jsx(qV,{})]})]})]}):A.jsx(A.Fragment,{children:A.jsx(WV,{})})}function XV(){return A.jsxs(GV,{children:[A.jsx(hC,{richColors:!0,position:"top-center"}),A.jsx($V,{}),A.jsx(KV,{})]})}function Id({icon:n,label:e,isOpen:t,active:r=!1,onClick:s}){return A.jsxs("button",{onClick:s,className:qr("w-full flex items-center gap-3 px-3 py-2 rounded-md transition-all duration-200 group relative",r?"bg-primary/10 text-primary":"hover:bg-accent hover:text-accent-foreground text-muted-foreground"),children:[A.jsx("span",{className:qr("transition-colors",r?"text-primary":"group-hover:text-primary"),children:n}),A.jsx("span",{className:qr("whitespace-nowrap transition-all duration-300 origin-left font-medium",!t&&"scale-0 w-0 opacity-0 overflow-hidden"),children:e}),!t&&A.jsx("div",{className:"absolute left-14 bg-popover text-popover-foreground px-2 py-1 rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none",children:e})]})}function Om({title:n,value:e,icon:t}){return A.jsxs("div",{className:"rounded-xl border border-border bg-card text-card-foreground shadow",children:[A.jsxs("div",{className:"p-6 flex flex-row items-center justify-between space-y-0 pb-2",children:[A.jsx("h3",{className:"tracking-tight text-sm font-medium text-muted-foreground",children:n}),t]}),A.jsx("div",{className:"p-6 pt-0 mt-2",children:A.jsx("div",{className:"text-2xl font-bold",children:e})})]})}class QV extends ct.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?A.jsxs("div",{className:"p-8 max-w-2xl mx-auto mt-10 bg-red-50 text-red-900 rounded-lg border border-red-200",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Ups! Algo sali mal."}),A.jsx("p",{className:"mb-4",children:"Se ha producido un error inesperado al renderizar la aplicacin."}),A.jsx("pre",{className:"bg-white p-4 rounded border border-red-100 overflow-auto text-sm font-mono",children:this.state.error?.toString()})]}):this.props.children}}IT.createRoot(document.getElementById("root")).render(A.jsx(ct.StrictMode,{children:A.jsx(QV,{children:A.jsx(XV,{})})}));export{lr as _,JV as c,P4 as g};
