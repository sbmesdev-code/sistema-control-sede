(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var UM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var i0={exports:{}},fd={};var Ab;function T6(){if(Ab)return fd;Ab=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:o}}return fd.Fragment=e,fd.jsx=t,fd.jsxs=t,fd}var Sb;function C6(){return Sb||(Sb=1,i0.exports=T6()),i0.exports}var A=C6(),s0={exports:{}},ln={};var Eb;function I6(){if(Eb)return ln;Eb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function _(X){return X===null||typeof X!="object"?null:(X=E&&X[E]||X["@@iterator"],typeof X=="function"?X:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function j(X,P,z){this.props=X,this.context=P,this.refs=U,this.updater=z||M}j.prototype.isReactComponent={},j.prototype.setState=function(X,P){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,P,"setState")},j.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function ne(){}ne.prototype=j.prototype;function oe(X,P,z){this.props=X,this.context=P,this.refs=U,this.updater=z||M}var H=oe.prototype=new ne;H.constructor=oe,V(H,j.prototype),H.isPureReactComponent=!0;var ee=Array.isArray;function fe(){}var q={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function D(X,P,z){var K=z.ref;return{$$typeof:n,type:X,key:P,ref:K!==void 0?K:null,props:z}}function Y(X,P){return D(X.type,P,X.props)}function T(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function R(X){var P={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(z){return P[z]})}var L=/\/+/g;function he(X,P){return typeof X=="object"&&X!==null&&X.key!=null?R(""+X.key):P.toString(36)}function Ae(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(fe,fe):(X.status="pending",X.then(function(P){X.status==="pending"&&(X.status="fulfilled",X.value=P)},function(P){X.status==="pending"&&(X.status="rejected",X.reason=P)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function te(X,P,z,K,ie){var de=typeof X;(de==="undefined"||de==="boolean")&&(X=null);var ye=!1;if(X===null)ye=!0;else switch(de){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(X.$$typeof){case n:case e:ye=!0;break;case g:return ye=X._init,te(ye(X._payload),P,z,K,ie)}}if(ye)return ie=ie(X),ye=K===""?"."+he(X,0):K,ee(ie)?(z="",ye!=null&&(z=ye.replace(L,"$&/")+"/"),te(ie,P,z,"",function(Ue){return Ue})):ie!=null&&(T(ie)&&(ie=Y(ie,z+(ie.key==null||X&&X.key===ie.key?"":(""+ie.key).replace(L,"$&/")+"/")+ye)),P.push(ie)),1;ye=0;var Ee=K===""?".":K+":";if(ee(X))for(var Le=0;Le<X.length;Le++)K=X[Le],de=Ee+he(K,Le),ye+=te(K,P,z,de,ie);else if(Le=_(X),typeof Le=="function")for(X=Le.call(X),Le=0;!(K=X.next()).done;)K=K.value,de=Ee+he(K,Le++),ye+=te(K,P,z,de,ie);else if(de==="object"){if(typeof X.then=="function")return te(Ae(X),P,z,K,ie);throw P=String(X),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ye}function pe(X,P,z){if(X==null)return X;var K=[],ie=0;return te(X,K,"","",function(de){return P.call(z,de,ie++)}),K}function ue(X){if(X._status===-1){var P=X._result;P=P(),P.then(function(z){(X._status===0||X._status===-1)&&(X._status=1,X._result=z)},function(z){(X._status===0||X._status===-1)&&(X._status=2,X._result=z)}),X._status===-1&&(X._status=0,X._result=P)}if(X._status===1)return X._result.default;throw X._result}var Ce=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},be={map:pe,forEach:function(X,P,z){pe(X,function(){P.apply(this,arguments)},z)},count:function(X){var P=0;return pe(X,function(){P++}),P},toArray:function(X){return pe(X,function(P){return P})||[]},only:function(X){if(!T(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return ln.Activity=b,ln.Children=be,ln.Component=j,ln.Fragment=t,ln.Profiler=s,ln.PureComponent=oe,ln.StrictMode=r,ln.Suspense=f,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ln.__COMPILER_RUNTIME={__proto__:null,c:function(X){return q.H.useMemoCache(X)}},ln.cache=function(X){return function(){return X.apply(null,arguments)}},ln.cacheSignal=function(){return null},ln.cloneElement=function(X,P,z){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var K=V({},X.props),ie=X.key;if(P!=null)for(de in P.key!==void 0&&(ie=""+P.key),P)!k.call(P,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&P.ref===void 0||(K[de]=P[de]);var de=arguments.length-2;if(de===1)K.children=z;else if(1<de){for(var ye=Array(de),Ee=0;Ee<de;Ee++)ye[Ee]=arguments[Ee+2];K.children=ye}return D(X.type,ie,K)},ln.createContext=function(X){return X={$$typeof:c,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},ln.createElement=function(X,P,z){var K,ie={},de=null;if(P!=null)for(K in P.key!==void 0&&(de=""+P.key),P)k.call(P,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ie[K]=P[K]);var ye=arguments.length-2;if(ye===1)ie.children=z;else if(1<ye){for(var Ee=Array(ye),Le=0;Le<ye;Le++)Ee[Le]=arguments[Le+2];ie.children=Ee}if(X&&X.defaultProps)for(K in ye=X.defaultProps,ye)ie[K]===void 0&&(ie[K]=ye[K]);return D(X,de,ie)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(X){return{$$typeof:u,render:X}},ln.isValidElement=T,ln.lazy=function(X){return{$$typeof:g,_payload:{_status:-1,_result:X},_init:ue}},ln.memo=function(X,P){return{$$typeof:d,type:X,compare:P===void 0?null:P}},ln.startTransition=function(X){var P=q.T,z={};q.T=z;try{var K=X(),ie=q.S;ie!==null&&ie(z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(fe,Ce)}catch(de){Ce(de)}finally{P!==null&&z.types!==null&&(P.types=z.types),q.T=P}},ln.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ln.use=function(X){return q.H.use(X)},ln.useActionState=function(X,P,z){return q.H.useActionState(X,P,z)},ln.useCallback=function(X,P){return q.H.useCallback(X,P)},ln.useContext=function(X){return q.H.useContext(X)},ln.useDebugValue=function(){},ln.useDeferredValue=function(X,P){return q.H.useDeferredValue(X,P)},ln.useEffect=function(X,P){return q.H.useEffect(X,P)},ln.useEffectEvent=function(X){return q.H.useEffectEvent(X)},ln.useId=function(){return q.H.useId()},ln.useImperativeHandle=function(X,P,z){return q.H.useImperativeHandle(X,P,z)},ln.useInsertionEffect=function(X,P){return q.H.useInsertionEffect(X,P)},ln.useLayoutEffect=function(X,P){return q.H.useLayoutEffect(X,P)},ln.useMemo=function(X,P){return q.H.useMemo(X,P)},ln.useOptimistic=function(X,P){return q.H.useOptimistic(X,P)},ln.useReducer=function(X,P,z){return q.H.useReducer(X,P,z)},ln.useRef=function(X){return q.H.useRef(X)},ln.useState=function(X){return q.H.useState(X)},ln.useSyncExternalStore=function(X,P,z){return q.H.useSyncExternalStore(X,P,z)},ln.useTransition=function(){return q.H.useTransition()},ln.version="19.2.4",ln}var Nb;function ry(){return Nb||(Nb=1,s0.exports=I6()),s0.exports}var mt=ry();const Xe=t4(mt);var a0={exports:{}},dd={},o0={exports:{}},l0={};var Tb;function R6(){return Tb||(Tb=1,(function(n){function e(te,pe){var ue=te.length;te.push(pe);e:for(;0<ue;){var Ce=ue-1>>>1,be=te[Ce];if(0<s(be,pe))te[Ce]=pe,te[ue]=be,ue=Ce;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var pe=te[0],ue=te.pop();if(ue!==pe){te[0]=ue;e:for(var Ce=0,be=te.length,X=be>>>1;Ce<X;){var P=2*(Ce+1)-1,z=te[P],K=P+1,ie=te[K];if(0>s(z,ue))K<be&&0>s(ie,z)?(te[Ce]=ie,te[K]=ue,Ce=K):(te[Ce]=z,te[P]=ue,Ce=P);else if(K<be&&0>s(ie,ue))te[Ce]=ie,te[K]=ue,Ce=K;else break e}}return pe}function s(te,pe){var ue=te.sortIndex-pe.sortIndex;return ue!==0?ue:te.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var f=[],d=[],g=1,b=null,E=3,_=!1,M=!1,V=!1,U=!1,j=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function H(te){for(var pe=t(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=te)r(d),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(d)}}function ee(te){if(V=!1,H(te),!M)if(t(f)!==null)M=!0,fe||(fe=!0,R());else{var pe=t(d);pe!==null&&Ae(ee,pe.startTime-te)}}var fe=!1,q=-1,k=5,D=-1;function Y(){return U?!0:!(n.unstable_now()-D<k)}function T(){if(U=!1,fe){var te=n.unstable_now();D=te;var pe=!0;try{e:{M=!1,V&&(V=!1,ne(q),q=-1),_=!0;var ue=E;try{t:{for(H(te),b=t(f);b!==null&&!(b.expirationTime>te&&Y());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,E=b.priorityLevel;var be=Ce(b.expirationTime<=te);if(te=n.unstable_now(),typeof be=="function"){b.callback=be,H(te),pe=!0;break t}b===t(f)&&r(f),H(te)}else r(f);b=t(f)}if(b!==null)pe=!0;else{var X=t(d);X!==null&&Ae(ee,X.startTime-te),pe=!1}}break e}finally{b=null,E=ue,_=!1}pe=void 0}}finally{pe?R():fe=!1}}}var R;if(typeof oe=="function")R=function(){oe(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,he=L.port2;L.port1.onmessage=T,R=function(){he.postMessage(null)}}else R=function(){j(T,0)};function Ae(te,pe){q=j(function(){te(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(te){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var ue=E;E=pe;try{return te()}finally{E=ue}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ue=E;E=te;try{return pe()}finally{E=ue}},n.unstable_scheduleCallback=function(te,pe,ue){var Ce=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ce+ue:Ce):ue=Ce,te){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ue+be,te={id:g++,callback:pe,priorityLevel:te,startTime:ue,expirationTime:be,sortIndex:-1},ue>Ce?(te.sortIndex=ue,e(d,te),t(f)===null&&te===t(d)&&(V?(ne(q),q=-1):V=!0,Ae(ee,ue-Ce))):(te.sortIndex=be,e(f,te),M||_||(M=!0,fe||(fe=!0,R()))),te},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(te){var pe=E;return function(){var ue=E;E=pe;try{return te.apply(this,arguments)}finally{E=ue}}}})(l0)),l0}var Cb;function L6(){return Cb||(Cb=1,o0.exports=R6()),o0.exports}var c0={exports:{}},Ts={};var Ib;function k6(){if(Ib)return Ts;Ib=1;var n=ry();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:f,containerInfo:d,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ts.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ts.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Ts.flushSync=function(f){var d=c.T,g=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=d,r.p=g,r.d.f()}},Ts.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Ts.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ts.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,b=u(g,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:_}):g==="script"&&r.d.X(f,{crossOrigin:b,integrity:E,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ts.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Ts.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,b=u(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ts.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Ts.requestFormReset=function(f){r.d.r(f)},Ts.unstable_batchedUpdates=function(f,d){return f(d)},Ts.useFormState=function(f,d,g){return c.H.useFormState(f,d,g)},Ts.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ts.version="19.2.4",Ts}var Rb;function n4(){if(Rb)return c0.exports;Rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),c0.exports=k6(),c0.exports}var Lb;function D6(){if(Lb)return dd;Lb=1;var n=L6(),e=ry(),t=n4();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var y=l.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===l)return f(y),i;if(w===h)return f(y),a;w=w.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=w;else{for(var I=!1,$=y.child;$;){if($===l){I=!0,l=y,h=w;break}if($===h){I=!0,h=y,l=w;break}$=$.sibling}if(!I){for($=w.child;$;){if($===l){I=!0,l=w,h=y;break}if($===h){I=!0,h=w,l=y;break}$=$.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function he(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case j:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case fe:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case oe:return i.displayName||"Context";case ne:return(i._context.displayName||"Context")+".Consumer";case H:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return a=i.displayName||null,a!==null?a:he(i.type)||"Memo";case k:a=i._payload,i=i._init;try{return he(i(a))}catch{}}return null}var Ae=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ce=[],be=-1;function X(i){return{current:i}}function P(i){0>be||(i.current=Ce[be],Ce[be]=null,be--)}function z(i,a){be++,Ce[be]=i.current,i.current=a}var K=X(null),ie=X(null),de=X(null),ye=X(null);function Ee(i,a){switch(z(de,a),z(ie,i),z(K,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Y5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Y5(a),i=W5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}P(K),z(K,i)}function Le(){P(K),P(ie),P(de)}function Ue(i){i.memoizedState!==null&&z(ye,i);var a=K.current,l=W5(a,i.type);a!==l&&(z(ie,i),z(K,l))}function et(i){ie.current===i&&(P(K),P(ie)),ye.current===i&&(P(ye),ld._currentValue=ue)}var ot,ct;function vt(i){if(ot===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ot=a&&a[1]||"",ct=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+ct}var re=!1;function lt(i,a){if(!i||re)return"";re=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(Fe){var je=Fe}Reflect.construct(i,[],Je)}else{try{Je.call()}catch(Fe){je=Fe}i.call(Je.prototype)}}else{try{throw Error()}catch(Fe){je=Fe}(Je=i())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(Fe){if(Fe&&je&&typeof Fe.stack=="string")return[Fe.stack,je.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),I=w[0],$=w[1];if(I&&$){var me=I.split(`
`),Oe=$.split(`
`);for(y=h=0;h<me.length&&!me[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Oe.length&&!Oe[y].includes("DetermineComponentFrameRoot");)y++;if(h===me.length||y===Oe.length)for(h=me.length-1,y=Oe.length-1;1<=h&&0<=y&&me[h]!==Oe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(me[h]!==Oe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||me[h]!==Oe[y]){var Ye=`
`+me[h].replace(" at new "," at ");return i.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",i.displayName)),Ye}while(1<=h&&0<=y);break}}}finally{re=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?vt(l):""}function $t(i,a){switch(i.tag){case 26:case 27:case 5:return vt(i.type);case 16:return vt("Lazy");case 13:return i.child!==a&&a!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return lt(i.type,!1);case 11:return lt(i.type.render,!1);case 1:return lt(i.type,!0);case 31:return vt("Activity");default:return""}}function Mt(i){try{var a="",l=null;do a+=$t(i,l),l=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Be=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,se=n.unstable_cancelCallback,ge=n.unstable_shouldYield,Se=n.unstable_requestPaint,Ke=n.unstable_now,He=n.unstable_getCurrentPriorityLevel,Ve=n.unstable_ImmediatePriority,it=n.unstable_UserBlockingPriority,ft=n.unstable_NormalPriority,st=n.unstable_LowPriority,bt=n.unstable_IdlePriority,gt=n.log,fn=n.unstable_setDisableYieldValue,Zt=null,Pt=null;function Ft(i){if(typeof gt=="function"&&fn(i),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Zt,i)}catch{}}var Qt=Math.clz32?Math.clz32:Et,Ot=Math.log,yn=Math.LN2;function Et(i){return i>>>=0,i===0?32:31-(Ot(i)/yn|0)|0}var zt=256,jn=262144,jt=4194304;function Ct(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ut(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,w=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var $=h&134217727;return $!==0?(h=$&~w,h!==0?y=Ct(h):(I&=$,I!==0?y=Ct(I):l||(l=$&~i,l!==0&&(y=Ct(l))))):($=h&~w,$!==0?y=Ct($):I!==0?y=Ct(I):l||(l=h&~i,l!==0&&(y=Ct(l)))),y===0?0:a!==0&&a!==y&&(a&w)===0&&(w=y&-y,l=a&-a,w>=l||w===32&&(l&4194048)!==0)?a:y}function _n(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function An(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Sr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function pt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Er(i,a,l,h,y,w){var I=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var $=i.entanglements,me=i.expirationTimes,Oe=i.hiddenUpdates;for(l=I&~l;0<l;){var Ye=31-Qt(l),Je=1<<Ye;$[Ye]=0,me[Ye]=-1;var je=Oe[Ye];if(je!==null)for(Oe[Ye]=null,Ye=0;Ye<je.length;Ye++){var Fe=je[Ye];Fe!==null&&(Fe.lane&=-536870913)}l&=~Je}h!==0&&Zr(i,h,0),w!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=w&~(I&~a))}function Zr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Qt(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Zn(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-Qt(l),y=1<<h;y&a|i[h]&a&&(i[h]|=a),l&=~y}}function er(i,a){var l=a&-a;return l=(l&42)!==0?1:zn(l),(l&(i.suspendedLanes|a))!==0?0:l}function zn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Tn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Hr(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:gb(i.type))}function Ri(i,a){var l=pe.p;try{return pe.p=i,a()}finally{pe.p=l}}var vi=Math.random().toString(36).slice(2),Gn="__reactFiber$"+vi,rr="__reactProps$"+vi,ei="__reactContainer$"+vi,Hi="__reactEvents$"+vi,_s="__reactListeners$"+vi,Fa="__reactHandles$"+vi,js="__reactResources$"+vi,Gi="__reactMarker$"+vi;function wa(i){delete i[Gn],delete i[rr],delete i[Hi],delete i[_s],delete i[Fa]}function ss(i){var a=i[Gn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[ei]||l[Gn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=eb(i);i!==null;){if(l=i[Gn])return l;i=eb(i)}return a}i=l,l=i.parentNode}return null}function Li(i){if(i=i[Gn]||i[ei]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function as(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ws(i){var a=i[js];return a||(a=i[js]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ir(i){i[Gi]=!0}var Bo=new Set,Yi={};function xs(i,a){Vs(i,a),Vs(i+"Capture",a)}function Vs(i,a){for(Yi[i]=a,i=0;i<a.length;i++)Bo.add(a[i])}var lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},qo={};function wl(i){return Be.call(qo,i)?!0:Be.call(zo,i)?!1:lo.test(i)?qo[i]=!0:(zo[i]=!0,!1)}function os(i,a,l){if(wl(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function bi(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function jr(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xa(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function As(i,a,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(I){l=""+I,w.call(this,I)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Cn(i){if(!i._valueTracker){var a=xa(i)?"checked":"value";i._valueTracker=As(i,a,""+i[a])}}function Ua(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=xa(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function Gr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vr=/[\n"\\]/g;function Vr(i){return i.replace(vr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function co(i,a,l,h,y,w,I,$){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),a!=null?I==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+vn(a)):i.value!==""+vn(a)&&(i.value=""+vn(a)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),a!=null?xl(i,I,vn(a)):l!=null?xl(i,I,vn(l)):h!=null&&i.removeAttribute("value"),y==null&&w!=null&&(i.defaultChecked=!!w),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+vn($):i.removeAttribute("name")}function cc(i,a,l,h,y,w,I,$){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){Cn(i);return}l=l!=null?""+vn(l):"",a=a!=null?""+vn(a):l,$||a===i.value||(i.value=a),i.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=$?i.checked:!!h,i.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),Cn(i)}function xl(i,a,l){a==="number"&&Gr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ki(i,a,l,h){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+vn(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function Al(i,a,l){if(a!=null&&(a=""+vn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+vn(l):""}function Aa(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ae(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=vn(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Cn(i)}function ci(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||Ba.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function El(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&l[y]!==h&&Sl(i,y,h)}else for(var w in a)a.hasOwnProperty(w)&&Sl(i,w,a[w])}function Ho(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(i){return Sa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Fs(){}var Ea=null;function Ki(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var za=null,qt=null;function uo(i){var a=Li(i);if(a&&(i=a.stateNode)){var l=i[rr]||null;e:switch(i=a.stateNode,a.type){case"input":if(co(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Vr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var y=h[rr]||null;if(!y)throw Error(r(90));co(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&Ua(h)}break e;case"textarea":Al(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ki(i,!!l.multiple,a,!1)}}}var Yo=!1;function qa(i,a,l){if(Yo)return i(a,l);Yo=!0;try{var h=i(a);return h}finally{if(Yo=!1,(za!==null||qt!==null)&&(Pp(),za&&(a=za,i=qt,qt=za=null,uo(a),i)))for(a=0;a<i.length;a++)uo(i[a])}}function ui(i,a){var l=i.stateNode;if(l===null)return null;var h=l[rr]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(ti)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{ho=!1}var ls=null,fo=null,Us=null;function Nl(){if(Us)return Us;var i,a=fo,l=a.length,h,y="value"in ls?ls.value:ls.textContent,w=y.length;for(i=0;i<l&&a[i]===y[i];i++);var I=l-i;for(h=1;h<=I&&a[l-h]===y[w-h];h++);return Us=y.slice(i,1<h?1-h:void 0)}function cs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Na(){return!0}function us(){return!1}function Yr(i){function a(l,h,y,w,I){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(l=i[$],this[$]=l?l(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Na:us,this.isPropagationStopped=us,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),a}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Yr($s),Xs=b({},$s,{view:0,detail:0}),Ha=Yr(Xs),Qs,Js,Ss,po=b({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ss&&(Ss&&i.type==="mousemove"?(Qs=i.screenX-Ss.screenX,Js=i.screenY-Ss.screenY):Js=Qs=0,Ss=i),Qs)},movementY:function(i){return"movementY"in i?i.movementY:Js}}),Wo=Yr(po),hs=b({},po,{dataTransfer:0}),Zs=Yr(hs),Tl=b({},Xs,{relatedTarget:0}),Bs=Yr(Tl),Ko=b({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Yr(Ko),F=b({},$s,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),le=Yr(F),ve=b({},$s,{data:0}),Ne=Yr(ve),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function It(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=xt[i])?!!a[i]:!1}function Yt(){return It}var Ut=b({},Xs,{key:function(i){if(i.key){var a=Ge[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=cs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yt,charCode:function(i){return i.type==="keypress"?cs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?cs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wn=Yr(Ut),ur=b({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tr=Yr(ur),m=b({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yt}),N=Yr(m),O=b({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Yr(O),Ie=b({},po,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Yr(Ie),at=b({},$s,{newState:0,oldState:0}),nn=Yr(at),hr=[9,13,27,32],mn=ti&&"CompositionEvent"in window,Wn=null;ti&&"documentMode"in document&&(Wn=document.documentMode);var wi=ti&&"TextEvent"in window&&!Wn,Di=ti&&(!mn||Wn&&8<Wn&&11>=Wn),ir=" ",Pi=!1;function zs(i,a){switch(i){case"keyup":return hr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ya=!1;function fs(i,a){switch(i){case"compositionend":return Ga(a);case"keypress":return a.which!==32?null:(Pi=!0,ir);case"textInput":return i=a.data,i===ir&&Pi?null:i;default:return null}}function mo(i,a){if(Ya)return i==="compositionend"||!mn&&zs(i,a)?(i=Nl(),Us=fo=ls=null,Ya=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Di&&a.locale!=="ko"?null:a.data;default:return null}}var uc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!uc[i.type]:a==="textarea"}function qs(i,a,l,h){za?qt?qt.push(h):qt=[h]:za=h,a=Bp(a,"onChange"),0<a.length&&(l=new _i("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var Ta=null,go=null;function gu(i){U5(i,0)}function Ca(i){var a=as(i);if(Ua(a))return i}function $o(i,a){if(i==="change")return a}var Es=!1;if(ti){var ds;if(ti){var Wa="oninput"in document;if(!Wa){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Wa=typeof Ka.oninput=="function"}ds=Wa}else ds=!1;Es=ds&&(!document.documentMode||9<document.documentMode)}function yo(){Ta&&(Ta.detachEvent("onpropertychange",hc),go=Ta=null)}function hc(i){if(i.propertyName==="value"&&Ca(go)){var a=[];qs(a,go,i,Ki(i)),qa(gu,a)}}function fc(i,a,l){i==="focusin"?(yo(),Ta=a,go=l,Ta.attachEvent("onpropertychange",hc)):i==="focusout"&&yo()}function Wr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ca(go)}function th(i,a){if(i==="click")return Ca(a)}function $a(i,a){if(i==="input"||i==="change")return Ca(a)}function Xa(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Oi=typeof Object.is=="function"?Object.is:Xa;function vo(i,a){if(Oi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!Be.call(a,y)||!Oi(i[y],a[y]))return!1}return!0}function dc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pc(i,a){var l=dc(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dc(l)}}function bo(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?bo(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function _o(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Gr(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Gr(i.document)}return a}function Qa(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Cl=ti&&"documentMode"in document&&11>=document.documentMode,Hs=null,wo=null,$i=null,ea=!1;function qn(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ea||Hs==null||Hs!==Gr(h)||(h=Hs,"selectionStart"in h&&Qa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$i&&vo($i,h)||($i=h,h=Bp(wo,"onSelect"),0<h.length&&(a=new _i("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Hs)))}function Pn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var fr={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},Kr={},Ja={};ti&&(Ja=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Ia(i){if(Kr[i])return Kr[i];if(!fr[i])return i;var a=fr[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ja)return Kr[i]=a[l];return i}var Il=Ia("animationend"),yu=Ia("animationiteration"),Lf=Ia("animationstart"),up=Ia("transitionrun"),hp=Ia("transitionstart"),fp=Ia("transitioncancel"),kf=Ia("transitionend"),Df=new Map,Rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rl.push("scrollEnd");function ta(i,a){Df.set(i,a),xs(a,[i])}var vu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Gs=[],Ll=0,nh=0;function bu(){for(var i=Ll,a=nh=Ll=0;a<i;){var l=Gs[a];Gs[a++]=null;var h=Gs[a];Gs[a++]=null;var y=Gs[a];Gs[a++]=null;var w=Gs[a];if(Gs[a++]=null,h!==null&&y!==null){var I=h.pending;I===null?y.next=y:(y.next=I.next,I.next=y),h.pending=y}w!==0&&wu(l,y,w)}}function _u(i,a,l,h){Gs[Ll++]=i,Gs[Ll++]=a,Gs[Ll++]=l,Gs[Ll++]=h,nh|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function rh(i,a,l,h){return _u(i,a,l,h),Xi(i)}function xo(i,a){return _u(i,null,null,a),Xi(i)}function wu(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,w=i.return;w!==null;)w.childLanes|=l,h=w.alternate,h!==null&&(h.childLanes|=l),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(y=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,y&&a!==null&&(y=31-Qt(l),i=w.hiddenUpdates,h=i[y],h===null?i[y]=[a]:h.push(a),a.lane=l|536870912),w):null}function Xi(i){if(50<td)throw td=0,C1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Mi={};function ih(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(i,a,l,h){return new ih(i,a,l,h)}function sh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function na(i,a){var l=i.alternate;return l===null?(l=Qi(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function xu(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function mc(i,a,l,h,y,w){var I=0;if(h=i,typeof i=="function")sh(i)&&(I=1);else if(typeof i=="string")I=m6(i,l,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Qi(31,l,a,y),i.elementType=D,i.lanes=w,i;case V:return Xo(l.children,y,w,a);case U:I=8,y|=24;break;case j:return i=Qi(12,l,a,y|2),i.elementType=j,i.lanes=w,i;case ee:return i=Qi(13,l,a,y),i.elementType=ee,i.lanes=w,i;case fe:return i=Qi(19,l,a,y),i.elementType=fe,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case oe:I=10;break e;case ne:I=9;break e;case H:I=11;break e;case q:I=14;break e;case k:I=16,h=null;break e}I=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Qi(I,l,a,y),a.elementType=i,a.type=h,a.lanes=w,a}function Xo(i,a,l,h){return i=Qi(7,i,h,a),i.lanes=l,i}function Au(i,a,l){return i=Qi(6,i,null,a),i.lanes=l,i}function ah(i){var a=Qi(18,null,null,0);return a.stateNode=i,a}function gc(i,a,l){return a=Qi(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var oh=new WeakMap;function ra(i,a){if(typeof i=="object"&&i!==null){var l=oh.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Mt(a)},oh.set(i,a),a)}return{value:i,source:a,stack:Mt(a)}}var yc=[],kl=0,lh=null,Su=0,ia=[],sa=0,Qo=null,aa=1,oa="";function Ys(i,a){yc[kl++]=Su,yc[kl++]=lh,lh=i,Su=a}function dp(i,a,l){ia[sa++]=aa,ia[sa++]=oa,ia[sa++]=Qo,Qo=i;var h=aa;i=oa;var y=32-Qt(h)-1;h&=~(1<<y),l+=1;var w=32-Qt(a)+y;if(30<w){var I=y-y%5;w=(h&(1<<I)-1).toString(32),h>>=I,y-=I,aa=1<<32-Qt(a)+y|l<<y|h,oa=w+i}else aa=1<<w|l<<y|h,oa=i}function Pf(i){i.return!==null&&(Ys(i,1),dp(i,1,0))}function ch(i){for(;i===lh;)lh=yc[--kl],yc[kl]=null,Su=yc[--kl],yc[kl]=null;for(;i===Qo;)Qo=ia[--sa],ia[sa]=null,oa=ia[--sa],ia[sa]=null,aa=ia[--sa],ia[sa]=null}function pp(i,a){ia[sa++]=aa,ia[sa++]=oa,ia[sa++]=Qo,aa=a.id,oa=a.overflow,Qo=i}var ji=null,br=null,Sn=!1,ps=null,Fr=!1,Ra=Error(r(519));function Jo(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(ra(a,i)),Ra}function Of(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[Gn]=i,a[rr]=h,l){case"dialog":Nn("cancel",a),Nn("close",a);break;case"iframe":case"object":case"embed":Nn("load",a);break;case"video":case"audio":for(l=0;l<rd.length;l++)Nn(rd[l],a);break;case"source":Nn("error",a);break;case"img":case"image":case"link":Nn("error",a),Nn("load",a);break;case"details":Nn("toggle",a);break;case"input":Nn("invalid",a),cc(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Nn("invalid",a);break;case"textarea":Nn("invalid",a),Aa(a,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||H5(a.textContent,l)?(h.popover!=null&&(Nn("beforetoggle",a),Nn("toggle",a)),h.onScroll!=null&&Nn("scroll",a),h.onScrollEnd!=null&&Nn("scrollend",a),h.onClick!=null&&(a.onclick=Fs),a=!0):a=!1,a||Jo(i,!0)}function Ao(i){for(ji=i.return;ji;)switch(ji.tag){case 5:case 31:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:ji=ji.return}}function Vi(i){if(i!==ji)return!1;if(!Sn)return Ao(i),Sn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||q1(i.type,i.memoizedProps)),l=!l),l&&br&&Jo(i),Ao(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));br=Z5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));br=Z5(i)}else a===27?(a=br,kc(i.type)?(i=K1,K1=null,br=i):br=a):br=ji?no(i.stateNode.nextSibling):null;return!0}function Dl(){br=ji=null,Sn=!1}function Mf(){var i=ps;return i!==null&&(da===null?da=i:da.push.apply(da,i),ps=null),i}function vc(i){ps===null?ps=[i]:ps.push(i)}var uh=X(null),Zo=null,Za=null;function el(i,a,l){z(uh,a._currentValue),a._currentValue=l}function la(i){i._currentValue=uh.current,P(uh)}function bc(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function Pl(i,a,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var w=y.dependencies;if(w!==null){var I=y.child;w=w.firstContext;e:for(;w!==null;){var $=w;w=y;for(var me=0;me<a.length;me++)if($.context===a[me]){w.lanes|=l,$=w.alternate,$!==null&&($.lanes|=l),bc(w.return,l,i),h||(I=null);break e}w=$.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=l,w=I.alternate,w!==null&&(w.lanes|=l),bc(I,l,i),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===i){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function tl(i,a,l,h){i=null;for(var y=a,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var $=y.type;Oi(y.pendingProps.value,I.value)||(i!==null?i.push($):i=[$])}}else if(y===ye.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(ld):i=[ld])}y=y.return}i!==null&&Pl(a,i,l,h),a.flags|=262144}function hh(i){for(i=i.firstContext;i!==null;){if(!Oi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function nl(i){Zo=i,Za=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fi(i){return mp(Zo,i)}function fh(i,a){return Zo===null&&nl(i),mp(i,a)}function mp(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Za===null){if(i===null)throw Error(r(308));Za=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Za=Za.next=a;return l}var Wg=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},Kg=n.unstable_scheduleCallback,$g=n.unstable_NormalPriority,$r={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new Wg,data:new Map,refCount:0}}function Eu(i){i.refCount--,i.refCount===0&&Kg($g,function(){i.controller.abort()})}var Nu=null,dh=0,p=0,v=null;function S(i,a){if(Nu===null){var l=Nu=[];dh=0,p=P1(),v={status:"pending",value:void 0,then:function(h){l.push(h)}}}return dh++,a.then(C,C),a}function C(){if(--dh===0&&Nu!==null){v!==null&&(v.status="fulfilled");var i=Nu;Nu=null,p=0,v=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function B(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var G=te.S;te.S=function(i,a){p5=Ke(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&S(i,a),G!==null&&G(i,a)};var W=X(null);function Q(){var i=W.current;return i!==null?i:wr.pooledCache}function Z(i,a){a===null?z(W,W.current):z(W,a.pool)}function ce(){var i=Q();return i===null?null:{parent:$r._currentValue,pool:i}}var _e=Error(r(460)),De=Error(r(474)),ae=Error(r(542)),xe={then:function(){}};function Re(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qe(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Fs,Fs),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,rt(i),i;default:if(typeof a.status=="string")a.then(Fs,Fs);else{if(i=wr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,rt(i),i}throw ze=a,_e}}function ke(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ze=l,_e):l}}var ze=null;function We(){if(ze===null)throw Error(r(459));var i=ze;return ze=null,i}function rt(i){if(i===_e||i===ae)throw Error(r(483))}var Ze=null,Rt=0;function _t(i){var a=Rt;return Rt+=1,Ze===null&&(Ze=[]),qe(Ze,i,a)}function rn(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Nt(i,a){throw a.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function xn(i){function a(Te,we){if(i){var Pe=Te.deletions;Pe===null?(Te.deletions=[we],Te.flags|=16):Pe.push(we)}}function l(Te,we){if(!i)return null;for(;we!==null;)a(Te,we),we=we.sibling;return null}function h(Te){for(var we=new Map;Te!==null;)Te.key!==null?we.set(Te.key,Te):we.set(Te.index,Te),Te=Te.sibling;return we}function y(Te,we){return Te=na(Te,we),Te.index=0,Te.sibling=null,Te}function w(Te,we,Pe){return Te.index=Pe,i?(Pe=Te.alternate,Pe!==null?(Pe=Pe.index,Pe<we?(Te.flags|=67108866,we):Pe):(Te.flags|=67108866,we)):(Te.flags|=1048576,we)}function I(Te){return i&&Te.alternate===null&&(Te.flags|=67108866),Te}function $(Te,we,Pe,$e){return we===null||we.tag!==6?(we=Au(Pe,Te.mode,$e),we.return=Te,we):(we=y(we,Pe),we.return=Te,we)}function me(Te,we,Pe,$e){var Kt=Pe.type;return Kt===V?Ye(Te,we,Pe.props.children,$e,Pe.key):we!==null&&(we.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===k&&ke(Kt)===we.type)?(we=y(we,Pe.props),rn(we,Pe),we.return=Te,we):(we=mc(Pe.type,Pe.key,Pe.props,null,Te.mode,$e),rn(we,Pe),we.return=Te,we)}function Oe(Te,we,Pe,$e){return we===null||we.tag!==4||we.stateNode.containerInfo!==Pe.containerInfo||we.stateNode.implementation!==Pe.implementation?(we=gc(Pe,Te.mode,$e),we.return=Te,we):(we=y(we,Pe.children||[]),we.return=Te,we)}function Ye(Te,we,Pe,$e,Kt){return we===null||we.tag!==7?(we=Xo(Pe,Te.mode,$e,Kt),we.return=Te,we):(we=y(we,Pe),we.return=Te,we)}function Je(Te,we,Pe){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Au(""+we,Te.mode,Pe),we.return=Te,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return Pe=mc(we.type,we.key,we.props,null,Te.mode,Pe),rn(Pe,we),Pe.return=Te,Pe;case M:return we=gc(we,Te.mode,Pe),we.return=Te,we;case k:return we=ke(we),Je(Te,we,Pe)}if(Ae(we)||R(we))return we=Xo(we,Te.mode,Pe,null),we.return=Te,we;if(typeof we.then=="function")return Je(Te,_t(we),Pe);if(we.$$typeof===oe)return Je(Te,fh(Te,we),Pe);Nt(Te,we)}return null}function je(Te,we,Pe,$e){var Kt=we!==null?we.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Kt!==null?null:$(Te,we,""+Pe,$e);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case _:return Pe.key===Kt?me(Te,we,Pe,$e):null;case M:return Pe.key===Kt?Oe(Te,we,Pe,$e):null;case k:return Pe=ke(Pe),je(Te,we,Pe,$e)}if(Ae(Pe)||R(Pe))return Kt!==null?null:Ye(Te,we,Pe,$e,null);if(typeof Pe.then=="function")return je(Te,we,_t(Pe),$e);if(Pe.$$typeof===oe)return je(Te,we,fh(Te,Pe),$e);Nt(Te,Pe)}return null}function Fe(Te,we,Pe,$e,Kt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Te=Te.get(Pe)||null,$(we,Te,""+$e,Kt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case _:return Te=Te.get($e.key===null?Pe:$e.key)||null,me(we,Te,$e,Kt);case M:return Te=Te.get($e.key===null?Pe:$e.key)||null,Oe(we,Te,$e,Kt);case k:return $e=ke($e),Fe(Te,we,Pe,$e,Kt)}if(Ae($e)||R($e))return Te=Te.get(Pe)||null,Ye(we,Te,$e,Kt,null);if(typeof $e.then=="function")return Fe(Te,we,Pe,_t($e),Kt);if($e.$$typeof===oe)return Fe(Te,we,Pe,fh(we,$e),Kt);Nt(we,$e)}return null}function Tt(Te,we,Pe,$e){for(var Kt=null,Kn=null,Vt=we,dn=we=0,Rn=null;Vt!==null&&dn<Pe.length;dn++){Vt.index>dn?(Rn=Vt,Vt=null):Rn=Vt.sibling;var $n=je(Te,Vt,Pe[dn],$e);if($n===null){Vt===null&&(Vt=Rn);break}i&&Vt&&$n.alternate===null&&a(Te,Vt),we=w($n,we,dn),Kn===null?Kt=$n:Kn.sibling=$n,Kn=$n,Vt=Rn}if(dn===Pe.length)return l(Te,Vt),Sn&&Ys(Te,dn),Kt;if(Vt===null){for(;dn<Pe.length;dn++)Vt=Je(Te,Pe[dn],$e),Vt!==null&&(we=w(Vt,we,dn),Kn===null?Kt=Vt:Kn.sibling=Vt,Kn=Vt);return Sn&&Ys(Te,dn),Kt}for(Vt=h(Vt);dn<Pe.length;dn++)Rn=Fe(Vt,Te,dn,Pe[dn],$e),Rn!==null&&(i&&Rn.alternate!==null&&Vt.delete(Rn.key===null?dn:Rn.key),we=w(Rn,we,dn),Kn===null?Kt=Rn:Kn.sibling=Rn,Kn=Rn);return i&&Vt.forEach(function(jc){return a(Te,jc)}),Sn&&Ys(Te,dn),Kt}function Jt(Te,we,Pe,$e){if(Pe==null)throw Error(r(151));for(var Kt=null,Kn=null,Vt=we,dn=we=0,Rn=null,$n=Pe.next();Vt!==null&&!$n.done;dn++,$n=Pe.next()){Vt.index>dn?(Rn=Vt,Vt=null):Rn=Vt.sibling;var jc=je(Te,Vt,$n.value,$e);if(jc===null){Vt===null&&(Vt=Rn);break}i&&Vt&&jc.alternate===null&&a(Te,Vt),we=w(jc,we,dn),Kn===null?Kt=jc:Kn.sibling=jc,Kn=jc,Vt=Rn}if($n.done)return l(Te,Vt),Sn&&Ys(Te,dn),Kt;if(Vt===null){for(;!$n.done;dn++,$n=Pe.next())$n=Je(Te,$n.value,$e),$n!==null&&(we=w($n,we,dn),Kn===null?Kt=$n:Kn.sibling=$n,Kn=$n);return Sn&&Ys(Te,dn),Kt}for(Vt=h(Vt);!$n.done;dn++,$n=Pe.next())$n=Fe(Vt,Te,dn,$n.value,$e),$n!==null&&(i&&$n.alternate!==null&&Vt.delete($n.key===null?dn:$n.key),we=w($n,we,dn),Kn===null?Kt=$n:Kn.sibling=$n,Kn=$n);return i&&Vt.forEach(function(N6){return a(Te,N6)}),Sn&&Ys(Te,dn),Kt}function gr(Te,we,Pe,$e){if(typeof Pe=="object"&&Pe!==null&&Pe.type===V&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case _:e:{for(var Kt=Pe.key;we!==null;){if(we.key===Kt){if(Kt=Pe.type,Kt===V){if(we.tag===7){l(Te,we.sibling),$e=y(we,Pe.props.children),$e.return=Te,Te=$e;break e}}else if(we.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===k&&ke(Kt)===we.type){l(Te,we.sibling),$e=y(we,Pe.props),rn($e,Pe),$e.return=Te,Te=$e;break e}l(Te,we);break}else a(Te,we);we=we.sibling}Pe.type===V?($e=Xo(Pe.props.children,Te.mode,$e,Pe.key),$e.return=Te,Te=$e):($e=mc(Pe.type,Pe.key,Pe.props,null,Te.mode,$e),rn($e,Pe),$e.return=Te,Te=$e)}return I(Te);case M:e:{for(Kt=Pe.key;we!==null;){if(we.key===Kt)if(we.tag===4&&we.stateNode.containerInfo===Pe.containerInfo&&we.stateNode.implementation===Pe.implementation){l(Te,we.sibling),$e=y(we,Pe.children||[]),$e.return=Te,Te=$e;break e}else{l(Te,we);break}else a(Te,we);we=we.sibling}$e=gc(Pe,Te.mode,$e),$e.return=Te,Te=$e}return I(Te);case k:return Pe=ke(Pe),gr(Te,we,Pe,$e)}if(Ae(Pe))return Tt(Te,we,Pe,$e);if(R(Pe)){if(Kt=R(Pe),typeof Kt!="function")throw Error(r(150));return Pe=Kt.call(Pe),Jt(Te,we,Pe,$e)}if(typeof Pe.then=="function")return gr(Te,we,_t(Pe),$e);if(Pe.$$typeof===oe)return gr(Te,we,fh(Te,Pe),$e);Nt(Te,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,we!==null&&we.tag===6?(l(Te,we.sibling),$e=y(we,Pe),$e.return=Te,Te=$e):(l(Te,we),$e=Au(Pe,Te.mode,$e),$e.return=Te,Te=$e),I(Te)):l(Te,we)}return function(Te,we,Pe,$e){try{Rt=0;var Kt=gr(Te,we,Pe,$e);return Ze=null,Kt}catch(Vt){if(Vt===_e||Vt===ae)throw Vt;var Kn=Qi(29,Vt,null,Te.mode);return Kn.lanes=$e,Kn.return=Te,Kn}}}var _r=xn(!0),on=xn(!1),wt=!1;function ht(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rr(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Xt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hn(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Jn&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=Xi(i),wu(i,null,l),a}return _u(i,h,a,l),Xi(i)}function Xn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Zn(i,l)}}function hi(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?y=w=I:w=w.next=I,l=l.next}while(l!==null);w===null?y=w=a:w=w.next=a}else y=w=a;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ui=!1;function dr(){if(Ui){var i=v;if(i!==null)throw i}}function ni(i,a,l,h){Ui=!1;var y=i.updateQueue;wt=!1;var w=y.firstBaseUpdate,I=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var me=$,Oe=me.next;me.next=null,I===null?w=Oe:I.next=Oe,I=me;var Ye=i.alternate;Ye!==null&&(Ye=Ye.updateQueue,$=Ye.lastBaseUpdate,$!==I&&($===null?Ye.firstBaseUpdate=Oe:$.next=Oe,Ye.lastBaseUpdate=me))}if(w!==null){var Je=y.baseState;I=0,Ye=Oe=me=null,$=w;do{var je=$.lane&-536870913,Fe=je!==$.lane;if(Fe?(In&je)===je:(h&je)===je){je!==0&&je===p&&(Ui=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Tt=i,Jt=$;je=a;var gr=l;switch(Jt.tag){case 1:if(Tt=Jt.payload,typeof Tt=="function"){Je=Tt.call(gr,Je,je);break e}Je=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Jt.payload,je=typeof Tt=="function"?Tt.call(gr,Je,je):Tt,je==null)break e;Je=b({},Je,je);break e;case 2:wt=!0}}je=$.callback,je!==null&&(i.flags|=64,Fe&&(i.flags|=8192),Fe=y.callbacks,Fe===null?y.callbacks=[je]:Fe.push(je))}else Fe={lane:je,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ye===null?(Oe=Ye=Fe,me=Je):Ye=Ye.next=Fe,I|=je;if($=$.next,$===null){if($=y.shared.pending,$===null)break;Fe=$,$=Fe.next,Fe.next=null,y.lastBaseUpdate=Fe,y.shared.pending=null}}while(!0);Ye===null&&(me=Je),y.baseState=me,y.firstBaseUpdate=Oe,y.lastBaseUpdate=Ye,w===null&&(y.shared.lanes=0),Tc|=I,i.lanes=I,i.memoizedState=Je}}function Ji(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function ri(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Ji(l[i],a)}var gn=X(null),Vn=X(0);function Lr(i,a){i=Hl,z(Vn,i),z(gn,a),Hl=i|a.baseLanes}function Hn(){z(Vn,Hl),z(gn,gn.current)}function fi(){Hl=Vn.current,P(gn),P(Vn)}var kr=X(null),Fn=null;function Xr(i){var a=i.alternate;z(On,On.current&1),z(kr,i),Fn===null&&(a===null||gn.current!==null||a.memoizedState!==null)&&(Fn=i)}function Qn(i){z(On,On.current),z(kr,i),Fn===null&&(Fn=i)}function ii(i){i.tag===22?(z(On,On.current),z(kr,i),Fn===null&&(Fn=i)):si()}function si(){z(On,On.current),z(kr,kr.current)}function sr(i){P(kr),Fn===i&&(Fn=null),P(On)}var On=X(0);function Zi(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Y1(l)||W1(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ur=0,Ht=null,Wt=null,Un=null,Ns=!1,ca=!1,ms=!1,ai=0,rl=0,il=null,ph=0;function pr(){throw Error(r(321))}function jf(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Oi(i[l],a[l]))return!1;return!0}function Vf(i,a,l,h,y,w){return Ur=w,Ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,te.H=i===null||i.memoizedState===null?Ev:r1,ms=!1,w=l(h,y),ms=!1,ca&&(w=So(a,l,h,y)),mh(i),w}function mh(i){te.H=Yf;var a=Wt!==null&&Wt.next!==null;if(Ur=0,Un=Wt=Ht=null,Ns=!1,rl=0,il=null,a)throw Error(r(300));i===null||Ai||(i=i.dependencies,i!==null&&hh(i)&&(Ai=!0))}function So(i,a,l,h){Ht=i;var y=0;do{if(ca&&(il=null),rl=0,ca=!1,25<=y)throw Error(r(301));if(y+=1,Un=Wt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}te.H=Nv,w=a(l,h)}while(ca);return w}function Xg(){var i=te.H,a=i.useState()[0];return a=typeof a.then=="function"?sl(a):a,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ht.flags|=1024),a}function Ff(){var i=ai!==0;return ai=0,i}function Uf(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function gh(i){if(Ns){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Ns=!1}Ur=0,Un=Wt=Ht=null,ca=!1,rl=ai=0,il=null}function xi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Ht.memoizedState=Un=i:Un=Un.next=i,Un}function Br(){if(Wt===null){var i=Ht.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var a=Un===null?Ht.memoizedState:Un.next;if(a!==null)Un=a,Wt=i;else{if(i===null)throw Ht.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Un===null?Ht.memoizedState=Un=i:Un=Un.next=i}return Un}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(i){var a=rl;return rl+=1,il===null&&(il=[]),i=qe(il,i,a),a=Ht,(Un===null?a.memoizedState:Un.next)===null&&(a=a.alternate,te.H=a===null||a.memoizedState===null?Ev:r1),i}function wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return sl(i);if(i.$$typeof===oe)return Fi(i)}throw Error(r(438,String(i)))}function Ol(i){var a=null,l=Ht.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Ht.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Tu(),Ht.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=Y;return a.index++,l}function eo(i,a){return typeof a=="function"?a(i):a}function yh(i){var a=Br();return xc(a,Wt,i)}function xc(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,w=h.pending;if(w!==null){if(y!==null){var I=y.next;y.next=w.next,w.next=I}a.baseQueue=y=w,h.pending=null}if(w=i.baseState,y===null)i.memoizedState=w;else{a=y.next;var $=I=null,me=null,Oe=a,Ye=!1;do{var Je=Oe.lane&-536870913;if(Je!==Oe.lane?(In&Je)===Je:(Ur&Je)===Je){var je=Oe.revertLane;if(je===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Je===p&&(Ye=!0);else if((Ur&je)===je){Oe=Oe.next,je===p&&(Ye=!0);continue}else Je={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},me===null?($=me=Je,I=w):me=me.next=Je,Ht.lanes|=je,Tc|=je;Je=Oe.action,ms&&l(w,Je),w=Oe.hasEagerState?Oe.eagerState:l(w,Je)}else je={lane:Je,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},me===null?($=me=je,I=w):me=me.next=je,Ht.lanes|=Je,Tc|=Je;Oe=Oe.next}while(Oe!==null&&Oe!==a);if(me===null?I=w:me.next=$,!Oi(w,i.memoizedState)&&(Ai=!0,Ye&&(l=v,l!==null)))throw l;i.memoizedState=w,i.baseState=I,i.baseQueue=me,h.lastRenderedState=w}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function vh(i){var a=Br(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,w=a.memoizedState;if(y!==null){l.pending=null;var I=y=y.next;do w=i(w,I.action),I=I.next;while(I!==y);Oi(w,a.memoizedState)||(Ai=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),l.lastRenderedState=w}return[w,h]}function bh(i,a,l){var h=Ht,y=Br(),w=Sn;if(w){if(l===void 0)throw Error(r(407));l=l()}else l=a();var I=!Oi((Wt||y).memoizedState,l);if(I&&(y.memoizedState=l,Ai=!0),y=y.queue,Qg(zf.bind(null,h,y,i),[i]),y.getSnapshot!==a||I||Un!==null&&Un.memoizedState.tag&1){if(h.flags|=2048,jl(9,{destroy:void 0},Bf.bind(null,h,y,l,a),null),wr===null)throw Error(r(349));w||(Ur&127)!==0||Eo(h,a,l)}return l}function Eo(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ht.updateQueue,a===null?(a=Tu(),Ht.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Bf(i,a,l,h){a.value=l,a.getSnapshot=h,gp(a)&&qf(i)}function zf(i,a,l){return l(function(){gp(a)&&qf(i)})}function gp(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Oi(i,l)}catch{return!0}}function qf(i){var a=xo(i,2);a!==null&&pa(a,i,2)}function al(i){var a=xi();if(typeof i=="function"){var l=i;if(i=l(),ms){Ft(!0);try{l()}finally{Ft(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:i},a}function yp(i,a,l,h){return i.baseState=l,xc(i,Wt,typeof h=="function"?h:eo)}function vp(i,a,l,h,y){if(xp(i))throw Error(r(485));if(i=a.action,i!==null){var w={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};te.T!==null?l(!0):w.isTransition=!1,h(w),l=a.pending,l===null?(w.next=a.pending=w,bp(a,w)):(w.next=l.next,a.pending=l.next=w)}}function bp(i,a){var l=a.action,h=a.payload,y=i.state;if(a.isTransition){var w=te.T,I={};te.T=I;try{var $=l(y,h),me=te.S;me!==null&&me(I,$),Hf(i,a,$)}catch(Oe){Ml(i,a,Oe)}finally{w!==null&&I.types!==null&&(w.types=I.types),te.T=w}}else try{w=l(y,h),Hf(i,a,w)}catch(Oe){Ml(i,a,Oe)}}function Hf(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){_p(i,a,h)},function(h){return Ml(i,a,h)}):_p(i,a,l)}function _p(i,a,l){a.status="fulfilled",a.value=l,_h(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,bp(i,l)))}function Ml(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,_h(a),a=a.next;while(a!==h)}i.action=null}function _h(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Cu(i,a){return a}function to(i,a){if(Sn){var l=wr.formState;if(l!==null){e:{var h=Ht;if(Sn){if(br){t:{for(var y=br,w=Fr;y.nodeType!==8;){if(!w){y=null;break t}if(y=no(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){br=no(y.nextSibling),h=y.data==="F!";break e}}Jo(h)}h=!1}h&&(a=l[0])}}return l=xi(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:a},l.queue=h,l=xv.bind(null,Ht,h),h.dispatch=l,h=al(!1),w=n1.bind(null,Ht,!1,h.queue),h=xi(),y={state:a,dispatch:null,action:i,pending:null},h.queue=y,l=vp.bind(null,Ht,y,w,l),y.dispatch=l,h.memoizedState=i,[a,l,!1]}function No(i){var a=Br();return To(a,Wt,i)}function To(i,a,l){if(a=xc(i,a,Cu)[0],i=yh(eo)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=sl(a)}catch(I){throw I===_e?ae:I}else h=a;a=Br();var y=a.queue,w=y.dispatch;return l!==a.memoizedState&&(Ht.flags|=2048,jl(9,{destroy:void 0},wh.bind(null,y,l),null)),[h,w,i]}function wh(i,a){i.action=a}function xh(i){var a=Br(),l=Wt;if(l!==null)return To(a,l,i);Br(),a=a.memoizedState,l=Br();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function jl(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=Ht.updateQueue,a===null&&(a=Tu(),Ht.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function wp(){return Br().memoizedState}function Ac(i,a,l,h){var y=xi();Ht.flags|=i,y.memoizedState=jl(1|a,{destroy:void 0},l,h===void 0?null:h)}function Sc(i,a,l,h){var y=Br();h=h===void 0?null:h;var w=y.memoizedState.inst;Wt!==null&&h!==null&&jf(h,Wt.memoizedState.deps)?y.memoizedState=jl(a,w,l,h):(Ht.flags|=i,y.memoizedState=jl(1|a,w,l,h))}function lv(i,a){Ac(8390656,8,i,a)}function Qg(i,a){Sc(2048,8,i,a)}function _E(i){Ht.flags|=4;var a=Ht.updateQueue;if(a===null)a=Tu(),Ht.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function cv(i){var a=Br().memoizedState;return _E({ref:a,nextImpl:i}),function(){if((Jn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function uv(i,a){return Sc(4,2,i,a)}function hv(i,a){return Sc(4,4,i,a)}function fv(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function dv(i,a,l){l=l!=null?l.concat([i]):null,Sc(4,4,fv.bind(null,a,i),l)}function Jg(){}function pv(i,a){var l=Br();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&jf(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function mv(i,a){var l=Br();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&jf(a,h[1]))return h[0];if(h=i(),ms){Ft(!0);try{i()}finally{Ft(!1)}}return l.memoizedState=[h,a],h}function Zg(i,a,l){return l===void 0||(Ur&1073741824)!==0&&(In&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=g5(),Ht.lanes|=i,Tc|=i,l)}function gv(i,a,l,h){return Oi(l,a)?l:gn.current!==null?(i=Zg(i,l,h),Oi(i,a)||(Ai=!0),i):(Ur&42)===0||(Ur&1073741824)!==0&&(In&261930)===0?(Ai=!0,i.memoizedState=l):(i=g5(),Ht.lanes|=i,Tc|=i,a)}function yv(i,a,l,h,y){var w=pe.p;pe.p=w!==0&&8>w?w:8;var I=te.T,$={};te.T=$,n1(i,!1,a,l);try{var me=y(),Oe=te.S;if(Oe!==null&&Oe($,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ye=B(me,h);Gf(i,a,Ye,Da(i))}else Gf(i,a,h,Da(i))}catch(Je){Gf(i,a,{then:function(){},status:"rejected",reason:Je},Da())}finally{pe.p=w,I!==null&&$.types!==null&&(I.types=$.types),te.T=I}}function wE(){}function e1(i,a,l,h){if(i.tag!==5)throw Error(r(476));var y=vv(i).queue;yv(i,y,a,ue,l===null?wE:function(){return bv(i),l(h)})}function vv(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:ue},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function bv(i){var a=vv(i);a.next===null&&(a=i.alternate.memoizedState),Gf(i,a.next.queue,{},Da())}function t1(){return Fi(ld)}function _v(){return Br().memoizedState}function wv(){return Br().memoizedState}function xE(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Da();i=Xt(l);var h=hn(a,i,l);h!==null&&(pa(h,a,l),Xn(h,a,l)),a={cache:_c()},i.payload=a;return}a=a.return}}function AE(i,a,l){var h=Da();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xp(i)?Av(a,l):(l=rh(i,a,l,h),l!==null&&(pa(l,i,h),Sv(l,a,h)))}function xv(i,a,l){var h=Da();Gf(i,a,l,h)}function Gf(i,a,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(xp(i))Av(a,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var I=a.lastRenderedState,$=w(I,l);if(y.hasEagerState=!0,y.eagerState=$,Oi($,I))return _u(i,a,y,0),wr===null&&bu(),!1}catch{}if(l=rh(i,a,y,h),l!==null)return pa(l,i,h),Sv(l,a,h),!0}return!1}function n1(i,a,l,h){if(h={lane:2,revertLane:P1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},xp(i)){if(a)throw Error(r(479))}else a=rh(i,l,h,2),a!==null&&pa(a,i,2)}function xp(i){var a=i.alternate;return i===Ht||a!==null&&a===Ht}function Av(i,a){ca=Ns=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Sv(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Zn(i,l)}}var Yf={readContext:Fi,use:wc,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useInsertionEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useSyncExternalStore:pr,useId:pr,useHostTransitionStatus:pr,useFormState:pr,useActionState:pr,useOptimistic:pr,useMemoCache:pr,useCacheRefresh:pr};Yf.useEffectEvent=pr;var Ev={readContext:Fi,use:wc,useCallback:function(i,a){return xi().memoizedState=[i,a===void 0?null:a],i},useContext:Fi,useEffect:lv,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Ac(4194308,4,fv.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Ac(4194308,4,i,a)},useInsertionEffect:function(i,a){Ac(4,2,i,a)},useMemo:function(i,a){var l=xi();a=a===void 0?null:a;var h=i();if(ms){Ft(!0);try{i()}finally{Ft(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=xi();if(l!==void 0){var y=l(a);if(ms){Ft(!0);try{l(a)}finally{Ft(!1)}}}else y=a;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=AE.bind(null,Ht,i),[h.memoizedState,i]},useRef:function(i){var a=xi();return i={current:i},a.memoizedState=i},useState:function(i){i=al(i);var a=i.queue,l=xv.bind(null,Ht,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Jg,useDeferredValue:function(i,a){var l=xi();return Zg(l,i,a)},useTransition:function(){var i=al(!1);return i=yv.bind(null,Ht,i.queue,!0,!1),xi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=Ht,y=xi();if(Sn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),wr===null)throw Error(r(349));(In&127)!==0||Eo(h,a,l)}y.memoizedState=l;var w={value:l,getSnapshot:a};return y.queue=w,lv(zf.bind(null,h,w,i),[i]),h.flags|=2048,jl(9,{destroy:void 0},Bf.bind(null,h,w,l,a),null),l},useId:function(){var i=xi(),a=wr.identifierPrefix;if(Sn){var l=oa,h=aa;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,a="_"+a+"R_"+l,l=ai++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=ph++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:t1,useFormState:to,useActionState:to,useOptimistic:function(i){var a=xi();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=n1.bind(null,Ht,!0,l),l.dispatch=a,[i,a]},useMemoCache:Ol,useCacheRefresh:function(){return xi().memoizedState=xE.bind(null,Ht)},useEffectEvent:function(i){var a=xi(),l={impl:i};return a.memoizedState=l,function(){if((Jn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},r1={readContext:Fi,use:wc,useCallback:pv,useContext:Fi,useEffect:Qg,useImperativeHandle:dv,useInsertionEffect:uv,useLayoutEffect:hv,useMemo:mv,useReducer:yh,useRef:wp,useState:function(){return yh(eo)},useDebugValue:Jg,useDeferredValue:function(i,a){var l=Br();return gv(l,Wt.memoizedState,i,a)},useTransition:function(){var i=yh(eo)[0],a=Br().memoizedState;return[typeof i=="boolean"?i:sl(i),a]},useSyncExternalStore:bh,useId:_v,useHostTransitionStatus:t1,useFormState:No,useActionState:No,useOptimistic:function(i,a){var l=Br();return yp(l,Wt,i,a)},useMemoCache:Ol,useCacheRefresh:wv};r1.useEffectEvent=cv;var Nv={readContext:Fi,use:wc,useCallback:pv,useContext:Fi,useEffect:Qg,useImperativeHandle:dv,useInsertionEffect:uv,useLayoutEffect:hv,useMemo:mv,useReducer:vh,useRef:wp,useState:function(){return vh(eo)},useDebugValue:Jg,useDeferredValue:function(i,a){var l=Br();return Wt===null?Zg(l,i,a):gv(l,Wt.memoizedState,i,a)},useTransition:function(){var i=vh(eo)[0],a=Br().memoizedState;return[typeof i=="boolean"?i:sl(i),a]},useSyncExternalStore:bh,useId:_v,useHostTransitionStatus:t1,useFormState:xh,useActionState:xh,useOptimistic:function(i,a){var l=Br();return Wt!==null?yp(l,Wt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Ol,useCacheRefresh:wv};Nv.useEffectEvent=cv;function i1(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:b({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var s1={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=Da(),y=Xt(h);y.payload=a,l!=null&&(y.callback=l),a=hn(i,y,h),a!==null&&(pa(a,i,h),Xn(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=Da(),y=Xt(h);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=hn(i,y,h),a!==null&&(pa(a,i,h),Xn(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Da(),h=Xt(l);h.tag=2,a!=null&&(h.callback=a),a=hn(i,h,l),a!==null&&(pa(a,i,l),Xn(a,i,l))}};function Tv(i,a,l,h,y,w,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,I):a.prototype&&a.prototype.isPureReactComponent?!vo(l,h)||!vo(y,w):!0}function Cv(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&s1.enqueueReplaceState(a,a.state,null)}function Iu(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=b({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function Iv(i){vu(i)}function Rv(i){console.error(i)}function Lv(i){vu(i)}function Ap(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function kv(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function a1(i,a,l){return l=Xt(l),l.tag=3,l.payload={element:null},l.callback=function(){Ap(i,a)},l}function Dv(i){return i=Xt(i),i.tag=3,i}function Pv(i,a,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;i.payload=function(){return y(w)},i.callback=function(){kv(a,l,h)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){kv(a,l,h),typeof y!="function"&&(Cc===null?Cc=new Set([this]):Cc.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function SE(i,a,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&tl(a,l,y,!0),l=kr.current,l!==null){switch(l.tag){case 31:case 13:return Fn===null?Op():l.alternate===null&&oi===0&&(oi=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===xe?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),L1(i,h,y)),!1;case 22:return l.flags|=65536,h===xe?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),L1(i,h,y)),!1}throw Error(r(435,l.tag))}return L1(i,h,y),Op(),!1}if(Sn)return a=kr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==Ra&&(i=Error(r(422),{cause:h}),vc(ra(i,l)))):(h!==Ra&&(a=Error(r(423),{cause:h}),vc(ra(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=ra(h,l),y=a1(i.stateNode,h,y),hi(i,y),oi!==4&&(oi=2)),!1;var w=Error(r(520),{cause:h});if(w=ra(w,l),ed===null?ed=[w]:ed.push(w),oi!==4&&(oi=2),a===null)return!0;h=ra(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=a1(l.stateNode,h,i),hi(l,i),!1;case 1:if(a=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Cc===null||!Cc.has(w))))return l.flags|=65536,y&=-y,l.lanes|=y,y=Dv(y),Pv(y,i,l,h),hi(l,y),!1}l=l.return}while(l!==null);return!1}var o1=Error(r(461)),Ai=!1;function gs(i,a,l,h){a.child=i===null?on(a,null,l,h):_r(a,i.child,l,h)}function Ov(i,a,l,h,y){l=l.render;var w=a.ref;if("ref"in h){var I={};for(var $ in h)$!=="ref"&&(I[$]=h[$])}else I=h;return nl(a),h=Vf(i,a,l,I,w,y),$=Ff(),i!==null&&!Ai?(Uf(i,a,y),Vl(i,a,y)):(Sn&&$&&Pf(a),a.flags|=1,gs(i,a,h,y),a.child)}function Mv(i,a,l,h,y){if(i===null){var w=l.type;return typeof w=="function"&&!sh(w)&&w.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=w,jv(i,a,w,h,y)):(i=mc(l.type,null,h,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!m1(i,y)){var I=w.memoizedProps;if(l=l.compare,l=l!==null?l:vo,l(I,h)&&i.ref===a.ref)return Vl(i,a,y)}return a.flags|=1,i=na(w,h),i.ref=a.ref,i.return=a,a.child=i}function jv(i,a,l,h,y){if(i!==null){var w=i.memoizedProps;if(vo(w,h)&&i.ref===a.ref)if(Ai=!1,a.pendingProps=h=w,m1(i,y))(i.flags&131072)!==0&&(Ai=!0);else return a.lanes=i.lanes,Vl(i,a,y)}return l1(i,a,l,h,y)}function Vv(i,a,l,h){var y=h.children,w=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,i!==null){for(h=a.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~w}else h=0,a.child=null;return Fv(i,a,w,l,h)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Z(a,w!==null?w.cachePool:null),w!==null?Lr(a,w):Hn(),ii(a);else return h=a.lanes=536870912,Fv(i,a,w!==null?w.baseLanes|l:l,l,h)}else w!==null?(Z(a,w.cachePool),Lr(a,w),si(),a.memoizedState=null):(i!==null&&Z(a,null),Hn(),si());return gs(i,a,y,l),a.child}function Wf(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Fv(i,a,l,h,y){var w=Q();return w=w===null?null:{parent:$r._currentValue,pool:w},a.memoizedState={baseLanes:l,cachePool:w},i!==null&&Z(a,null),Hn(),ii(a),i!==null&&tl(i,a,h,!0),a.childLanes=y,null}function Sp(i,a){return a=Np({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Uv(i,a,l){return _r(a,i.child,null,l),i=Sp(a,a.pendingProps),i.flags|=2,sr(a),a.memoizedState=null,i}function EE(i,a,l){var h=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Sn){if(h.mode==="hidden")return i=Sp(a,h),a.lanes=536870912,Wf(null,i);if(Qn(a),(i=br)?(i=J5(i,Fr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Qo!==null?{id:aa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},l=ah(i),l.return=a,a.child=l,ji=a,br=null)):i=null,i===null)throw Jo(a);return a.lanes=536870912,null}return Sp(a,h)}var w=i.memoizedState;if(w!==null){var I=w.dehydrated;if(Qn(a),y)if(a.flags&256)a.flags&=-257,a=Uv(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ai||tl(i,a,l,!1),y=(l&i.childLanes)!==0,Ai||y){if(h=wr,h!==null&&(I=er(h,l),I!==0&&I!==w.retryLane))throw w.retryLane=I,xo(i,I),pa(h,i,I),o1;Op(),a=Uv(i,a,l)}else i=w.treeContext,br=no(I.nextSibling),ji=a,Sn=!0,ps=null,Fr=!1,i!==null&&pp(a,i),a=Sp(a,h),a.flags|=4096;return a}return i=na(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Ep(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function l1(i,a,l,h,y){return nl(a),l=Vf(i,a,l,h,void 0,y),h=Ff(),i!==null&&!Ai?(Uf(i,a,y),Vl(i,a,y)):(Sn&&h&&Pf(a),a.flags|=1,gs(i,a,l,y),a.child)}function Bv(i,a,l,h,y,w){return nl(a),a.updateQueue=null,l=So(a,h,l,y),mh(i),h=Ff(),i!==null&&!Ai?(Uf(i,a,w),Vl(i,a,w)):(Sn&&h&&Pf(a),a.flags|=1,gs(i,a,l,w),a.child)}function zv(i,a,l,h,y){if(nl(a),a.stateNode===null){var w=Mi,I=l.contextType;typeof I=="object"&&I!==null&&(w=Fi(I)),w=new l(h,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=s1,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=h,w.state=a.memoizedState,w.refs={},ht(a),I=l.contextType,w.context=typeof I=="object"&&I!==null?Fi(I):Mi,w.state=a.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(i1(a,l,I,h),w.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&s1.enqueueReplaceState(w,w.state,null),ni(a,h,w,y),dr(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){w=a.stateNode;var $=a.memoizedProps,me=Iu(l,$);w.props=me;var Oe=w.context,Ye=l.contextType;I=Mi,typeof Ye=="object"&&Ye!==null&&(I=Fi(Ye));var Je=l.getDerivedStateFromProps;Ye=typeof Je=="function"||typeof w.getSnapshotBeforeUpdate=="function",$=a.pendingProps!==$,Ye||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($||Oe!==I)&&Cv(a,w,h,I),wt=!1;var je=a.memoizedState;w.state=je,ni(a,h,w,y),dr(),Oe=a.memoizedState,$||je!==Oe||wt?(typeof Je=="function"&&(i1(a,l,Je,h),Oe=a.memoizedState),(me=wt||Tv(a,l,me,h,je,Oe,I))?(Ye||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Oe),w.props=h,w.state=Oe,w.context=I,h=me):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,Rr(i,a),I=a.memoizedProps,Ye=Iu(l,I),w.props=Ye,Je=a.pendingProps,je=w.context,Oe=l.contextType,me=Mi,typeof Oe=="object"&&Oe!==null&&(me=Fi(Oe)),$=l.getDerivedStateFromProps,(Oe=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Je||je!==me)&&Cv(a,w,h,me),wt=!1,je=a.memoizedState,w.state=je,ni(a,h,w,y),dr();var Fe=a.memoizedState;I!==Je||je!==Fe||wt||i!==null&&i.dependencies!==null&&hh(i.dependencies)?(typeof $=="function"&&(i1(a,l,$,h),Fe=a.memoizedState),(Ye=wt||Tv(a,l,Ye,h,je,Fe,me)||i!==null&&i.dependencies!==null&&hh(i.dependencies))?(Oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Fe,me),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Fe,me)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Fe),w.props=h,w.state=Fe,w.context=me,h=Ye):(typeof w.componentDidUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&je===i.memoizedState||(a.flags|=1024),h=!1)}return w=h,Ep(i,a),h=(a.flags&128)!==0,w||h?(w=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&h?(a.child=_r(a,i.child,null,y),a.child=_r(a,null,l,y)):gs(i,a,l,y),a.memoizedState=w.state,i=a.child):i=Vl(i,a,y),i}function qv(i,a,l,h){return Dl(),a.flags|=256,gs(i,a,l,h),a.child}var c1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function u1(i){return{baseLanes:i,cachePool:ce()}}function h1(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ka),i}function Hv(i,a,l){var h=a.pendingProps,y=!1,w=(a.flags&128)!==0,I;if((I=w)||(I=i!==null&&i.memoizedState===null?!1:(On.current&2)!==0),I&&(y=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,i===null){if(Sn){if(y?Xr(a):si(),(i=br)?(i=J5(i,Fr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Qo!==null?{id:aa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},l=ah(i),l.return=a,a.child=l,ji=a,br=null)):i=null,i===null)throw Jo(a);return W1(i)?a.lanes=32:a.lanes=536870912,null}var $=h.children;return h=h.fallback,y?(si(),y=a.mode,$=Np({mode:"hidden",children:$},y),h=Xo(h,y,l,null),$.return=a,h.return=a,$.sibling=h,a.child=$,h=a.child,h.memoizedState=u1(l),h.childLanes=h1(i,I,l),a.memoizedState=c1,Wf(null,h)):(Xr(a),f1(a,$))}var me=i.memoizedState;if(me!==null&&($=me.dehydrated,$!==null)){if(w)a.flags&256?(Xr(a),a.flags&=-257,a=d1(i,a,l)):a.memoizedState!==null?(si(),a.child=i.child,a.flags|=128,a=null):(si(),$=h.fallback,y=a.mode,h=Np({mode:"visible",children:h.children},y),$=Xo($,y,l,null),$.flags|=2,h.return=a,$.return=a,h.sibling=$,a.child=h,_r(a,i.child,null,l),h=a.child,h.memoizedState=u1(l),h.childLanes=h1(i,I,l),a.memoizedState=c1,a=Wf(null,h));else if(Xr(a),W1($)){if(I=$.nextSibling&&$.nextSibling.dataset,I)var Oe=I.dgst;I=Oe,h=Error(r(419)),h.stack="",h.digest=I,vc({value:h,source:null,stack:null}),a=d1(i,a,l)}else if(Ai||tl(i,a,l,!1),I=(l&i.childLanes)!==0,Ai||I){if(I=wr,I!==null&&(h=er(I,l),h!==0&&h!==me.retryLane))throw me.retryLane=h,xo(i,h),pa(I,i,h),o1;Y1($)||Op(),a=d1(i,a,l)}else Y1($)?(a.flags|=192,a.child=i.child,a=null):(i=me.treeContext,br=no($.nextSibling),ji=a,Sn=!0,ps=null,Fr=!1,i!==null&&pp(a,i),a=f1(a,h.children),a.flags|=4096);return a}return y?(si(),$=h.fallback,y=a.mode,me=i.child,Oe=me.sibling,h=na(me,{mode:"hidden",children:h.children}),h.subtreeFlags=me.subtreeFlags&65011712,Oe!==null?$=na(Oe,$):($=Xo($,y,l,null),$.flags|=2),$.return=a,h.return=a,h.sibling=$,a.child=h,Wf(null,h),h=a.child,$=i.child.memoizedState,$===null?$=u1(l):(y=$.cachePool,y!==null?(me=$r._currentValue,y=y.parent!==me?{parent:me,pool:me}:y):y=ce(),$={baseLanes:$.baseLanes|l,cachePool:y}),h.memoizedState=$,h.childLanes=h1(i,I,l),a.memoizedState=c1,Wf(i.child,h)):(Xr(a),l=i.child,i=l.sibling,l=na(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(I=a.deletions,I===null?(a.deletions=[i],a.flags|=16):I.push(i)),a.child=l,a.memoizedState=null,l)}function f1(i,a){return a=Np({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Np(i,a){return i=Qi(22,i,null,a),i.lanes=0,i}function d1(i,a,l){return _r(a,i.child,null,l),i=f1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Gv(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),bc(i.return,a,l)}function p1(i,a,l,h,y,w){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:w}:(I.isBackwards=a,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=l,I.tailMode=y,I.treeForkCount=w)}function Yv(i,a,l){var h=a.pendingProps,y=h.revealOrder,w=h.tail;h=h.children;var I=On.current,$=(I&2)!==0;if($?(I=I&1|2,a.flags|=128):I&=1,z(On,I),gs(i,a,h,l),h=Sn?Su:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gv(i,l,a);else if(i.tag===19)Gv(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&Zi(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),p1(a,!1,y,l,w,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Zi(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}p1(a,!0,l,null,w,h);break;case"together":p1(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Vl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Tc|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(tl(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=na(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=na(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function m1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&hh(i)))}function NE(i,a,l){switch(a.tag){case 3:Ee(a,a.stateNode.containerInfo),el(a,$r,i.memoizedState.cache),Dl();break;case 27:case 5:Ue(a);break;case 4:Ee(a,a.stateNode.containerInfo);break;case 10:el(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Qn(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Xr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Hv(i,a,l):(Xr(a),i=Vl(i,a,l),i!==null?i.sibling:null);Xr(a);break;case 19:var y=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(tl(i,a,l,!1),h=(l&a.childLanes)!==0),y){if(h)return Yv(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),z(On,On.current),h)break;return null;case 22:return a.lanes=0,Vv(i,a,l,a.pendingProps);case 24:el(a,$r,i.memoizedState.cache)}return Vl(i,a,l)}function Wv(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ai=!0;else{if(!m1(i,l)&&(a.flags&128)===0)return Ai=!1,NE(i,a,l);Ai=(i.flags&131072)!==0}else Ai=!1,Sn&&(a.flags&1048576)!==0&&dp(a,Su,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=ke(a.elementType),a.type=i,typeof i=="function")sh(i)?(h=Iu(i,h),a.tag=1,a=zv(null,a,i,h,l)):(a.tag=0,a=l1(null,a,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===H){a.tag=11,a=Ov(null,a,i,h,l);break e}else if(y===q){a.tag=14,a=Mv(null,a,i,h,l);break e}}throw a=he(i)||i,Error(r(306,a,""))}}return a;case 0:return l1(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,y=Iu(h,a.pendingProps),zv(i,a,h,y,l);case 3:e:{if(Ee(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var w=a.memoizedState;y=w.element,Rr(i,a),ni(a,h,null,l);var I=a.memoizedState;if(h=I.cache,el(a,$r,h),h!==w.cache&&Pl(a,[$r],l,!0),dr(),h=I.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=qv(i,a,h,l);break e}else if(h!==y){y=ra(Error(r(424)),a),vc(y),a=qv(i,a,h,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,br=no(i.firstChild),ji=a,Sn=!0,ps=null,Fr=!0,l=on(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Dl(),h===y){a=Vl(i,a,l);break e}gs(i,a,h,l)}a=a.child}return a;case 26:return Ep(i,a),i===null?(l=ib(a.type,null,a.pendingProps,null))?a.memoizedState=l:Sn||(l=a.type,i=a.pendingProps,h=zp(de.current).createElement(l),h[Gn]=a,h[rr]=i,ys(h,l,i),Ir(h),a.stateNode=h):a.memoizedState=ib(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ue(a),i===null&&Sn&&(h=a.stateNode=tb(a.type,a.pendingProps,de.current),ji=a,Fr=!0,y=br,kc(a.type)?(K1=y,br=no(h.firstChild)):br=y),gs(i,a,a.pendingProps.children,l),Ep(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Sn&&((y=h=br)&&(h=n6(h,a.type,a.pendingProps,Fr),h!==null?(a.stateNode=h,ji=a,br=no(h.firstChild),Fr=!1,y=!0):y=!1),y||Jo(a)),Ue(a),y=a.type,w=a.pendingProps,I=i!==null?i.memoizedProps:null,h=w.children,q1(y,w)?h=null:I!==null&&q1(y,I)&&(a.flags|=32),a.memoizedState!==null&&(y=Vf(i,a,Xg,null,null,l),ld._currentValue=y),Ep(i,a),gs(i,a,h,l),a.child;case 6:return i===null&&Sn&&((i=l=br)&&(l=r6(l,a.pendingProps,Fr),l!==null?(a.stateNode=l,ji=a,br=null,i=!0):i=!1),i||Jo(a)),null;case 13:return Hv(i,a,l);case 4:return Ee(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=_r(a,null,h,l):gs(i,a,h,l),a.child;case 11:return Ov(i,a,a.type,a.pendingProps,l);case 7:return gs(i,a,a.pendingProps,l),a.child;case 8:return gs(i,a,a.pendingProps.children,l),a.child;case 12:return gs(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,el(a,a.type,h.value),gs(i,a,h.children,l),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,nl(a),y=Fi(y),h=h(y),a.flags|=1,gs(i,a,h,l),a.child;case 14:return Mv(i,a,a.type,a.pendingProps,l);case 15:return jv(i,a,a.type,a.pendingProps,l);case 19:return Yv(i,a,l);case 31:return EE(i,a,l);case 22:return Vv(i,a,l,a.pendingProps);case 24:return nl(a),h=Fi($r),i===null?(y=Q(),y===null&&(y=wr,w=_c(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=l),y=w),a.memoizedState={parent:h,cache:y},ht(a),el(a,$r,y)):((i.lanes&l)!==0&&(Rr(i,a),ni(a,null,null,l),dr()),y=i.memoizedState,w=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),el(a,$r,h)):(h=w.cache,el(a,$r,h),h!==y.cache&&Pl(a,[$r],l,!0))),gs(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Fl(i){i.flags|=4}function g1(i,a,l,h,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(_5())i.flags|=8192;else throw ze=xe,De}else i.flags&=-16777217}function Kv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!cb(a))if(_5())i.flags|=8192;else throw ze=xe,De}function Tp(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?cr():536870912,i.lanes|=a,Nh|=a)}function Kf(i,a){if(!Sn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Dr(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function TE(i,a,l){var h=a.pendingProps;switch(ch(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(a),null;case 1:return Dr(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),la($r),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Vi(a)?Fl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Mf())),Dr(a),null;case 26:var y=a.type,w=a.memoizedState;return i===null?(Fl(a),w!==null?(Dr(a),Kv(a,w)):(Dr(a),g1(a,y,null,h,l))):w?w!==i.memoizedState?(Fl(a),Dr(a),Kv(a,w)):(Dr(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Fl(a),Dr(a),g1(a,y,i,h,l)),null;case 27:if(et(a),l=de.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Fl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Dr(a),null}i=K.current,Vi(a)?Of(a):(i=tb(y,h,l),a.stateNode=i,Fl(a))}return Dr(a),null;case 5:if(et(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Fl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Dr(a),null}if(w=K.current,Vi(a))Of(a);else{var I=zp(de.current);switch(w){case 1:w=I.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=I.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=I.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?I.createElement(y,{is:h.is}):I.createElement(y)}}w[Gn]=a,w[rr]=h;e:for(I=a.child;I!==null;){if(I.tag===5||I.tag===6)w.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===a)break e;for(;I.sibling===null;){if(I.return===null||I.return===a)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}a.stateNode=w;e:switch(ys(w,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Fl(a)}}return Dr(a),g1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Fl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=de.current,Vi(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,y=ji,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Gn]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||H5(i.nodeValue,l)),i||Jo(a,!0)}else i=zp(i).createTextNode(h),i[Gn]=a,a.stateNode=i}return Dr(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(h=Vi(a),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Gn]=a}else Dl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dr(a),i=!1}else l=Mf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(sr(a),a):(sr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Dr(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Vi(a),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Gn]=a}else Dl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dr(a),y=!1}else y=Mf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(sr(a),a):(sr(a),null)}return sr(a),(a.flags&128)!==0?(a.lanes=l,a):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Tp(a,a.updateQueue),Dr(a),null);case 4:return Le(),i===null&&V1(a.stateNode.containerInfo),Dr(a),null;case 10:return la(a.type),Dr(a),null;case 19:if(P(On),h=a.memoizedState,h===null)return Dr(a),null;if(y=(a.flags&128)!==0,w=h.rendering,w===null)if(y)Kf(h,!1);else{if(oi!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=Zi(i),w!==null){for(a.flags|=128,Kf(h,!1),i=w.updateQueue,a.updateQueue=i,Tp(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)xu(l,i),l=l.sibling;return z(On,On.current&1|2),Sn&&Ys(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&Ke()>kp&&(a.flags|=128,y=!0,Kf(h,!1),a.lanes=4194304)}else{if(!y)if(i=Zi(w),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,Tp(a,i),Kf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Sn)return Dr(a),null}else 2*Ke()-h.renderingStartTime>kp&&l!==536870912&&(a.flags|=128,y=!0,Kf(h,!1),a.lanes=4194304);h.isBackwards?(w.sibling=a.child,a.child=w):(i=h.last,i!==null?i.sibling=w:a.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ke(),i.sibling=null,l=On.current,z(On,y?l&1|2:l&1),Sn&&Ys(a,h.treeForkCount),i):(Dr(a),null);case 22:case 23:return sr(a),fi(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Dr(a),a.subtreeFlags&6&&(a.flags|=8192)):Dr(a),l=a.updateQueue,l!==null&&Tp(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&P(W),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),la($r),Dr(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function CE(i,a){switch(ch(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return la($r),Le(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return et(a),null;case 31:if(a.memoizedState!==null){if(sr(a),a.alternate===null)throw Error(r(340));Dl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(sr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Dl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return P(On),null;case 4:return Le(),null;case 10:return la(a.type),null;case 22:case 23:return sr(a),fi(),i!==null&&P(W),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return la($r),null;case 25:return null;default:return null}}function $v(i,a){switch(ch(a),a.tag){case 3:la($r),Le();break;case 26:case 27:case 5:et(a);break;case 4:Le();break;case 31:a.memoizedState!==null&&sr(a);break;case 13:sr(a);break;case 19:P(On);break;case 10:la(a.type);break;case 22:case 23:sr(a),fi(),i!==null&&P(W);break;case 24:la($r)}}function $f(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var w=l.create,I=l.inst;h=w(),I.destroy=h}l=l.next}while(l!==y)}}catch($){or(a,a.return,$)}}function Ec(i,a,l){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&i)===i){var I=h.inst,$=I.destroy;if($!==void 0){I.destroy=void 0,y=a;var me=l,Oe=$;try{Oe()}catch(Ye){or(y,me,Ye)}}}h=h.next}while(h!==w)}}catch(Ye){or(a,a.return,Ye)}}function Xv(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{ri(a,l)}catch(h){or(i,i.return,h)}}}function Qv(i,a,l){l.props=Iu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){or(i,a,h)}}function Xf(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){or(i,a,y)}}function ol(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){or(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){or(i,a,y)}else l.current=null}function Jv(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){or(i,i.return,y)}}function y1(i,a,l){try{var h=i.stateNode;XE(h,i.type,l,a),h[rr]=a}catch(y){or(i,i.return,y)}}function Zv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&kc(i.type)||i.tag===4}function v1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Zv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&kc(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function b1(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Fs));else if(h!==4&&(h===27&&kc(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(b1(i,a,l),i=i.sibling;i!==null;)b1(i,a,l),i=i.sibling}function Cp(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&kc(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Cp(i,a,l),i=i.sibling;i!==null;)Cp(i,a,l),i=i.sibling}function e5(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);ys(a,h,l),a[Gn]=i,a[rr]=l}catch(w){or(i,i.return,w)}}var Ul=!1,Si=!1,_1=!1,t5=typeof WeakSet=="function"?WeakSet:Set,es=null;function IE(i,a){if(i=i.containerInfo,B1=$p,i=_o(i),Qa(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var I=0,$=-1,me=-1,Oe=0,Ye=0,Je=i,je=null;t:for(;;){for(var Fe;Je!==l||y!==0&&Je.nodeType!==3||($=I+y),Je!==w||h!==0&&Je.nodeType!==3||(me=I+h),Je.nodeType===3&&(I+=Je.nodeValue.length),(Fe=Je.firstChild)!==null;)je=Je,Je=Fe;for(;;){if(Je===i)break t;if(je===l&&++Oe===y&&($=I),je===w&&++Ye===h&&(me=I),(Fe=Je.nextSibling)!==null)break;Je=je,je=Je.parentNode}Je=Fe}l=$===-1||me===-1?null:{start:$,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(z1={focusedElem:i,selectionRange:l},$p=!1,es=a;es!==null;)if(a=es,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,es=i;else for(;es!==null;){switch(a=es,w=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,l=a,y=w.memoizedProps,w=w.memoizedState,h=l.stateNode;try{var Tt=Iu(l.type,y);i=h.getSnapshotBeforeUpdate(Tt,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Jt){or(l,l.return,Jt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)G1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":G1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,es=i;break}es=a.return}}function n5(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:zl(i,l),h&4&&$f(5,l);break;case 1:if(zl(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(I){or(l,l.return,I)}else{var y=Iu(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(I){or(l,l.return,I)}}h&64&&Xv(l),h&512&&Xf(l,l.return);break;case 3:if(zl(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{ri(i,a)}catch(I){or(l,l.return,I)}}break;case 27:a===null&&h&4&&e5(l);case 26:case 5:zl(i,l),a===null&&h&4&&Jv(l),h&512&&Xf(l,l.return);break;case 12:zl(i,l);break;case 31:zl(i,l),h&4&&s5(i,l);break;case 13:zl(i,l),h&4&&a5(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=VE.bind(null,l),i6(i,l))));break;case 22:if(h=l.memoizedState!==null||Ul,!h){a=a!==null&&a.memoizedState!==null||Si,y=Ul;var w=Si;Ul=h,(Si=a)&&!w?ql(i,l,(l.subtreeFlags&8772)!==0):zl(i,l),Ul=y,Si=w}break;case 30:break;default:zl(i,l)}}function r5(i){var a=i.alternate;a!==null&&(i.alternate=null,r5(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&wa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var zr=null,ua=!1;function Bl(i,a,l){for(l=l.child;l!==null;)i5(i,a,l),l=l.sibling}function i5(i,a,l){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Zt,l)}catch{}switch(l.tag){case 26:Si||ol(l,a),Bl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Si||ol(l,a);var h=zr,y=ua;kc(l.type)&&(zr=l.stateNode,ua=!1),Bl(i,a,l),sd(l.stateNode),zr=h,ua=y;break;case 5:Si||ol(l,a);case 6:if(h=zr,y=ua,zr=null,Bl(i,a,l),zr=h,ua=y,zr!==null)if(ua)try{(zr.nodeType===9?zr.body:zr.nodeName==="HTML"?zr.ownerDocument.body:zr).removeChild(l.stateNode)}catch(w){or(l,a,w)}else try{zr.removeChild(l.stateNode)}catch(w){or(l,a,w)}break;case 18:zr!==null&&(ua?(i=zr,X5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ph(i)):X5(zr,l.stateNode));break;case 4:h=zr,y=ua,zr=l.stateNode.containerInfo,ua=!0,Bl(i,a,l),zr=h,ua=y;break;case 0:case 11:case 14:case 15:Ec(2,l,a),Si||Ec(4,l,a),Bl(i,a,l);break;case 1:Si||(ol(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Qv(l,a,h)),Bl(i,a,l);break;case 21:Bl(i,a,l);break;case 22:Si=(h=Si)||l.memoizedState!==null,Bl(i,a,l),Si=h;break;default:Bl(i,a,l)}}function s5(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ph(i)}catch(l){or(a,a.return,l)}}}function a5(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ph(i)}catch(l){or(a,a.return,l)}}function RE(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new t5),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new t5),a;default:throw Error(r(435,i.tag))}}function Ip(i,a){var l=RE(i);a.forEach(function(h){if(!l.has(h)){l.add(h);var y=FE.bind(null,i,h);h.then(y,y)}})}function ha(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],w=i,I=a,$=I;e:for(;$!==null;){switch($.tag){case 27:if(kc($.type)){zr=$.stateNode,ua=!1;break e}break;case 5:zr=$.stateNode,ua=!1;break e;case 3:case 4:zr=$.stateNode.containerInfo,ua=!0;break e}$=$.return}if(zr===null)throw Error(r(160));i5(w,I,y),zr=null,ua=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)o5(a,i),a=a.sibling}var Co=null;function o5(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ha(a,i),fa(i),h&4&&(Ec(3,i,i.return),$f(3,i),Ec(5,i,i.return));break;case 1:ha(a,i),fa(i),h&512&&(Si||l===null||ol(l,l.return)),h&64&&Ul&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=Co;if(ha(a,i),fa(i),h&512&&(Si||l===null||ol(l,l.return)),h&4){var w=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Gi]||w[Gn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),ys(w,h,l),w[Gn]=i,Ir(w),h=w;break e;case"link":var I=ob("link","href",y).get(h+(l.href||""));if(I){for(var $=0;$<I.length;$++)if(w=I[$],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice($,1);break t}}w=y.createElement(h),ys(w,h,l),y.head.appendChild(w);break;case"meta":if(I=ob("meta","content",y).get(h+(l.content||""))){for($=0;$<I.length;$++)if(w=I[$],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice($,1);break t}}w=y.createElement(h),ys(w,h,l),y.head.appendChild(w);break;default:throw Error(r(468,h))}w[Gn]=i,Ir(w),h=w}i.stateNode=h}else lb(y,i.type,i.stateNode);else i.stateNode=ab(y,h,i.memoizedProps);else w!==h?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,h===null?lb(y,i.type,i.stateNode):ab(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&y1(i,i.memoizedProps,l.memoizedProps)}break;case 27:ha(a,i),fa(i),h&512&&(Si||l===null||ol(l,l.return)),l!==null&&h&4&&y1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ha(a,i),fa(i),h&512&&(Si||l===null||ol(l,l.return)),i.flags&32){y=i.stateNode;try{ci(y,"")}catch(Tt){or(i,i.return,Tt)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,y1(i,y,l!==null?l.memoizedProps:y)),h&1024&&(_1=!0);break;case 6:if(ha(a,i),fa(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Tt){or(i,i.return,Tt)}}break;case 3:if(Gp=null,y=Co,Co=qp(a.containerInfo),ha(a,i),Co=y,fa(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ph(a.containerInfo)}catch(Tt){or(i,i.return,Tt)}_1&&(_1=!1,l5(i));break;case 4:h=Co,Co=qp(i.stateNode.containerInfo),ha(a,i),fa(i),Co=h;break;case 12:ha(a,i),fa(i);break;case 31:ha(a,i),fa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ip(i,h)));break;case 13:ha(a,i),fa(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lp=Ke()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ip(i,h)));break;case 22:y=i.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,Oe=Ul,Ye=Si;if(Ul=Oe||y,Si=Ye||me,ha(a,i),Si=Ye,Ul=Oe,fa(i),h&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||me||Ul||Si||Ru(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){me=l=a;try{if(w=me.stateNode,y)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{$=me.stateNode;var Je=me.memoizedProps.style,je=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;$.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Tt){or(me,me.return,Tt)}}}else if(a.tag===6){if(l===null){me=a;try{me.stateNode.nodeValue=y?"":me.memoizedProps}catch(Tt){or(me,me.return,Tt)}}}else if(a.tag===18){if(l===null){me=a;try{var Fe=me.stateNode;y?Q5(Fe,!0):Q5(me.stateNode,!1)}catch(Tt){or(me,me.return,Tt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Ip(i,l))));break;case 19:ha(a,i),fa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ip(i,h)));break;case 30:break;case 21:break;default:ha(a,i),fa(i)}}function fa(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(Zv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,w=v1(i);Cp(i,w,y);break;case 5:var I=l.stateNode;l.flags&32&&(ci(I,""),l.flags&=-33);var $=v1(i);Cp(i,$,I);break;case 3:case 4:var me=l.stateNode.containerInfo,Oe=v1(i);b1(i,Oe,me);break;default:throw Error(r(161))}}catch(Ye){or(i,i.return,Ye)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function l5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;l5(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function zl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)n5(i,a.alternate,a),a=a.sibling}function Ru(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ec(4,a,a.return),Ru(a);break;case 1:ol(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Qv(a,a.return,l),Ru(a);break;case 27:sd(a.stateNode);case 26:case 5:ol(a,a.return),Ru(a);break;case 22:a.memoizedState===null&&Ru(a);break;case 30:Ru(a);break;default:Ru(a)}i=i.sibling}}function ql(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=i,w=a,I=w.flags;switch(w.tag){case 0:case 11:case 15:ql(y,w,l),$f(4,w);break;case 1:if(ql(y,w,l),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Oe){or(h,h.return,Oe)}if(h=w,y=h.updateQueue,y!==null){var $=h.stateNode;try{var me=y.shared.hiddenCallbacks;if(me!==null)for(y.shared.hiddenCallbacks=null,y=0;y<me.length;y++)Ji(me[y],$)}catch(Oe){or(h,h.return,Oe)}}l&&I&64&&Xv(w),Xf(w,w.return);break;case 27:e5(w);case 26:case 5:ql(y,w,l),l&&h===null&&I&4&&Jv(w),Xf(w,w.return);break;case 12:ql(y,w,l);break;case 31:ql(y,w,l),l&&I&4&&s5(y,w);break;case 13:ql(y,w,l),l&&I&4&&a5(y,w);break;case 22:w.memoizedState===null&&ql(y,w,l),Xf(w,w.return);break;case 30:break;default:ql(y,w,l)}a=a.sibling}}function w1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Eu(l))}function x1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Eu(i))}function Io(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)c5(i,a,l,h),a=a.sibling}function c5(i,a,l,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Io(i,a,l,h),y&2048&&$f(9,a);break;case 1:Io(i,a,l,h);break;case 3:Io(i,a,l,h),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Eu(i)));break;case 12:if(y&2048){Io(i,a,l,h),i=a.stateNode;try{var w=a.memoizedProps,I=w.id,$=w.onPostCommit;typeof $=="function"&&$(I,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(me){or(a,a.return,me)}}else Io(i,a,l,h);break;case 31:Io(i,a,l,h);break;case 13:Io(i,a,l,h);break;case 23:break;case 22:w=a.stateNode,I=a.alternate,a.memoizedState!==null?w._visibility&2?Io(i,a,l,h):Qf(i,a):w._visibility&2?Io(i,a,l,h):(w._visibility|=2,Ah(i,a,l,h,(a.subtreeFlags&10256)!==0||!1)),y&2048&&w1(I,a);break;case 24:Io(i,a,l,h),y&2048&&x1(a.alternate,a);break;default:Io(i,a,l,h)}}function Ah(i,a,l,h,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=i,I=a,$=l,me=h,Oe=I.flags;switch(I.tag){case 0:case 11:case 15:Ah(w,I,$,me,y),$f(8,I);break;case 23:break;case 22:var Ye=I.stateNode;I.memoizedState!==null?Ye._visibility&2?Ah(w,I,$,me,y):Qf(w,I):(Ye._visibility|=2,Ah(w,I,$,me,y)),y&&Oe&2048&&w1(I.alternate,I);break;case 24:Ah(w,I,$,me,y),y&&Oe&2048&&x1(I.alternate,I);break;default:Ah(w,I,$,me,y)}a=a.sibling}}function Qf(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,y=h.flags;switch(h.tag){case 22:Qf(l,h),y&2048&&w1(h.alternate,h);break;case 24:Qf(l,h),y&2048&&x1(h.alternate,h);break;default:Qf(l,h)}a=a.sibling}}var Jf=8192;function Sh(i,a,l){if(i.subtreeFlags&Jf)for(i=i.child;i!==null;)u5(i,a,l),i=i.sibling}function u5(i,a,l){switch(i.tag){case 26:Sh(i,a,l),i.flags&Jf&&i.memoizedState!==null&&g6(l,Co,i.memoizedState,i.memoizedProps);break;case 5:Sh(i,a,l);break;case 3:case 4:var h=Co;Co=qp(i.stateNode.containerInfo),Sh(i,a,l),Co=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Jf,Jf=16777216,Sh(i,a,l),Jf=h):Sh(i,a,l));break;default:Sh(i,a,l)}}function h5(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Zf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];es=h,d5(h,i)}h5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f5(i),i=i.sibling}function f5(i){switch(i.tag){case 0:case 11:case 15:Zf(i),i.flags&2048&&Ec(9,i,i.return);break;case 3:Zf(i);break;case 12:Zf(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Rp(i)):Zf(i);break;default:Zf(i)}}function Rp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];es=h,d5(h,i)}h5(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ec(8,a,a.return),Rp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Rp(a));break;default:Rp(a)}i=i.sibling}}function d5(i,a){for(;es!==null;){var l=es;switch(l.tag){case 0:case 11:case 15:Ec(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Eu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,es=h;else e:for(l=i;es!==null;){h=es;var y=h.sibling,w=h.return;if(r5(h),h===l){es=null;break e}if(y!==null){y.return=w,es=y;break e}es=w}}}var LE={getCacheForType:function(i){var a=Fi($r),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Fi($r).controller.signal}},kE=typeof WeakMap=="function"?WeakMap:Map,Jn=0,wr=null,En=null,In=0,ar=0,La=null,Nc=!1,Eh=!1,A1=!1,Hl=0,oi=0,Tc=0,Lu=0,S1=0,ka=0,Nh=0,ed=null,da=null,E1=!1,Lp=0,p5=0,kp=1/0,Dp=null,Cc=null,Bi=0,Ic=null,Th=null,Gl=0,N1=0,T1=null,m5=null,td=0,C1=null;function Da(){return(Jn&2)!==0&&In!==0?In&-In:te.T!==null?P1():Hr()}function g5(){if(ka===0)if((In&536870912)===0||Sn){var i=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),ka=i}else ka=536870912;return i=kr.current,i!==null&&(i.flags|=32),ka}function pa(i,a,l){(i===wr&&(ar===2||ar===9)||i.cancelPendingCommit!==null)&&(Ch(i,0),Rc(i,In,ka,!1)),pt(i,l),((Jn&2)===0||i!==wr)&&(i===wr&&((Jn&2)===0&&(Lu|=l),oi===4&&Rc(i,In,ka,!1)),ll(i))}function y5(i,a,l){if((Jn&6)!==0)throw Error(r(327));var h=!l&&(a&127)===0&&(a&i.expiredLanes)===0||_n(i,a),y=h?OE(i,a):R1(i,a,!0),w=h;do{if(y===0){Eh&&!h&&Rc(i,a,0,!1);break}else{if(l=i.current.alternate,w&&!DE(l)){y=R1(i,a,!1),w=!1;continue}if(y===2){if(w=a,i.errorRecoveryDisabledLanes&w)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var $=i;y=ed;var me=$.current.memoizedState.isDehydrated;if(me&&(Ch($,I).flags|=256),I=R1($,I,!1),I!==2){if(A1&&!me){$.errorRecoveryDisabledLanes|=w,Lu|=w,y=4;break e}w=da,da=y,w!==null&&(da===null?da=w:da.push.apply(da,w))}y=I}if(w=!1,y!==2)continue}}if(y===1){Ch(i,0),Rc(i,a,0,!0);break}e:{switch(h=i,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Rc(h,a,ka,!Nc);break e;case 2:da=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=Lp+300-Ke(),10<y)){if(Rc(h,a,ka,!Nc),ut(h,0,!0)!==0)break e;Gl=a,h.timeoutHandle=K5(v5.bind(null,h,l,da,Dp,E1,a,ka,Lu,Nh,Nc,w,"Throttled",-0,0),y);break e}v5(h,l,da,Dp,E1,a,ka,Lu,Nh,Nc,w,null,-0,0)}}break}while(!0);ll(i)}function v5(i,a,l,h,y,w,I,$,me,Oe,Ye,Je,je,Fe){if(i.timeoutHandle=-1,Je=a.subtreeFlags,Je&8192||(Je&16785408)===16785408){Je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fs},u5(a,w,Je);var Tt=(w&62914560)===w?Lp-Ke():(w&4194048)===w?p5-Ke():0;if(Tt=y6(Je,Tt),Tt!==null){Gl=w,i.cancelPendingCommit=Tt(N5.bind(null,i,a,w,l,h,y,I,$,me,Ye,Je,null,je,Fe)),Rc(i,w,I,!Oe);return}}N5(i,a,w,l,h,y,I,$,me)}function DE(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],w=y.getSnapshot;y=y.value;try{if(!Oi(w(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Rc(i,a,l,h){a&=~S1,a&=~Lu,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var y=a;0<y;){var w=31-Qt(y),I=1<<w;h[w]=-1,y&=~I}l!==0&&Zr(i,l,a)}function Pp(){return(Jn&6)===0?(nd(0),!1):!0}function I1(){if(En!==null){if(ar===0)var i=En.return;else i=En,Za=Zo=null,gh(i),Ze=null,Rt=0,i=En;for(;i!==null;)$v(i.alternate,i),i=i.return;En=null}}function Ch(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,ZE(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Gl=0,I1(),wr=i,En=l=na(i.current,null),In=a,ar=0,La=null,Nc=!1,Eh=_n(i,a),A1=!1,Nh=ka=S1=Lu=Tc=oi=0,da=ed=null,E1=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var y=31-Qt(h),w=1<<y;a|=i[y],h&=~w}return Hl=a,bu(),l}function b5(i,a){Ht=null,te.H=Yf,a===_e||a===ae?(a=We(),ar=3):a===De?(a=We(),ar=4):ar=a===o1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,La=a,En===null&&(oi=1,Ap(i,ra(a,i.current)))}function _5(){var i=kr.current;return i===null?!0:(In&4194048)===In?Fn===null:(In&62914560)===In||(In&536870912)!==0?i===Fn:!1}function w5(){var i=te.H;return te.H=Yf,i===null?Yf:i}function x5(){var i=te.A;return te.A=LE,i}function Op(){oi=4,Nc||(In&4194048)!==In&&kr.current!==null||(Eh=!0),(Tc&134217727)===0&&(Lu&134217727)===0||wr===null||Rc(wr,In,ka,!1)}function R1(i,a,l){var h=Jn;Jn|=2;var y=w5(),w=x5();(wr!==i||In!==a)&&(Dp=null,Ch(i,a)),a=!1;var I=oi;e:do try{if(ar!==0&&En!==null){var $=En,me=La;switch(ar){case 8:I1(),I=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(a=!0);var Oe=ar;if(ar=0,La=null,Ih(i,$,me,Oe),l&&Eh){I=0;break e}break;default:Oe=ar,ar=0,La=null,Ih(i,$,me,Oe)}}PE(),I=oi;break}catch(Ye){b5(i,Ye)}while(!0);return a&&i.shellSuspendCounter++,Za=Zo=null,Jn=h,te.H=y,te.A=w,En===null&&(wr=null,In=0,bu()),I}function PE(){for(;En!==null;)A5(En)}function OE(i,a){var l=Jn;Jn|=2;var h=w5(),y=x5();wr!==i||In!==a?(Dp=null,kp=Ke()+500,Ch(i,a)):Eh=_n(i,a);e:do try{if(ar!==0&&En!==null){a=En;var w=La;t:switch(ar){case 1:ar=0,La=null,Ih(i,a,w,1);break;case 2:case 9:if(Re(w)){ar=0,La=null,S5(a);break}a=function(){ar!==2&&ar!==9||wr!==i||(ar=7),ll(i)},w.then(a,a);break e;case 3:ar=7;break e;case 4:ar=5;break e;case 7:Re(w)?(ar=0,La=null,S5(a)):(ar=0,La=null,Ih(i,a,w,7));break;case 5:var I=null;switch(En.tag){case 26:I=En.memoizedState;case 5:case 27:var $=En;if(I?cb(I):$.stateNode.complete){ar=0,La=null;var me=$.sibling;if(me!==null)En=me;else{var Oe=$.return;Oe!==null?(En=Oe,Mp(Oe)):En=null}break t}}ar=0,La=null,Ih(i,a,w,5);break;case 6:ar=0,La=null,Ih(i,a,w,6);break;case 8:I1(),oi=6;break e;default:throw Error(r(462))}}ME();break}catch(Ye){b5(i,Ye)}while(!0);return Za=Zo=null,te.H=h,te.A=y,Jn=l,En!==null?0:(wr=null,In=0,bu(),oi)}function ME(){for(;En!==null&&!ge();)A5(En)}function A5(i){var a=Wv(i.alternate,i,Hl);i.memoizedProps=i.pendingProps,a===null?Mp(i):En=a}function S5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=Bv(l,a,a.pendingProps,a.type,void 0,In);break;case 11:a=Bv(l,a,a.pendingProps,a.type.render,a.ref,In);break;case 5:gh(a);default:$v(l,a),a=En=xu(a,Hl),a=Wv(l,a,Hl)}i.memoizedProps=i.pendingProps,a===null?Mp(i):En=a}function Ih(i,a,l,h){Za=Zo=null,gh(a),Ze=null,Rt=0;var y=a.return;try{if(SE(i,y,a,l,In)){oi=1,Ap(i,ra(l,i.current)),En=null;return}}catch(w){if(y!==null)throw En=y,w;oi=1,Ap(i,ra(l,i.current)),En=null;return}a.flags&32768?(Sn||h===1?i=!0:Eh||(In&536870912)!==0?i=!1:(Nc=i=!0,(h===2||h===9||h===3||h===6)&&(h=kr.current,h!==null&&h.tag===13&&(h.flags|=16384))),E5(a,i)):Mp(a)}function Mp(i){var a=i;do{if((a.flags&32768)!==0){E5(a,Nc);return}i=a.return;var l=TE(a.alternate,a,Hl);if(l!==null){En=l;return}if(a=a.sibling,a!==null){En=a;return}En=a=i}while(a!==null);oi===0&&(oi=5)}function E5(i,a){do{var l=CE(i.alternate,i);if(l!==null){l.flags&=32767,En=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){En=i;return}En=i=l}while(i!==null);oi=6,En=null}function N5(i,a,l,h,y,w,I,$,me){i.cancelPendingCommit=null;do jp();while(Bi!==0);if((Jn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(w=a.lanes|a.childLanes,w|=nh,Er(i,l,w,I,$,me),i===wr&&(En=wr=null,In=0),Th=a,Ic=i,Gl=l,N1=w,T1=y,m5=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,UE(ft,function(){return L5(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=te.T,te.T=null,y=pe.p,pe.p=2,I=Jn,Jn|=4;try{IE(i,a,l)}finally{Jn=I,pe.p=y,te.T=h}}Bi=1,T5(),C5(),I5()}}function T5(){if(Bi===1){Bi=0;var i=Ic,a=Th,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var h=pe.p;pe.p=2;var y=Jn;Jn|=4;try{o5(a,i);var w=z1,I=_o(i.containerInfo),$=w.focusedElem,me=w.selectionRange;if(I!==$&&$&&$.ownerDocument&&bo($.ownerDocument.documentElement,$)){if(me!==null&&Qa($)){var Oe=me.start,Ye=me.end;if(Ye===void 0&&(Ye=Oe),"selectionStart"in $)$.selectionStart=Oe,$.selectionEnd=Math.min(Ye,$.value.length);else{var Je=$.ownerDocument||document,je=Je&&Je.defaultView||window;if(je.getSelection){var Fe=je.getSelection(),Tt=$.textContent.length,Jt=Math.min(me.start,Tt),gr=me.end===void 0?Jt:Math.min(me.end,Tt);!Fe.extend&&Jt>gr&&(I=gr,gr=Jt,Jt=I);var Te=pc($,Jt),we=pc($,gr);if(Te&&we&&(Fe.rangeCount!==1||Fe.anchorNode!==Te.node||Fe.anchorOffset!==Te.offset||Fe.focusNode!==we.node||Fe.focusOffset!==we.offset)){var Pe=Je.createRange();Pe.setStart(Te.node,Te.offset),Fe.removeAllRanges(),Jt>gr?(Fe.addRange(Pe),Fe.extend(we.node,we.offset)):(Pe.setEnd(we.node,we.offset),Fe.addRange(Pe))}}}}for(Je=[],Fe=$;Fe=Fe.parentNode;)Fe.nodeType===1&&Je.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Je.length;$++){var $e=Je[$];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}$p=!!B1,z1=B1=null}finally{Jn=y,pe.p=h,te.T=l}}i.current=a,Bi=2}}function C5(){if(Bi===2){Bi=0;var i=Ic,a=Th,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var h=pe.p;pe.p=2;var y=Jn;Jn|=4;try{n5(i,a.alternate,a)}finally{Jn=y,pe.p=h,te.T=l}}Bi=3}}function I5(){if(Bi===4||Bi===3){Bi=0,Se();var i=Ic,a=Th,l=Gl,h=m5;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Bi=5:(Bi=0,Th=Ic=null,R5(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Cc=null),Tn(l),a=a.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Zt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=te.T,y=pe.p,pe.p=2,te.T=null;try{for(var w=i.onRecoverableError,I=0;I<h.length;I++){var $=h[I];w($.value,{componentStack:$.stack})}}finally{te.T=a,pe.p=y}}(Gl&3)!==0&&jp(),ll(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===C1?td++:(td=0,C1=i):td=0,nd(0)}}function R5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Eu(a)))}function jp(){return T5(),C5(),I5(),L5()}function L5(){if(Bi!==5)return!1;var i=Ic,a=N1;N1=0;var l=Tn(Gl),h=te.T,y=pe.p;try{pe.p=32>l?32:l,te.T=null,l=T1,T1=null;var w=Ic,I=Gl;if(Bi=0,Th=Ic=null,Gl=0,(Jn&6)!==0)throw Error(r(331));var $=Jn;if(Jn|=4,f5(w.current),c5(w,w.current,I,l),Jn=$,nd(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Zt,w)}catch{}return!0}finally{pe.p=y,te.T=h,R5(i,a)}}function k5(i,a,l){a=ra(l,a),a=a1(i.stateNode,a,2),i=hn(i,a,2),i!==null&&(pt(i,2),ll(i))}function or(i,a,l){if(i.tag===3)k5(i,i,l);else for(;a!==null;){if(a.tag===3){k5(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cc===null||!Cc.has(h))){i=ra(l,i),l=Dv(2),h=hn(a,l,2),h!==null&&(Pv(l,h,a,i),pt(h,2),ll(h));break}}a=a.return}}function L1(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new kE;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(l)||(A1=!0,y.add(l),i=jE.bind(null,i,a,l),a.then(i,i))}function jE(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,wr===i&&(In&l)===l&&(oi===4||oi===3&&(In&62914560)===In&&300>Ke()-Lp?(Jn&2)===0&&Ch(i,0):S1|=l,Nh===In&&(Nh=0)),ll(i)}function D5(i,a){a===0&&(a=cr()),i=xo(i,a),i!==null&&(pt(i,a),ll(i))}function VE(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),D5(i,l)}function FE(i,a){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),D5(i,l)}function UE(i,a){return dt(i,a)}var Vp=null,Rh=null,k1=!1,Fp=!1,D1=!1,Lc=0;function ll(i){i!==Rh&&i.next===null&&(Rh===null?Vp=Rh=i:Rh=Rh.next=i),Fp=!0,k1||(k1=!0,zE())}function nd(i,a){if(!D1&&Fp){D1=!0;do for(var l=!1,h=Vp;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var I=h.suspendedLanes,$=h.pingedLanes;w=(1<<31-Qt(42|i)+1)-1,w&=y&~(I&~$),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,j5(h,w))}else w=In,w=ut(h,h===wr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||_n(h,w)||(l=!0,j5(h,w));h=h.next}while(l);D1=!1}}function BE(){P5()}function P5(){Fp=k1=!1;var i=0;Lc!==0&&JE()&&(i=Lc);for(var a=Ke(),l=null,h=Vp;h!==null;){var y=h.next,w=O5(h,a);w===0?(h.next=null,l===null?Vp=y:l.next=y,y===null&&(Rh=l)):(l=h,(i!==0||(w&3)!==0)&&(Fp=!0)),h=y}Bi!==0&&Bi!==5||nd(i),Lc!==0&&(Lc=0)}function O5(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var I=31-Qt(w),$=1<<I,me=y[I];me===-1?(($&l)===0||($&h)!==0)&&(y[I]=An($,a)):me<=a&&(i.expiredLanes|=$),w&=~$}if(a=wr,l=In,l=ut(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(ar===2||ar===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&se(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_n(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&se(h),Tn(l)){case 2:case 8:l=it;break;case 32:l=ft;break;case 268435456:l=bt;break;default:l=ft}return h=M5.bind(null,i),l=dt(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&se(h),i.callbackPriority=2,i.callbackNode=null,2}function M5(i,a){if(Bi!==0&&Bi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(jp()&&i.callbackNode!==l)return null;var h=In;return h=ut(i,i===wr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(y5(i,h,a),O5(i,Ke()),i.callbackNode!=null&&i.callbackNode===l?M5.bind(null,i):null)}function j5(i,a){if(jp())return null;y5(i,a,!0)}function zE(){e6(function(){(Jn&6)!==0?dt(Ve,BE):P5()})}function P1(){if(Lc===0){var i=p;i===0&&(i=zt,zt<<=1,(zt&261888)===0&&(zt=256)),Lc=i}return Lc}function V5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wi(""+i)}function F5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function qE(i,a,l,h,y){if(a==="submit"&&l&&l.stateNode===y){var w=V5((y[rr]||null).action),I=h.submitter;I&&(a=(a=I[rr]||null)?V5(a.formAction):I.getAttribute("formAction"),a!==null&&(w=a,I=null));var $=new _i("action","action",null,h,y);i.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Lc!==0){var me=I?F5(y,I):new FormData(y);e1(l,{pending:!0,data:me,method:y.method,action:w},null,me)}}else typeof w=="function"&&($.preventDefault(),me=I?F5(y,I):new FormData(y),e1(l,{pending:!0,data:me,method:y.method,action:w},w,me))},currentTarget:y}]})}}for(var O1=0;O1<Rl.length;O1++){var M1=Rl[O1],HE=M1.toLowerCase(),GE=M1[0].toUpperCase()+M1.slice(1);ta(HE,"on"+GE)}ta(Il,"onAnimationEnd"),ta(yu,"onAnimationIteration"),ta(Lf,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(up,"onTransitionRun"),ta(hp,"onTransitionStart"),ta(fp,"onTransitionCancel"),ta(kf,"onTransitionEnd"),Vs("onMouseEnter",["mouseout","mouseover"]),Vs("onMouseLeave",["mouseout","mouseover"]),Vs("onPointerEnter",["pointerout","pointerover"]),Vs("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rd));function U5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var I=h.length-1;0<=I;I--){var $=h[I],me=$.instance,Oe=$.currentTarget;if($=$.listener,me!==w&&y.isPropagationStopped())break e;w=$,y.currentTarget=Oe;try{w(y)}catch(Ye){vu(Ye)}y.currentTarget=null,w=me}else for(I=0;I<h.length;I++){if($=h[I],me=$.instance,Oe=$.currentTarget,$=$.listener,me!==w&&y.isPropagationStopped())break e;w=$,y.currentTarget=Oe;try{w(y)}catch(Ye){vu(Ye)}y.currentTarget=null,w=me}}}}function Nn(i,a){var l=a[Hi];l===void 0&&(l=a[Hi]=new Set);var h=i+"__bubble";l.has(h)||(B5(a,i,2,!1),l.add(h))}function j1(i,a,l){var h=0;a&&(h|=4),B5(l,i,h,a)}var Up="_reactListening"+Math.random().toString(36).slice(2);function V1(i){if(!i[Up]){i[Up]=!0,Bo.forEach(function(l){l!=="selectionchange"&&(YE.has(l)||j1(l,!1,i),j1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Up]||(a[Up]=!0,j1("selectionchange",!1,a))}}function B5(i,a,l,h){switch(gb(a)){case 2:var y=_6;break;case 8:y=w6;break;default:y=Z1}l=y.bind(null,a,l,i),y=void 0,!ho||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function F1(i,a,l,h,y){var w=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var $=h.stateNode.containerInfo;if($===y)break;if(I===4)for(I=h.return;I!==null;){var me=I.tag;if((me===3||me===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;$!==null;){if(I=ss($),I===null)return;if(me=I.tag,me===5||me===6||me===26||me===27){h=w=I;continue e}$=$.parentNode}}h=h.return}qa(function(){var Oe=w,Ye=Ki(l),Je=[];e:{var je=Df.get(i);if(je!==void 0){var Fe=_i,Tt=i;switch(i){case"keypress":if(cs(l)===0)break e;case"keydown":case"keyup":Fe=wn;break;case"focusin":Tt="focus",Fe=Bs;break;case"focusout":Tt="blur",Fe=Bs;break;case"beforeblur":case"afterblur":Fe=Bs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Zs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=N;break;case Il:case yu:case Lf:Fe=x;break;case kf:Fe=J;break;case"scroll":case"scrollend":Fe=Ha;break;case"wheel":Fe=Me;break;case"copy":case"cut":case"paste":Fe=le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=tr;break;case"toggle":case"beforetoggle":Fe=nn}var Jt=(a&4)!==0,gr=!Jt&&(i==="scroll"||i==="scrollend"),Te=Jt?je!==null?je+"Capture":null:je;Jt=[];for(var we=Oe,Pe;we!==null;){var $e=we;if(Pe=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Pe===null||Te===null||($e=ui(we,Te),$e!=null&&Jt.push(id(we,$e,Pe))),gr)break;we=we.return}0<Jt.length&&(je=new Fe(je,Tt,null,l,Ye),Je.push({event:je,listeners:Jt}))}}if((a&7)===0){e:{if(je=i==="mouseover"||i==="pointerover",Fe=i==="mouseout"||i==="pointerout",je&&l!==Ea&&(Tt=l.relatedTarget||l.fromElement)&&(ss(Tt)||Tt[ei]))break e;if((Fe||je)&&(je=Ye.window===Ye?Ye:(je=Ye.ownerDocument)?je.defaultView||je.parentWindow:window,Fe?(Tt=l.relatedTarget||l.toElement,Fe=Oe,Tt=Tt?ss(Tt):null,Tt!==null&&(gr=o(Tt),Jt=Tt.tag,Tt!==gr||Jt!==5&&Jt!==27&&Jt!==6)&&(Tt=null)):(Fe=null,Tt=Oe),Fe!==Tt)){if(Jt=Wo,$e="onMouseLeave",Te="onMouseEnter",we="mouse",(i==="pointerout"||i==="pointerover")&&(Jt=tr,$e="onPointerLeave",Te="onPointerEnter",we="pointer"),gr=Fe==null?je:as(Fe),Pe=Tt==null?je:as(Tt),je=new Jt($e,we+"leave",Fe,l,Ye),je.target=gr,je.relatedTarget=Pe,$e=null,ss(Ye)===Oe&&(Jt=new Jt(Te,we+"enter",Tt,l,Ye),Jt.target=Pe,Jt.relatedTarget=gr,$e=Jt),gr=$e,Fe&&Tt)t:{for(Jt=WE,Te=Fe,we=Tt,Pe=0,$e=Te;$e;$e=Jt($e))Pe++;$e=0;for(var Kt=we;Kt;Kt=Jt(Kt))$e++;for(;0<Pe-$e;)Te=Jt(Te),Pe--;for(;0<$e-Pe;)we=Jt(we),$e--;for(;Pe--;){if(Te===we||we!==null&&Te===we.alternate){Jt=Te;break t}Te=Jt(Te),we=Jt(we)}Jt=null}else Jt=null;Fe!==null&&z5(Je,je,Fe,Jt,!1),Tt!==null&&gr!==null&&z5(Je,gr,Tt,Jt,!0)}}e:{if(je=Oe?as(Oe):window,Fe=je.nodeName&&je.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&je.type==="file")var Kn=$o;else if(mu(je))if(Es)Kn=$a;else{Kn=Wr;var Vt=fc}else Fe=je.nodeName,!Fe||Fe.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Oe&&Ho(Oe.elementType)&&(Kn=$o):Kn=th;if(Kn&&(Kn=Kn(i,Oe))){qs(Je,Kn,l,Ye);break e}Vt&&Vt(i,je,Oe),i==="focusout"&&Oe&&je.type==="number"&&Oe.memoizedProps.value!=null&&xl(je,"number",je.value)}switch(Vt=Oe?as(Oe):window,i){case"focusin":(mu(Vt)||Vt.contentEditable==="true")&&(Hs=Vt,wo=Oe,$i=null);break;case"focusout":$i=wo=Hs=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,qn(Je,l,Ye);break;case"selectionchange":if(Cl)break;case"keydown":case"keyup":qn(Je,l,Ye)}var dn;if(mn)e:{switch(i){case"compositionstart":var Rn="onCompositionStart";break e;case"compositionend":Rn="onCompositionEnd";break e;case"compositionupdate":Rn="onCompositionUpdate";break e}Rn=void 0}else Ya?zs(i,l)&&(Rn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Rn="onCompositionStart");Rn&&(Di&&l.locale!=="ko"&&(Ya||Rn!=="onCompositionStart"?Rn==="onCompositionEnd"&&Ya&&(dn=Nl()):(ls=Ye,fo="value"in ls?ls.value:ls.textContent,Ya=!0)),Vt=Bp(Oe,Rn),0<Vt.length&&(Rn=new Ne(Rn,i,null,l,Ye),Je.push({event:Rn,listeners:Vt}),dn?Rn.data=dn:(dn=Ga(l),dn!==null&&(Rn.data=dn)))),(dn=wi?fs(i,l):mo(i,l))&&(Rn=Bp(Oe,"onBeforeInput"),0<Rn.length&&(Vt=new Ne("onBeforeInput","beforeinput",null,l,Ye),Je.push({event:Vt,listeners:Rn}),Vt.data=dn)),qE(Je,i,Oe,l,Ye)}U5(Je,a)})}function id(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Bp(i,a){for(var l=a+"Capture",h=[];i!==null;){var y=i,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=ui(i,l),y!=null&&h.unshift(id(i,y,w)),y=ui(i,a),y!=null&&h.push(id(i,y,w))),i.tag===3)return h;i=i.return}return[]}function WE(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function z5(i,a,l,h,y){for(var w=a._reactName,I=[];l!==null&&l!==h;){var $=l,me=$.alternate,Oe=$.stateNode;if($=$.tag,me!==null&&me===h)break;$!==5&&$!==26&&$!==27||Oe===null||(me=Oe,y?(Oe=ui(l,w),Oe!=null&&I.unshift(id(l,Oe,me))):y||(Oe=ui(l,w),Oe!=null&&I.push(id(l,Oe,me)))),l=l.return}I.length!==0&&i.push({event:a,listeners:I})}var KE=/\r\n?/g,$E=/\u0000|\uFFFD/g;function q5(i){return(typeof i=="string"?i:""+i).replace(KE,`
`).replace($E,"")}function H5(i,a){return a=q5(a),q5(i)===a}function mr(i,a,l,h,y,w){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||ci(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&ci(i,""+h);break;case"className":bi(i,"class",h);break;case"tabIndex":bi(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(i,l,h);break;case"style":El(i,h,w);break;case"data":if(a!=="object"){bi(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Wi(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(a!=="input"&&mr(i,a,"name",y.name,y,null),mr(i,a,"formEncType",y.formEncType,y,null),mr(i,a,"formMethod",y.formMethod,y,null),mr(i,a,"formTarget",y.formTarget,y,null)):(mr(i,a,"encType",y.encType,y,null),mr(i,a,"method",y.method,y,null),mr(i,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Wi(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Fs);break;case"onScroll":h!=null&&Nn("scroll",i);break;case"onScrollEnd":h!=null&&Nn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Wi(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Nn("beforetoggle",i),Nn("toggle",i),os(i,"popover",h);break;case"xlinkActuate":jr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":jr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":jr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":jr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":jr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":jr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":jr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":jr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":jr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":os(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Go.get(l)||l,os(i,l,h))}}function U1(i,a,l,h,y,w){switch(l){case"style":El(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?ci(i,h):(typeof h=="number"||typeof h=="bigint")&&ci(i,""+h);break;case"onScroll":h!=null&&Nn("scroll",i);break;case"onScrollEnd":h!=null&&Nn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),w=i[rr]||null,w=w!=null?w[l]:null,typeof w=="function"&&i.removeEventListener(a,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):os(i,l,h)}}}function ys(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nn("error",i),Nn("load",i);var h=!1,y=!1,w;for(w in l)if(l.hasOwnProperty(w)){var I=l[w];if(I!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:mr(i,a,w,I,l,null)}}y&&mr(i,a,"srcSet",l.srcSet,l,null),h&&mr(i,a,"src",l.src,l,null);return;case"input":Nn("invalid",i);var $=w=I=y=null,me=null,Oe=null;for(h in l)if(l.hasOwnProperty(h)){var Ye=l[h];if(Ye!=null)switch(h){case"name":y=Ye;break;case"type":I=Ye;break;case"checked":me=Ye;break;case"defaultChecked":Oe=Ye;break;case"value":w=Ye;break;case"defaultValue":$=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,a));break;default:mr(i,a,h,Ye,l,null)}}cc(i,w,$,me,Oe,I,y,!1);return;case"select":Nn("invalid",i),h=I=w=null;for(y in l)if(l.hasOwnProperty(y)&&($=l[y],$!=null))switch(y){case"value":w=$;break;case"defaultValue":I=$;break;case"multiple":h=$;default:mr(i,a,y,$,l,null)}a=w,l=I,i.multiple=!!h,a!=null?ki(i,!!h,a,!1):l!=null&&ki(i,!!h,l,!0);return;case"textarea":Nn("invalid",i),w=y=h=null;for(I in l)if(l.hasOwnProperty(I)&&($=l[I],$!=null))switch(I){case"value":h=$;break;case"defaultValue":y=$;break;case"children":w=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:mr(i,a,I,$,l,null)}Aa(i,h,y,w);return;case"option":for(me in l)l.hasOwnProperty(me)&&(h=l[me],h!=null)&&(me==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":mr(i,a,me,h,l,null));return;case"dialog":Nn("beforetoggle",i),Nn("toggle",i),Nn("cancel",i),Nn("close",i);break;case"iframe":case"object":Nn("load",i);break;case"video":case"audio":for(h=0;h<rd.length;h++)Nn(rd[h],i);break;case"image":Nn("error",i),Nn("load",i);break;case"details":Nn("toggle",i);break;case"embed":case"source":case"link":Nn("error",i),Nn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(h=l[Oe],h!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:mr(i,a,Oe,h,l,null)}return;default:if(Ho(a)){for(Ye in l)l.hasOwnProperty(Ye)&&(h=l[Ye],h!==void 0&&U1(i,a,Ye,h,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(h=l[$],h!=null&&mr(i,a,$,h,l,null))}function XE(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,I=null,$=null,me=null,Oe=null,Ye=null;for(Fe in l){var Je=l[Fe];if(l.hasOwnProperty(Fe)&&Je!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":me=Je;default:h.hasOwnProperty(Fe)||mr(i,a,Fe,null,h,Je)}}for(var je in h){var Fe=h[je];if(Je=l[je],h.hasOwnProperty(je)&&(Fe!=null||Je!=null))switch(je){case"type":w=Fe;break;case"name":y=Fe;break;case"checked":Oe=Fe;break;case"defaultChecked":Ye=Fe;break;case"value":I=Fe;break;case"defaultValue":$=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,a));break;default:Fe!==Je&&mr(i,a,je,Fe,h,Je)}}co(i,I,$,me,Oe,Ye,w,y);return;case"select":Fe=I=$=je=null;for(w in l)if(me=l[w],l.hasOwnProperty(w)&&me!=null)switch(w){case"value":break;case"multiple":Fe=me;default:h.hasOwnProperty(w)||mr(i,a,w,null,h,me)}for(y in h)if(w=h[y],me=l[y],h.hasOwnProperty(y)&&(w!=null||me!=null))switch(y){case"value":je=w;break;case"defaultValue":$=w;break;case"multiple":I=w;default:w!==me&&mr(i,a,y,w,h,me)}a=$,l=I,h=Fe,je!=null?ki(i,!!l,je,!1):!!h!=!!l&&(a!=null?ki(i,!!l,a,!0):ki(i,!!l,l?[]:"",!1));return;case"textarea":Fe=je=null;for($ in l)if(y=l[$],l.hasOwnProperty($)&&y!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:mr(i,a,$,null,h,y)}for(I in h)if(y=h[I],w=l[I],h.hasOwnProperty(I)&&(y!=null||w!=null))switch(I){case"value":je=y;break;case"defaultValue":Fe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&mr(i,a,I,y,h,w)}Al(i,je,Fe);return;case"option":for(var Tt in l)je=l[Tt],l.hasOwnProperty(Tt)&&je!=null&&!h.hasOwnProperty(Tt)&&(Tt==="selected"?i.selected=!1:mr(i,a,Tt,null,h,je));for(me in h)je=h[me],Fe=l[me],h.hasOwnProperty(me)&&je!==Fe&&(je!=null||Fe!=null)&&(me==="selected"?i.selected=je&&typeof je!="function"&&typeof je!="symbol":mr(i,a,me,je,h,Fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in l)je=l[Jt],l.hasOwnProperty(Jt)&&je!=null&&!h.hasOwnProperty(Jt)&&mr(i,a,Jt,null,h,je);for(Oe in h)if(je=h[Oe],Fe=l[Oe],h.hasOwnProperty(Oe)&&je!==Fe&&(je!=null||Fe!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,a));break;default:mr(i,a,Oe,je,h,Fe)}return;default:if(Ho(a)){for(var gr in l)je=l[gr],l.hasOwnProperty(gr)&&je!==void 0&&!h.hasOwnProperty(gr)&&U1(i,a,gr,void 0,h,je);for(Ye in h)je=h[Ye],Fe=l[Ye],!h.hasOwnProperty(Ye)||je===Fe||je===void 0&&Fe===void 0||U1(i,a,Ye,je,h,Fe);return}}for(var Te in l)je=l[Te],l.hasOwnProperty(Te)&&je!=null&&!h.hasOwnProperty(Te)&&mr(i,a,Te,null,h,je);for(Je in h)je=h[Je],Fe=l[Je],!h.hasOwnProperty(Je)||je===Fe||je==null&&Fe==null||mr(i,a,Je,je,h,Fe)}function G5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QE(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],w=y.transferSize,I=y.initiatorType,$=y.duration;if(w&&$&&G5(I)){for(I=0,$=y.responseEnd,h+=1;h<l.length;h++){var me=l[h],Oe=me.startTime;if(Oe>$)break;var Ye=me.transferSize,Je=me.initiatorType;Ye&&G5(Je)&&(me=me.responseEnd,I+=Ye*(me<$?1:($-Oe)/(me-Oe)))}if(--h,a+=8*(w+I)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var B1=null,z1=null;function zp(i){return i.nodeType===9?i:i.ownerDocument}function Y5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function q1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var H1=null;function JE(){var i=window.event;return i&&i.type==="popstate"?i===H1?!1:(H1=i,!0):(H1=null,!1)}var K5=typeof setTimeout=="function"?setTimeout:void 0,ZE=typeof clearTimeout=="function"?clearTimeout:void 0,$5=typeof Promise=="function"?Promise:void 0,e6=typeof queueMicrotask=="function"?queueMicrotask:typeof $5<"u"?function(i){return $5.resolve(null).then(i).catch(t6)}:K5;function t6(i){setTimeout(function(){throw i})}function kc(i){return i==="head"}function X5(i,a){var l=a,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),Ph(a);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")sd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,sd(l);for(var w=l.firstChild;w;){var I=w.nextSibling,$=w.nodeName;w[Gi]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=I}}else l==="body"&&sd(i.ownerDocument.body);l=y}while(l);Ph(a)}function Q5(i,a){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function G1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":G1(l),wa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function n6(i,a,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Gi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=no(i.nextSibling),i===null)break}return null}function r6(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=no(i.nextSibling),i===null))return null;return i}function J5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=no(i.nextSibling),i===null))return null;return i}function Y1(i){return i.data==="$?"||i.data==="$~"}function W1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function i6(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function no(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var K1=null;function Z5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return no(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function eb(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function tb(i,a,l){switch(a=zp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);wa(i)}var ro=new Map,nb=new Set;function qp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Yl=pe.d;pe.d={f:s6,r:a6,D:o6,C:l6,L:c6,m:u6,X:f6,S:h6,M:d6};function s6(){var i=Yl.f(),a=Pp();return i||a}function a6(i){var a=Li(i);a!==null&&a.tag===5&&a.type==="form"?bv(a):Yl.r(i)}var Lh=typeof document>"u"?null:document;function rb(i,a,l){var h=Lh;if(h&&typeof a=="string"&&a){var y=Vr(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),nb.has(y)||(nb.add(y),i={rel:i,crossOrigin:l,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),ys(a,"link",i),Ir(a),h.head.appendChild(a)))}}function o6(i){Yl.D(i),rb("dns-prefetch",i,null)}function l6(i,a){Yl.C(i,a),rb("preconnect",i,a)}function c6(i,a,l){Yl.L(i,a,l);var h=Lh;if(h&&i&&a){var y='link[rel="preload"][as="'+Vr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Vr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Vr(l.imageSizes)+'"]')):y+='[href="'+Vr(i)+'"]';var w=y;switch(a){case"style":w=kh(i);break;case"script":w=Dh(i)}ro.has(w)||(i=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),ro.set(w,i),h.querySelector(y)!==null||a==="style"&&h.querySelector(ad(w))||a==="script"&&h.querySelector(od(w))||(a=h.createElement("link"),ys(a,"link",i),Ir(a),h.head.appendChild(a)))}}function u6(i,a){Yl.m(i,a);var l=Lh;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Vr(h)+'"][href="'+Vr(i)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Dh(i)}if(!ro.has(w)&&(i=b({rel:"modulepreload",href:i},a),ro.set(w,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(od(w)))return}h=l.createElement("link"),ys(h,"link",i),Ir(h),l.head.appendChild(h)}}}function h6(i,a,l){Yl.S(i,a,l);var h=Lh;if(h&&i){var y=ws(h).hoistableStyles,w=kh(i);a=a||"default";var I=y.get(w);if(!I){var $={loading:0,preload:null};if(I=h.querySelector(ad(w)))$.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":a},l),(l=ro.get(w))&&$1(i,l);var me=I=h.createElement("link");Ir(me),ys(me,"link",i),me._p=new Promise(function(Oe,Ye){me.onload=Oe,me.onerror=Ye}),me.addEventListener("load",function(){$.loading|=1}),me.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Hp(I,a,h)}I={type:"stylesheet",instance:I,count:1,state:$},y.set(w,I)}}}function f6(i,a){Yl.X(i,a);var l=Lh;if(l&&i){var h=ws(l).hoistableScripts,y=Dh(i),w=h.get(y);w||(w=l.querySelector(od(y)),w||(i=b({src:i,async:!0},a),(a=ro.get(y))&&X1(i,a),w=l.createElement("script"),Ir(w),ys(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function d6(i,a){Yl.M(i,a);var l=Lh;if(l&&i){var h=ws(l).hoistableScripts,y=Dh(i),w=h.get(y);w||(w=l.querySelector(od(y)),w||(i=b({src:i,async:!0,type:"module"},a),(a=ro.get(y))&&X1(i,a),w=l.createElement("script"),Ir(w),ys(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function ib(i,a,l,h){var y=(y=de.current)?qp(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=kh(l.href),l=ws(y).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=kh(l.href);var w=ws(y).hoistableStyles,I=w.get(i);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,I),(w=y.querySelector(ad(i)))&&!w._p&&(I.instance=w,I.state.loading=5),ro.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ro.set(i,l),w||p6(y,i,l,I.state))),a&&h===null)throw Error(r(528,""));return I}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Dh(l),l=ws(y).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function kh(i){return'href="'+Vr(i)+'"'}function ad(i){return'link[rel="stylesheet"]['+i+"]"}function sb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function p6(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),ys(a,"link",l),Ir(a),i.head.appendChild(a))}function Dh(i){return'[src="'+Vr(i)+'"]'}function od(i){return"script[async]"+i}function ab(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Vr(l.href)+'"]');if(h)return a.instance=h,Ir(h),h;var y=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ir(h),ys(h,"style",y),Hp(h,l.precedence,i),a.instance=h;case"stylesheet":y=kh(l.href);var w=i.querySelector(ad(y));if(w)return a.state.loading|=4,a.instance=w,Ir(w),w;h=sb(l),(y=ro.get(y))&&$1(h,y),w=(i.ownerDocument||i).createElement("link"),Ir(w);var I=w;return I._p=new Promise(function($,me){I.onload=$,I.onerror=me}),ys(w,"link",h),a.state.loading|=4,Hp(w,l.precedence,i),a.instance=w;case"script":return w=Dh(l.src),(y=i.querySelector(od(w)))?(a.instance=y,Ir(y),y):(h=l,(y=ro.get(w))&&(h=b({},l),X1(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),Ir(y),ys(y,"link",h),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Hp(h,l.precedence,i));return a.instance}function Hp(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,I=0;I<h.length;I++){var $=h[I];if($.dataset.precedence===a)w=$;else if(w!==y)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function $1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function X1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Gp=null;function ob(i,a,l){if(Gp===null){var h=new Map,y=Gp=new Map;y.set(l,h)}else y=Gp,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var w=l[y];if(!(w[Gi]||w[Gn]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(a)||"";I=i+I;var $=h.get(I);$?$.push(w):h.set(I,[w])}}return h}function lb(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function m6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function g6(i,a,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=kh(h.href),w=a.querySelector(ad(y));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Yp.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=w,Ir(w);return}w=a.ownerDocument||a,h=sb(h),(y=ro.get(y))&&$1(h,y),w=w.createElement("link"),Ir(w);var I=w;I._p=new Promise(function($,me){I.onload=$,I.onerror=me}),ys(w,"link",h),l.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Yp.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var Q1=0;function y6(i,a){return i.stylesheets&&i.count===0&&Kp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Kp(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+a);0<i.imgBytes&&Q1===0&&(Q1=62500*QE());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Kp(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>Q1?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Yp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wp=null;function Kp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wp=new Map,a.forEach(v6,i),Wp=null,Yp.call(i))}function v6(i,a){if(!(a.state.loading&4)){var l=Wp.get(i);if(l)var h=l.get(null);else{l=new Map,Wp.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var I=y[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),h=I)}h&&l.set(null,h)}y=a.instance,I=y.getAttribute("data-precedence"),w=l.get(I)||h,w===h&&l.set(null,y),l.set(I,y),this.count++,h=Yp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var ld={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function b6(i,a,l,h,y,w,I,$,me){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function ub(i,a,l,h,y,w,I,$,me,Oe,Ye,Je){return i=new b6(i,a,l,I,me,Oe,Ye,Je,$),a=1,w===!0&&(a|=24),w=Qi(3,null,null,a),i.current=w,w.stateNode=i,a=_c(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:h,isDehydrated:l,cache:a},ht(w),i}function hb(i){return i?(i=Mi,i):Mi}function fb(i,a,l,h,y,w){y=hb(y),h.context===null?h.context=y:h.pendingContext=y,h=Xt(a),h.payload={element:l},w=w===void 0?null:w,w!==null&&(h.callback=w),l=hn(i,h,a),l!==null&&(pa(l,i,a),Xn(l,i,a))}function db(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function J1(i,a){db(i,a),(i=i.alternate)&&db(i,a)}function pb(i){if(i.tag===13||i.tag===31){var a=xo(i,67108864);a!==null&&pa(a,i,67108864),J1(i,67108864)}}function mb(i){if(i.tag===13||i.tag===31){var a=Da();a=zn(a);var l=xo(i,a);l!==null&&pa(l,i,a),J1(i,a)}}var $p=!0;function _6(i,a,l,h){var y=te.T;te.T=null;var w=pe.p;try{pe.p=2,Z1(i,a,l,h)}finally{pe.p=w,te.T=y}}function w6(i,a,l,h){var y=te.T;te.T=null;var w=pe.p;try{pe.p=8,Z1(i,a,l,h)}finally{pe.p=w,te.T=y}}function Z1(i,a,l,h){if($p){var y=e0(h);if(y===null)F1(i,a,h,Xp,l),yb(i,h);else if(A6(y,i,a,l,h))h.stopPropagation();else if(yb(i,h),a&4&&-1<x6.indexOf(i)){for(;y!==null;){var w=Li(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=Ct(w.pendingLanes);if(I!==0){var $=w;for($.pendingLanes|=2,$.entangledLanes|=2;I;){var me=1<<31-Qt(I);$.entanglements[1]|=me,I&=~me}ll(w),(Jn&6)===0&&(kp=Ke()+500,nd(0))}}break;case 31:case 13:$=xo(w,2),$!==null&&pa($,w,2),Pp(),J1(w,2)}if(w=e0(h),w===null&&F1(i,a,h,Xp,l),w===y)break;y=w}y!==null&&h.stopPropagation()}else F1(i,a,h,null,l)}}function e0(i){return i=Ki(i),t0(i)}var Xp=null;function t0(i){if(Xp=null,i=ss(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Xp=i,null}function gb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case Ve:return 2;case it:return 8;case ft:case st:return 32;case bt:return 268435456;default:return 32}default:return 32}}var n0=!1,Dc=null,Pc=null,Oc=null,cd=new Map,ud=new Map,Mc=[],x6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yb(i,a){switch(i){case"focusin":case"focusout":Dc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":cd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(a.pointerId)}}function hd(i,a,l,h,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},a!==null&&(a=Li(a),a!==null&&pb(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function A6(i,a,l,h,y){switch(a){case"focusin":return Dc=hd(Dc,i,a,l,h,y),!0;case"dragenter":return Pc=hd(Pc,i,a,l,h,y),!0;case"mouseover":return Oc=hd(Oc,i,a,l,h,y),!0;case"pointerover":var w=y.pointerId;return cd.set(w,hd(cd.get(w)||null,i,a,l,h,y)),!0;case"gotpointercapture":return w=y.pointerId,ud.set(w,hd(ud.get(w)||null,i,a,l,h,y)),!0}return!1}function vb(i){var a=ss(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,Ri(i.priority,function(){mb(l)});return}}else if(a===31){if(a=u(l),a!==null){i.blockedOn=a,Ri(i.priority,function(){mb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=e0(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ea=h,l.target.dispatchEvent(h),Ea=null}else return a=Li(l),a!==null&&pb(a),i.blockedOn=l,!1;a.shift()}return!0}function bb(i,a,l){Qp(i)&&l.delete(a)}function S6(){n0=!1,Dc!==null&&Qp(Dc)&&(Dc=null),Pc!==null&&Qp(Pc)&&(Pc=null),Oc!==null&&Qp(Oc)&&(Oc=null),cd.forEach(bb),ud.forEach(bb)}function Jp(i,a){i.blockedOn===a&&(i.blockedOn=null,n0||(n0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,S6)))}var Zp=null;function _b(i){Zp!==i&&(Zp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zp===i&&(Zp=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],y=i[a+2];if(typeof h!="function"){if(t0(h||l)===null)continue;break}var w=Li(l);w!==null&&(i.splice(a,3),a-=3,e1(w,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Ph(i){function a(me){return Jp(me,i)}Dc!==null&&Jp(Dc,i),Pc!==null&&Jp(Pc,i),Oc!==null&&Jp(Oc,i),cd.forEach(a),ud.forEach(a);for(var l=0;l<Mc.length;l++){var h=Mc[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Mc.length&&(l=Mc[0],l.blockedOn===null);)vb(l),l.blockedOn===null&&Mc.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],w=l[h+1],I=y[rr]||null;if(typeof w=="function")I||_b(l);else if(I){var $=null;if(w&&w.hasAttribute("formAction")){if(y=w,I=w[rr]||null)$=I.formAction;else if(t0(y)!==null)continue}else $=I.action;typeof $=="function"?l[h+1]=$:(l.splice(h,3),h-=3),_b(l)}}}function wb(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(I){return y=I})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function r0(i){this._internalRoot=i}em.prototype.render=r0.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=Da();fb(l,h,i,a,null,null)},em.prototype.unmount=r0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;fb(i.current,2,null,i,null,null),Pp(),a[ei]=null}};function em(i){this._internalRoot=i}em.prototype.unstable_scheduleHydration=function(i){if(i){var a=Hr();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Mc.length&&a!==0&&a<Mc[l].priority;l++);Mc.splice(l,0,i),l===0&&vb(i)}};var xb=e.version;if(xb!=="19.2.4")throw Error(r(527,xb,"19.2.4"));pe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var E6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{Zt=tm.inject(E6),Pt=tm}catch{}}return dd.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",y=Iv,w=Rv,I=Lv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError)),a=ub(i,1,!1,null,null,l,h,null,y,w,I,wb),i[ei]=a.current,V1(i),new r0(a)},dd.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,y="",w=Iv,I=Rv,$=Lv,me=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.formState!==void 0&&(me=l.formState)),a=ub(i,1,!0,a,l??null,h,y,me,w,I,$,wb),a.context=hb(null),l=a.current,h=Da(),h=zn(h),y=Xt(h),y.callback=null,hn(l,y,h),l=h,a.current.lanes=l,pt(a,l),ll(a),i[ei]=a.current,V1(i),new em(a)},dd.version="19.2.4",dd}var kb;function P6(){if(kb)return a0.exports;kb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),a0.exports=D6(),a0.exports}var O6=P6();const r4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const M6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const j6=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const Db=n=>{const e=j6(n);return e.charAt(0).toUpperCase()+e.slice(1)};var V6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const F6=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const U6=mt.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...u},f)=>mt.createElement("svg",{ref:f,...V6,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:r4("lucide",s),...!o&&!F6(u)&&{"aria-hidden":"true"},...u},[...c.map(([d,g])=>mt.createElement(d,g)),...Array.isArray(o)?o:[o]]));const Mn=(n,e)=>{const t=mt.forwardRef(({className:r,...s},o)=>mt.createElement(U6,{ref:o,iconNode:e,className:r4(`lucide-${M6(Db(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Db(n),t};const B6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],z6=Mn("arrow-left",B6);const q6=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],H6=Mn("arrow-up-down",q6);const G6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pb=Mn("bell",G6);const Y6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],W6=Mn("check",Y6);const K6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],a2=Mn("circle-check-big",K6);const $6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],X6=Mn("clock",$6);const Q6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J6=Mn("download",Q6);const Z6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],eN=Mn("ellipsis",Z6);const tN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nN=Mn("file-text",tN);const rN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],i4=Mn("funnel",rN);const iN=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],sN=Mn("key-round",iN);const aN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oN=Mn("layers",aN);const lN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],s4=Mn("layout-dashboard",lN);const cN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],a4=Mn("loader-circle",cN);const uN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hN=Mn("lock",uN);const fN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dN=Mn("log-out",fN);const pN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mN=Mn("map-pin",pN);const gN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yN=Mn("menu",gN);const vN=[["path",{d:"M5 12h14",key:"1ays0h"}]],bN=Mn("minus",vN);const _N=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ob=Mn("moon",_N);const wN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],o2=Mn("package",wN);const xN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fg=Mn("plus",xN);const AN=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],SN=Mn("power",AN);const EN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],o4=Mn("save",EN);const NN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xd=Mn("search",NN);const TN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CN=Mn("settings",TN);const IN=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Mb=Mn("shopping-bag",IN);const RN=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],l2=Mn("shopping-cart",RN);const LN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kN=Mn("sun",LN);const DN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Md=Mn("tag",DN);const PN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],iy=Mn("trash-2",PN);const ON=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sy=Mn("triangle-alert",ON);const MN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],l4=Mn("truck",MN);const jN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ay=Mn("user",jN);const VN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dg=Mn("x",VN);var FN=n4();const UN=t4(FN);function BN(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const zN=n=>{switch(n){case"success":return GN;case"info":return WN;case"warning":return YN;case"error":return KN;default:return null}},qN=Array(12).fill(0),HN=({visible:n,className:e})=>Xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Xe.createElement("div",{className:"sonner-spinner"},qN.map((t,r)=>Xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),GN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KN=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$N=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),XN=()=>{const[n,e]=Xe.useState(document.hidden);return Xe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let c2=1;class QN{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:c2++,c=this.toasts.find(f=>f.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...e,id:o,title:r}),{...f,...e,id:o,dismissible:u,title:r}):f):this.addToast({title:r,...s,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,c;const u=s.then(async d=>{if(c=["resolve",d],Xe.isValidElement(d))o=!1,this.create({id:r,type:"default",message:d});else if(ZN(d)&&!d.ok){o=!1;const b=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description,M=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:E,...M})}else if(d instanceof Error){o=!1;const b=typeof t.error=="function"?await t.error(d):t.error,E=typeof t.description=="function"?await t.description(d):t.description,M=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:E,...M})}else if(t.success!==void 0){o=!1;const b=typeof t.success=="function"?await t.success(d):t.success,E=typeof t.description=="function"?await t.description(d):t.description,M=typeof b=="object"&&!Xe.isValidElement(b)?b:{message:b};this.create({id:r,type:"success",description:E,...M})}}).catch(async d=>{if(c=["reject",d],t.error!==void 0){o=!1;const g=typeof t.error=="function"?await t.error(d):t.error,b=typeof t.description=="function"?await t.description(d):t.description,_=typeof g=="object"&&!Xe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,..._})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),f=()=>new Promise((d,g)=>u.then(()=>c[0]==="reject"?g(c[1]):d(c[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,t)=>{const r=t?.id||c2++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ma=new QN,JN=(n,e)=>{const t=e?.id||c2++;return ma.addToast({title:n,...e,id:t}),t},ZN=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",eT=JN,tT=()=>ma.toasts,nT=()=>ma.getActiveToasts(),pn=Object.assign(eT,{success:ma.success,info:ma.info,warning:ma.warning,error:ma.error,custom:ma.custom,message:ma.message,promise:ma.promise,dismiss:ma.dismiss,loading:ma.loading},{getHistory:tT,getToasts:nT});BN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function nm(n){return n.label!==void 0}const rT=3,iT="24px",sT="16px",jb=4e3,aT=356,oT=14,lT=45,cT=200;function cl(...n){return n.filter(Boolean).join(" ")}function uT(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const hT=n=>{var e,t,r,s,o,c,u,f,d;const{invert:g,toast:b,unstyled:E,interacting:_,setHeights:M,visibleToasts:V,heights:U,index:j,toasts:ne,expanded:oe,removeToast:H,defaultRichColors:ee,closeButton:fe,style:q,cancelButtonStyle:k,actionButtonStyle:D,className:Y="",descriptionClassName:T="",duration:R,position:L,gap:he,expandByDefault:Ae,classNames:te,icons:pe,closeButtonAriaLabel:ue="Close toast"}=n,[Ce,be]=Xe.useState(null),[X,P]=Xe.useState(null),[z,K]=Xe.useState(!1),[ie,de]=Xe.useState(!1),[ye,Ee]=Xe.useState(!1),[Le,Ue]=Xe.useState(!1),[et,ot]=Xe.useState(!1),[ct,vt]=Xe.useState(0),[re,lt]=Xe.useState(0),$t=Xe.useRef(b.duration||R||jb),Mt=Xe.useRef(null),Be=Xe.useRef(null),dt=j===0,se=j+1<=V,ge=b.type,Se=b.dismissible!==!1,Ke=b.className||"",He=b.descriptionClassName||"",Ve=Xe.useMemo(()=>U.findIndex(ut=>ut.toastId===b.id)||0,[U,b.id]),it=Xe.useMemo(()=>{var ut;return(ut=b.closeButton)!=null?ut:fe},[b.closeButton,fe]),ft=Xe.useMemo(()=>b.duration||R||jb,[b.duration,R]),st=Xe.useRef(0),bt=Xe.useRef(0),gt=Xe.useRef(0),fn=Xe.useRef(null),[Zt,Pt]=L.split("-"),Ft=Xe.useMemo(()=>U.reduce((ut,_n,An)=>An>=Ve?ut:ut+_n.height,0),[U,Ve]),Qt=XN(),Ot=b.invert||g,yn=ge==="loading";bt.current=Xe.useMemo(()=>Ve*he+Ft,[Ve,Ft]),Xe.useEffect(()=>{$t.current=ft},[ft]),Xe.useEffect(()=>{K(!0)},[]),Xe.useEffect(()=>{const ut=Be.current;if(ut){const _n=ut.getBoundingClientRect().height;return lt(_n),M(An=>[{toastId:b.id,height:_n,position:b.position},...An]),()=>M(An=>An.filter(cr=>cr.toastId!==b.id))}},[M,b.id]),Xe.useLayoutEffect(()=>{if(!z)return;const ut=Be.current,_n=ut.style.height;ut.style.height="auto";const An=ut.getBoundingClientRect().height;ut.style.height=_n,lt(An),M(cr=>cr.find(pt=>pt.toastId===b.id)?cr.map(pt=>pt.toastId===b.id?{...pt,height:An}:pt):[{toastId:b.id,height:An,position:b.position},...cr])},[z,b.title,b.description,M,b.id,b.jsx,b.action,b.cancel]);const Et=Xe.useCallback(()=>{de(!0),vt(bt.current),M(ut=>ut.filter(_n=>_n.toastId!==b.id)),setTimeout(()=>{H(b)},cT)},[b,H,M,bt]);Xe.useEffect(()=>{if(b.promise&&ge==="loading"||b.duration===1/0||b.type==="loading")return;let ut;return oe||_||Qt?(()=>{if(gt.current<st.current){const cr=new Date().getTime()-st.current;$t.current=$t.current-cr}gt.current=new Date().getTime()})():$t.current!==1/0&&(st.current=new Date().getTime(),ut=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),Et()},$t.current)),()=>clearTimeout(ut)},[oe,_,b,ge,Qt,Et]),Xe.useEffect(()=>{b.delete&&(Et(),b.onDismiss==null||b.onDismiss.call(b,b))},[Et,b.delete]);function zt(){var ut;if(pe?.loading){var _n;return Xe.createElement("div",{className:cl(te?.loader,b==null||(_n=b.classNames)==null?void 0:_n.loader,"sonner-loader"),"data-visible":ge==="loading"},pe.loading)}return Xe.createElement(HN,{className:cl(te?.loader,b==null||(ut=b.classNames)==null?void 0:ut.loader),visible:ge==="loading"})}const jn=b.icon||pe?.[ge]||zN(ge);var jt,Ct;return Xe.createElement("li",{tabIndex:0,ref:Be,className:cl(Y,Ke,te?.toast,b==null||(e=b.classNames)==null?void 0:e.toast,te?.default,te?.[ge],b==null||(t=b.classNames)==null?void 0:t[ge]),"data-sonner-toast":"","data-rich-colors":(jt=b.richColors)!=null?jt:ee,"data-styled":!(b.jsx||b.unstyled||E),"data-mounted":z,"data-promise":!!b.promise,"data-swiped":et,"data-removed":ie,"data-visible":se,"data-y-position":Zt,"data-x-position":Pt,"data-index":j,"data-front":dt,"data-swiping":ye,"data-dismissible":Se,"data-type":ge,"data-invert":Ot,"data-swipe-out":Le,"data-swipe-direction":X,"data-expanded":!!(oe||Ae&&z),"data-testid":b.testId,style:{"--index":j,"--toasts-before":j,"--z-index":ne.length-j,"--offset":`${ie?ct:bt.current}px`,"--initial-height":Ae?"auto":`${re}px`,...q,...b.style},onDragEnd:()=>{Ee(!1),be(null),fn.current=null},onPointerDown:ut=>{ut.button!==2&&(yn||!Se||(Mt.current=new Date,vt(bt.current),ut.target.setPointerCapture(ut.pointerId),ut.target.tagName!=="BUTTON"&&(Ee(!0),fn.current={x:ut.clientX,y:ut.clientY})))},onPointerUp:()=>{var ut,_n,An;if(Le||!Se)return;fn.current=null;const cr=Number(((ut=Be.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sr=Number(((_n=Be.current)==null?void 0:_n.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pt=new Date().getTime()-((An=Mt.current)==null?void 0:An.getTime()),Er=Ce==="x"?cr:Sr,Zr=Math.abs(Er)/pt;if(Math.abs(Er)>=lT||Zr>.11){vt(bt.current),b.onDismiss==null||b.onDismiss.call(b,b),P(Ce==="x"?cr>0?"right":"left":Sr>0?"down":"up"),Et(),Ue(!0);return}else{var Zn,er;(Zn=Be.current)==null||Zn.style.setProperty("--swipe-amount-x","0px"),(er=Be.current)==null||er.style.setProperty("--swipe-amount-y","0px")}ot(!1),Ee(!1),be(null)},onPointerMove:ut=>{var _n,An,cr;if(!fn.current||!Se||((_n=window.getSelection())==null?void 0:_n.toString().length)>0)return;const pt=ut.clientY-fn.current.y,Er=ut.clientX-fn.current.x;var Zr;const Zn=(Zr=n.swipeDirections)!=null?Zr:uT(L);!Ce&&(Math.abs(Er)>1||Math.abs(pt)>1)&&be(Math.abs(Er)>Math.abs(pt)?"x":"y");let er={x:0,y:0};const zn=Tn=>1/(1.5+Math.abs(Tn)/20);if(Ce==="y"){if(Zn.includes("top")||Zn.includes("bottom"))if(Zn.includes("top")&&pt<0||Zn.includes("bottom")&&pt>0)er.y=pt;else{const Tn=pt*zn(pt);er.y=Math.abs(Tn)<Math.abs(pt)?Tn:pt}}else if(Ce==="x"&&(Zn.includes("left")||Zn.includes("right")))if(Zn.includes("left")&&Er<0||Zn.includes("right")&&Er>0)er.x=Er;else{const Tn=Er*zn(Er);er.x=Math.abs(Tn)<Math.abs(Er)?Tn:Er}(Math.abs(er.x)>0||Math.abs(er.y)>0)&&ot(!0),(An=Be.current)==null||An.style.setProperty("--swipe-amount-x",`${er.x}px`),(cr=Be.current)==null||cr.style.setProperty("--swipe-amount-y",`${er.y}px`)}},it&&!b.jsx&&ge!=="loading"?Xe.createElement("button",{"aria-label":ue,"data-disabled":yn,"data-close-button":!0,onClick:yn||!Se?()=>{}:()=>{Et(),b.onDismiss==null||b.onDismiss.call(b,b)},className:cl(te?.closeButton,b==null||(r=b.classNames)==null?void 0:r.closeButton)},(Ct=pe?.close)!=null?Ct:$N):null,(ge||b.icon||b.promise)&&b.icon!==null&&(pe?.[ge]!==null||b.icon)?Xe.createElement("div",{"data-icon":"",className:cl(te?.icon,b==null||(s=b.classNames)==null?void 0:s.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||zt():null,b.type!=="loading"?jn:null):null,Xe.createElement("div",{"data-content":"",className:cl(te?.content,b==null||(o=b.classNames)==null?void 0:o.content)},Xe.createElement("div",{"data-title":"",className:cl(te?.title,b==null||(c=b.classNames)==null?void 0:c.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?Xe.createElement("div",{"data-description":"",className:cl(T,He,te?.description,b==null||(u=b.classNames)==null?void 0:u.description)},typeof b.description=="function"?b.description():b.description):null),Xe.isValidElement(b.cancel)?b.cancel:b.cancel&&nm(b.cancel)?Xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||k,onClick:ut=>{nm(b.cancel)&&Se&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,ut),Et())},className:cl(te?.cancelButton,b==null||(f=b.classNames)==null?void 0:f.cancelButton)},b.cancel.label):null,Xe.isValidElement(b.action)?b.action:b.action&&nm(b.action)?Xe.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||D,onClick:ut=>{nm(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,ut),!ut.defaultPrevented&&Et())},className:cl(te?.actionButton,b==null||(d=b.classNames)==null?void 0:d.actionButton)},b.action.label):null)};function Vb(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function fT(n,e){const t={};return[n,e].forEach((r,s)=>{const o=s===1,c=o?"--mobile-offset":"--offset",u=o?sT:iT;function f(d){["top","right","bottom","left"].forEach(g=>{t[`${c}-${g}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?t[`${c}-${d}`]=u:t[`${c}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):f(u)}),t}const dT=Xe.forwardRef(function(e,t){const{id:r,invert:s,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:f,className:d,offset:g,mobileOffset:b,theme:E="light",richColors:_,duration:M,style:V,visibleToasts:U=rT,toastOptions:j,dir:ne=Vb(),gap:oe=oT,icons:H,containerAriaLabel:ee="Notifications"}=e,[fe,q]=Xe.useState([]),k=Xe.useMemo(()=>r?fe.filter(z=>z.toasterId===r):fe.filter(z=>!z.toasterId),[fe,r]),D=Xe.useMemo(()=>Array.from(new Set([o].concat(k.filter(z=>z.position).map(z=>z.position)))),[k,o]),[Y,T]=Xe.useState([]),[R,L]=Xe.useState(!1),[he,Ae]=Xe.useState(!1),[te,pe]=Xe.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=Xe.useRef(null),Ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),be=Xe.useRef(null),X=Xe.useRef(!1),P=Xe.useCallback(z=>{q(K=>{var ie;return(ie=K.find(de=>de.id===z.id))!=null&&ie.delete||ma.dismiss(z.id),K.filter(({id:de})=>de!==z.id)})},[]);return Xe.useEffect(()=>ma.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{q(K=>K.map(ie=>ie.id===z.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{UN.flushSync(()=>{q(K=>{const ie=K.findIndex(de=>de.id===z.id);return ie!==-1?[...K.slice(0,ie),{...K[ie],...z},...K.slice(ie+1)]:[z,...K]})})})}),[fe]),Xe.useEffect(()=>{if(E!=="system"){pe(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:K})=>{pe(K?"dark":"light")})}catch{z.addListener(({matches:ie})=>{try{pe(ie?"dark":"light")}catch(de){console.error(de)}})}},[E]),Xe.useEffect(()=>{fe.length<=1&&L(!1)},[fe]),Xe.useEffect(()=>{const z=K=>{var ie;if(c.every(Ee=>K[Ee]||K.code===Ee)){var ye;L(!0),(ye=ue.current)==null||ye.focus()}K.code==="Escape"&&(document.activeElement===ue.current||(ie=ue.current)!=null&&ie.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[c]),Xe.useEffect(()=>{if(ue.current)return()=>{be.current&&(be.current.focus({preventScroll:!0}),be.current=null,X.current=!1)}},[ue.current]),Xe.createElement("section",{ref:t,"aria-label":`${ee} ${Ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((z,K)=>{var ie;const[de,ye]=z.split("-");return k.length?Xe.createElement("ol",{key:z,dir:ne==="auto"?Vb():ne,tabIndex:-1,ref:ue,className:d,"data-sonner-toaster":!0,"data-sonner-theme":te,"data-y-position":de,"data-x-position":ye,style:{"--front-toast-height":`${((ie=Y[0])==null?void 0:ie.height)||0}px`,"--width":`${aT}px`,"--gap":`${oe}px`,...V,...fT(g,b)},onBlur:Ee=>{X.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(X.current=!1,be.current&&(be.current.focus({preventScroll:!0}),be.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||X.current||(X.current=!0,be.current=Ee.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{he||L(!1)},onDragEnd:()=>L(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||Ae(!0)},onPointerUp:()=>Ae(!1)},k.filter(Ee=>!Ee.position&&K===0||Ee.position===z).map((Ee,Le)=>{var Ue,et;return Xe.createElement(hT,{key:Ee.id,icons:H,index:Le,toast:Ee,defaultRichColors:_,duration:(Ue=j?.duration)!=null?Ue:M,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:s,visibleToasts:U,closeButton:(et=j?.closeButton)!=null?et:f,interacting:he,position:z,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:P,toasts:k.filter(ot=>ot.position==Ee.position),heights:Y.filter(ot=>ot.position==Ee.position),setHeights:T,expandByDefault:u,gap:oe,expanded:R,swipeDirections:e.swipeDirections})})):null}))});function c4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=c4(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function pT(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=c4(n))&&(r&&(r+=" "),r+=e);return r}const mT=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},gT=(n,e)=>({classGroupId:n,validator:e}),u4=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Mm="-",Fb=[],yT="arbitrary..",vT=n=>{const e=_T(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return bT(c);const u=c.split(Mm),f=u[0]===""&&u.length>1?1:0;return h4(u,f,e)},getConflictingClassGroupIds:(c,u)=>{if(u){const f=r[c],d=t[c];return f?d?mT(d,f):f:d||Fb}return t[c]||Fb}}},h4=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const s=n[e],o=t.nextPart.get(s);if(o){const d=h4(n,e+1,o);if(d)return d}const c=t.validators;if(c===null)return;const u=e===0?n.join(Mm):n.slice(e).join(Mm),f=c.length;for(let d=0;d<f;d++){const g=c[d];if(g.validator(u))return g.classGroupId}},bT=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?yT+r:void 0})(),_T=n=>{const{theme:e,classGroups:t}=n;return wT(t,e)},wT=(n,e)=>{const t=u4();for(const r in n){const s=n[r];oy(s,t,r,e)}return t},oy=(n,e,t,r)=>{const s=n.length;for(let o=0;o<s;o++){const c=n[o];xT(c,e,t,r)}},xT=(n,e,t,r)=>{if(typeof n=="string"){AT(n,e,t);return}if(typeof n=="function"){ST(n,e,t,r);return}ET(n,e,t,r)},AT=(n,e,t)=>{const r=n===""?e:f4(e,n);r.classGroupId=t},ST=(n,e,t,r)=>{if(NT(n)){oy(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(gT(t,n))},ET=(n,e,t,r)=>{const s=Object.entries(n),o=s.length;for(let c=0;c<o;c++){const[u,f]=s[c];oy(f,f4(e,u),t,r)}},f4=(n,e)=>{let t=n;const r=e.split(Mm),s=r.length;for(let o=0;o<s;o++){const c=r[o];let u=t.nextPart.get(c);u||(u=u4(),t.nextPart.set(c,u)),t=u}return t},NT=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,TT=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const s=(o,c)=>{t[o]=c,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(o){let c=t[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return s(o,c),c},set(o,c){o in t?t[o]=c:s(o,c)}}},u2="!",Ub=":",CT=[],Bb=(n,e,t,r,s)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:s}),IT=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const o=[];let c=0,u=0,f=0,d;const g=s.length;for(let V=0;V<g;V++){const U=s[V];if(c===0&&u===0){if(U===Ub){o.push(s.slice(f,V)),f=V+1;continue}if(U==="/"){d=V;continue}}U==="["?c++:U==="]"?c--:U==="("?u++:U===")"&&u--}const b=o.length===0?s:s.slice(f);let E=b,_=!1;b.endsWith(u2)?(E=b.slice(0,-1),_=!0):b.startsWith(u2)&&(E=b.slice(1),_=!0);const M=d&&d>f?d-f:void 0;return Bb(o,_,E,M)};if(e){const s=e+Ub,o=r;r=c=>c.startsWith(s)?o(c.slice(s.length)):Bb(CT,!1,c,void 0,!0)}if(t){const s=r;r=o=>t({className:o,parseClassName:s})}return r},RT=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let s=[];for(let o=0;o<t.length;o++){const c=t[o],u=c[0]==="[",f=e.has(c);u||f?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(c)):s.push(c)}return s.length>0&&(s.sort(),r.push(...s)),r}},LT=n=>({cache:TT(n.cacheSize),parseClassName:IT(n),sortModifiers:RT(n),...vT(n)}),kT=/\s+/,DT=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],u=n.trim().split(kT);let f="";for(let d=u.length-1;d>=0;d-=1){const g=u[d],{isExternal:b,modifiers:E,hasImportantModifier:_,baseClassName:M,maybePostfixModifierPosition:V}=t(g);if(b){f=g+(f.length>0?" "+f:f);continue}let U=!!V,j=r(U?M.substring(0,V):M);if(!j){if(!U){f=g+(f.length>0?" "+f:f);continue}if(j=r(M),!j){f=g+(f.length>0?" "+f:f);continue}U=!1}const ne=E.length===0?"":E.length===1?E[0]:o(E).join(":"),oe=_?ne+u2:ne,H=oe+j;if(c.indexOf(H)>-1)continue;c.push(H);const ee=s(j,U);for(let fe=0;fe<ee.length;++fe){const q=ee[fe];c.push(oe+q)}f=g+(f.length>0?" "+f:f)}return f},PT=(...n)=>{let e=0,t,r,s="";for(;e<n.length;)(t=n[e++])&&(r=d4(t))&&(s&&(s+=" "),s+=r);return s},d4=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=d4(n[r]))&&(t&&(t+=" "),t+=e);return t},OT=(n,...e)=>{let t,r,s,o;const c=f=>{const d=e.reduce((g,b)=>b(g),n());return t=LT(d),r=t.cache.get,s=t.cache.set,o=u,u(f)},u=f=>{const d=r(f);if(d)return d;const g=DT(f,t);return s(f,g),g};return o=c,(...f)=>o(PT(...f))},MT=[],zi=n=>{const e=t=>t[n]||MT;return e.isThemeGetter=!0,e},p4=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,m4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jT=/^\d+\/\d+$/,VT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,BT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oh=n=>jT.test(n),bn=n=>!!n&&!Number.isNaN(Number(n)),Vc=n=>!!n&&Number.isInteger(Number(n)),u0=n=>n.endsWith("%")&&bn(n.slice(0,-1)),Wl=n=>VT.test(n),qT=()=>!0,HT=n=>FT.test(n)&&!UT.test(n),g4=()=>!1,GT=n=>BT.test(n),YT=n=>zT.test(n),WT=n=>!Lt(n)&&!kt(n),KT=n=>bf(n,b4,g4),Lt=n=>p4.test(n),ku=n=>bf(n,_4,HT),h0=n=>bf(n,ZT,bn),zb=n=>bf(n,y4,g4),$T=n=>bf(n,v4,YT),rm=n=>bf(n,w4,GT),kt=n=>m4.test(n),pd=n=>_f(n,_4),XT=n=>_f(n,eC),qb=n=>_f(n,y4),QT=n=>_f(n,b4),JT=n=>_f(n,v4),im=n=>_f(n,w4,!0),bf=(n,e,t)=>{const r=p4.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},_f=(n,e,t=!1)=>{const r=m4.exec(n);return r?r[1]?e(r[1]):t:!1},y4=n=>n==="position"||n==="percentage",v4=n=>n==="image"||n==="url",b4=n=>n==="length"||n==="size"||n==="bg-size",_4=n=>n==="length",ZT=n=>n==="number",eC=n=>n==="family-name",w4=n=>n==="shadow",tC=()=>{const n=zi("color"),e=zi("font"),t=zi("text"),r=zi("font-weight"),s=zi("tracking"),o=zi("leading"),c=zi("breakpoint"),u=zi("container"),f=zi("spacing"),d=zi("radius"),g=zi("shadow"),b=zi("inset-shadow"),E=zi("text-shadow"),_=zi("drop-shadow"),M=zi("blur"),V=zi("perspective"),U=zi("aspect"),j=zi("ease"),ne=zi("animate"),oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ee=()=>[...H(),kt,Lt],fe=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],k=()=>[kt,Lt,f],D=()=>[Oh,"full","auto",...k()],Y=()=>[Vc,"none","subgrid",kt,Lt],T=()=>["auto",{span:["full",Vc,kt,Lt]},Vc,kt,Lt],R=()=>[Vc,"auto",kt,Lt],L=()=>["auto","min","max","fr",kt,Lt],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],te=()=>["auto",...k()],pe=()=>[Oh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],ue=()=>[n,kt,Lt],Ce=()=>[...H(),qb,zb,{position:[kt,Lt]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",QT,KT,{size:[kt,Lt]}],P=()=>[u0,pd,ku],z=()=>["","none","full",d,kt,Lt],K=()=>["",bn,pd,ku],ie=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[bn,u0,qb,zb],Ee=()=>["","none",M,kt,Lt],Le=()=>["none",bn,kt,Lt],Ue=()=>["none",bn,kt,Lt],et=()=>[bn,kt,Lt],ot=()=>[Oh,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wl],breakpoint:[Wl],color:[qT],container:[Wl],"drop-shadow":[Wl],ease:["in","out","in-out"],font:[WT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wl],shadow:[Wl],spacing:["px",bn],text:[Wl],"text-shadow":[Wl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oh,Lt,kt,U]}],container:["container"],columns:[{columns:[bn,Lt,kt,u]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ee()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Vc,"auto",kt,Lt]}],basis:[{basis:[Oh,"full","auto",u,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bn,Oh,"auto","initial","none",Lt]}],grow:[{grow:["",bn,kt,Lt]}],shrink:[{shrink:["",bn,kt,Lt]}],order:[{order:[Vc,"first","last","none",kt,Lt]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[u,"screen",...pe()]}],"min-w":[{"min-w":[u,"screen","none",...pe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",t,pd,ku]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,kt,h0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",u0,Lt]}],"font-family":[{font:[XT,Lt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,kt,Lt]}],"line-clamp":[{"line-clamp":[bn,"none",kt,h0]}],leading:[{leading:[o,...k()]}],"list-image":[{"list-image":["none",kt,Lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",kt,Lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ue()}],"text-color":[{text:ue()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[bn,"from-font","auto",kt,ku]}],"text-decoration-color":[{decoration:ue()}],"underline-offset":[{"underline-offset":[bn,"auto",kt,Lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt,Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt,Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ce()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vc,kt,Lt],radial:["",kt,Lt],conic:[Vc,kt,Lt]},JT,$T]}],"bg-color":[{bg:ue()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:ue()}],"gradient-via":[{via:ue()}],"gradient-to":[{to:ue()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:ue()}],"border-color-x":[{"border-x":ue()}],"border-color-y":[{"border-y":ue()}],"border-color-s":[{"border-s":ue()}],"border-color-e":[{"border-e":ue()}],"border-color-t":[{"border-t":ue()}],"border-color-r":[{"border-r":ue()}],"border-color-b":[{"border-b":ue()}],"border-color-l":[{"border-l":ue()}],"divide-color":[{divide:ue()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bn,kt,Lt]}],"outline-w":[{outline:["",bn,pd,ku]}],"outline-color":[{outline:ue()}],shadow:[{shadow:["","none",g,im,rm]}],"shadow-color":[{shadow:ue()}],"inset-shadow":[{"inset-shadow":["none",b,im,rm]}],"inset-shadow-color":[{"inset-shadow":ue()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ue()}],"ring-offset-w":[{"ring-offset":[bn,ku]}],"ring-offset-color":[{"ring-offset":ue()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":ue()}],"text-shadow":[{"text-shadow":["none",E,im,rm]}],"text-shadow-color":[{"text-shadow":ue()}],opacity:[{opacity:[bn,kt,Lt]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":ue()}],"mask-image-linear-to-color":[{"mask-linear-to":ue()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":ue()}],"mask-image-t-to-color":[{"mask-t-to":ue()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":ue()}],"mask-image-r-to-color":[{"mask-r-to":ue()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":ue()}],"mask-image-b-to-color":[{"mask-b-to":ue()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":ue()}],"mask-image-l-to-color":[{"mask-l-to":ue()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":ue()}],"mask-image-x-to-color":[{"mask-x-to":ue()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":ue()}],"mask-image-y-to-color":[{"mask-y-to":ue()}],"mask-image-radial":[{"mask-radial":[kt,Lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":ue()}],"mask-image-radial-to-color":[{"mask-radial-to":ue()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[bn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":ue()}],"mask-image-conic-to-color":[{"mask-conic-to":ue()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ce()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",kt,Lt]}],filter:[{filter:["","none",kt,Lt]}],blur:[{blur:Ee()}],brightness:[{brightness:[bn,kt,Lt]}],contrast:[{contrast:[bn,kt,Lt]}],"drop-shadow":[{"drop-shadow":["","none",_,im,rm]}],"drop-shadow-color":[{"drop-shadow":ue()}],grayscale:[{grayscale:["",bn,kt,Lt]}],"hue-rotate":[{"hue-rotate":[bn,kt,Lt]}],invert:[{invert:["",bn,kt,Lt]}],saturate:[{saturate:[bn,kt,Lt]}],sepia:[{sepia:["",bn,kt,Lt]}],"backdrop-filter":[{"backdrop-filter":["","none",kt,Lt]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[bn,kt,Lt]}],"backdrop-contrast":[{"backdrop-contrast":[bn,kt,Lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bn,kt,Lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bn,kt,Lt]}],"backdrop-invert":[{"backdrop-invert":["",bn,kt,Lt]}],"backdrop-opacity":[{"backdrop-opacity":[bn,kt,Lt]}],"backdrop-saturate":[{"backdrop-saturate":[bn,kt,Lt]}],"backdrop-sepia":[{"backdrop-sepia":["",bn,kt,Lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",kt,Lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bn,"initial",kt,Lt]}],ease:[{ease:["linear","initial",j,kt,Lt]}],delay:[{delay:[bn,kt,Lt]}],animate:[{animate:["none",ne,kt,Lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,kt,Lt]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[kt,Lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ot()}],"translate-x":[{"translate-x":ot()}],"translate-y":[{"translate-y":ot()}],"translate-z":[{"translate-z":ot()}],"translate-none":["translate-none"],accent:[{accent:ue()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ue()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt,Lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt,Lt]}],fill:[{fill:["none",...ue()]}],"stroke-w":[{stroke:[bn,pd,ku,h0]}],stroke:[{stroke:["none",...ue()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nC=OT(tC);function Ws(...n){return nC(pT(n))}const Hb=n=>{let e;const t=new Set,r=(d,g)=>{const b=typeof d=="function"?d(e):d;if(!Object.is(b,e)){const E=e;e=g??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(_=>_(e,E))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(r,s,u);return u},rC=(n=>n?Hb(n):Hb),iC=n=>n;function sC(n,e=iC){const t=Xe.useSyncExternalStore(n.subscribe,Xe.useCallback(()=>e(n.getState()),[n,e]),Xe.useCallback(()=>e(n.getInitialState()),[n,e]));return Xe.useDebugValue(t),t}const Gb=n=>{const e=rC(n),t=r=>sC(e,r);return Object.assign(t,e),t},ly=(n=>n?Gb(n):Gb),aC=()=>{};var Yb={};const x4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},oC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],u=n[t++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},A4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,u=c?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,g=o>>2,b=(o&3)<<4|u>>4;let E=(u&15)<<2|d>>6,_=d&63;f||(_=64,c||(E=64)),r.push(t[g],t[b],t[E],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(x4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||u==null||d==null||b==null)throw new lC;const E=o<<2|u>>4;if(r.push(E),d!==64){const _=u<<4&240|d>>2;if(r.push(_),b!==64){const M=d<<6&192|b;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(n){const e=x4(n);return A4.encodeByteArray(e,!0)},jm=function(n){return cC(n).replace(/\./g,"")},S4=function(n){try{return A4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hC=()=>uC().__FIREBASE_DEFAULTS__,fC=()=>{if(typeof process>"u"||typeof Yb>"u")return;const n=Yb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&S4(n[1]);return e&&JSON.parse(e)},pg=()=>{try{return aC()||hC()||fC()||dC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E4=n=>pg()?.emulatorHosts?.[n],pC=n=>{const e=E4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},N4=()=>pg()?.config,T4=n=>pg()?.[`_${n}`];class mC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function wf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C4(n){return(await fetch(n,{credentials:"include"})).ok}function gC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[jm(JSON.stringify(t)),jm(JSON.stringify(c)),""].join(".")}const Nd={};function yC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Nd))Nd[e]?n.emulator.push(e):n.prod.push(e);return n}function vC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Wb=!1;function I4(n,e){if(typeof window>"u"||typeof document>"u"||!wf(window.location.host)||Nd[n]===e||Nd[n]||Wb)return;Nd[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=yC().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,_){E.setAttribute("width","24"),E.setAttribute("id",_),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Wb=!0,c()},E}function g(E,_){E.setAttribute("id",_),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=vC(r),_=t("text"),M=document.getElementById(_)||document.createElement("span"),V=t("learnmore"),U=document.getElementById(V)||document.createElement("a"),j=t("preprendIcon"),ne=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const oe=E.element;u(oe),g(U,V);const H=d();f(ne,j),oe.append(ne,M,U,H),document.body.appendChild(oe)}o?(M.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ms())}function _C(){const n=pg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SC(){const n=Ms();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function EC(){return!_C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const CC="FirebaseError";class oc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CC,Object.setPrototypeOf(this,oc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qd.prototype.create)}}class Qd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?IC(o,r):"Error",u=`${this.serviceName}: ${c} (${s}).`;return new oc(s,u,r)}}function IC(n,e){return n.replace(RC,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const RC=/\{\$([^}]+)}/g;function LC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(Kb(o)&&Kb(c)){if(!Bu(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Kb(n){return n!==null&&typeof n=="object"}function Jd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function xd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kC(n,e){const t=new DC(n,e);return t.subscribe.bind(t)}class DC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");PC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=f0),s.error===void 0&&(s.error=f0),s.complete===void 0&&(s.complete=f0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function f0(){}function Ii(n){return n&&n._delegate?n._delegate:n}class zu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Du="[DEFAULT]";class OC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jC(e))try{this.getOrInitializeService({instanceIdentifier:Du})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Du){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Du){return this.instances.has(e)}getOptions(e=Du){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Du){return this.component?this.component.multipleInstances?e:Du:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MC(n){return n===Du?void 0:n}function jC(n){return n.instantiationMode==="EAGER"}class VC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ln||(Ln={}));const FC={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},UC=Ln.INFO,BC={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},zC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=BC[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cy{constructor(e){this.name=e,this._logLevel=UC,this._logHandler=zC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const qC=(n,e)=>e.some(t=>n instanceof t);let $b,Xb;function HC(){return $b||($b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GC(){return Xb||(Xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R4=new WeakMap,h2=new WeakMap,L4=new WeakMap,d0=new WeakMap,uy=new WeakMap;function YC(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Xc(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&R4.set(t,n)}).catch(()=>{}),uy.set(e,n),e}function WC(n){if(h2.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});h2.set(n,e)}let f2={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return h2.get(n);if(e==="objectStoreNames")return n.objectStoreNames||L4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KC(n){f2=n(f2)}function $C(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(p0(this),e,...t);return L4.set(r,e.sort?e.sort():[e]),Xc(r)}:GC().includes(n)?function(...e){return n.apply(p0(this),e),Xc(R4.get(this))}:function(...e){return Xc(n.apply(p0(this),e))}}function XC(n){return typeof n=="function"?$C(n):(n instanceof IDBTransaction&&WC(n),qC(n,HC())?new Proxy(n,f2):n)}function Xc(n){if(n instanceof IDBRequest)return YC(n);if(d0.has(n))return d0.get(n);const e=XC(n);return e!==n&&(d0.set(n,e),uy.set(e,n)),e}const p0=n=>uy.get(n);function QC(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),u=Xc(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Xc(c.result),f.oldVersion,f.newVersion,Xc(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const JC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],m0=new Map;function Qb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(m0.get(e))return m0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=ZC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JC.includes(t)))return;const o=async function(c,...u){const f=this.transaction(c,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),s&&f.done]))[0]};return m0.set(e,o),o}KC(n=>({...n,get:(e,t,r)=>Qb(e,t)||n.get(e,t,r),has:(e,t)=>!!Qb(e,t)||n.has(e,t)}));class e8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(t8(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function t8(n){return n.getComponent()?.type==="VERSION"}const d2="@firebase/app",Jb="0.14.7";const nc=new cy("@firebase/app"),n8="@firebase/app-compat",r8="@firebase/analytics-compat",i8="@firebase/analytics",s8="@firebase/app-check-compat",a8="@firebase/app-check",o8="@firebase/auth",l8="@firebase/auth-compat",c8="@firebase/database",u8="@firebase/data-connect",h8="@firebase/database-compat",f8="@firebase/functions",d8="@firebase/functions-compat",p8="@firebase/installations",m8="@firebase/installations-compat",g8="@firebase/messaging",y8="@firebase/messaging-compat",v8="@firebase/performance",b8="@firebase/performance-compat",_8="@firebase/remote-config",w8="@firebase/remote-config-compat",x8="@firebase/storage",A8="@firebase/storage-compat",S8="@firebase/firestore",E8="@firebase/ai",N8="@firebase/firestore-compat",T8="firebase",C8="12.8.0";const p2="[DEFAULT]",I8={[d2]:"fire-core",[n8]:"fire-core-compat",[i8]:"fire-analytics",[r8]:"fire-analytics-compat",[a8]:"fire-app-check",[s8]:"fire-app-check-compat",[o8]:"fire-auth",[l8]:"fire-auth-compat",[c8]:"fire-rtdb",[u8]:"fire-data-connect",[h8]:"fire-rtdb-compat",[f8]:"fire-fn",[d8]:"fire-fn-compat",[p8]:"fire-iid",[m8]:"fire-iid-compat",[g8]:"fire-fcm",[y8]:"fire-fcm-compat",[v8]:"fire-perf",[b8]:"fire-perf-compat",[_8]:"fire-rc",[w8]:"fire-rc-compat",[x8]:"fire-gcs",[A8]:"fire-gcs-compat",[S8]:"fire-fst",[N8]:"fire-fst-compat",[E8]:"fire-vertex","fire-js":"fire-js",[T8]:"fire-js-all"};const Vm=new Map,R8=new Map,m2=new Map;function Zb(n,e){try{n.container.addComponent(e)}catch(t){nc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cf(n){const e=n.name;if(m2.has(e))return nc.debug(`There were multiple attempts to register component ${e}.`),!1;m2.set(e,n);for(const t of Vm.values())Zb(t,n);for(const t of R8.values())Zb(t,n);return!0}function hy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Lo(n){return n==null?!1:n.settings!==void 0}const L8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qc=new Qd("app","Firebase",L8);class k8{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qc.create("app-deleted",{appName:this._name})}}const xf=C8;function k4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:p2,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Qc.create("bad-app-name",{appName:String(s)});if(t||(t=N4()),!t)throw Qc.create("no-options");const o=Vm.get(s);if(o){if(Bu(t,o.options)&&Bu(r,o.config))return o;throw Qc.create("duplicate-app",{appName:s})}const c=new VC(s);for(const f of m2.values())c.addComponent(f);const u=new k8(t,r,c);return Vm.set(s,u),u}function D4(n=p2){const e=Vm.get(n);if(!e&&n===p2&&N4())return k4();if(!e)throw Qc.create("no-app",{appName:n});return e}function Jc(n,e,t){let r=I8[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nc.warn(c.join(" "));return}cf(new zu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const D8="firebase-heartbeat-database",P8=1,jd="firebase-heartbeat-store";let g0=null;function P4(){return g0||(g0=QC(D8,P8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qc.create("idb-open",{originalErrorMessage:n.message})})),g0}async function O8(n){try{const t=(await P4()).transaction(jd),r=await t.objectStore(jd).get(O4(n));return await t.done,r}catch(e){if(e instanceof oc)nc.warn(e.message);else{const t=Qc.create("idb-get",{originalErrorMessage:e?.message});nc.warn(t.message)}}}async function e_(n,e){try{const r=(await P4()).transaction(jd,"readwrite");await r.objectStore(jd).put(e,O4(n)),await r.done}catch(t){if(t instanceof oc)nc.warn(t.message);else{const r=Qc.create("idb-set",{originalErrorMessage:t?.message});nc.warn(r.message)}}}function O4(n){return`${n.name}!${n.options.appId}`}const M8=1024,j8=30;class V8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new U8(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>j8){const s=B8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){nc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t_(),{heartbeatsToSend:t,unsentEntries:r}=F8(this._heartbeatsCache.heartbeats),s=jm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return nc.warn(e),""}}}function t_(){return new Date().toISOString().substring(0,10)}function F8(n,e=M8){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),n_(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),n_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class U8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await O8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function n_(n){return jm(JSON.stringify({version:2,heartbeats:n})).length}function B8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function z8(n){cf(new zu("platform-logger",e=>new e8(e),"PRIVATE")),cf(new zu("heartbeat",e=>new V8(e),"PRIVATE")),Jc(d2,Jb,n),Jc(d2,Jb,"esm2020"),Jc("fire-js","")}z8("");var q8="firebase",H8="12.8.0";Jc(q8,H8,"app");function M4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G8=M4,j4=new Qd("auth","Firebase",M4());const Fm=new cy("@firebase/auth");function Y8(n,...e){Fm.logLevel<=Ln.WARN&&Fm.warn(`Auth (${xf}): ${n}`,...e)}function _m(n,...e){Fm.logLevel<=Ln.ERROR&&Fm.error(`Auth (${xf}): ${n}`,...e)}function Mo(n,...e){throw fy(n,...e)}function ml(n,...e){return fy(n,...e)}function V4(n,e,t){const r={...G8(),[e]:t};return new Qd("auth","Firebase",r).create(e,{appName:n.name})}function Zc(n){return V4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return j4.create(n,...e)}function en(n,e,...t){if(!n)throw fy(e,...t)}function Jl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _m(e),new Error(e)}function rc(n,e){n||Jl(e)}function g2(){return typeof self<"u"&&self.location?.href||""}function W8(){return r_()==="http:"||r_()==="https:"}function r_(){return typeof self<"u"&&self.location?.protocol||null}function K8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W8()||xC()||"connection"in navigator)?navigator.onLine:!0}function $8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Zd{constructor(e,t){this.shortDelay=e,this.longDelay=t,rc(t>e,"Short delay should be less than long delay!"),this.isMobile=bC()||AC()}get(){return K8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dy(n,e){rc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class F4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Q8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J8=new Zd(3e4,6e4);function Xu(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function lc(n,e,t,r,s={}){return U4(n,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=Jd({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return wC()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&wf(n.emulatorConfig.host)&&(d.credentials="include"),F4.fetch()(await B4(n,n.config.apiHost,t,u),d)})}async function U4(n,e,t){n._canInitEmulator=!1;const r={...X8,...e};try{const s=new eI(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw sm(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw sm(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw sm(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw sm(n,"user-disabled",c);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw V4(n,g,d);Mo(n,g)}}catch(s){if(s instanceof oc)throw s;Mo(n,"network-request-failed",{message:String(s)})}}async function mg(n,e,t,r,s={}){const o=await lc(n,e,t,r,s);return"mfaPendingCredential"in o&&Mo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function B4(n,e,t,r){const s=`${e}${t}?${r}`,o=n,c=o.config.emulator?dy(n.config,s):`${n.config.apiScheme}://${s}`;return Q8.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function Z8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ml(this.auth,"network-request-failed")),J8.get())})}}function sm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ml(n,e,r);return s.customData._tokenResponse=t,s}function i_(n){return n!==void 0&&n.enterprise!==void 0}class tI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Z8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nI(n,e){return lc(n,"GET","/v2/recaptchaConfig",Xu(n,e))}async function rI(n,e){return lc(n,"POST","/v1/accounts:delete",e)}async function Um(n,e){return lc(n,"POST","/v1/accounts:lookup",e)}function Td(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iI(n,e=!1){const t=Ii(n),r=await t.getIdToken(e),s=py(r);en(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:r,authTime:Td(y0(s.auth_time)),issuedAtTime:Td(y0(s.iat)),expirationTime:Td(y0(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function y0(n){return Number(n)*1e3}function py(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const s=S4(t);return s?JSON.parse(s):(_m("Failed to decode base64 JWT payload"),null)}catch(s){return _m("Caught error parsing JWT payload as JSON",s?.toString()),null}}function s_(n){const e=py(n);return en(e,"internal-error"),en(typeof e.exp<"u","internal-error"),en(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function uf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof oc&&sI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class aI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class y2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Td(this.lastLoginAt),this.creationTime=Td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bm(n){const e=n.auth,t=await n.getIdToken(),r=await uf(n,Um(e,{idToken:t}));en(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?z4(s.providerUserInfo):[],c=lI(n.providerData,o),u=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!c?.length,d=u?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new y2(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function oI(n){const e=Ii(n);await Bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lI(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function z4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function cI(n,e){const t=await U4(n,{},async()=>{const r=Jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=await B4(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&wf(n.emulatorConfig.host)&&(f.credentials="include"),F4.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uI(n,e){return lc(n,"POST","/v2/accounts:revokeToken",Xu(n,e))}class Qh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){en(e.idToken,"internal-error"),en(typeof e.idToken<"u","internal-error"),en(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){en(e.length!==0,"internal-error");const t=s_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(en(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await cI(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,c=new Qh;return r&&(en(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(en(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(en(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qh,this.toJSON())}_performRefresh(){return Jl("not implemented")}}function Fc(n,e){en(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Do{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new y2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await uf(this,this.stsTokenManager.getToken(this.auth,e));return en(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iI(this,e)}reload(){return oI(this)}_assign(e){this!==e&&(en(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Do({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lo(this.auth.app))return Promise.reject(Zc(this.auth));const e=await this.getIdToken();return await uf(this,rI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:_,providerData:M,stsTokenManager:V}=t;en(b&&V,e,"internal-error");const U=Qh.fromJSON(this.name,V);en(typeof b=="string",e,"internal-error"),Fc(r,e.name),Fc(s,e.name),en(typeof E=="boolean",e,"internal-error"),en(typeof _=="boolean",e,"internal-error"),Fc(o,e.name),Fc(c,e.name),Fc(u,e.name),Fc(f,e.name),Fc(d,e.name),Fc(g,e.name);const j=new Do({uid:b,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:_,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:U,createdAt:d,lastLoginAt:g});return M&&Array.isArray(M)&&(j.providerData=M.map(ne=>({...ne}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,r=!1){const s=new Qh;s.updateFromServerResponse(t);const o=new Do({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Bm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];en(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?z4(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,u=new Qh;u.updateFromIdToken(r);const f=new Do({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:c}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new y2(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const a_=new Map;function Zl(n){rc(n instanceof Function,"Expected a class definition");let e=a_.get(n);return e?(rc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,a_.set(n,e),e)}class q4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q4.type="NONE";const o_=q4;function wm(n,e,t){return`firebase:${n}:${e}:${t}`}class Jh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=wm(this.userKey,s.apiKey,o),this.fullPersistenceKey=wm("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Um(this.auth,{idToken:e}).catch(()=>{});return t?Do._fromGetAccountInfoResponse(this.auth,t,e):null}return Do._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Jh(Zl(o_),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Zl(o_);const c=wm(r,e.config.apiKey,e.name);let u=null;for(const d of t)try{const g=await d._get(c);if(g){let b;if(typeof g=="string"){const E=await Um(e,{idToken:g}).catch(()=>{});if(!E)break;b=await Do._fromGetAccountInfoResponse(e,E,g)}else b=Do._fromJSON(e,g);d!==o&&(u=b),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Jh(o,e,r):(o=f[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new Jh(o,e,r))}}function l_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($4(e))return"Blackberry";if(X4(e))return"Webos";if(G4(e))return"Safari";if((e.includes("chrome/")||Y4(e))&&!e.includes("edge/"))return"Chrome";if(K4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function H4(n=Ms()){return/firefox\//i.test(n)}function G4(n=Ms()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y4(n=Ms()){return/crios\//i.test(n)}function W4(n=Ms()){return/iemobile/i.test(n)}function K4(n=Ms()){return/android/i.test(n)}function $4(n=Ms()){return/blackberry/i.test(n)}function X4(n=Ms()){return/webos/i.test(n)}function my(n=Ms()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hI(n=Ms()){return my(n)&&!!window.navigator?.standalone}function fI(){return SC()&&document.documentMode===10}function Q4(n=Ms()){return my(n)||K4(n)||X4(n)||$4(n)||/windows phone/i.test(n)||W4(n)}function J4(n,e=[]){let t;switch(n){case"Browser":t=l_(Ms());break;case"Worker":t=`${l_(Ms())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xf}/${r}`}class dI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,u)=>{try{const f=e(o);c(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function pI(n,e={}){return lc(n,"GET","/v2/passwordPolicy",Xu(n,e))}const mI=6;class gI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??mI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class yI{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new dI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Um(this,{idToken:e}),r=await Do._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Lo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return en(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lo(this.app))return Promise.reject(Zc(this));const t=e?Ii(e):null;return t&&en(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&en(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lo(this.app)?Promise.reject(Zc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lo(this.app)?Promise.reject(Zc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pI(this),t=new gI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await uI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zl(e)||this._popupRedirectResolver;en(t,this,"argument-error"),this.redirectPersistenceManager=await Jh.create(this,[Zl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(en(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Af(n){return Ii(n)}class c_{constructor(e){this.auth=e,this.observer=null,this.addObserver=kC(t=>this.observer=t)}get next(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vI(n){gg=n}function Z4(n){return gg.loadJS(n)}function bI(){return gg.recaptchaEnterpriseScript}function _I(){return gg.gapiScript}function wI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class xI{constructor(){this.enterprise=new AI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class AI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SI="recaptcha-enterprise",eA="NO_RECAPTCHA";class EI{constructor(e){this.type=SI,this.auth=Af(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{nI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new tI(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{u(f)})})}function s(o,c,u){const f=window.grecaptcha;i_(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{c(d)}).catch(()=>{c(eA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xI().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!t&&i_(window.grecaptcha))s(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=bI();f.length!==0&&(f+=u),Z4(f).then(()=>{s(u,o,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})}}async function u_(n,e,t,r=!1,s=!1){const o=new EI(n);let c;if(s)c=eA;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function h_(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await u_(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await u_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function NI(n,e){const t=hy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Bu(o,e??{}))return s;Mo(s,"already-initialized")}return t.initialize({options:e})}function TI(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function CI(n,e,t){const r=Af(n);en(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=tA(e),{host:c,port:u}=II(e),f=u===null?"":`:${u}`,d={url:`${o}//${c}${f}/`},g=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){en(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),en(Bu(d,r.config.emulator)&&Bu(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,wf(c)?(C4(`${o}//${c}${f}`),I4("Auth",!0)):RI()}function tA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function II(n){const e=tA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:f_(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:f_(c)}}}function f_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class gy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jl("not implemented")}_getIdTokenResponse(e){return Jl("not implemented")}_linkToIdToken(e,t){return Jl("not implemented")}_getReauthenticationResolver(e){return Jl("not implemented")}}async function LI(n,e){return lc(n,"POST","/v1/accounts:update",e)}async function kI(n,e){return lc(n,"POST","/v1/accounts:signUp",e)}async function DI(n,e){return mg(n,"POST","/v1/accounts:signInWithPassword",Xu(n,e))}async function PI(n,e){return mg(n,"POST","/v1/accounts:signInWithEmailLink",Xu(n,e))}async function OI(n,e){return mg(n,"POST","/v1/accounts:signInWithEmailLink",Xu(n,e))}class Vd extends gy{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Vd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Vd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h_(e,t,"signInWithPassword",DI);case"emailLink":return PI(e,{email:this._email,oobCode:this._password});default:Mo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h_(e,r,"signUpPassword",kI);case"emailLink":return OI(e,{idToken:t,email:this._email,oobCode:this._password});default:Mo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zh(n,e){return mg(n,"POST","/v1/accounts:signInWithIdp",Xu(n,e))}const MI="http://localhost";class qu extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const c=new qu(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Zh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Zh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zh(e,t)}buildRequest(){const e={requestUri:MI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jd(t)}return e}}function jI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VI(n){const e=wd(xd(n)).link,t=e?wd(xd(e)).deep_link_id:null,r=wd(xd(n)).deep_link_id;return(r?wd(xd(r)).link:null)||r||t||e||n}class yy{constructor(e){const t=wd(xd(e)),r=t.apiKey??null,s=t.oobCode??null,o=jI(t.mode??null);en(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=VI(e);try{return new yy(t)}catch{return null}}}class Sf{constructor(){this.providerId=Sf.PROVIDER_ID}static credential(e,t){return Vd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=yy.parseLink(t);return en(r,"argument-error"),Vd._fromEmailAndCode(e,r.code,r.tenantId)}}Sf.PROVIDER_ID="password";Sf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ep extends nA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qc extends ep{constructor(){super("facebook.com")}static credential(e){return qu._fromParams({providerId:qc.PROVIDER_ID,signInMethod:qc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qc.credentialFromTaggedObject(e)}static credentialFromError(e){return qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qc.credential(e.oauthAccessToken)}catch{return null}}}qc.FACEBOOK_SIGN_IN_METHOD="facebook.com";qc.PROVIDER_ID="facebook.com";class Hc extends ep{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qu._fromParams({providerId:Hc.PROVIDER_ID,signInMethod:Hc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hc.credentialFromTaggedObject(e)}static credentialFromError(e){return Hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Hc.credential(t,r)}catch{return null}}}Hc.GOOGLE_SIGN_IN_METHOD="google.com";Hc.PROVIDER_ID="google.com";class Gc extends ep{constructor(){super("github.com")}static credential(e){return qu._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gc.credential(e.oauthAccessToken)}catch{return null}}}Gc.GITHUB_SIGN_IN_METHOD="github.com";Gc.PROVIDER_ID="github.com";class Yc extends ep{constructor(){super("twitter.com")}static credential(e,t){return qu._fromParams({providerId:Yc.PROVIDER_ID,signInMethod:Yc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yc.credentialFromTaggedObject(e)}static credentialFromError(e){return Yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yc.credential(t,r)}catch{return null}}}Yc.TWITTER_SIGN_IN_METHOD="twitter.com";Yc.PROVIDER_ID="twitter.com";class hf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Do._fromIdTokenResponse(e,r,s),c=d_(r);return new hf({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=d_(r);return new hf({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function d_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class zm extends oc{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new zm(e,t,r,s)}}function rA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zm._fromErrorAndOperation(n,o,e,r):o})}async function FI(n,e,t=!1){const r=await uf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return hf._forOperation(n,"link",r)}async function UI(n,e,t=!1){const{auth:r}=n;if(Lo(r.app))return Promise.reject(Zc(r));const s="reauthenticate";try{const o=await uf(n,rA(r,s,e,n),t);en(o.idToken,r,"internal-error");const c=py(o.idToken);en(c,r,"internal-error");const{sub:u}=c;return en(n.uid===u,r,"user-mismatch"),hf._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Mo(r,"user-mismatch"),o}}async function iA(n,e,t=!1){if(Lo(n.app))return Promise.reject(Zc(n));const r="signIn",s=await rA(n,r,e),o=await hf._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function BI(n,e){return iA(Af(n),e)}async function zI(n){const e=Af(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qI(n,e,t){return Lo(n.app)?Promise.reject(Zc(n)):BI(Ii(n),Sf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zI(n),r})}function HI(n,e){return GI(Ii(n),null,e)}async function GI(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(o.password=t);const c=await uf(n,LI(r,o));await n._updateTokensIfNecessary(c,!0)}function YI(n,e,t,r){return Ii(n).onIdTokenChanged(e,t,r)}function WI(n,e,t){return Ii(n).beforeAuthStateChanged(e,t)}function KI(n,e,t,r){return Ii(n).onAuthStateChanged(e,t,r)}function $I(n){return Ii(n).signOut()}const qm="__sak";class sA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qm,"1"),this.storage.removeItem(qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const XI=1e3,QI=10;class aA extends sA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);fI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QI):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aA.type="LOCAL";const JI=aA;class oA extends sA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oA.type="SESSION";const lA=oA;function ZI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new yg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(c).map(async d=>d(t.origin,o)),f=await ZI(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yg.receivers=[];function vy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class eR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((u,f)=>{const d=vy("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(b){const E=b;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function gl(){return window}function tR(n){gl().location.href=n}function cA(){return typeof gl().WorkerGlobalScope<"u"&&typeof gl().importScripts=="function"}async function nR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rR(){return navigator?.serviceWorker?.controller||null}function iR(){return cA()?self:null}const uA="firebaseLocalStorageDb",sR=1,Hm="firebaseLocalStorage",hA="fbase_key";class tp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vg(n,e){return n.transaction([Hm],e?"readwrite":"readonly").objectStore(Hm)}function aR(){const n=indexedDB.deleteDatabase(uA);return new tp(n).toPromise()}function v2(){const n=indexedDB.open(uA,sR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hm,{keyPath:hA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hm)?e(r):(r.close(),await aR(),e(await v2()))})})}async function p_(n,e,t){const r=vg(n,!0).put({[hA]:e,value:t});return new tp(r).toPromise()}async function oR(n,e){const t=vg(n,!1).get(e),r=await new tp(t).toPromise();return r===void 0?null:r.value}function m_(n,e){const t=vg(n,!0).delete(e);return new tp(t).toPromise()}const lR=800,cR=3;class fA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v2(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yg._getInstance(iR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v2();return await p_(e,qm,"1"),await m_(e,qm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>p_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>oR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>m_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=vg(s,!1).getAll();return new tp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fA.type="LOCAL";const uR=fA;new Zd(3e4,6e4);function hR(n,e){return e?Zl(e):(en(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class by extends gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fR(n){return iA(n.auth,new by(n),n.bypassAuthState)}function dR(n){const{auth:e,user:t}=n;return en(t,e,"internal-error"),UI(t,new by(n),n.bypassAuthState)}async function pR(n){const{auth:e,user:t}=n;return en(t,e,"internal-error"),FI(t,new by(n),n.bypassAuthState)}class dA{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return pR;case"reauthViaPopup":case"reauthViaRedirect":return dR;default:Mo(this.auth,"internal-error")}}resolve(e){rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mR=new Zd(2e3,1e4);class Wh extends dA{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Wh.currentPopupAction&&Wh.currentPopupAction.cancel(),Wh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return en(e,this.auth,"internal-error"),e}async onExecution(){rc(this.filter.length===1,"Popup operations only handle one event");const e=vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ml(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ml(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ml(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mR.get())};e()}}Wh.currentPopupAction=null;const gR="pendingRedirect",xm=new Map;class yR extends dA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xm.get(this.auth._key());if(!e){try{const r=await vR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xm.set(this.auth._key(),e)}return this.bypassAuthState||xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(n,e){const t=wR(e),r=_R(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function bR(n,e){xm.set(n._key(),e)}function _R(n){return Zl(n._redirectPersistence)}function wR(n){return wm(gR,n.config.apiKey,n.name)}async function xR(n,e,t=!1){if(Lo(n.app))return Promise.reject(Zc(n));const r=Af(n),s=hR(r,e),c=await new yR(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const AR=600*1e3;class SR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ER(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ml(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AR&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ER(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pA(n);default:return!1}}async function NR(n,e={}){return lc(n,"GET","/v1/projects",e)}const TR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function IR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await NR(n);for(const t of e)try{if(RR(t))return}catch{}Mo(n,"unauthorized-domain")}function RR(n){const e=g2(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!CR.test(t))return!1;if(TR.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const LR=new Zd(3e4,6e4);function y_(){const n=gl().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function kR(n){return new Promise((e,t)=>{function r(){y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y_(),t(ml(n,"network-request-failed"))},timeout:LR.get()})}if(gl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gl().gapi?.load)r();else{const s=wI("iframefcb");return gl()[s]=()=>{gapi.load?r():t(ml(n,"network-request-failed"))},Z4(`${_I()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Am=null,e})}let Am=null;function DR(n){return Am=Am||kR(n),Am}const PR=new Zd(5e3,15e3),OR="__/auth/iframe",MR="emulator/auth/iframe",jR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(n){const e=n.config;en(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dy(e,MR):`https://${n.config.authDomain}/${OR}`,r={apiKey:e.apiKey,appName:n.name,v:xf},s=VR.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jd(r).slice(1)}`}async function UR(n){const e=await DR(n),t=gl().gapi;return en(t,n,"internal-error"),e.open({where:document.body,url:FR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jR,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=ml(n,"network-request-failed"),u=gl().setTimeout(()=>{o(c)},PR.get());function f(){gl().clearTimeout(u),s(r)}r.ping(f).then(f,()=>{o(c)})}))}const BR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zR=500,qR=600,HR="_blank",GR="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YR(n,e,t,r=zR,s=qR){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...BR,width:r.toString(),height:s.toString(),top:o,left:c},d=Ms().toLowerCase();t&&(u=Y4(d)?HR:t),H4(d)&&(e=e||GR,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[_,M])=>`${E}${_}=${M},`,"");if(hI(d)&&u!=="_self")return WR(e||"",u),new v_(null);const b=window.open(e||"",u,g);en(b,n,"popup-blocked");try{b.focus()}catch{}return new v_(b)}function WR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const KR="__/auth/handler",$R="emulator/auth/handler",XR=encodeURIComponent("fac");async function b_(n,e,t,r,s,o){en(n.config.authDomain,n,"auth-domain-config-required"),en(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xf,eventId:s};if(e instanceof nA){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",LC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof ep){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await n._getAppCheckToken(),d=f?`#${XR}=${encodeURIComponent(f)}`:"";return`${QR(n)}?${Jd(u).slice(1)}${d}`}function QR({config:n}){return n.emulator?dy(n,$R):`https://${n.authDomain}/${KR}`}const v0="webStorageSupport";class JR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lA,this._completeRedirectFn=xR,this._overrideRedirectResult=bR}async _openPopup(e,t,r,s){rc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await b_(e,t,r,g2(),s);return YR(e,o,vy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await b_(e,t,r,g2(),s);return tR(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(rc(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await UR(e),r=new SR(e);return t.register("authEvent",s=>(en(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(v0,{type:v0},s=>{const o=s?.[0]?.[v0];o!==void 0&&t(!!o),Mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Q4()||G4()||my()}}const ZR=JR;var __="@firebase/auth",w_="1.12.0";class eL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nL(n){cf(new zu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;en(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J4(n)},d=new yI(r,s,o,f);return TI(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),cf(new zu("auth-internal",e=>{const t=Af(e.getProvider("auth").getImmediate());return(r=>new eL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jc(__,w_,tL(n)),Jc(__,w_,"esm2020")}const rL=300,iL=T4("authIdTokenMaxAge")||rL;let x_=null;const sL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>iL)return;const s=t?.token;x_!==s&&(x_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aL(n=D4()){const e=hy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=NI(n,{popupRedirectResolver:ZR,persistence:[uR,JI,lA]}),r=T4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=sL(o.toString());WI(t,c,()=>c(t.currentUser)),YI(t,u=>c(u))}}const s=E4("auth");return s&&CI(t,`http://${s}`),t}function oL(){return document.getElementsByTagName("head")?.[0]??document}vI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=ml("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",oL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nL("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eu,mA;(function(){var n;function e(q,k){function D(){}D.prototype=k.prototype,q.F=k.prototype,q.prototype=new D,q.prototype.constructor=q,q.D=function(Y,T,R){for(var L=Array(arguments.length-2),he=2;he<arguments.length;he++)L[he-2]=arguments[he];return k.prototype[T].apply(Y,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(q,k,D){D||(D=0);const Y=Array(16);if(typeof k=="string")for(var T=0;T<16;++T)Y[T]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(T=0;T<16;++T)Y[T]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=q.g[0],D=q.g[1],T=q.g[2];let R=q.g[3],L;L=k+(R^D&(T^R))+Y[0]+3614090360&4294967295,k=D+(L<<7&4294967295|L>>>25),L=R+(T^k&(D^T))+Y[1]+3905402710&4294967295,R=k+(L<<12&4294967295|L>>>20),L=T+(D^R&(k^D))+Y[2]+606105819&4294967295,T=R+(L<<17&4294967295|L>>>15),L=D+(k^T&(R^k))+Y[3]+3250441966&4294967295,D=T+(L<<22&4294967295|L>>>10),L=k+(R^D&(T^R))+Y[4]+4118548399&4294967295,k=D+(L<<7&4294967295|L>>>25),L=R+(T^k&(D^T))+Y[5]+1200080426&4294967295,R=k+(L<<12&4294967295|L>>>20),L=T+(D^R&(k^D))+Y[6]+2821735955&4294967295,T=R+(L<<17&4294967295|L>>>15),L=D+(k^T&(R^k))+Y[7]+4249261313&4294967295,D=T+(L<<22&4294967295|L>>>10),L=k+(R^D&(T^R))+Y[8]+1770035416&4294967295,k=D+(L<<7&4294967295|L>>>25),L=R+(T^k&(D^T))+Y[9]+2336552879&4294967295,R=k+(L<<12&4294967295|L>>>20),L=T+(D^R&(k^D))+Y[10]+4294925233&4294967295,T=R+(L<<17&4294967295|L>>>15),L=D+(k^T&(R^k))+Y[11]+2304563134&4294967295,D=T+(L<<22&4294967295|L>>>10),L=k+(R^D&(T^R))+Y[12]+1804603682&4294967295,k=D+(L<<7&4294967295|L>>>25),L=R+(T^k&(D^T))+Y[13]+4254626195&4294967295,R=k+(L<<12&4294967295|L>>>20),L=T+(D^R&(k^D))+Y[14]+2792965006&4294967295,T=R+(L<<17&4294967295|L>>>15),L=D+(k^T&(R^k))+Y[15]+1236535329&4294967295,D=T+(L<<22&4294967295|L>>>10),L=k+(T^R&(D^T))+Y[1]+4129170786&4294967295,k=D+(L<<5&4294967295|L>>>27),L=R+(D^T&(k^D))+Y[6]+3225465664&4294967295,R=k+(L<<9&4294967295|L>>>23),L=T+(k^D&(R^k))+Y[11]+643717713&4294967295,T=R+(L<<14&4294967295|L>>>18),L=D+(R^k&(T^R))+Y[0]+3921069994&4294967295,D=T+(L<<20&4294967295|L>>>12),L=k+(T^R&(D^T))+Y[5]+3593408605&4294967295,k=D+(L<<5&4294967295|L>>>27),L=R+(D^T&(k^D))+Y[10]+38016083&4294967295,R=k+(L<<9&4294967295|L>>>23),L=T+(k^D&(R^k))+Y[15]+3634488961&4294967295,T=R+(L<<14&4294967295|L>>>18),L=D+(R^k&(T^R))+Y[4]+3889429448&4294967295,D=T+(L<<20&4294967295|L>>>12),L=k+(T^R&(D^T))+Y[9]+568446438&4294967295,k=D+(L<<5&4294967295|L>>>27),L=R+(D^T&(k^D))+Y[14]+3275163606&4294967295,R=k+(L<<9&4294967295|L>>>23),L=T+(k^D&(R^k))+Y[3]+4107603335&4294967295,T=R+(L<<14&4294967295|L>>>18),L=D+(R^k&(T^R))+Y[8]+1163531501&4294967295,D=T+(L<<20&4294967295|L>>>12),L=k+(T^R&(D^T))+Y[13]+2850285829&4294967295,k=D+(L<<5&4294967295|L>>>27),L=R+(D^T&(k^D))+Y[2]+4243563512&4294967295,R=k+(L<<9&4294967295|L>>>23),L=T+(k^D&(R^k))+Y[7]+1735328473&4294967295,T=R+(L<<14&4294967295|L>>>18),L=D+(R^k&(T^R))+Y[12]+2368359562&4294967295,D=T+(L<<20&4294967295|L>>>12),L=k+(D^T^R)+Y[5]+4294588738&4294967295,k=D+(L<<4&4294967295|L>>>28),L=R+(k^D^T)+Y[8]+2272392833&4294967295,R=k+(L<<11&4294967295|L>>>21),L=T+(R^k^D)+Y[11]+1839030562&4294967295,T=R+(L<<16&4294967295|L>>>16),L=D+(T^R^k)+Y[14]+4259657740&4294967295,D=T+(L<<23&4294967295|L>>>9),L=k+(D^T^R)+Y[1]+2763975236&4294967295,k=D+(L<<4&4294967295|L>>>28),L=R+(k^D^T)+Y[4]+1272893353&4294967295,R=k+(L<<11&4294967295|L>>>21),L=T+(R^k^D)+Y[7]+4139469664&4294967295,T=R+(L<<16&4294967295|L>>>16),L=D+(T^R^k)+Y[10]+3200236656&4294967295,D=T+(L<<23&4294967295|L>>>9),L=k+(D^T^R)+Y[13]+681279174&4294967295,k=D+(L<<4&4294967295|L>>>28),L=R+(k^D^T)+Y[0]+3936430074&4294967295,R=k+(L<<11&4294967295|L>>>21),L=T+(R^k^D)+Y[3]+3572445317&4294967295,T=R+(L<<16&4294967295|L>>>16),L=D+(T^R^k)+Y[6]+76029189&4294967295,D=T+(L<<23&4294967295|L>>>9),L=k+(D^T^R)+Y[9]+3654602809&4294967295,k=D+(L<<4&4294967295|L>>>28),L=R+(k^D^T)+Y[12]+3873151461&4294967295,R=k+(L<<11&4294967295|L>>>21),L=T+(R^k^D)+Y[15]+530742520&4294967295,T=R+(L<<16&4294967295|L>>>16),L=D+(T^R^k)+Y[2]+3299628645&4294967295,D=T+(L<<23&4294967295|L>>>9),L=k+(T^(D|~R))+Y[0]+4096336452&4294967295,k=D+(L<<6&4294967295|L>>>26),L=R+(D^(k|~T))+Y[7]+1126891415&4294967295,R=k+(L<<10&4294967295|L>>>22),L=T+(k^(R|~D))+Y[14]+2878612391&4294967295,T=R+(L<<15&4294967295|L>>>17),L=D+(R^(T|~k))+Y[5]+4237533241&4294967295,D=T+(L<<21&4294967295|L>>>11),L=k+(T^(D|~R))+Y[12]+1700485571&4294967295,k=D+(L<<6&4294967295|L>>>26),L=R+(D^(k|~T))+Y[3]+2399980690&4294967295,R=k+(L<<10&4294967295|L>>>22),L=T+(k^(R|~D))+Y[10]+4293915773&4294967295,T=R+(L<<15&4294967295|L>>>17),L=D+(R^(T|~k))+Y[1]+2240044497&4294967295,D=T+(L<<21&4294967295|L>>>11),L=k+(T^(D|~R))+Y[8]+1873313359&4294967295,k=D+(L<<6&4294967295|L>>>26),L=R+(D^(k|~T))+Y[15]+4264355552&4294967295,R=k+(L<<10&4294967295|L>>>22),L=T+(k^(R|~D))+Y[6]+2734768916&4294967295,T=R+(L<<15&4294967295|L>>>17),L=D+(R^(T|~k))+Y[13]+1309151649&4294967295,D=T+(L<<21&4294967295|L>>>11),L=k+(T^(D|~R))+Y[4]+4149444226&4294967295,k=D+(L<<6&4294967295|L>>>26),L=R+(D^(k|~T))+Y[11]+3174756917&4294967295,R=k+(L<<10&4294967295|L>>>22),L=T+(k^(R|~D))+Y[2]+718787259&4294967295,T=R+(L<<15&4294967295|L>>>17),L=D+(R^(T|~k))+Y[9]+3951481745&4294967295,q.g[0]=q.g[0]+k&4294967295,q.g[1]=q.g[1]+(T+(L<<21&4294967295|L>>>11))&4294967295,q.g[2]=q.g[2]+T&4294967295,q.g[3]=q.g[3]+R&4294967295}r.prototype.v=function(q,k){k===void 0&&(k=q.length);const D=k-this.blockSize,Y=this.C;let T=this.h,R=0;for(;R<k;){if(T==0)for(;R<=D;)s(this,q,R),R+=this.blockSize;if(typeof q=="string"){for(;R<k;)if(Y[T++]=q.charCodeAt(R++),T==this.blockSize){s(this,Y),T=0;break}}else for(;R<k;)if(Y[T++]=q[R++],T==this.blockSize){s(this,Y),T=0;break}}this.h=T,this.o+=k},r.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var k=1;k<q.length-8;++k)q[k]=0;k=this.o*8;for(var D=q.length-8;D<q.length;++D)q[D]=k&255,k/=256;for(this.v(q),q=Array(16),k=0,D=0;D<4;++D)for(let Y=0;Y<32;Y+=8)q[k++]=this.g[D]>>>Y&255;return q};function o(q,k){var D=u;return Object.prototype.hasOwnProperty.call(D,q)?D[q]:D[q]=k(q)}function c(q,k){this.h=k;const D=[];let Y=!0;for(let T=q.length-1;T>=0;T--){const R=q[T]|0;Y&&R==k||(D[T]=R,Y=!1)}this.g=D}var u={};function f(q){return-128<=q&&q<128?o(q,function(k){return new c([k|0],k<0?-1:0)}):new c([q|0],q<0?-1:0)}function d(q){if(isNaN(q)||!isFinite(q))return b;if(q<0)return U(d(-q));const k=[];let D=1;for(let Y=0;q>=D;Y++)k[Y]=q/D|0,D*=4294967296;return new c(k,0)}function g(q,k){if(q.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(q.charAt(0)=="-")return U(g(q.substring(1),k));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(k,8));let Y=b;for(let R=0;R<q.length;R+=8){var T=Math.min(8,q.length-R);const L=parseInt(q.substring(R,R+T),k);T<8?(T=d(Math.pow(k,T)),Y=Y.j(T).add(d(L))):(Y=Y.j(D),Y=Y.add(d(L)))}return Y}var b=f(0),E=f(1),_=f(16777216);n=c.prototype,n.m=function(){if(V(this))return-U(this).m();let q=0,k=1;for(let D=0;D<this.g.length;D++){const Y=this.i(D);q+=(Y>=0?Y:4294967296+Y)*k,k*=4294967296}return q},n.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(M(this))return"0";if(V(this))return"-"+U(this).toString(q);const k=d(Math.pow(q,6));var D=this;let Y="";for(;;){const T=H(D,k).g;D=j(D,T.j(k));let R=((D.g.length>0?D.g[0]:D.h)>>>0).toString(q);if(D=T,M(D))return R+Y;for(;R.length<6;)R="0"+R;Y=R+Y}},n.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function M(q){if(q.h!=0)return!1;for(let k=0;k<q.g.length;k++)if(q.g[k]!=0)return!1;return!0}function V(q){return q.h==-1}n.l=function(q){return q=j(this,q),V(q)?-1:M(q)?0:1};function U(q){const k=q.g.length,D=[];for(let Y=0;Y<k;Y++)D[Y]=~q.g[Y];return new c(D,~q.h).add(E)}n.abs=function(){return V(this)?U(this):this},n.add=function(q){const k=Math.max(this.g.length,q.g.length),D=[];let Y=0;for(let T=0;T<=k;T++){let R=Y+(this.i(T)&65535)+(q.i(T)&65535),L=(R>>>16)+(this.i(T)>>>16)+(q.i(T)>>>16);Y=L>>>16,R&=65535,L&=65535,D[T]=L<<16|R}return new c(D,D[D.length-1]&-2147483648?-1:0)};function j(q,k){return q.add(U(k))}n.j=function(q){if(M(this)||M(q))return b;if(V(this))return V(q)?U(this).j(U(q)):U(U(this).j(q));if(V(q))return U(this.j(U(q)));if(this.l(_)<0&&q.l(_)<0)return d(this.m()*q.m());const k=this.g.length+q.g.length,D=[];for(var Y=0;Y<2*k;Y++)D[Y]=0;for(Y=0;Y<this.g.length;Y++)for(let T=0;T<q.g.length;T++){const R=this.i(Y)>>>16,L=this.i(Y)&65535,he=q.i(T)>>>16,Ae=q.i(T)&65535;D[2*Y+2*T]+=L*Ae,ne(D,2*Y+2*T),D[2*Y+2*T+1]+=R*Ae,ne(D,2*Y+2*T+1),D[2*Y+2*T+1]+=L*he,ne(D,2*Y+2*T+1),D[2*Y+2*T+2]+=R*he,ne(D,2*Y+2*T+2)}for(q=0;q<k;q++)D[q]=D[2*q+1]<<16|D[2*q];for(q=k;q<2*k;q++)D[q]=0;return new c(D,0)};function ne(q,k){for(;(q[k]&65535)!=q[k];)q[k+1]+=q[k]>>>16,q[k]&=65535,k++}function oe(q,k){this.g=q,this.h=k}function H(q,k){if(M(k))throw Error("division by zero");if(M(q))return new oe(b,b);if(V(q))return k=H(U(q),k),new oe(U(k.g),U(k.h));if(V(k))return k=H(q,U(k)),new oe(U(k.g),k.h);if(q.g.length>30){if(V(q)||V(k))throw Error("slowDivide_ only works with positive integers.");for(var D=E,Y=k;Y.l(q)<=0;)D=ee(D),Y=ee(Y);var T=fe(D,1),R=fe(Y,1);for(Y=fe(Y,2),D=fe(D,2);!M(Y);){var L=R.add(Y);L.l(q)<=0&&(T=T.add(D),R=L),Y=fe(Y,1),D=fe(D,1)}return k=j(q,T.j(k)),new oe(T,k)}for(T=b;q.l(k)>=0;){for(D=Math.max(1,Math.floor(q.m()/k.m())),Y=Math.ceil(Math.log(D)/Math.LN2),Y=Y<=48?1:Math.pow(2,Y-48),R=d(D),L=R.j(k);V(L)||L.l(q)>0;)D-=Y,R=d(D),L=R.j(k);M(R)&&(R=E),T=T.add(R),q=j(q,L)}return new oe(T,q)}n.B=function(q){return H(this,q).h},n.and=function(q){const k=Math.max(this.g.length,q.g.length),D=[];for(let Y=0;Y<k;Y++)D[Y]=this.i(Y)&q.i(Y);return new c(D,this.h&q.h)},n.or=function(q){const k=Math.max(this.g.length,q.g.length),D=[];for(let Y=0;Y<k;Y++)D[Y]=this.i(Y)|q.i(Y);return new c(D,this.h|q.h)},n.xor=function(q){const k=Math.max(this.g.length,q.g.length),D=[];for(let Y=0;Y<k;Y++)D[Y]=this.i(Y)^q.i(Y);return new c(D,this.h^q.h)};function ee(q){const k=q.g.length+1,D=[];for(let Y=0;Y<k;Y++)D[Y]=q.i(Y)<<1|q.i(Y-1)>>>31;return new c(D,q.h)}function fe(q,k){const D=k>>5;k%=32;const Y=q.g.length-D,T=[];for(let R=0;R<Y;R++)T[R]=k>0?q.i(R+D)>>>k|q.i(R+D+1)<<32-k:q.i(R+D);return new c(T,q.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=g,eu=c}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gA,Ad,yA,Sm,b2,vA,bA,_A;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof am=="object"&&am];for(var N=0;N<m.length;++N){var O=m[N];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=t(this);function s(m,N){if(N)e:{var O=r;m=m.split(".");for(var J=0;J<m.length-1;J++){var Ie=m[J];if(!(Ie in O))break e;O=O[Ie]}m=m[m.length-1],J=O[m],N=N(J),N!=J&&N!=null&&e(O,m,{configurable:!0,writable:!0,value:N})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(N){var O=[],J;for(J in N)Object.prototype.hasOwnProperty.call(N,J)&&O.push([J,N[J]]);return O}});var o=o||{},c=this||self;function u(m){var N=typeof m;return N=="object"&&m!=null||N=="function"}function f(m,N,O){return m.call.apply(m.bind,arguments)}function d(m,N,O){return d=f,d.apply(null,arguments)}function g(m,N){var O=Array.prototype.slice.call(arguments,1);return function(){var J=O.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function b(m,N){function O(){}O.prototype=N.prototype,m.Z=N.prototype,m.prototype=new O,m.prototype.constructor=m,m.Ob=function(J,Ie,Me){for(var at=Array(arguments.length-2),nn=2;nn<arguments.length;nn++)at[nn-2]=arguments[nn];return N.prototype[Ie].apply(J,at)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function _(m){const N=m.length;if(N>0){const O=Array(N);for(let J=0;J<N;J++)O[J]=m[J];return O}return[]}function M(m,N){for(let J=1;J<arguments.length;J++){const Ie=arguments[J];var O=typeof Ie;if(O=O!="object"?O:Ie?Array.isArray(Ie)?"array":O:"null",O=="array"||O=="object"&&typeof Ie.length=="number"){O=m.length||0;const Me=Ie.length||0;m.length=O+Me;for(let at=0;at<Me;at++)m[O+at]=Ie[at]}else m.push(Ie)}}class V{constructor(N,O){this.i=N,this.j=O,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function U(m){c.setTimeout(()=>{throw m},0)}function j(){var m=q;let N=null;return m.g&&(N=m.g,m.g=m.g.next,m.g||(m.h=null),N.next=null),N}class ne{constructor(){this.h=this.g=null}add(N,O){const J=oe.get();J.set(N,O),this.h?this.h.next=J:this.g=J,this.h=J}}var oe=new V(()=>new H,m=>m.reset());class H{constructor(){this.next=this.g=this.h=null}set(N,O){this.h=N,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,fe=!1,q=new ne,k=()=>{const m=Promise.resolve(void 0);ee=()=>{m.then(D)}};function D(){for(var m;m=j();){try{m.h.call(m.g)}catch(O){U(O)}var N=oe;N.j(m),N.h<100&&(N.h++,m.next=N.g,N.g=m)}fe=!1}function Y(){this.u=this.u,this.C=this.C}Y.prototype.u=!1,Y.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Y.prototype[Symbol.dispose]=function(){this.dispose()},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(m,N){this.type=m,this.g=this.target=N,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,N=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};c.addEventListener("test",O,N),c.removeEventListener("test",O,N)}catch{}return m})();function L(m){return/^[\s\xa0]*$/.test(m)}function he(m,N){T.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,N)}b(he,T),he.prototype.init=function(m,N){const O=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=N,N=m.relatedTarget,N||(O=="mouseover"?N=m.fromElement:O=="mouseout"&&(N=m.toElement)),this.relatedTarget=N,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),te=0;function pe(m,N,O,J,Ie){this.listener=m,this.proxy=null,this.src=N,this.type=O,this.capture=!!J,this.ha=Ie,this.key=++te,this.da=this.fa=!1}function ue(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ce(m,N,O){for(const J in m)N.call(O,m[J],J,m)}function be(m,N){for(const O in m)N.call(void 0,m[O],O,m)}function X(m){const N={};for(const O in m)N[O]=m[O];return N}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,N){let O,J;for(let Ie=1;Ie<arguments.length;Ie++){J=arguments[Ie];for(O in J)m[O]=J[O];for(let Me=0;Me<P.length;Me++)O=P[Me],Object.prototype.hasOwnProperty.call(J,O)&&(m[O]=J[O])}}function K(m){this.src=m,this.g={},this.h=0}K.prototype.add=function(m,N,O,J,Ie){const Me=m.toString();m=this.g[Me],m||(m=this.g[Me]=[],this.h++);const at=de(m,N,J,Ie);return at>-1?(N=m[at],O||(N.fa=!1)):(N=new pe(N,this.src,Me,!!J,Ie),N.fa=O,m.push(N)),N};function ie(m,N){const O=N.type;if(O in m.g){var J=m.g[O],Ie=Array.prototype.indexOf.call(J,N,void 0),Me;(Me=Ie>=0)&&Array.prototype.splice.call(J,Ie,1),Me&&(ue(N),m.g[O].length==0&&(delete m.g[O],m.h--))}}function de(m,N,O,J){for(let Ie=0;Ie<m.length;++Ie){const Me=m[Ie];if(!Me.da&&Me.listener==N&&Me.capture==!!O&&Me.ha==J)return Ie}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Ee={};function Le(m,N,O,J,Ie){if(Array.isArray(N)){for(let Me=0;Me<N.length;Me++)Le(m,N[Me],O,J,Ie);return null}return O=Mt(O),m&&m[Ae]?m.J(N,O,u(J)?!!J.capture:!1,Ie):Ue(m,N,O,!1,J,Ie)}function Ue(m,N,O,J,Ie,Me){if(!N)throw Error("Invalid event type");const at=u(Ie)?!!Ie.capture:!!Ie;let nn=lt(m);if(nn||(m[ye]=nn=new K(m)),O=nn.add(N,O,J,at,Me),O.proxy)return O;if(J=et(),O.proxy=J,J.src=m,J.listener=O,m.addEventListener)R||(Ie=at),Ie===void 0&&(Ie=!1),m.addEventListener(N.toString(),J,Ie);else if(m.attachEvent)m.attachEvent(vt(N.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return O}function et(){function m(O){return N.call(m.src,m.listener,O)}const N=re;return m}function ot(m,N,O,J,Ie){if(Array.isArray(N))for(var Me=0;Me<N.length;Me++)ot(m,N[Me],O,J,Ie);else J=u(J)?!!J.capture:!!J,O=Mt(O),m&&m[Ae]?(m=m.i,Me=String(N).toString(),Me in m.g&&(N=m.g[Me],O=de(N,O,J,Ie),O>-1&&(ue(N[O]),Array.prototype.splice.call(N,O,1),N.length==0&&(delete m.g[Me],m.h--)))):m&&(m=lt(m))&&(N=m.g[N.toString()],m=-1,N&&(m=de(N,O,J,Ie)),(O=m>-1?N[m]:null)&&ct(O))}function ct(m){if(typeof m!="number"&&m&&!m.da){var N=m.src;if(N&&N[Ae])ie(N.i,m);else{var O=m.type,J=m.proxy;N.removeEventListener?N.removeEventListener(O,J,m.capture):N.detachEvent?N.detachEvent(vt(O),J):N.addListener&&N.removeListener&&N.removeListener(J),(O=lt(N))?(ie(O,m),O.h==0&&(O.src=null,N[ye]=null)):ue(m)}}}function vt(m){return m in Ee?Ee[m]:Ee[m]="on"+m}function re(m,N){if(m.da)m=!0;else{N=new he(N,this);const O=m.listener,J=m.ha||m.src;m.fa&&ct(m),m=O.call(J,N)}return m}function lt(m){return m=m[ye],m instanceof K?m:null}var $t="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mt(m){return typeof m=="function"?m:(m[$t]||(m[$t]=function(N){return m.handleEvent(N)}),m[$t])}function Be(){Y.call(this),this.i=new K(this),this.M=this,this.G=null}b(Be,Y),Be.prototype[Ae]=!0,Be.prototype.removeEventListener=function(m,N,O,J){ot(this,m,N,O,J)};function dt(m,N){var O,J=m.G;if(J)for(O=[];J;J=J.G)O.push(J);if(m=m.M,J=N.type||N,typeof N=="string")N=new T(N,m);else if(N instanceof T)N.target=N.target||m;else{var Ie=N;N=new T(J,m),z(N,Ie)}Ie=!0;let Me,at;if(O)for(at=O.length-1;at>=0;at--)Me=N.g=O[at],Ie=se(Me,J,!0,N)&&Ie;if(Me=N.g=m,Ie=se(Me,J,!0,N)&&Ie,Ie=se(Me,J,!1,N)&&Ie,O)for(at=0;at<O.length;at++)Me=N.g=O[at],Ie=se(Me,J,!1,N)&&Ie}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var m=this.i;for(const N in m.g){const O=m.g[N];for(let J=0;J<O.length;J++)ue(O[J]);delete m.g[N],m.h--}}this.G=null},Be.prototype.J=function(m,N,O,J){return this.i.add(String(m),N,!1,O,J)},Be.prototype.K=function(m,N,O,J){return this.i.add(String(m),N,!0,O,J)};function se(m,N,O,J){if(N=m.i.g[String(N)],!N)return!0;N=N.concat();let Ie=!0;for(let Me=0;Me<N.length;++Me){const at=N[Me];if(at&&!at.da&&at.capture==O){const nn=at.listener,hr=at.ha||at.src;at.fa&&ie(m.i,at),Ie=nn.call(hr,J)!==!1&&Ie}}return Ie&&!J.defaultPrevented}function ge(m,N){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:c.setTimeout(m,N||0)}function Se(m){m.g=ge(()=>{m.g=null,m.i&&(m.i=!1,Se(m))},m.l);const N=m.h;m.h=null,m.m.apply(null,N)}class Ke extends Y{constructor(N,O){super(),this.m=N,this.l=O,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Se(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function He(m){Y.call(this),this.h=m,this.g={}}b(He,Y);var Ve=[];function it(m){Ce(m.g,function(N,O){this.g.hasOwnProperty(O)&&ct(N)},m),m.g={}}He.prototype.N=function(){He.Z.N.call(this),it(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=c.JSON.stringify,st=c.JSON.parse,bt=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function gt(){}function fn(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){T.call(this,"d")}b(Pt,T);function Ft(){T.call(this,"c")}b(Ft,T);var Qt={},Ot=null;function yn(){return Ot=Ot||new Be}Qt.Ia="serverreachability";function Et(m){T.call(this,Qt.Ia,m)}b(Et,T);function zt(m){const N=yn();dt(N,new Et(N))}Qt.STAT_EVENT="statevent";function jn(m,N){T.call(this,Qt.STAT_EVENT,m),this.stat=N}b(jn,T);function jt(m){const N=yn();dt(N,new jn(N,m))}Qt.Ja="timingevent";function Ct(m,N){T.call(this,Qt.Ja,m),this.size=N}b(Ct,T);function ut(m,N){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},N)}function _n(){this.g=!0}_n.prototype.ua=function(){this.g=!1};function An(m,N,O,J,Ie,Me){m.info(function(){if(m.g)if(Me){var at="",nn=Me.split("&");for(let mn=0;mn<nn.length;mn++){var hr=nn[mn].split("=");if(hr.length>1){const Wn=hr[0];hr=hr[1];const wi=Wn.split("_");at=wi.length>=2&&wi[1]=="type"?at+(Wn+"="+hr+"&"):at+(Wn+"=redacted&")}}}else at=null;else at=Me;return"XMLHTTP REQ ("+J+") [attempt "+Ie+"]: "+N+`
`+O+`
`+at})}function cr(m,N,O,J,Ie,Me,at){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Ie+"]: "+N+`
`+O+`
`+Me+" "+at})}function Sr(m,N,O,J){m.info(function(){return"XMLHTTP TEXT ("+N+"): "+Er(m,O)+(J?" "+J:"")})}function pt(m,N){m.info(function(){return"TIMEOUT: "+N})}_n.prototype.info=function(){};function Er(m,N){if(!m.g)return N;if(!N)return null;try{const Me=JSON.parse(N);if(Me){for(m=0;m<Me.length;m++)if(Array.isArray(Me[m])){var O=Me[m];if(!(O.length<2)){var J=O[1];if(Array.isArray(J)&&!(J.length<1)){var Ie=J[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(let at=1;at<J.length;at++)J[at]=""}}}}return ft(Me)}catch{return N}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},er;function zn(){}b(zn,gt),zn.prototype.g=function(){return new XMLHttpRequest},er=new zn;function Tn(m){return encodeURIComponent(String(m))}function Hr(m){var N=1;m=m.split(":");const O=[];for(;N>0&&m.length;)O.push(m.shift()),N--;return m.length&&O.push(m.join(":")),O}function Ri(m,N,O,J){this.j=m,this.i=N,this.l=O,this.S=J||1,this.V=new He(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Gn={},rr={};function ei(m,N,O){m.M=1,m.A=Ua(jr(N)),m.u=O,m.R=!0,Hi(m,null)}function Hi(m,N){m.F=Date.now(),Gi(m),m.B=jr(m.A);var O=m.B,J=m.S;Array.isArray(J)||(J=[String(J)]),Ho(O.i,"t",J),m.C=0,O=m.j.L,m.h=new vi,m.g=xt(m.j,O?N:null,!m.u),m.P>0&&(m.O=new Ke(d(m.Y,m,m.g),m.P)),N=m.V,O=m.g,J=m.ba;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Ve[0]=Ie.toString()),Ie=Ve);for(let Me=0;Me<Ie.length;Me++){const at=Le(O,Ie[Me],J||N.handleEvent,!1,N.h||N);if(!at)break;N.g[at.key]=at}N=m.J?X(m.J):{},m.u?(m.v||(m.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,N)):(m.v="GET",m.g.ea(m.B,m.v,null,N)),zt(),An(m.i,m.v,m.B,m.l,m.S,m.u)}Ri.prototype.ba=function(m){m=m.target;const N=this.O;N&&us(m)==3?N.j():this.Y(m)},Ri.prototype.Y=function(m){try{if(m==this.g)e:{const nn=us(this.g),hr=this.g.ya(),mn=this.g.ca();if(!(nn<3)&&(nn!=3||this.g&&(this.h.h||this.g.la()||Yr(this.g)))){this.K||nn!=4||hr==7||(hr==8||mn<=0?zt(3):zt(2)),ss(this);var N=this.g.ca();this.X=N;var O=_s(this);if(this.o=N==200,cr(this.i,this.v,this.B,this.l,this.S,nn,N),this.o){if(this.U&&!this.L){t:{if(this.g){var J,Ie=this.g;if((J=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(J)){var Me=J;break t}}Me=null}if(m=Me)Sr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ws(this,m);else{this.o=!1,this.m=3,jt(12),as(this),Li(this);break e}}if(this.R){m=!0;let Wn;for(;!this.K&&this.C<O.length;)if(Wn=js(this,O),Wn==rr){nn==4&&(this.m=4,jt(14),m=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Gn){this.m=4,jt(15),Sr(this.i,this.l,O,"[Invalid Chunk]"),m=!1;break}else Sr(this.i,this.l,Wn,null),ws(this,Wn);if(Fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||O.length!=0||this.h.h||(this.m=1,jt(16),m=!1),this.o=this.o&&m,!m)Sr(this.i,this.l,O,"[Invalid Chunked Response]"),as(this),Li(this);else if(O.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ko(at),at.P=!0,jt(11))}}else Sr(this.i,this.l,O,null),ws(this,O);nn==4&&as(this),this.o&&!this.K&&(nn==4?le(this.j,this):(this.o=!1,Gi(this)))}else $s(this.g),N==400&&O.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),as(this),Li(this)}}}catch{}};function _s(m){if(!Fa(m))return m.g.la();const N=Yr(m.g);if(N==="")return"";let O="";const J=N.length,Ie=us(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return as(m),Li(m),"";m.h.i=new c.TextDecoder}for(let Me=0;Me<J;Me++)m.h.h=!0,O+=m.h.i.decode(N[Me],{stream:!(Ie&&Me==J-1)});return N.length=0,m.h.g+=O,m.C=0,m.h.g}function Fa(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function js(m,N){var O=m.C,J=N.indexOf(`
`,O);return J==-1?rr:(O=Number(N.substring(O,J)),isNaN(O)?Gn:(J+=1,J+O>N.length?rr:(N=N.slice(J,J+O),m.C=J+O,N)))}Ri.prototype.cancel=function(){this.K=!0,as(this)};function Gi(m){m.T=Date.now()+m.H,wa(m,m.H)}function wa(m,N){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ut(d(m.aa,m),N)}function ss(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Ri.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(pt(this.i,this.B),this.M!=2&&(zt(),jt(17)),as(this),this.m=2,Li(this)):wa(this,this.T-m)};function Li(m){m.j.I==0||m.K||le(m.j,m)}function as(m){ss(m);var N=m.O;N&&typeof N.dispose=="function"&&N.dispose(),m.O=null,it(m.V),m.g&&(N=m.g,m.g=null,N.abort(),N.dispose())}function ws(m,N){try{var O=m.j;if(O.I!=0&&(O.g==m||Vs(O.h,m))){if(!m.L&&Vs(O.h,m)&&O.I==3){try{var J=O.Ba.g.parse(N)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Ie=J;if(Ie[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<m.F)F(O),Qs(O);else break e;Bs(O),jt(18)}}else O.xa=Ie[1],0<O.xa-O.K&&Ie[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=ut(d(O.Va,O),6e3));xs(O.h)<=1&&O.ta&&(O.ta=void 0)}else Ne(O,11)}else if((m.L||O.g==m)&&F(O),!L(N))for(Ie=O.Ba.g.parse(N),N=0;N<Ie.length;N++){let mn=Ie[N];const Wn=mn[0];if(!(Wn<=O.K))if(O.K=Wn,mn=mn[1],O.I==2)if(mn[0]=="c"){O.M=mn[1],O.ba=mn[2];const wi=mn[3];wi!=null&&(O.ka=wi,O.j.info("VER="+O.ka));const Di=mn[4];Di!=null&&(O.za=Di,O.j.info("SVER="+O.za));const ir=mn[5];ir!=null&&typeof ir=="number"&&ir>0&&(J=1.5*ir,O.O=J,O.j.info("backChannelRequestTimeoutMs_="+J)),J=O;const Pi=m.g;if(Pi){const zs=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var Me=J.h;Me.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(lo(Me,Me.h),Me.h=null))}if(J.G){const Ga=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(J.wa=Ga,Cn(J.J,J.G,Ga))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-m.F,O.j.info("Handshake RTT: "+O.T+"ms")),J=O;var at=m;if(J.na=tt(J,J.L?J.ba:null,J.W),at.L){zo(J.h,at);var nn=at,hr=J.O;hr&&(nn.H=hr),nn.D&&(ss(nn),Gi(nn)),J.g=at}else Tl(J);O.i.length>0&&Ss(O)}else mn[0]!="stop"&&mn[0]!="close"||Ne(O,7);else O.I==3&&(mn[0]=="stop"||mn[0]=="close"?mn[0]=="stop"?Ne(O,7):Ha(O):mn[0]!="noop"&&O.l&&O.l.qa(mn),O.A=0)}}zt(4)}catch{}}var Ir=class{constructor(m,N){this.g=m,this.map=N}};function Bo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function xs(m){return m.h?1:m.g?m.g.size:0}function Vs(m,N){return m.h?m.h==N:m.g?m.g.has(N):!1}function lo(m,N){m.g?m.g.add(N):m.h=N}function zo(m,N){m.h&&m.h==N?m.h=null:m.g&&m.g.has(N)&&m.g.delete(N)}Bo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function qo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let N=m.i;for(const O of m.g.values())N=N.concat(O.G);return N}return _(m.i)}var wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(m,N){if(m){m=m.split("&");for(let O=0;O<m.length;O++){const J=m[O].indexOf("=");let Ie,Me=null;J>=0?(Ie=m[O].substring(0,J),Me=m[O].substring(J+1)):Ie=m[O],N(Ie,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function bi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;m instanceof bi?(this.l=m.l,vn(this,m.j),this.o=m.o,this.g=m.g,xa(this,m.u),this.h=m.h,As(this,Go(m.i)),this.m=m.m):m&&(N=String(m).match(wl))?(this.l=!1,vn(this,N[1]||"",!0),this.o=Gr(N[2]||""),this.g=Gr(N[3]||"",!0),xa(this,N[4]),this.h=Gr(N[5]||"",!0),As(this,N[6]||"",!0),this.m=Gr(N[7]||"")):(this.l=!1,this.i=new Aa(null,this.l))}bi.prototype.toString=function(){const m=[];var N=this.j;N&&m.push(vr(N,co,!0),":");var O=this.g;return(O||N=="file")&&(m.push("//"),(N=this.o)&&m.push(vr(N,co,!0),"@"),m.push(Tn(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&m.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(vr(O,O.charAt(0)=="/"?xl:cc,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",vr(O,Al)),m.join("")},bi.prototype.resolve=function(m){const N=jr(this);let O=!!m.j;O?vn(N,m.j):O=!!m.o,O?N.o=m.o:O=!!m.g,O?N.g=m.g:O=m.u!=null;var J=m.h;if(O)xa(N,m.u);else if(O=!!m.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var Ie=N.h.lastIndexOf("/");Ie!=-1&&(J=N.h.slice(0,Ie+1)+J)}if(Ie=J,Ie==".."||Ie==".")J="";else if(Ie.indexOf("./")!=-1||Ie.indexOf("/.")!=-1){J=Ie.lastIndexOf("/",0)==0,Ie=Ie.split("/");const Me=[];for(let at=0;at<Ie.length;){const nn=Ie[at++];nn=="."?J&&at==Ie.length&&Me.push(""):nn==".."?((Me.length>1||Me.length==1&&Me[0]!="")&&Me.pop(),J&&at==Ie.length&&Me.push("")):(Me.push(nn),J=!0)}J=Me.join("/")}else J=Ie}return O?N.h=J:O=m.i.toString()!=="",O?As(N,Go(m.i)):O=!!m.m,O&&(N.m=m.m),N};function jr(m){return new bi(m)}function vn(m,N,O){m.j=O?Gr(N,!0):N,m.j&&(m.j=m.j.replace(/:$/,""))}function xa(m,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);m.u=N}else m.u=null}function As(m,N,O){N instanceof Aa?(m.i=N,Wi(m.i,m.l)):(O||(N=vr(N,ki)),m.i=new Aa(N,m.l))}function Cn(m,N,O){m.i.set(N,O)}function Ua(m){return Cn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Gr(m,N){return m?N?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function vr(m,N,O){return typeof m=="string"?(m=encodeURI(m).replace(N,Vr),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Vr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var co=/[#\/\?@]/g,cc=/[#\?:]/g,xl=/[#\?]/g,ki=/[#\?@]/g,Al=/#/g;function Aa(m,N){this.h=this.g=null,this.i=m||null,this.j=!!N}function ci(m){m.g||(m.g=new Map,m.h=0,m.i&&os(m.i,function(N,O){m.add(decodeURIComponent(N.replace(/\+/g," ")),O)}))}n=Aa.prototype,n.add=function(m,N){ci(this),this.i=null,m=Sa(this,m);let O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(N),this.h+=1,this};function Ba(m,N){ci(m),N=Sa(m,N),m.g.has(N)&&(m.i=null,m.h-=m.g.get(N).length,m.g.delete(N))}function Sl(m,N){return ci(m),N=Sa(m,N),m.g.has(N)}n.forEach=function(m,N){ci(this),this.g.forEach(function(O,J){O.forEach(function(Ie){m.call(N,Ie,J,this)},this)},this)};function El(m,N){ci(m);let O=[];if(typeof N=="string")Sl(m,N)&&(O=O.concat(m.g.get(Sa(m,N))));else for(m=Array.from(m.g.values()),N=0;N<m.length;N++)O=O.concat(m[N]);return O}n.set=function(m,N){return ci(this),this.i=null,m=Sa(this,m),Sl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[N]),this.h+=1,this},n.get=function(m,N){return m?(m=El(this,m),m.length>0?String(m[0]):N):N};function Ho(m,N,O){Ba(m,N),O.length>0&&(m.i=null,m.g.set(Sa(m,N),_(O)),m.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],N=Array.from(this.g.keys());for(let J=0;J<N.length;J++){var O=N[J];const Ie=Tn(O);O=El(this,O);for(let Me=0;Me<O.length;Me++){let at=Ie;O[Me]!==""&&(at+="="+Tn(O[Me])),m.push(at)}}return this.i=m.join("&")};function Go(m){const N=new Aa;return N.i=m.i,m.g&&(N.g=new Map(m.g),N.h=m.h),N}function Sa(m,N){return N=String(N),m.j&&(N=N.toLowerCase()),N}function Wi(m,N){N&&!m.j&&(ci(m),m.i=null,m.g.forEach(function(O,J){const Ie=J.toLowerCase();J!=Ie&&(Ba(this,J),Ho(this,Ie,O))},m)),m.j=N}function Fs(m,N){const O=new _n;if(c.Image){const J=new Image;J.onload=g(Ki,O,"TestLoadImage: loaded",!0,N,J),J.onerror=g(Ki,O,"TestLoadImage: error",!1,N,J),J.onabort=g(Ki,O,"TestLoadImage: abort",!1,N,J),J.ontimeout=g(Ki,O,"TestLoadImage: timeout",!1,N,J),c.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else N(!1)}function Ea(m,N){const O=new _n,J=new AbortController,Ie=setTimeout(()=>{J.abort(),Ki(O,"TestPingServer: timeout",!1,N)},1e4);fetch(m,{signal:J.signal}).then(Me=>{clearTimeout(Ie),Me.ok?Ki(O,"TestPingServer: ok",!0,N):Ki(O,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(Ie),Ki(O,"TestPingServer: error",!1,N)})}function Ki(m,N,O,J,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),J(O)}catch{}}function za(){this.g=new bt}function qt(m){this.i=m.Sb||null,this.h=m.ab||!1}b(qt,gt),qt.prototype.g=function(){return new uo(this.i,this.h)};function uo(m,N){Be.call(this),this.H=m,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(uo,Be),n=uo.prototype,n.open=function(m,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=N,this.readyState=1,ui(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(N.body=m),(this.H||c).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var N=m.value?m.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!m.done}))&&(this.response=this.responseText+=N)}m.done?qa(this):ui(this),this.readyState==3&&Yo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,qa(this))},n.Na=function(m){this.g&&(this.response=m,qa(this))},n.ga=function(){this.g&&qa(this)};function qa(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ui(m)}n.setRequestHeader=function(m,N){this.A.append(m,N)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],N=this.h.entries();for(var O=N.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=N.next();return m.join(`\r
`)};function ui(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ti(m){let N="";return Ce(m,function(O,J){N+=J,N+=":",N+=O,N+=`\r
`}),N}function ho(m,N,O){e:{for(J in O){var J=!1;break e}J=!0}J||(O=ti(O),typeof m=="string"?O!=null&&Tn(O):Cn(m,N,O))}function Yn(m){Be.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yn,Be);var ls=/^https?$/i,fo=["POST","PUT"];n=Yn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,N,O,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);N=N?N.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():er.g(),this.g.onreadystatechange=E(d(this.Ca,this));try{this.B=!0,this.g.open(N,String(m),!0),this.B=!1}catch(Me){Us(this,Me);return}if(m=O||"",O=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Ie in J)O.set(Ie,J[Ie]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Me of J.keys())O.set(Me,J.get(Me));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(O.keys()).find(Me=>Me.toLowerCase()=="content-type"),Ie=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(fo,N,void 0)>=0)||J||Ie||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,at]of O)this.g.setRequestHeader(Me,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Me){Us(this,Me)}};function Us(m,N){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=N,m.o=5,Nl(m),Na(m)}function Nl(m){m.A||(m.A=!0,dt(m,"complete"),dt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,dt(this,"complete"),dt(this,"abort"),Na(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),Yn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?cs(this):this.Xa())},n.Xa=function(){cs(this)};function cs(m){if(m.h&&typeof o<"u"){if(m.v&&us(m)==4)setTimeout(m.Ca.bind(m),0);else if(dt(m,"readystatechange"),us(m)==4){m.h=!1;try{const Me=m.ca();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var O;if(!(O=N)){var J;if(J=Me===0){let at=String(m.D).match(wl)[1]||null;!at&&c.self&&c.self.location&&(at=c.self.location.protocol.slice(0,-1)),J=!ls.test(at?at.toLowerCase():"")}O=J}if(O)dt(m,"complete"),dt(m,"success");else{m.o=6;try{var Ie=us(m)>2?m.g.statusText:""}catch{Ie=""}m.l=Ie+" ["+m.ca()+"]",Nl(m)}}finally{Na(m)}}}}function Na(m,N){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const O=m.g;m.g=null,N||dt(m,"ready");try{O.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function us(m){return m.g?m.g.readyState:0}n.ca=function(){try{return us(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var N=this.g.responseText;return m&&N.indexOf(m)==0&&(N=N.substring(m.length)),st(N)}};function Yr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(m){const N={};m=(m.g&&us(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(L(m[J]))continue;var O=Hr(m[J]);const Ie=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Me=N[Ie]||[];N[Ie]=Me,Me.push(O)}be(N,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(m,N,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||N}function Xs(m){this.za=0,this.i=[],this.j=new _n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,m),this.Za=_i("retryDelaySeedMs",1e4,m),this.Ta=_i("forwardChannelMaxRetries",2,m),this.va=_i("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(m&&m.concurrentRequestLimit),this.Ba=new za,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xs.prototype,n.ka=8,n.I=1,n.connect=function(m,N,O,J){jt(0),this.W=m,this.H=N||{},O&&J!==void 0&&(this.H.OSID=O,this.H.OAID=J),this.F=this.X,this.J=tt(this,null,this.W),Ss(this)};function Ha(m){if(Js(m),m.I==3){var N=m.V++,O=jr(m.J);if(Cn(O,"SID",m.M),Cn(O,"RID",N),Cn(O,"TYPE","terminate"),hs(m,O),N=new Ri(m,m.j,N),N.M=2,N.A=Ua(jr(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(N.A.toString(),"")}catch{}!O&&c.Image&&(new Image().src=N.A,O=!0),O||(N.g=xt(N.j,null),N.g.ea(N.A)),N.F=Date.now(),Gi(N)}Ge(m)}function Qs(m){m.g&&(Ko(m),m.g.cancel(),m.g=null)}function Js(m){Qs(m),m.v&&(c.clearTimeout(m.v),m.v=null),F(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Ss(m){if(!Yi(m.h)&&!m.m){m.m=!0;var N=m.Ea;ee||k(),fe||(ee(),fe=!0),q.add(N,m),m.D=0}}function po(m,N){return xs(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=N.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ut(d(m.Ea,m,N),ve(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Ie=new Ri(this,this.j,m);let Me=this.o;if(this.U&&(Me?(Me=X(Me),z(Me,this.U)):Me=this.U),this.u!==null||this.R||(Ie.J=Me,Me=null),this.S)e:{for(var N=0,O=0;O<this.i.length;O++){t:{var J=this.i[O];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(N+=J,N>4096){N=O;break e}if(N===4096||O===this.i.length-1){N=O+1;break e}}N=1e3}else N=1e3;N=Zs(this,Ie,N),O=jr(this.J),Cn(O,"RID",m),Cn(O,"CVER",22),this.G&&Cn(O,"X-HTTP-Session-Id",this.G),hs(this,O),Me&&(this.R?N="headers="+Tn(ti(Me))+"&"+N:this.u&&ho(O,this.u,Me)),lo(this.h,Ie),this.Ra&&Cn(O,"TYPE","init"),this.S?(Cn(O,"$req",N),Cn(O,"SID","null"),Ie.U=!0,ei(Ie,O,null)):ei(Ie,O,N),this.I=2}}else this.I==3&&(m?Wo(this,m):this.i.length==0||Yi(this.h)||Wo(this))};function Wo(m,N){var O;N?O=N.l:O=m.V++;const J=jr(m.J);Cn(J,"SID",m.M),Cn(J,"RID",O),Cn(J,"AID",m.K),hs(m,J),m.u&&m.o&&ho(J,m.u,m.o),O=new Ri(m,m.j,O,m.D+1),m.u===null&&(O.J=m.o),N&&(m.i=N.G.concat(m.i)),N=Zs(m,O,1e3),O.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),lo(m.h,O),ei(O,J,N)}function hs(m,N){m.H&&Ce(m.H,function(O,J){Cn(N,J,O)}),m.l&&Ce({},function(O,J){Cn(N,J,O)})}function Zs(m,N,O){O=Math.min(m.i.length,O);const J=m.l?d(m.l.Ka,m.l,m):null;e:{var Ie=m.i;let nn=-1;for(;;){const hr=["count="+O];nn==-1?O>0?(nn=Ie[0].g,hr.push("ofs="+nn)):nn=0:hr.push("ofs="+nn);let mn=!0;for(let Wn=0;Wn<O;Wn++){var Me=Ie[Wn].g;const wi=Ie[Wn].map;if(Me-=nn,Me<0)nn=Math.max(0,Ie[Wn].g-100),mn=!1;else try{Me="req"+Me+"_"||"";try{var at=wi instanceof Map?wi:Object.entries(wi);for(const[Di,ir]of at){let Pi=ir;u(ir)&&(Pi=ft(ir)),hr.push(Me+Di+"="+encodeURIComponent(Pi))}}catch(Di){throw hr.push(Me+"type="+encodeURIComponent("_badmap")),Di}}catch{J&&J(wi)}}if(mn){at=hr.join("&");break e}}at=void 0}return m=m.i.splice(0,O),N.G=m,at}function Tl(m){if(!m.g&&!m.v){m.Y=1;var N=m.Da;ee||k(),fe||(ee(),fe=!0),q.add(N,m),m.A=0}}function Bs(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ut(d(m.Da,m),ve(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,x(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ut(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Qs(this),x(this))};function Ko(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function x(m){m.g=new Ri(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var N=jr(m.na);Cn(N,"RID","rpc"),Cn(N,"SID",m.M),Cn(N,"AID",m.K),Cn(N,"CI",m.F?"0":"1"),!m.F&&m.ia&&Cn(N,"TO",m.ia),Cn(N,"TYPE","xmlhttp"),hs(m,N),m.u&&m.o&&ho(N,m.u,m.o),m.O&&(m.g.H=m.O);var O=m.g;m=m.ba,O.M=1,O.A=Ua(jr(N)),O.u=null,O.R=!0,Hi(O,m)}n.Va=function(){this.C!=null&&(this.C=null,Qs(this),Bs(this),jt(19))};function F(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function le(m,N){var O=null;if(m.g==N){F(m),Ko(m),m.g=null;var J=2}else if(Vs(m.h,N))O=N.G,zo(m.h,N),J=1;else return;if(m.I!=0){if(N.o)if(J==1){O=N.u?N.u.length:0,N=Date.now()-N.F;var Ie=m.D;J=yn(),dt(J,new Ct(J,O)),Ss(m)}else Tl(m);else if(Ie=N.m,Ie==3||Ie==0&&N.X>0||!(J==1&&po(m,N)||J==2&&Bs(m)))switch(O&&O.length>0&&(N=m.h,N.i=N.i.concat(O)),Ie){case 1:Ne(m,5);break;case 4:Ne(m,10);break;case 3:Ne(m,6);break;default:Ne(m,2)}}}function ve(m,N){let O=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(O*=2),O*N}function Ne(m,N){if(m.j.info("Error code "+N),N==2){var O=d(m.bb,m),J=m.Ua;const Ie=!J;J=new bi(J||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vn(J,"https"),Ua(J),Ie?Fs(J.toString(),O):Ea(J.toString(),O)}else jt(2);m.I=0,m.l&&m.l.pa(N),Ge(m),Js(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Ge(m){if(m.I=0,m.ja=[],m.l){const N=qo(m.h);(N.length!=0||m.i.length!=0)&&(M(m.ja,N),M(m.ja,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.oa()}}function tt(m,N,O){var J=O instanceof bi?jr(O):new bi(O);if(J.g!="")N&&(J.g=N+"."+J.g),xa(J,J.u);else{var Ie=c.location;J=Ie.protocol,N=N?N+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;const Me=new bi(null);J&&vn(Me,J),N&&(Me.g=N),Ie&&xa(Me,Ie),O&&(Me.h=O),J=Me}return O=m.G,N=m.wa,O&&N&&Cn(J,O,N),Cn(J,"VER",m.ka),hs(m,J),J}function xt(m,N,O){if(N&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=m.Aa&&!m.ma?new Yn(new qt({ab:O})):new Yn(m.ma),N.Fa(m.L),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function It(){}n=It.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Yt(){}Yt.prototype.g=function(m,N){return new Ut(m,N)};function Ut(m,N){Be.call(this),this.g=new Xs(N),this.l=m,this.h=N&&N.messageUrlParams||null,m=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(m?m["X-WebChannel-Content-Type"]=N.messageContentType:m={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(m?m["X-WebChannel-Client-Profile"]=N.sa:m={"X-WebChannel-Client-Profile":N.sa}),this.g.U=m,(m=N&&N.Qb)&&!L(m)&&(this.g.u=m),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!L(N)&&(this.g.G=N,m=this.h,m!==null&&N in m&&(m=this.h,N in m&&delete m[N])),this.j=new tr(this)}b(Ut,Be),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Ha(this.g)},Ut.prototype.o=function(m){var N=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.v&&(O={},O.__data__=ft(m),m=O);N.i.push(new Ir(N.Ya++,m)),N.I==3&&Ss(N)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Ha(this.g),delete this.g,Ut.Z.N.call(this)};function wn(m){Pt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var N=m.__sm__;if(N){e:{for(const O in N){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,N=N!==null&&m in N?N[m]:void 0),this.data=N}else this.data=m}b(wn,Pt);function ur(){Ft.call(this),this.status=1}b(ur,Ft);function tr(m){this.g=m}b(tr,It),tr.prototype.ra=function(){dt(this.g,"a")},tr.prototype.qa=function(m){dt(this.g,new wn(m))},tr.prototype.pa=function(m){dt(this.g,new ur)},tr.prototype.oa=function(){dt(this.g,"b")},Yt.prototype.createWebChannel=Yt.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,_A=function(){return new Yt},bA=function(){return yn()},vA=Qt,b2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Sm=Zr,Zn.COMPLETE="complete",yA=Zn,fn.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Be.prototype.listen=Be.prototype.J,Ad=fn,Yn.prototype.listenOnce=Yn.prototype.K,Yn.prototype.getLastError=Yn.prototype.Ha,Yn.prototype.getLastErrorCode=Yn.prototype.ya,Yn.prototype.getStatus=Yn.prototype.ca,Yn.prototype.getResponseJson=Yn.prototype.La,Yn.prototype.getResponseText=Yn.prototype.la,Yn.prototype.send=Yn.prototype.ea,Yn.prototype.setWithCredentials=Yn.prototype.Fa,gA=Yn}).apply(typeof am<"u"?am:typeof self<"u"?self:typeof window<"u"?window:{});class Ps{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");let Ef="12.8.0";function lL(n){Ef=n}const Hu=new cy("@firebase/firestore");function Uh(){return Hu.logLevel}function St(n,...e){if(Hu.logLevel<=Ln.DEBUG){const t=e.map(_y);Hu.debug(`Firestore (${Ef}): ${n}`,...t)}}function ic(n,...e){if(Hu.logLevel<=Ln.ERROR){const t=e.map(_y);Hu.error(`Firestore (${Ef}): ${n}`,...t)}}function Gu(n,...e){if(Hu.logLevel<=Ln.WARN){const t=e.map(_y);Hu.warn(`Firestore (${Ef}): ${n}`,...t)}}function _y(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function tn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,wA(n,r,t)}function wA(n,e,t){let r=`FIRESTORE (${Ef}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ic(r),new Error(r)}function nr(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||wA(e,s,r)}function un(n,e){return n}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends oc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class xA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ps.UNAUTHENTICATED)))}shutdown(){}}class cL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uL{constructor(e){this.t=e,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nr(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new tu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tu,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},u=f=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tu)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nr(typeof r.accessToken=="string",31837,{l:r}),new xA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nr(e===null||typeof e=="string",2055,{h:e}),new Ps(e)}}class hL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new hL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ps.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nr(this.o===void 0,3512);const r=o=>{o.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,St("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new S_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=pL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function kn(n,e){return n<e?-1:n>e?1:0}function _2(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return b0(s)===b0(o)?kn(s,o):b0(s)?1:-1}return kn(n.length,e.length)}const mL=55296,gL=57343;function b0(n){const e=n.charCodeAt(0);return e>=mL&&e<=gL}function ff(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const E_="__name__";class fl{constructor(e,t,r){t===void 0?t=0:t>e.length&&tn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&tn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=fl.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return kn(e.length,t.length)}static compareSegments(e,t){const r=fl.isNumericId(e),s=fl.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?fl.extractNumericId(e).compare(fl.extractNumericId(t)):_2(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eu.fromString(e.substring(4,e.length-2))}}class Tr extends fl{construct(e,t,r){return new Tr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(Qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Tr(t)}static emptyPath(){return new Tr([])}}const yL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends fl{construct(e,t,r){return new rs(e,t,r)}static isValidIdentifier(e){return yL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E_}static keyField(){return new rs([E_])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new yt(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new yt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new yt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else u==="`"?(c=!c,s++):u!=="."||c?(r+=u,s++):(o(),s++)}if(o(),c)throw new yt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(t)}static emptyPath(){return new rs([])}}class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(Tr.fromString(e))}static fromName(e){return new Gt(Tr.fromString(e).popFirst(5))}static empty(){return new Gt(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new Tr(e.slice()))}}function SA(n,e,t){if(!t)throw new yt(Qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EA(n,e,t,r){if(e===!0&&r===!0)throw new yt(Qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function N_(n){if(!Gt.isDocumentKey(n))throw new yt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function T_(n){if(Gt.isDocumentKey(n))throw new yt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _g(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tn(12329,{type:typeof n})}function so(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new yt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_g(n);throw new yt(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ti(n,e){const t={typeString:n};return e&&(t.value=e),t}function np(n,e){if(!NA(n))throw new yt(Qe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new yt(Qe.INVALID_ARGUMENT,t);return!0}const C_=-62135596800,I_=1e6;class Cr{static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*I_);return new Cr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<C_)throw new yt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(e){return this.seconds===e.seconds?kn(this.nanoseconds,e.nanoseconds):kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(np(e,Cr._jsonSchema))return new Cr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cr._jsonSchemaVersion="firestore/timestamp/1.0",Cr._jsonSchema={type:Ti("string",Cr._jsonSchemaVersion),seconds:Ti("number"),nanoseconds:Ti("number")};class an{static fromTimestamp(e){return new an(e)}static min(){return new an(new Cr(0,0))}static max(){return new an(new Cr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fd=-1;function vL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=an.fromTimestamp(r===1e9?new Cr(t+1,0):new Cr(t,r));return new ru(s,Gt.empty(),e)}function bL(n){return new ru(n.readTime,n.key,Fd)}class ru{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ru(an.min(),Gt.empty(),Fd)}static max(){return new ru(an.max(),Gt.empty(),Fd)}}function _L(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Gt.comparator(n.documentKey,e.documentKey),t!==0?t:kn(n.largestBatchId,e.largestBatchId))}const wL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nf(n){if(n.code!==Qe.FAILED_PRECONDITION||n.message!==wL)throw n;St("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.reject(t)}static resolve(e){return new nt(((t,r)=>{t(e)}))}static reject(e){return new nt(((t,r)=>{r(e)}))}static waitFor(e){return new nt(((t,r)=>{let s=0,o=0,c=!1;e.forEach((u=>{++s,u.next((()=>{++o,c&&o===s&&t()}),(f=>r(f)))})),c=!0,o===s&&t()}))}static or(e){let t=nt.resolve(!1);for(const r of e)t=t.next((s=>s?nt.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new nt(((r,s)=>{const o=e.length,c=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{c[d]=g,++u,u===o&&r(c)}),(g=>s(g)))}}))}static doWhile(e,t){return new nt(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function AL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tf(n){return n.name==="IndexedDbTransactionError"}class wg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wg.ce=-1;const wy=-1;function xg(n){return n==null}function Gm(n){return n===0&&1/n==-1/0}function SL(n){return typeof n=="number"&&Number.isInteger(n)&&!Gm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const TA="";function EL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=R_(e)),e=NL(n.get(t),e);return R_(e)}function NL(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case TA:t+="";break;default:t+=o}}return t}function R_(n){return n+TA+""}function L_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jr{constructor(e,t){this.comparator=e,this.root=t||vs.EMPTY}insert(e,t){return new Jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vs{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??vs.RED,this.left=s??vs.EMPTY,this.right=o??vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new vs(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return vs.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tn(27949);return e+(this.isRed()?0:1)}}vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1;vs.EMPTY=new class{constructor(){this.size=0}get key(){throw tn(57766)}get value(){throw tn(16141)}get color(){throw tn(16727)}get left(){throw tn(29726)}get right(){throw tn(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new vs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qi{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qi(this.comparator);return t.data=e,t}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ja{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new ja([])}unionWith(e){let t=new qi(rs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ja(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ff(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class is{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IA("Invalid base64 string: "+o):o}})(e);return new is(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new is(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}is.EMPTY_BYTE_STRING=new is("");const TL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iu(n){if(nr(!!n,39018),typeof n=="string"){let e=0;const t=TL.exec(n);if(nr(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pi(n.seconds),nanos:pi(n.nanos)}}function pi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function su(n){return typeof n=="string"?is.fromBase64String(n):is.fromUint8Array(n)}const RA="server_timestamp",LA="__type__",kA="__previous_value__",DA="__local_write_time__";function xy(n){return(n?.mapValue?.fields||{})[LA]?.stringValue===RA}function Ag(n){const e=n.mapValue.fields[kA];return xy(e)?Ag(e):e}function Ud(n){const e=iu(n.mapValue.fields[DA].timestampValue);return new Cr(e.seconds,e.nanos)}class CL{constructor(e,t,r,s,o,c,u,f,d,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=b}}const Ym="(default)";class df{constructor(e,t){this.projectId=e,this.database=t||Ym}static empty(){return new df("","")}get isDefaultDatabase(){return this.database===Ym}isEqual(e){return e instanceof df&&e.projectId===this.projectId&&e.database===this.database}}function IL(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new yt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new df(n.options.projectId,e)}const PA="__type__",RL="__max__",lm={mapValue:{}},OA="__vector__",Wm="value";function au(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xy(n)?4:kL(n)?9007199254740991:LL(n)?10:11:tn(28295,{value:n})}function bl(n,e){if(n===e)return!0;const t=au(n);if(t!==au(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ud(n).isEqual(Ud(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=iu(s.timestampValue),u=iu(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return su(s.bytesValue).isEqual(su(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return pi(s.geoPointValue.latitude)===pi(o.geoPointValue.latitude)&&pi(s.geoPointValue.longitude)===pi(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return pi(s.integerValue)===pi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=pi(s.doubleValue),u=pi(o.doubleValue);return c===u?Gm(c)===Gm(u):isNaN(c)&&isNaN(u)}return!1})(n,e);case 9:return ff(n.arrayValue.values||[],e.arrayValue.values||[],bl);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},u=o.mapValue.fields||{};if(L_(c)!==L_(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!bl(c[f],u[f])))return!1;return!0})(n,e);default:return tn(52216,{left:n})}}function Bd(n,e){return(n.values||[]).find((t=>bl(t,e)))!==void 0}function pf(n,e){if(n===e)return 0;const t=au(n),r=au(e);if(t!==r)return kn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kn(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const u=pi(o.integerValue||o.doubleValue),f=pi(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return D_(n.timestampValue,e.timestampValue);case 4:return D_(Ud(n),Ud(e));case 5:return _2(n.stringValue,e.stringValue);case 6:return(function(o,c){const u=su(o),f=su(c);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const u=o.split("/"),f=c.split("/");for(let d=0;d<u.length&&d<f.length;d++){const g=kn(u[d],f[d]);if(g!==0)return g}return kn(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const u=kn(pi(o.latitude),pi(c.latitude));return u!==0?u:kn(pi(o.longitude),pi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return P_(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const u=o.fields||{},f=c.fields||{},d=u[Wm]?.arrayValue,g=f[Wm]?.arrayValue,b=kn(d?.values?.length||0,g?.values?.length||0);return b!==0?b:P_(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===lm.mapValue&&c===lm.mapValue)return 0;if(o===lm.mapValue)return 1;if(c===lm.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=c.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let b=0;b<f.length&&b<g.length;++b){const E=_2(f[b],g[b]);if(E!==0)return E;const _=pf(u[f[b]],d[g[b]]);if(_!==0)return _}return kn(f.length,g.length)})(n.mapValue,e.mapValue);default:throw tn(23264,{he:t})}}function D_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return kn(n,e);const t=iu(n),r=iu(e),s=kn(t.seconds,r.seconds);return s!==0?s:kn(t.nanos,r.nanos)}function P_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=pf(t[s],r[s]);if(o)return o}return kn(t.length,r.length)}function mf(n){return w2(n)}function w2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=iu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return su(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Gt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=w2(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${w2(t.fields[c])}`;return s+"}"})(n.mapValue):tn(61005,{value:n})}function Em(n){switch(au(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ag(n);return e?16+Em(e):16;case 5:return 2*n.stringValue.length;case 6:return su(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Em(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return fu(r.fields,((o,c)=>{s+=o.length+Em(c)})),s})(n.mapValue);default:throw tn(13486,{value:n})}}function O_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function x2(n){return!!n&&"integerValue"in n}function Ay(n){return!!n&&"arrayValue"in n}function M_(n){return!!n&&"nullValue"in n}function j_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nm(n){return!!n&&"mapValue"in n}function LL(n){return(n?.mapValue?.fields||{})[PA]?.stringValue===OA}function Cd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return fu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Cd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cd(n.arrayValue.values[t]);return e}return{...n}}function kL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RL}class va{constructor(e){this.value=e}static empty(){return new va({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Nm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cd(t)}setAll(e){let t=rs.emptyPath(),r={},s=[];e.forEach(((c,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=u.popLast()}c?r[u.lastSegment()]=Cd(c):s.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Nm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Nm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){fu(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new va(Cd(this.value))}}function MA(n){const e=[];return fu(n.fields,((t,r)=>{const s=new rs([t]);if(Nm(r)){const o=MA(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new ja(e)}class Os{constructor(e,t,r,s,o,c,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Os(e,0,an.min(),an.min(),an.min(),va.empty(),0)}static newFoundDocument(e,t,r,s){return new Os(e,1,t,an.min(),r,s,0)}static newNoDocument(e,t){return new Os(e,2,t,an.min(),an.min(),va.empty(),0)}static newUnknownDocument(e,t){return new Os(e,3,t,an.min(),an.min(),va.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(an.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=va.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=va.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Km{constructor(e,t){this.position=e,this.inclusive=t}}function V_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?r=Gt.comparator(Gt.fromName(c.referenceValue),t.key):r=pf(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function F_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bl(n.position[t],e.position[t]))return!1;return!0}class zd{constructor(e,t="asc"){this.field=e,this.dir=t}}function DL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class jA{}class Ni extends jA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OL(e,t,r):t==="array-contains"?new VL(e,r):t==="in"?new FL(e,r):t==="not-in"?new UL(e,r):t==="array-contains-any"?new BL(e,r):new Ni(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ML(e,r):new jL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pf(t,this.value)):t!==null&&au(this.value)===au(t)&&this.matchesComparison(pf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jo extends jA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new jo(e,t)}matches(e){return VA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VA(n){return n.op==="and"}function FA(n){return PL(n)&&VA(n)}function PL(n){for(const e of n.filters)if(e instanceof jo)return!1;return!0}function A2(n){if(n instanceof Ni)return n.field.canonicalString()+n.op.toString()+mf(n.value);if(FA(n))return n.filters.map((e=>A2(e))).join(",");{const e=n.filters.map((t=>A2(t))).join(",");return`${n.op}(${e})`}}function UA(n,e){return n instanceof Ni?(function(r,s){return s instanceof Ni&&r.op===s.op&&r.field.isEqual(s.field)&&bl(r.value,s.value)})(n,e):n instanceof jo?(function(r,s){return s instanceof jo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,u)=>o&&UA(c,s.filters[u])),!0):!1})(n,e):void tn(19439)}function BA(n){return n instanceof Ni?(function(t){return`${t.field.canonicalString()} ${t.op} ${mf(t.value)}`})(n):n instanceof jo?(function(t){return t.op.toString()+" {"+t.getFilters().map(BA).join(" ,")+"}"})(n):"Filter"}class OL extends Ni{constructor(e,t,r){super(e,t,r),this.key=Gt.fromName(r.referenceValue)}matches(e){const t=Gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ML extends Ni{constructor(e,t){super(e,"in",t),this.keys=zA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jL extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=zA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function zA(n,e){return(e.arrayValue?.values||[]).map((t=>Gt.fromName(t.referenceValue)))}class VL extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ay(t)&&Bd(t.arrayValue,this.value)}}class FL extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bd(this.value.arrayValue,t)}}class UL extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bd(this.value.arrayValue,t)}}class BL extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Bd(this.value.arrayValue,r)))}}class zL{constructor(e,t=null,r=[],s=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function U_(n,e=null,t=[],r=[],s=null,o=null,c=null){return new zL(n,e,t,r,s,o,c)}function Sy(n){const e=un(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>A2(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),xg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>mf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>mf(r))).join(",")),e.Te=t}return e.Te}function Ey(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!F_(n.startAt,e.startAt)&&F_(n.endAt,e.endAt)}function S2(n){return Gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Cf{constructor(e,t=null,r=[],s=[],o=null,c="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function qL(n,e,t,r,s,o,c,u){return new Cf(n,e,t,r,s,o,c,u)}function Sg(n){return new Cf(n)}function B_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HL(n){return Gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function qA(n){return n.collectionGroup!==null}function Id(n){const e=un(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new qi(rs.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new zd(o,r))})),t.has(rs.keyField().canonicalString())||e.Ie.push(new zd(rs.keyField(),r))}return e.Ie}function yl(n){const e=un(n);return e.Ee||(e.Ee=GL(e,Id(n))),e.Ee}function GL(n,e){if(n.limitType==="F")return U_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new zd(s.field,o)}));const t=n.endAt?new Km(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Km(n.startAt.position,n.startAt.inclusive):null;return U_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function E2(n,e){const t=n.filters.concat([e]);return new Cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function YL(n,e){const t=n.explicitOrderBy.concat([e]);return new Cf(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function N2(n,e,t){return new Cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eg(n,e){return Ey(yl(n),yl(e))&&n.limitType===e.limitType}function HA(n){return`${Sy(yl(n))}|lt:${n.limitType}`}function Bh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>BA(s))).join(", ")}]`),xg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>mf(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>mf(s))).join(",")),`Target(${r})`})(yl(n))}; limitType=${n.limitType})`}function Ng(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Gt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of Id(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(c,u,f){const d=V_(c,u,f);return c.inclusive?d<=0:d<0})(r.startAt,Id(r),s)||r.endAt&&!(function(c,u,f){const d=V_(c,u,f);return c.inclusive?d>=0:d>0})(r.endAt,Id(r),s))})(n,e)}function WL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GA(n){return(e,t)=>{let r=!1;for(const s of Id(n)){const o=KL(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function KL(n,e,t){const r=n.field.isKeyField()?Gt.comparator(e.key,t.key):(function(o,c,u){const f=c.data.field(o),d=u.data.field(o);return f!==null&&d!==null?pf(f,d):tn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn(19790,{direction:n.dir})}}class Qu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fu(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return CA(this.inner)}size(){return this.innerSize}}const $L=new Jr(Gt.comparator);function sc(){return $L}const YA=new Jr(Gt.comparator);function Sd(...n){let e=YA;for(const t of n)e=e.insert(t.key,t);return e}function WA(n){let e=YA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Mu(){return Rd()}function KA(){return Rd()}function Rd(){return new Qu((n=>n.toString()),((n,e)=>n.isEqual(e)))}const XL=new Jr(Gt.comparator),QL=new qi(Gt.comparator);function Dn(...n){let e=QL;for(const t of n)e=e.add(t);return e}const JL=new qi(kn);function ZL(){return JL}function Ny(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(e)?"-0":e}}function $A(n){return{integerValue:""+n}}function ek(n,e){return SL(e)?$A(e):Ny(n,e)}class Tg{constructor(){this._=void 0}}function tk(n,e,t){return n instanceof $m?(function(s,o){const c={fields:{[LA]:{stringValue:RA},[DA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&xy(o)&&(o=Ag(o)),o&&(c.fields[kA]=o),{mapValue:c}})(t,e):n instanceof qd?QA(n,e):n instanceof Hd?JA(n,e):(function(s,o){const c=XA(s,o),u=z_(c)+z_(s.Ae);return x2(c)&&x2(s.Ae)?$A(u):Ny(s.serializer,u)})(n,e)}function nk(n,e,t){return n instanceof qd?QA(n,e):n instanceof Hd?JA(n,e):t}function XA(n,e){return n instanceof Xm?(function(r){return x2(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class $m extends Tg{}class qd extends Tg{constructor(e){super(),this.elements=e}}function QA(n,e){const t=ZA(e);for(const r of n.elements)t.some((s=>bl(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Hd extends Tg{constructor(e){super(),this.elements=e}}function JA(n,e){let t=ZA(e);for(const r of n.elements)t=t.filter((s=>!bl(s,r)));return{arrayValue:{values:t}}}class Xm extends Tg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function z_(n){return pi(n.integerValue||n.doubleValue)}function ZA(n){return Ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function rk(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof qd&&s instanceof qd||r instanceof Hd&&s instanceof Hd?ff(r.elements,s.elements,bl):r instanceof Xm&&s instanceof Xm?bl(r.Ae,s.Ae):r instanceof $m&&s instanceof $m})(n.transform,e.transform)}class ik{constructor(e,t){this.version=e,this.transformResults=t}}class Po{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Po}static exists(e){return new Po(void 0,e)}static updateTime(e){return new Po(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cg{}function e3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ty(n.key,Po.none()):new rp(n.key,n.data,Po.none());{const t=n.data,r=va.empty();let s=new qi(rs.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new du(n.key,r,new ja(s.toArray()),Po.none())}}function sk(n,e,t){n instanceof rp?(function(s,o,c){const u=s.value.clone(),f=H_(s.fieldTransforms,o,c.transformResults);u.setAll(f),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):n instanceof du?(function(s,o,c){if(!Tm(s.precondition,o))return void o.convertToUnknownDocument(c.version);const u=H_(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(t3(s)),f.setAll(u),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ld(n,e,t,r){return n instanceof rp?(function(o,c,u,f){if(!Tm(o.precondition,c))return u;const d=o.value.clone(),g=G_(o.fieldTransforms,f,c);return d.setAll(g),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof du?(function(o,c,u,f){if(!Tm(o.precondition,c))return u;const d=G_(o.fieldTransforms,f,c),g=c.data;return g.setAll(t3(o)),g.setAll(d),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,e,t,r):(function(o,c,u){return Tm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(n,e,t)}function ak(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=XA(r.transform,s||null);o!=null&&(t===null&&(t=va.empty()),t.set(r.field,o))}return t||null}function q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ff(r,s,((o,c)=>rk(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rp extends Cg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class du extends Cg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function t3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function H_(n,e,t){const r=new Map;nr(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,u=e.data.field(o.field);r.set(o.field,nk(c,u,t[s]))}return r}function G_(n,e,t){const r=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);r.set(s.field,tk(o,c,e))}return r}class Ty extends Cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ok extends Cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&sk(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ld(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ld(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=KA();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=t.has(s.key)?null:u;const f=e3(c,u);f!==null&&r.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(an.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Dn())}isEqual(e){return this.batchId===e.batchId&&ff(this.mutations,e.mutations,((t,r)=>q_(t,r)))&&ff(this.baseMutations,e.baseMutations,((t,r)=>q_(t,r)))}}class Cy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){nr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return XL})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Cy(e,t,r,s)}}class ck{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ei,Bn;function hk(n){switch(n){case Qe.OK:return tn(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return tn(15467,{code:n})}}function n3(n){if(n===void 0)return ic("GRPC error has no .code"),Qe.UNKNOWN;switch(n){case Ei.OK:return Qe.OK;case Ei.CANCELLED:return Qe.CANCELLED;case Ei.UNKNOWN:return Qe.UNKNOWN;case Ei.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Ei.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Ei.INTERNAL:return Qe.INTERNAL;case Ei.UNAVAILABLE:return Qe.UNAVAILABLE;case Ei.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Ei.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Ei.NOT_FOUND:return Qe.NOT_FOUND;case Ei.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Ei.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Ei.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Ei.ABORTED:return Qe.ABORTED;case Ei.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Ei.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Ei.DATA_LOSS:return Qe.DATA_LOSS;default:return tn(39323,{code:n})}}(Bn=Ei||(Ei={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";function fk(){return new TextEncoder}const dk=new eu([4294967295,4294967295],0);function Y_(n){const e=fk().encode(n),t=new mA;return t.update(e),new Uint8Array(t.digest())}function W_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eu([t,r],0),new eu([s,o],0)]}class Iy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ed(`Invalid padding: ${t}`);if(r<0)throw new Ed(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ed(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ed(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=eu.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(eu.fromNumber(r)));return s.compare(dk)===1&&(s=new eu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Y_(e),[r,s]=W_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Iy(o,s,t);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const t=Y_(e),[r,s]=W_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ig{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ip.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ig(an.min(),s,new Jr(kn),sc(),Dn())}}class ip{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ip(r,t,Dn(),Dn(),Dn())}}class Cm{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class r3{constructor(e,t){this.targetId=e,this.Ce=t}}class i3{constructor(e,t,r=is.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class K_{constructor(){this.ve=0,this.Fe=$_(),this.Me=is.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dn(),t=Dn(),r=Dn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:tn(38017,{changeType:o})}})),new ip(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=$_()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pk{constructor(e){this.Ge=e,this.ze=new Map,this.je=sc(),this.He=cm(),this.Je=cm(),this.Ze=new Jr(kn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:tn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(S2(o))if(r===0){const c=new Gt(o.path);this.et(t,c,Os.newNoDocument(c,an.min()))}else nr(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const u=this.ut(e),f=u?this.ct(u,e,c):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let c,u;try{c=su(r).toUint8Array()}catch(f){if(f instanceof IA)return Gu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Iy(c,s,o)}catch(f){return Gu(f instanceof Ed?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&S2(u.target)){const f=new Gt(u.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Os.newNoDocument(f,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=Dn();this.Je.forEach(((o,c)=>{let u=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Ig(e,t,this.Ze,this.je,r);return this.je=sc(),this.He=cm(),this.Je=cm(),this.Ze=new Jr(kn),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new K_,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new qi(kn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new qi(kn),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||St("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function cm(){return new Jr(Gt.comparator)}function $_(){return new Jr(Gt.comparator)}const mk={asc:"ASCENDING",desc:"DESCENDING"},gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yk={and:"AND",or:"OR"};class vk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function T2(n,e){return n.useProto3Json||xg(e)?e:{value:e}}function Qm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bk(n,e){return Qm(n,e.toTimestamp())}function vl(n){return nr(!!n,49232),an.fromTimestamp((function(t){const r=iu(t);return new Cr(r.seconds,r.nanos)})(n))}function Ry(n,e){return C2(n,e).canonicalString()}function C2(n,e){const t=(function(s){return new Tr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function a3(n){const e=Tr.fromString(n);return nr(h3(e),10190,{key:e.toString()}),e}function I2(n,e){return Ry(n.databaseId,e.path)}function _0(n,e){const t=a3(e);if(t.get(1)!==n.databaseId.projectId)throw new yt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new yt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Gt(l3(t))}function o3(n,e){return Ry(n.databaseId,e)}function _k(n){const e=a3(n);return e.length===4?Tr.emptyPath():l3(e)}function R2(n){return new Tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l3(n){return nr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function X_(n,e,t){return{name:I2(n,e),fields:t.value.mapValue.fields}}function wk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:tn(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(nr(g===void 0||typeof g=="string",58123),is.fromBase64String(g||"")):(nr(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),is.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(d){const g=d.code===void 0?Qe.UNKNOWN:n3(d.code);return new yt(g,d.message||"")})(c);t=new i3(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_0(n,r.document.name),o=vl(r.document.updateTime),c=r.document.createTime?vl(r.document.createTime):an.min(),u=new va({mapValue:{fields:r.document.fields}}),f=Os.newFoundDocument(s,o,c,u),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Cm(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_0(n,r.document),o=r.readTime?vl(r.readTime):an.min(),c=Os.newNoDocument(s,o),u=r.removedTargetIds||[];t=new Cm([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_0(n,r.document),o=r.removedTargetIds||[];t=new Cm([],o,s,null)}else{if(!("filter"in e))return tn(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new uk(s,o),u=r.targetId;t=new r3(u,c)}}return t}function xk(n,e){let t;if(e instanceof rp)t={update:X_(n,e.key,e.value)};else if(e instanceof Ty)t={delete:I2(n,e.key)};else if(e instanceof du)t={update:X_(n,e.key,e.data),updateMask:Lk(e.fieldMask)};else{if(!(e instanceof ok))return tn(16599,{dt:e.type});t={verify:I2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const u=c.transform;if(u instanceof $m)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof qd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Hd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Xm)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw tn(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:bk(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tn(27497)})(n,e.precondition)),t}function Ak(n,e){return n&&n.length>0?(nr(e!==void 0,14353),n.map((t=>(function(s,o){let c=s.updateTime?vl(s.updateTime):vl(o);return c.isEqual(an.min())&&(c=vl(o)),new ik(c,s.transformResults||[])})(t,e)))):[]}function Sk(n,e){return{documents:[o3(n,e.path)]}}function Ek(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=o3(n,s);const o=(function(d){if(d.length!==0)return u3(jo.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((g=>(function(E){return{field:zh(E.field),direction:Ck(E.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=T2(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function Nk(n){let e=_k(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){nr(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(b){const E=c3(b);return E instanceof jo&&FA(E)?E.getFilters():[E]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((E=>(function(M){return new zd(qh(M.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(b){let E;return E=typeof b=="object"?b.value:b,xg(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(b){const E=!!b.before,_=b.values||[];return new Km(_,E)})(t.startAt));let d=null;return t.endAt&&(d=(function(b){const E=!b.before,_=b.values||[];return new Km(_,E)})(t.endAt)),qL(e,s,c,o,u,"F",f,d)}function Tk(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function c3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qh(t.unaryFilter.field);return Ni.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qh(t.unaryFilter.field);return Ni.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qh(t.unaryFilter.field);return Ni.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qh(t.unaryFilter.field);return Ni.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tn(61313);default:return tn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ni.create(qh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tn(58110);default:return tn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return jo.create(t.compositeFilter.filters.map((r=>c3(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tn(1026)}})(t.compositeFilter.op))})(n):tn(30097,{filter:n})}function Ck(n){return mk[n]}function Ik(n){return gk[n]}function Rk(n){return yk[n]}function zh(n){return{fieldPath:n.canonicalString()}}function qh(n){return rs.fromServerFormat(n.fieldPath)}function u3(n){return n instanceof Ni?(function(t){if(t.op==="=="){if(j_(t.value))return{unaryFilter:{field:zh(t.field),op:"IS_NAN"}};if(M_(t.value))return{unaryFilter:{field:zh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j_(t.value))return{unaryFilter:{field:zh(t.field),op:"IS_NOT_NAN"}};if(M_(t.value))return{unaryFilter:{field:zh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zh(t.field),op:Ik(t.op),value:t.value}}})(n):n instanceof jo?(function(t){const r=t.getFilters().map((s=>u3(s)));return r.length===1?r[0]:{compositeFilter:{op:Rk(t.op),filters:r}}})(n):tn(54877,{filter:n})}function Lk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function h3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function f3(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Kc{constructor(e,t,r,s,o=an.min(),c=an.min(),u=is.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Kc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kk{constructor(e){this.yt=e}}function Dk(n){const e=Nk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?N2(e,e.limit,"L"):e}class Pk{constructor(){this.Sn=new Ok}addToCollectionParentIndex(e,t){return this.Sn.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(ru.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(ru.min())}updateCollectionGroup(e,t,r){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class Ok{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new qi(Tr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qi(Tr.comparator)).toArray()}}const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d3=41943040;class ga{static withCacheSize(e){return new ga(e,ga.DEFAULT_COLLECTION_PERCENTILE,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}ga.DEFAULT_COLLECTION_PERCENTILE=10,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ga.DEFAULT=new ga(d3,ga.DEFAULT_COLLECTION_PERCENTILE,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ga.DISABLED=new ga(-1,0,0);class gf{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gf(0)}static ar(){return new gf(-1)}}const J_="LruGarbageCollector",Mk=1048576;function Z_([n,e],[t,r]){const s=kn(n,t);return s===0?kn(e,r):s}class jk{constructor(e){this.Pr=e,this.buffer=new qi(Z_),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Z_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){St(J_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Tf(t)?St(J_,"Ignoring IndexedDB error during garbage collection: ",t):await Nf(t)}await this.Ar(3e5)}))}}class Fk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return nt.resolve(wg.ce);const r=new jk(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Q_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,c,u,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s)))).next((b=>(r=b,u=Date.now(),this.removeTargets(e,r,t)))).next((b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(d=Date.now(),Uh()<=Ln.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${s} in `+(u-c)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${b} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b}))))}}function Uk(n,e){return new Fk(n,e)}class Bk{constructor(){this.changes=new Qu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Os.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?nt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qk{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Ld(r.mutation,s,ja.empty(),Cr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Dn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Dn()){const s=Mu();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let c=Sd();return o.forEach(((u,f)=>{c=c.insert(u,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Mu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Dn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,u)=>{t.set(c,u)}))}))}computeViews(e,t,r,s){let o=sc();const c=Rd(),u=(function(){return Rd()})();return t.forEach(((f,d)=>{const g=r.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof du)?o=o.insert(d.key,d):g!==void 0?(c.set(d.key,g.mutation.getFieldMask()),Ld(g.mutation,d,g.mutation.getFieldMask(),Cr.now())):c.set(d.key,ja.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>c.set(d,g))),t.forEach(((d,g)=>u.set(d,new zk(g,c.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Rd();let s=new Jr(((c,u)=>c-u)),o=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const u of c)u.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||ja.empty();g=u.applyToLocalView(d,g),r.set(f,g);const b=(s.get(u.batchId)||Dn()).add(f);s=s.insert(u.batchId,b)}))})).next((()=>{const c=[],u=s.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,g=f.value,b=KA();g.forEach((E=>{if(!o.has(E)){const _=e3(t.get(E),r.get(E));_!==null&&b.set(E,_),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,b))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return HL(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):nt.resolve(Mu());let u=Fd,f=o;return c.next((d=>nt.forEach(d,((g,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),o.get(g)?nt.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,Dn()))).next((g=>({batchId:u,changes:WA(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gt(t)).next((r=>{let s=Sd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let c=Sd();return this.indexManager.getCollectionParents(e,o).next((u=>nt.forEach(u,(f=>{const d=(function(b,E){return new Cf(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((g=>{g.forEach(((b,E)=>{c=c.insert(b,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((c=>{o.forEach(((f,d)=>{const g=d.getKey();c.get(g)===null&&(c=c.insert(g,Os.newInvalidDocument(g)))}));let u=Sd();return c.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&Ld(g.mutation,d,ja.empty(),Cr.now()),Ng(t,d)&&(u=u.insert(f,d))})),u}))}}class Hk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return nt.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:vl(s.createTime)}})(t)),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:Dk(s.bundledQuery),readTime:vl(s.readTime)}})(t)),nt.resolve()}}class Gk{constructor(){this.overlays=new Jr(Gt.comparator),this.Lr=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mu();return nt.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),nt.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(e,t,r){const s=Mu(),o=t.length+1,c=new Gt(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return nt.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Jr(((d,g)=>d-g));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=Mu(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=Mu(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>u.set(d,g))),!(u.size()>=s)););return nt.resolve(u)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new ck(t,r));let o=this.Lr.get(t);o===void 0&&(o=Dn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class Yk{constructor(){this.sessionToken=is.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nt.resolve()}}class Ly{constructor(){this.kr=new qi(ts.Kr),this.qr=new qi(ts.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new ts(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new ts(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Gt(new Tr([])),r=new ts(t,e),s=new ts(t,e+1),o=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Gt(new Tr([])),r=new ts(t,e),s=new ts(t,e+1);let o=Dn();return this.qr.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new ts(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ts{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Gt.comparator(e.key,t.key)||kn(e.Hr,t.Hr)}static Ur(e,t){return kn(e.Hr,t.Hr)||Gt.comparator(e.key,t.key)}}class Wk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new qi(ts.Kr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lk(o,t,r,s);this.mutationQueue.push(c);for(const u of s)this.Jr=this.Jr.add(new ts(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(e,t){return nt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return nt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?wy:this.Yn-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ts(t,0),s=new ts(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(c=>{const u=this.Zr(c.Hr);o.push(u)})),nt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qi(kn);return t.forEach((s=>{const o=new ts(s,0),c=new ts(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(u=>{r=r.add(u.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Gt.isDocumentKey(o)||(o=o.child(""));const c=new ts(new Gt(o),0);let u=new qi(kn);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(f.Hr)),!0)}),c),nt.resolve(this.Yr(u))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){nr(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(t.mutations,(s=>{const o=new ts(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new ts(t,0),s=this.Jr.firstAfterOrEqual(r);return nt.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kk{constructor(e){this.ti=e,this.docs=(function(){return new Jr(Gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return nt.resolve(r?r.document.mutableCopy():Os.newInvalidDocument(t))}getEntries(e,t){let r=sc();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Os.newInvalidDocument(s))})),nt.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=sc();const c=t.path,u=new Gt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||_L(bL(g),r)<=0||(s.has(g.key)||Ng(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return nt.resolve(o)}getAllFromCollectionGroup(e,t,r,s){tn(9500)}ni(e,t){return nt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new $k(this)}getSize(e){return nt.resolve(this.size)}}class $k extends Bk{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),nt.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Xk{constructor(e){this.persistence=e,this.ri=new Qu((t=>Sy(t)),Ey),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.ii=0,this.si=new Ly,this.targetCount=0,this.oi=gf._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),nt.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new gf(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.lr(t),nt.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((c,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),nt.waitFor(o).next((()=>s))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return nt.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),nt.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),nt.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return nt.resolve(r)}containsKey(e,t){return nt.resolve(this.si.containsKey(t))}}class p3{constructor(e,t){this._i={},this.overlays={},this.ai=new wg(0),this.ui=!1,this.ui=!0,this.ci=new Yk,this.referenceDelegate=e(this),this.li=new Xk(this),this.indexManager=new Pk,this.remoteDocumentCache=(function(s){return new Kk(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new kk(t),this.Pi=new Hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new Wk(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){St("MemoryPersistence","Starting transaction:",e);const s=new Qk(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class Qk extends xL{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Ri=new Ly,this.Ai=null}static Vi(e){return new ky(e)}get di(){if(this.Ai)return this.Ai;throw tn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),nt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const s=Gt.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,an.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return nt.or([()=>nt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Jm{constructor(e,t){this.persistence=e,this.fi=new Qu((r=>EL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Uk(this,t)}static Vi(e,t){return new Jm(e,t)}Ti(){}Ii(e){return nt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return nt.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?nt.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((u=>{u||(r++,o.removeEntry(c,an.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),nt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),nt.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Em(e.data.value)),t}wr(e,t,r){return nt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return nt.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=Dn(),s=Dn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Dy(e,t.fromCache,r,s)}}class Jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return EC()?8:AL(Ms())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Jk;return this.ys(e,t,c).next((u=>{if(o.result=u,this.As)return this.ws(e,t,c,u.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Uh()<=Ln.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Bh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Uh()<=Ln.DEBUG&&St("QueryEngine","Query:",Bh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Uh()<=Ln.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Bh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yl(t))):nt.resolve())}gs(e,t){if(B_(t))return nt.resolve(null);let r=yl(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=N2(t,null,"F"),r=yl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Dn(...o);return this.fs.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,u);return this.Ss(t,d,c,f.readTime)?this.gs(e,N2(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,s){return B_(t)||s.isEqual(an.min())?nt.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,s)?nt.resolve(null):(Uh()<=Ln.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bh(t)),this.Ds(e,c,t,vL(s,Fd)).next((u=>u)))}))}bs(e,t){let r=new qi(GA(e));return t.forEach(((s,o)=>{Ng(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return Uh()<=Ln.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Bh(t)),this.fs.getDocumentsMatchingQuery(e,t,ru.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Py="LocalStore",e7=3e8;class t7{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new Jr(kn),this.Fs=new Qu((o=>Sy(o)),Ey),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function n7(n,e,t,r){return new t7(n,e,t,r)}async function m3(n,e){const t=un(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],u=[];let f=Dn();for(const d of s){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:c,addedBatchIds:u})))}))}))}function r7(n,e){const t=un(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,g){const b=d.batch,E=b.keys();let _=nt.resolve();return E.forEach((M=>{_=_.next((()=>g.getEntry(f,M))).next((V=>{const U=d.docVersions.get(M);nr(U!==null,48541),V.version.compareTo(U)<0&&(b.applyToRemoteDocument(V,d),V.isValidDocument()&&(V.setReadTime(d.commitVersion),g.addEntry(V)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(f,b)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Dn();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function g3(n){const e=un(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function i7(n,e){const t=un(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const u=[];e.targetChanges.forEach(((g,b)=>{const E=s.get(b);if(!E)return;u.push(t.li.removeMatchingKeys(o,g.removedDocuments,b).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,b))));let _=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?_=_.withResumeToken(is.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),s=s.insert(b,_),(function(V,U,j){return V.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=e7?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,_,g)&&u.push(t.li.updateTargetData(o,_))}));let f=sc(),d=Dn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(s7(o,c,e.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!r.isEqual(an.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((b=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return nt.waitFor(u).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=s,o)))}function s7(n,e,t){let r=Dn(),s=Dn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=sc();return t.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),f.isNoDocument()&&f.version.isEqual(an.min())?(e.removeEntry(u,f.readTime),c=c.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),c=c.insert(u,f)):St(Py,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{Bs:c,Ls:s}}))}function a7(n,e){const t=un(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function o7(n,e){const t=un(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,nt.resolve(s)):t.li.allocateTargetId(r).next((c=>(s=new Kc(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function L2(n,e,t){const r=un(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Tf(c))throw c;St(Py,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function ew(n,e,t){const r=un(n);let s=an.min(),o=Dn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,g){const b=un(f),E=b.Fs.get(g);return E!==void 0?nt.resolve(b.vs.get(E)):b.li.getTargetData(d,g)})(r,c,yl(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,u.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?s:an.min(),t?o:Dn()))).next((u=>(l7(r,WL(e),u),{documents:u,ks:o})))))}function l7(n,e,t){let r=n.Ms.get(e)||an.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class tw{constructor(){this.activeTargetIds=ZL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c7{constructor(){this.vo=new tw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class u7{Mo(e){}shutdown(){}}const nw="ConnectivityMonitor";class rw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){St(nw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){St(nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let um=null;function k2(){return um===null?um=(function(){return 268435456+Math.round(2147483648*Math.random())})():um++,"0x"+um.toString(16)}const w0="RestConnection",h7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class f7{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Ym?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const c=k2(),u=this.Qo(e,t.toUriEncodedString());St(w0,`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(u),g=wf(d);return this.zo(e,u,f,r,g).then((b=>(St(w0,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Gu(w0,`RPC '${e}' ${c} failed with error: `,b,"url: ",u,"request:",r),b}))}jo(e,t,r,s,o,c){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ef})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=h7[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class d7{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Cs="WebChannelConnection",md=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class ef extends f7{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ef.c_){const e=bA();md(e,vA.STAT_EVENT,(t=>{t.stat===b2.PROXY?St(Cs,"STAT_EVENT: detected buffering proxy"):t.stat===b2.NOPROXY&&St(Cs,"STAT_EVENT: detected no buffering proxy")})),ef.c_=!0}}zo(e,t,r,s,o){const c=k2();return new Promise(((u,f)=>{const d=new gA;d.setWithCredentials(!0),d.listenOnce(yA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Sm.NO_ERROR:const b=d.getResponseJson();St(Cs,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),u(b);break;case Sm.TIMEOUT:St(Cs,`RPC '${e}' ${c} timed out`),f(new yt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:const E=d.getStatus();if(St(Cs,`RPC '${e}' ${c} failed with status:`,E,"response text:",d.getResponseText()),E>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const M=_?.error;if(M&&M.status&&M.message){const V=(function(j){const ne=j.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(ne)>=0?ne:Qe.UNKNOWN})(M.status);f(new yt(V,M.message))}else f(new yt(Qe.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new yt(Qe.UNAVAILABLE,"Connection failed."));break;default:tn(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{St(Cs,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(s);St(Cs,`RPC '${e}' ${c} sending request:`,s),d.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=k2(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const d=o.join("");St(Cs,`Creating RPC '${e}' stream ${s}: ${d}`,u);const g=c.createWebChannel(d,u);this.I_(g);let b=!1,E=!1;const _=new d7({Ho:M=>{E?St(Cs,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(b||(St(Cs,`Opening RPC '${e}' stream ${s} transport.`),g.open(),b=!0),St(Cs,`RPC '${e}' stream ${s} sending:`,M),g.send(M))},Jo:()=>g.close()});return md(g,Ad.EventType.OPEN,(()=>{E||(St(Cs,`RPC '${e}' stream ${s} transport opened.`),_.i_())})),md(g,Ad.EventType.CLOSE,(()=>{E||(E=!0,St(Cs,`RPC '${e}' stream ${s} transport closed`),_.o_(),this.E_(g))})),md(g,Ad.EventType.ERROR,(M=>{E||(E=!0,Gu(Cs,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),_.o_(new yt(Qe.UNAVAILABLE,"The operation could not be completed")))})),md(g,Ad.EventType.MESSAGE,(M=>{if(!E){const V=M.data[0];nr(!!V,16349);const U=V,j=U?.error||U[0]?.error;if(j){St(Cs,`RPC '${e}' stream ${s} received error:`,j);const ne=j.status;let oe=(function(fe){const q=Ei[fe];if(q!==void 0)return n3(q)})(ne),H=j.message;oe===void 0&&(oe=Qe.INTERNAL,H="Unknown error status: "+ne+" with message "+j.message),E=!0,_.o_(new yt(oe,H)),g.close()}else St(Cs,`RPC '${e}' stream ${s} received:`,V),_.__(V)}})),ef.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _A()}}function p7(n){return new ef(n)}function x0(){return typeof document<"u"?document:null}function Rg(n){return new vk(n,!0)}ef.c_=!1;class y3{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&St("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iw="PersistentStream";class v3{constructor(e,t,r,s,o,c,u,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Qe.RESOURCE_EXHAUSTED?(ic(t.toString()),ic("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new yt(Qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return St(iw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(St(iw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m7 extends v3{constructor(e,t,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=wk(this.serializer,e),r=(function(o){if(!("targetChange"in o))return an.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?an.min():c.readTime?vl(c.readTime):an.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=R2(this.serializer),t.addTarget=(function(o,c){let u;const f=c.target;if(u=S2(f)?{documents:Sk(o,f)}:{query:Ek(o,f).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=s3(o,c.resumeToken);const d=T2(o,c.expectedCount);d!==null&&(u.expectedCount=d)}else if(c.snapshotVersion.compareTo(an.min())>0){u.readTime=Qm(o,c.snapshotVersion.toTimestamp());const d=T2(o,c.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=Tk(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=R2(this.serializer),t.removeTarget=e,this.K_(t)}}class g7 extends v3{constructor(e,t,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return nr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Ak(e.writeResults,e.commitTime),r=vl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=R2(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>xk(this.serializer,r)))};this.K_(t)}}class y7{}class v7 extends y7{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new yt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,C2(t,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(Qe.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.jo(e,C2(t,r),s,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(Qe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function b7(n,e,t,r){return new v7(n,e,t,r)}class _7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ic(t),this.aa=!1):St("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yu="RemoteStore";class w7{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Ju(this)&&(St(Yu,"Restarting streams for network reachability change."),await(async function(f){const d=un(f);d.Ea.add(4),await sp(d),d.Va.set("Unknown"),d.Ea.delete(4),await Lg(d)})(this))}))})),this.Va=new _7(r,s)}}async function Lg(n){if(Ju(n))for(const e of n.Ra)await e(!0)}async function sp(n){for(const e of n.Ra)await e(!1)}function b3(n,e){const t=un(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Vy(t)?jy(t):If(t).O_()&&My(t,e))}function Oy(n,e){const t=un(n),r=If(t);t.Ia.delete(e),r.O_()&&_3(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ju(t)&&t.Va.set("Unknown"))}function My(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}If(n).Z_(e)}function _3(n,e){n.da.$e(e),If(n).X_(e)}function jy(n){n.da=new pk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),If(n).start(),n.Va.ua()}function Vy(n){return Ju(n)&&!If(n).x_()&&n.Ia.size>0}function Ju(n){return un(n).Ea.size===0}function w3(n){n.da=void 0}async function x7(n){n.Va.set("Online")}async function A7(n){n.Ia.forEach(((e,t)=>{My(n,e)}))}async function S7(n,e){w3(n),Vy(n)?(n.Va.ha(e),jy(n)):n.Va.set("Unknown")}async function E7(n,e,t){if(n.Va.set("Online"),e instanceof i3&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,c),s.Ia.delete(u),s.da.removeTarget(u))})(n,e)}catch(r){St(Yu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zm(n,r)}else if(e instanceof Cm?n.da.Xe(e):e instanceof r3?n.da.st(e):n.da.tt(e),!t.isEqual(an.min()))try{const r=await g3(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const u=o.da.Tt(c);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,c))}})),u.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(is.EMPTY_BYTE_STRING,g.snapshotVersion)),_3(o,f);const b=new Kc(g.target,f,d,g.sequenceNumber);My(o,b)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){St(Yu,"Failed to raise snapshot:",r),await Zm(n,r)}}async function Zm(n,e,t){if(!Tf(e))throw e;n.Ea.add(1),await sp(n),n.Va.set("Offline"),t||(t=()=>g3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{St(Yu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Lg(n)}))}function x3(n,e){return e().catch((t=>Zm(n,t,e)))}async function kg(n){const e=un(n),t=ou(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wy;for(;N7(e);)try{const s=await a7(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,T7(e,s)}catch(s){await Zm(e,s)}A3(e)&&S3(e)}function N7(n){return Ju(n)&&n.Ta.length<10}function T7(n,e){n.Ta.push(e);const t=ou(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function A3(n){return Ju(n)&&!ou(n).x_()&&n.Ta.length>0}function S3(n){ou(n).start()}async function C7(n){ou(n).ra()}async function I7(n){const e=ou(n);for(const t of n.Ta)e.ea(t.mutations)}async function R7(n,e,t){const r=n.Ta.shift(),s=Cy.from(r,e,t);await x3(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await kg(n)}async function L7(n,e){e&&ou(n).Y_&&await(async function(r,s){if((function(c){return hk(c)&&c!==Qe.ABORTED})(s.code)){const o=r.Ta.shift();ou(r).B_(),await x3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await kg(r)}})(n,e),A3(n)&&S3(n)}async function sw(n,e){const t=un(n);t.asyncQueue.verifyOperationInProgress(),St(Yu,"RemoteStore received new credentials");const r=Ju(t);t.Ea.add(3),await sp(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lg(t)}async function k7(n,e){const t=un(n);e?(t.Ea.delete(2),await Lg(t)):e||(t.Ea.add(2),await sp(t),t.Va.set("Unknown"))}function If(n){return n.ma||(n.ma=(function(t,r,s){const o=un(t);return o.sa(),new m7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:x7.bind(null,n),Yo:A7.bind(null,n),t_:S7.bind(null,n),J_:E7.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Vy(n)?jy(n):n.Va.set("Unknown")):(await n.ma.stop(),w3(n))}))),n.ma}function ou(n){return n.fa||(n.fa=(function(t,r,s){const o=un(t);return o.sa(),new g7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:C7.bind(null,n),t_:L7.bind(null,n),ta:I7.bind(null,n),na:R7.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await kg(n)):(await n.fa.stop(),n.Ta.length>0&&(St(Yu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Fy{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new tu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const c=Date.now()+r,u=new Fy(e,t,c,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(n,e){if(ic("AsyncQueue",`${e}: ${n}`),Tf(n))return new yt(Qe.UNAVAILABLE,`${e}: ${n}`);throw n}class tf{static emptySet(e){return new tf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Gt.comparator(t.key,r.key):(t,r)=>Gt.comparator(t.key,r.key),this.keyedMap=Sd(),this.sortedSet=new Jr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new tf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aw{constructor(){this.ga=new Jr(Gt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):tn(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class yf{constructor(e,t,r,s,o,c,u,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const c=[];return t.forEach((u=>{c.push({type:0,doc:u})})),new yf(e,t,tf.emptySet(t),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class D7{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class P7{constructor(){this.queries=ow(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=un(t),o=s.queries;s.queries=ow(),o.forEach(((c,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new yt(Qe.ABORTED,"Firestore shutting down"))}}function ow(){return new Qu((n=>HA(n)),Eg)}async function E3(n,e){const t=un(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new D7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const u=Uy(c,`Initialization of query '${Bh(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&By(t)}async function N3(n,e){const t=un(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function O7(n,e){const t=un(n);let r=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const u of c.ba)u.Fa(s)&&(r=!0);c.wa=s}}r&&By(t)}function M7(n,e,t){const r=un(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function By(n){n.Ca.forEach((e=>{e.next()}))}var D2,lw;(lw=D2||(D2={})).Ma="default",lw.Cache="cache";class T3{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==D2.Cache}}class C3{constructor(e){this.key=e}}class I3{constructor(e){this.key=e}}class j7{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Dn(),this.mutatedKeys=Dn(),this.eu=GA(e),this.tu=new tf(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new aw,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,u=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,b)=>{const E=s.get(g),_=Ng(this.query,b)?b:null,M=!!E&&this.mutatedKeys.has(E.key),V=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let U=!1;E&&_?E.data.isEqual(_.data)?M!==V&&(r.track({type:3,doc:_}),U=!0):this.su(E,_)||(r.track({type:2,doc:_}),U=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(u=!0)):!E&&_?(r.track({type:0,doc:_}),U=!0):E&&!_&&(r.track({type:1,doc:E}),U=!0,(f||d)&&(u=!0)),U&&(_?(c=c.add(_),o=V?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(_,M){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn(20277,{Vt:U})}};return V(_)-V(M)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,c.length!==0||d?{snapshot:new yf(this.query,e.tu,o,c,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Dn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new I3(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new C3(r))})),t}cu(e){this.Za=e.ks,this.Ya=Dn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return yf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const zy="SyncEngine";class V7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class F7{constructor(e){this.key=e,this.hu=!1}}class U7{constructor(e,t,r,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qu((u=>HA(u)),Eg),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jr(Gt.comparator),this.Au=new Map,this.Vu=new Ly,this.du={},this.mu=new Map,this.fu=gf.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B7(n,e,t=!0){const r=O3(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await R3(r,e,t,!0),s}async function z7(n,e){const t=O3(n);await R3(t,e,!0,!1)}async function R3(n,e,t,r){const s=await o7(n.localStore,yl(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await q7(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&b3(n.remoteStore,s),u}async function q7(n,e,t,r,s){n.pu=(b,E,_)=>(async function(V,U,j,ne){let oe=U.view.ru(j);oe.Ss&&(oe=await ew(V.localStore,U.query,!1).then((({documents:q})=>U.view.ru(q,oe))));const H=ne&&ne.targetChanges.get(U.targetId),ee=ne&&ne.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(oe,V.isPrimaryClient,H,ee);return uw(V,U.targetId,fe.au),fe.snapshot})(n,b,E,_);const o=await ew(n.localStore,e,!0),c=new j7(e,o.ks),u=c.ru(o.documents),f=ip.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=c.applyChanges(u,n.isPrimaryClient,f);uw(n,t,d.au);const g=new V7(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function H7(n,e,t){const r=un(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!Eg(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await L2(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Oy(r.remoteStore,s.targetId),P2(r,s.targetId)})).catch(Nf)):(P2(r,s.targetId),await L2(r.localStore,s.targetId,!0))}async function G7(n,e){const t=un(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Oy(t.remoteStore,r.targetId))}async function Y7(n,e,t){const r=Z7(n);try{const s=await(function(c,u){const f=un(c),d=Cr.now(),g=u.reduce(((_,M)=>_.add(M.key)),Dn());let b,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let M=sc(),V=Dn();return f.xs.getEntries(_,g).next((U=>{M=U,M.forEach(((j,ne)=>{ne.isValidDocument()||(V=V.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,M))).next((U=>{b=U;const j=[];for(const ne of u){const oe=ak(ne,b.get(ne.key).overlayedDocument);oe!=null&&j.push(new du(ne.key,oe,MA(oe.value.mapValue),Po.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,j,u)})).next((U=>{E=U;const j=U.applyToLocalDocumentSet(b,V);return f.documentOverlayCache.saveOverlays(_,U.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:WA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,u,f){let d=c.du[c.currentUser.toKey()];d||(d=new Jr(kn)),d=d.insert(u,f),c.du[c.currentUser.toKey()]=d})(r,s.batchId,t),await ap(r,s.changes),await kg(r.remoteStore)}catch(s){const o=Uy(s,"Failed to persist write");t.reject(o)}}async function L3(n,e){const t=un(n);try{const r=await i7(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(nr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?nr(c.hu,14607):s.removedDocuments.size>0&&(nr(c.hu,42227),c.hu=!1))})),await ap(t,r,e)}catch(r){await Nf(r)}}function cw(n,e,t){const r=un(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,c)=>{const u=c.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(c,u){const f=un(c);f.onlineState=u;let d=!1;f.queries.forEach(((g,b)=>{for(const E of b.ba)E.va(u)&&(d=!0)})),d&&By(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W7(n,e,t){const r=un(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new Jr(Gt.comparator);c=c.insert(o,Os.newNoDocument(o,an.min()));const u=Dn().add(o),f=new Ig(an.min(),new Map,new Jr(kn),c,u);await L3(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),qy(r)}else await L2(r.localStore,e,!1).then((()=>P2(r,e,t))).catch(Nf)}async function K7(n,e){const t=un(n),r=e.batch.batchId;try{const s=await r7(t.localStore,e);D3(t,r,null),k3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ap(t,s)}catch(s){await Nf(s)}}async function $7(n,e,t){const r=un(n);try{const s=await(function(c,u){const f=un(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,u).next((b=>(nr(b!==null,37113),g=b.keys(),f.mutationQueue.removeMutationBatch(d,b)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);D3(r,e,t),k3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ap(r,s)}catch(s){await Nf(s)}}function k3(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function D3(n,e,t){const r=un(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function P2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||P3(n,r)}))}function P3(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Oy(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),qy(n))}function uw(n,e,t){for(const r of t)r instanceof C3?(n.Vu.addReference(r.key,e),X7(n,r)):r instanceof I3?(St(zy,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||P3(n,r.key)):tn(19791,{wu:r})}function X7(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(St(zy,"New document in limbo: "+t),n.Eu.add(r),qy(n))}function qy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Gt(Tr.fromString(e)),r=n.fu.next();n.Au.set(r,new F7(t)),n.Ru=n.Ru.insert(t,r),b3(n.remoteStore,new Kc(yl(Sg(t.path)),r,"TargetPurposeLimboResolution",wg.ce))}}async function ap(n,e,t){const r=un(n),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{c.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Dy.Es(f.targetId,d);o.push(g)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(f,d){const g=un(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(d,(E=>nt.forEach(E.Ts,(_=>g.persistence.referenceDelegate.addReference(b,E.targetId,_))).next((()=>nt.forEach(E.Is,(_=>g.persistence.referenceDelegate.removeReference(b,E.targetId,_)))))))))}catch(b){if(!Tf(b))throw b;St(Py,"Failed to update sequence numbers: "+b)}for(const b of d){const E=b.targetId;if(!b.fromCache){const _=g.vs.get(E),M=_.snapshotVersion,V=_.withLastLimboFreeSnapshotVersion(M);g.vs=g.vs.insert(E,V)}}})(r.localStore,o))}async function Q7(n,e){const t=un(n);if(!t.currentUser.isEqual(e)){St(zy,"User change. New user:",e.toKey());const r=await m3(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new yt(Qe.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ap(t,r.Ns)}}function J7(n,e){const t=un(n),r=t.Au.get(e);if(r&&r.hu)return Dn().add(r.key);{let s=Dn();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const u=t.Tu.get(c);s=s.unionWith(u.view.nu)}return s}}function O3(n){const e=un(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=L3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W7.bind(null,e),e.Pu.J_=O7.bind(null,e.eventManager),e.Pu.yu=M7.bind(null,e.eventManager),e}function Z7(n){const e=un(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$7.bind(null,e),e}class eg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return n7(this.persistence,new Zk,e.initialUser,this.serializer)}Cu(e){return new p3(ky.Vi,this.serializer)}Du(e){return new c7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eg.provider={build:()=>new eg};class eD extends eg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nr(this.persistence.referenceDelegate instanceof Jm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ga.withCacheSize(this.cacheSizeBytes):ga.DEFAULT;return new p3((r=>Jm.Vi(r,t)),this.serializer)}}class O2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q7.bind(null,this.syncEngine),await k7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new P7})()}createDatastore(e){const t=Rg(e.databaseInfo.databaseId),r=p7(e.databaseInfo);return b7(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,c,u){return new w7(r,s,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>cw(this.syncEngine,t,0)),(function(){return rw.v()?new rw:new u7})())}createSyncEngine(e,t){return(function(s,o,c,u,f,d,g){const b=new U7(s,o,c,u,f,d);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=un(t);St(Yu,"RemoteStore shutting down."),r.Ea.add(5),await sp(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}O2.provider={build:()=>new O2};class M3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ic("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const lu="FirestoreClient";class tD{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Ps.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{St(lu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(St(lu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Uy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function A0(n,e){n.asyncQueue.verifyOperationInProgress(),St(lu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await m3(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function hw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nD(n);St(lu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>sw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>sw(e.remoteStore,s))),n._onlineComponents=e}async function nD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){St(lu,"Using user provided OfflineComponentProvider");try{await A0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Qe.FAILED_PRECONDITION||s.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Gu("Error using user provided cache. Falling back to memory cache: "+t),await A0(n,new eg)}}else St(lu,"Using default OfflineComponentProvider"),await A0(n,new eD(void 0));return n._offlineComponents}async function j3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(St(lu,"Using user provided OnlineComponentProvider"),await hw(n,n._uninitializedComponentsProvider._online)):(St(lu,"Using default OnlineComponentProvider"),await hw(n,new O2))),n._onlineComponents}function rD(n){return j3(n).then((e=>e.syncEngine))}async function M2(n){const e=await j3(n),t=e.eventManager;return t.onListen=B7.bind(null,e.syncEngine),t.onUnlisten=H7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=z7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=G7.bind(null,e.syncEngine),t}function iD(n,e,t,r){const s=new M3(r),o=new T3(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>E3(await M2(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>N3(await M2(n),o)))}}function sD(n,e,t={}){const r=new tu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,f,d){const g=new M3({next:E=>{g.Nu(),c.enqueueAndForget((()=>N3(o,b)));const _=E.docs.has(u);!_&&E.fromCache?d.reject(new yt(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&E.fromCache&&f&&f.source==="server"?d.reject(new yt(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),b=new T3(Sg(u.path),g,{includeMetadataChanges:!0,Ka:!0});return E3(o,b)})(await M2(n),n.asyncQueue,e,t,r))),r.promise}function aD(n,e){const t=new tu;return n.asyncQueue.enqueueAndForget((async()=>Y7(await rD(n),e,t))),t.promise}function V3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const oD="ComponentProvider",fw=new Map;function lD(n,e,t,r,s){return new CL(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,V3(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const F3="firestore.googleapis.com",dw=!0;class pw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F3,this.ssl=dw}else this.host=e.host,this.ssl=e.ssl??dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Mk)throw new yt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dg{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new AA;switch(r.type){case"firstParty":return new fL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fw.get(t);r&&(St(oD,"Removing Datastore"),fw.delete(t),r.terminate())})(this),Promise.resolve()}}function U3(n,e,t,r={}){n=so(n,Dg);const s=wf(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(C4(`https://${u}`),I4("Firestore",!0)),o.host!==F3&&o.host!==u&&Gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:s,emulatorOptions:r};if(!Bu(f,c)&&(n._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=Ps.MOCK_USER;else{d=gC(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new yt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ps(b)}n._authCredentials=new cL(new xA(d,g))}}class pu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pu(this.firestore,e,this._query)}}class Qr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}toJSON(){return{type:Qr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(np(t,Qr._jsonSchema))return new Qr(e,r||null,new Gt(Tr.fromString(t.referencePath)))}}Qr._jsonSchemaVersion="firestore/documentReference/1.0",Qr._jsonSchema={type:Ti("string",Qr._jsonSchemaVersion),referencePath:Ti("string")};class tc extends pu{constructor(e,t,r){super(e,t,Sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new Gt(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function tg(n,e,...t){if(n=Ii(n),SA("collection","path",e),n instanceof Dg){const r=Tr.fromString(e,...t);return T_(r),new tc(n,null,r)}{if(!(n instanceof Qr||n instanceof tc))throw new yt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tr.fromString(e,...t));return T_(r),new tc(n.firestore,null,r)}}function Ks(n,e,...t){if(n=Ii(n),arguments.length===1&&(e=bg.newId()),SA("doc","path",e),n instanceof Dg){const r=Tr.fromString(e,...t);return N_(r),new Qr(n,null,new Gt(r))}{if(!(n instanceof Qr||n instanceof tc))throw new yt(Qe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tr.fromString(e,...t));return N_(r),new Qr(n.firestore,n instanceof tc?n.converter:null,new Gt(r))}}const mw="AsyncQueue";class gw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y3(this,"async_queue_retry"),this._c=()=>{const r=x0();r&&St(mw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=x0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=x0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new tu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Tf(e))throw e;St(mw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ic("INTERNAL UNHANDLED ERROR: ",yw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Fy.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&tn(47125,{Pc:yw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function yw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class cu extends Dg{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new gw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gw(e),this._firestoreClient=void 0,await e}}}function B3(n,e){const t=typeof n=="object"?n:D4(),r=typeof n=="string"?n:Ym,s=hy(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=pC("firestore");o&&U3(s,...o)}return s}function Pg(n){if(n._terminated)throw new yt(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||cD(n),n._firestoreClient}function cD(n){const e=n._freezeSettings(),t=lD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new tD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(is.fromBase64String(e))}catch(t){throw new yt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(np(e,Oa._jsonSchema))return Oa.fromBase64String(e.bytes)}}Oa._jsonSchemaVersion="firestore/bytes/1.0",Oa._jsonSchema={type:Ti("string",Oa._jsonSchemaVersion),bytes:Ti("string")};class Og{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new yt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mg{constructor(e){this._methodName=e}}class Oo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kn(this._lat,e._lat)||kn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oo._jsonSchemaVersion}}static fromJSON(e){if(np(e,Oo._jsonSchema))return new Oo(e.latitude,e.longitude)}}Oo._jsonSchemaVersion="firestore/geoPoint/1.0",Oo._jsonSchema={type:Ti("string",Oo._jsonSchemaVersion),latitude:Ti("number"),longitude:Ti("number")};class ao{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ao._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(np(e,ao._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ao(e.vectorValues);throw new yt(Qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ao._jsonSchemaVersion="firestore/vectorValue/1.0",ao._jsonSchema={type:Ti("string",ao._jsonSchemaVersion),vectorValues:Ti("object")};const uD=/^__.*__$/;class hD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new du(e,this.data,this.fieldMask,t,this.fieldTransforms):new rp(e,this.data,t,this.fieldTransforms)}}class z3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new du(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function q3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn(40011,{dataSource:n})}}class Hy{constructor(e,t,r,s,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ng(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(q3(this.dataSource)&&uD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rg(e)}createContext(e,t,r,s=!1){return new Hy({dataSource:e,methodName:t,targetDoc:r,path:rs.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gy(n){const e=n._freezeSettings(),t=Rg(n._databaseId);return new fD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dD(n,e,t,r,s,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);Yy("Data must be an object, but it was:",c,r);const u=H3(r,c);let f,d;if(o.merge)f=new ja(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const b of o.mergeFields){const E=vf(e,b,t);if(!c.contains(E))throw new yt(Qe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);W3(g,E)||g.push(E)}f=new ja(g),d=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,d=c.fieldTransforms;return new hD(new va(u),f,d)}class jg extends Mg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jg}}function pD(n,e,t,r){const s=n.createContext(1,e,t);Yy("Data must be an object, but it was:",s,r);const o=[],c=va.empty();fu(r,((f,d)=>{const g=Y3(e,f,t);d=Ii(d);const b=s.childContextForFieldPath(g);if(d instanceof jg)o.push(g);else{const E=op(d,b);E!=null&&(o.push(g),c.set(g,E))}}));const u=new ja(o);return new z3(c,u,s.fieldTransforms)}function mD(n,e,t,r,s,o){const c=n.createContext(1,e,t),u=[vf(e,r,t)],f=[s];if(o.length%2!=0)throw new yt(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)u.push(vf(e,o[E])),f.push(o[E+1]);const d=[],g=va.empty();for(let E=u.length-1;E>=0;--E)if(!W3(d,u[E])){const _=u[E];let M=f[E];M=Ii(M);const V=c.childContextForFieldPath(_);if(M instanceof jg)d.push(_);else{const U=op(M,V);U!=null&&(d.push(_),g.set(_,U))}}const b=new ja(d);return new z3(g,b,c.fieldTransforms)}function gD(n,e,t,r=!1){return op(t,n.createContext(r?4:3,e))}function op(n,e){if(G3(n=Ii(n)))return Yy("Unsupported field value:",e,n),H3(n,e);if(n instanceof Mg)return(function(r,s){if(!q3(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const u of r){let f=op(u,s.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ek(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Cr.fromDate(r);return{timestampValue:Qm(s.serializer,o)}}if(r instanceof Cr){const o=new Cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qm(s.serializer,o)}}if(r instanceof Oo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:s3(s.serializer,r._byteString)};if(r instanceof Qr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ry(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ao)return(function(c,u){const f=c instanceof ao?c.toArray():c;return{mapValue:{fields:{[PA]:{stringValue:OA},[Wm]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw u.createError("VectorValues must only contain numeric values.");return Ny(u.serializer,g)}))}}}}}})(r,s);if(f3(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${_g(r)}`)})(n,e)}function H3(n,e){const t={};return CA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fu(n,((r,s)=>{const o=op(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function G3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Cr||n instanceof Oo||n instanceof Oa||n instanceof Qr||n instanceof Mg||n instanceof ao||f3(n))}function Yy(n,e,t){if(!G3(t)||!NA(t)){const r=_g(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function vf(n,e,t){if((e=Ii(e))instanceof Og)return e._internalPath;if(typeof e=="string")return Y3(n,e);throw ng("Field path arguments must be of type string or ",n,!1,void 0,t)}const yD=new RegExp("[~\\*/\\[\\]]");function Y3(n,e,t){if(e.search(yD)>=0)throw ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Og(...e.split("."))._internalPath}catch{throw ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ng(n,e,t,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${s}`),f+=")"),new yt(Qe.INVALID_ARGUMENT,u+n+f)}function W3(n,e){return n.some((t=>t.isEqual(e)))}class K3{convertValue(e,t="none"){switch(au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return fu(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Wm].arrayValue?.values?.map((r=>pi(r.doubleValue)));return new ao(t)}convertGeoPoint(e){return new Oo(pi(e.latitude),pi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ag(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ud(e));default:return null}}convertTimestamp(e){const t=iu(e);return new Cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tr.fromString(e);nr(h3(r),9688,{name:e});const s=new df(r.get(1),r.get(3)),o=new Gt(r.popFirst(5));return s.isEqual(t)||ic(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class $3 extends K3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,t)}}const vw="@firebase/firestore",bw="4.10.0";function _w(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class X3{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vD extends X3{data(){return super.data()}}function bD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class Ky extends Wy{}function $y(n,e,...t){let r=[];e instanceof Wy&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((f=>f instanceof Fg)).length,u=o.filter((f=>f instanceof Vg)).length;if(c>1||c>0&&u>0)throw new yt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Vg extends Ky{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vg(e,t,r)}_apply(e){const t=this._parse(e);return Q3(e._query,t),new pu(e.firestore,e.converter,E2(e._query,t))}_parse(e){const t=Gy(e.firestore);return(function(o,c,u,f,d,g,b){let E;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new yt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){xw(b,g);const M=[];for(const V of b)M.push(ww(f,o,V));E={arrayValue:{values:M}}}else E=ww(f,o,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||xw(b,g),E=gD(u,c,b,g==="in"||g==="not-in");return Ni.create(d,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Fg extends Wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:jo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const u=o.getFlattenedFilters();for(const f of u)Q3(c,f),c=E2(c,f)})(e._query,t),new pu(e.firestore,e.converter,E2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ug extends Ky{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ug(e,t)}_apply(e){const t=(function(s,o,c){if(s.startAt!==null)throw new yt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new yt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zd(o,c)})(e._query,this._field,this._direction);return new pu(e.firestore,e.converter,YL(e._query,t))}}function Xy(n,e="asc"){const t=e,r=vf("orderBy",n);return Ug._create(r,t)}function ww(n,e,t){if(typeof(t=Ii(t))=="string"){if(t==="")throw new yt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qA(e)&&t.indexOf("/")!==-1)throw new yt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tr.fromString(t));if(!Gt.isDocumentKey(r))throw new yt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O_(n,new Gt(r))}if(t instanceof Qr)return O_(n,t._key);throw new yt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_g(t)}.`)}function xw(n,e){if(!Array.isArray(n)||n.length===0)throw new yt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q3(n,e){const t=(function(s,o){for(const c of s)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new yt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _D(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Kh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends X3{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(Qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=nu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}nu._jsonSchemaVersion="firestore/documentSnapshot/1.0",nu._jsonSchema={type:Ti("string",nu._jsonSchemaVersion),bundleSource:Ti("string","DocumentSnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class kd extends nu{data(e={}){return super.data(e)}}class Vu{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Kh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new kd(this._firestore,this._userDataWriter,r.key,r,new Kh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((u=>{const f=new kd(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Kh(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new kd(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Kh(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return u.type!==0&&(d=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),g=c.indexOf(u.doc.key)),{type:wD(u.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(Qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn(61501,{type:n})}}Vu._jsonSchemaVersion="firestore/querySnapshot/1.0",Vu._jsonSchema={type:Ti("string",Vu._jsonSchemaVersion),bundleSource:Ti("string","QuerySnapshot"),bundleName:Ti("string"),bundle:Ti("string")};function J3(n){n=so(n,Qr);const e=so(n.firestore,cu),t=Pg(e);return sD(t,n._key).then((r=>eS(e,n,r)))}function Wu(n,e,t){n=so(n,Qr);const r=so(n.firestore,cu),s=_D(n.converter,e,t),o=Gy(r);return Bg(r,[dD(o,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Po.none())])}function Fu(n,e,t,...r){n=so(n,Qr);const s=so(n.firestore,cu),o=Gy(s);let c;return c=typeof(e=Ii(e))=="string"||e instanceof Og?mD(o,"updateDoc",n._key,e,t,r):pD(o,"updateDoc",n._key,e),Bg(s,[c.toMutation(n._key,Po.exists(!0))])}function Z3(n){return Bg(so(n.firestore,cu),[new Ty(n._key,Po.none())])}function Gd(n,...e){n=Ii(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_w(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(_w(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,u;if(n instanceof Qr)c=so(n.firestore,cu),u=Sg(n._key.path),o={next:d=>{e[r]&&e[r](eS(c,n,d))},error:e[r+1],complete:e[r+2]};else{const d=so(n,pu);c=so(d.firestore,cu),u=d._query;const g=new $3(c);o={next:b=>{e[r]&&e[r](new Vu(c,g,d,b))},error:e[r+1],complete:e[r+2]},bD(n._query)}const f=Pg(c);return iD(f,u,s,o)}function Bg(n,e){const t=Pg(n);return aD(t,e)}function eS(n,e,t){const r=t.docs.get(e._key),s=new $3(n);return new nu(n,s,e._key,r,new Kh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){lL(xf),cf(new zu("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),u=new cu(new uL(r.getProvider("auth-internal")),new dL(c,r.getProvider("app-check-internal")),IL(c,s),c);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Jc(vw,bw,e),Jc(vw,bw,"esm2020")})();const xD=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:K3,Bytes:Oa,CollectionReference:tc,DocumentReference:Qr,DocumentSnapshot:nu,FieldPath:Og,FieldValue:Mg,Firestore:cu,FirestoreError:yt,GeoPoint:Oo,Query:pu,QueryCompositeFilterConstraint:Fg,QueryConstraint:Ky,QueryDocumentSnapshot:kd,QueryFieldFilterConstraint:Vg,QueryOrderByConstraint:Ug,QuerySnapshot:Vu,SnapshotMetadata:Kh,Timestamp:Cr,VectorValue:ao,_AutoId:bg,_ByteString:is,_DatabaseId:df,_DocumentKey:Gt,_EmptyAuthCredentialsProvider:AA,_FieldPath:rs,_cast:so,_logWarn:Gu,_validateIsNotUsedTogether:EA,collection:tg,connectFirestoreEmulator:U3,deleteDoc:Z3,doc:Ks,ensureFirestoreConfigured:Pg,executeWrite:Bg,getDoc:J3,getFirestore:B3,onSnapshot:Gd,orderBy:Xy,query:$y,setDoc:Wu,updateDoc:Fu},Symbol.toStringTag,{value:"Module"})),AD={apiKey:"AIzaSyB73yZp1H-MAUCaxIlLIrItOB3REc0slrE",authDomain:"sistema-sede.firebaseapp.com",projectId:"sistema-sede",storageBucket:"sistema-sede.firebasestorage.app",messagingSenderId:"767667469459",appId:"1:767667469459:web:19feac8ebd664ea57ee166"},tS=k4(AD),S0=aL(tS),bs=B3(tS),uu=ly((n,e)=>({products:[],loading:!0,initialized:!1,initializeSubscription:()=>{const t=$y(tg(bs,"products"),Xy("createdAt","desc")),r=Gd(t,s=>{const o=s.docs.map(c=>({...c.data(),id:c.id}));o.length===0&&e().initialized,n({products:o,loading:!1,initialized:!0})},s=>{console.error("Error fetching inventory:",s),pn.error("Error cargando inventario")});return n({initialized:!0}),r},addProduct:async t=>{try{await Wu(Ks(bs,"products",t.id),t),pn.success("Producto agregado")}catch(r){console.error(r),pn.error("Error al agregar producto")}},updateProduct:async(t,r)=>{try{await Fu(Ks(bs,"products",t),{...r,updatedAt:Date.now()}),pn.success("Producto actualizado")}catch(s){console.error(s),pn.error("Error al actualizar producto")}},removeProduct:async t=>{try{await Z3(Ks(bs,"products",t)),pn.success("Producto eliminado")}catch(r){console.error(r),pn.error("Error al eliminar producto")}},cleanup:()=>{n({products:[],loading:!0,initialized:!1})}})),yr=mt.forwardRef(({className:n,variant:e="default",size:t="default",...r},s)=>A.jsx("button",{ref:s,className:Ws("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",e==="default"&&"bg-primary text-primary-foreground shadow hover:bg-primary/90",e==="destructive"&&"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",e==="outline"&&"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",e==="secondary"&&"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",e==="ghost"&&"hover:bg-accent hover:text-accent-foreground",e==="link"&&"text-primary underline-offset-4 hover:underline",t==="default"&&"h-9 px-4 py-2",t==="sm"&&"h-8 rounded-md px-3 text-xs",t==="lg"&&"h-10 rounded-md px-8",t==="icon"&&"h-9 w-9",n),...r}));yr.displayName="Button";const Or=mt.forwardRef(({className:n,type:e,...t},r)=>A.jsx("input",{type:e,className:Ws("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Or.displayName="Input";function Qy({isOpen:n,onClose:e,onConfirm:t,title:r,message:s,confirmText:o="Aceptar",cancelText:c="Cancelar",variant:u="info"}){return n?A.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:A.jsx("div",{className:"bg-card w-full max-w-md rounded-xl shadow-2xl border border-border overflow-hidden animate-in zoom-in-95 duration-200",children:A.jsxs("div",{className:"p-6 relative",children:[A.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground transition-colors",children:A.jsx(dg,{className:"h-5 w-5"})}),A.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[A.jsx("div",{className:`p-3 rounded-full ${u==="danger"?"bg-red-100 text-red-600":"bg-primary/10 text-primary"}`,children:u==="danger"?A.jsx(sy,{className:"h-8 w-8"}):A.jsx(a2,{className:"h-8 w-8"})}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("h3",{className:"text-xl font-bold",children:r}),A.jsx("p",{className:"text-muted-foreground text-sm",children:s})]}),A.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[A.jsx(yr,{variant:"outline",className:"flex-1",onClick:e,children:c}),A.jsx(yr,{variant:u==="danger"?"destructive":"default",className:"flex-1",onClick:()=>{t(),e()},children:o})]})]})]})})}):null}function Aw({cost:n,price:e}){const[t,r]=mt.useState(!0);if(e===0)return A.jsx("span",{className:"text-muted-foreground",children:"-"});const s=e-n,o=(s/e*100).toFixed(1),c=s<0;return A.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),r(!t)},className:Ws("px-2 py-1 rounded text-xs font-bold transition-all w-20 text-center cursor-pointer",c?"bg-destructive/10 text-destructive hover:bg-destructive/20":"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20"),title:"Clic para cambiar entre % y S/",children:t?`${o}%`:s>0?`+S/ ${s.toFixed(2)}`:`S/ ${s.toFixed(2)}`})}function SD({onAddProduct:n,onEditProduct:e}){const t=uu(_=>_.products),r=uu(_=>_.removeProduct),[s,o]=mt.useState(""),[c,u]=mt.useState([]),[f,d]=mt.useState(null),g=t.filter(_=>_.name.toLowerCase().includes(s.toLowerCase())||_.baseCode.toLowerCase().includes(s.toLowerCase())||_.collection.toLowerCase().includes(s.toLowerCase())),b=_=>{u(M=>M.includes(_)?M.filter(V=>V!==_):[...M,_])},E=async()=>{f&&(await r(f),d(null))};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Inventario Global"}),A.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona el catlogo de productos, existencias y precios."})]}),A.jsxs(yr,{onClick:n,size:"lg",className:"shadow-lg shadow-primary/20",children:[A.jsx(fg,{className:"mr-2 h-5 w-5"})," Nuevo Producto"]})]}),A.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-sm overflow-hidden",children:[A.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between gap-4",children:[A.jsxs("div",{className:"relative flex-1 max-w-sm",children:[A.jsx(Xd,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx(Or,{placeholder:"Buscar por nombre, SKU o coleccin...",className:"pl-9 bg-background/50",value:s,onChange:_=>o(_.target.value)})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs(yr,{variant:"outline",size:"sm",className:"h-9",onClick:()=>alert("Funcionalidad de filtros avanzada pendiente"),children:[A.jsx(i4,{className:"mr-2 h-4 w-4"})," Filtros"]}),A.jsxs(yr,{variant:"outline",size:"sm",className:"h-9",onClick:()=>alert("Funcionalidad de ordenar pendiente"),children:[A.jsx(H6,{className:"mr-2 h-4 w-4"})," Ordenar"]})]})]}),A.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-muted/30 border-b border-border text-xs font-semibold uppercase tracking-wider text-muted-foreground items-center",children:[A.jsx("div",{className:"col-span-4",children:"Producto"}),A.jsx("div",{className:"col-span-2",children:"SKU Base"}),A.jsx("div",{className:"col-span-1",children:"Coleccin"}),A.jsx("div",{className:"col-span-2 text-center",children:"Rango Precios"}),A.jsx("div",{className:"col-span-1 text-center",children:"Margen Prom."}),A.jsx("div",{className:"col-span-1 text-center",children:"Stock"}),A.jsx("div",{className:"col-span-1 text-right",children:"Acciones"})]}),A.jsx("div",{className:"divide-y divide-border",children:g.length===0?A.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No se encontraron productos que coincidan con tu bsqueda."}):g.map(_=>{const M=_.variants.reduce((ee,fe)=>ee+fe.stock,0),V=Math.min(..._.variants.map(ee=>ee.priceRetail)),U=Math.max(..._.variants.map(ee=>ee.priceRetail)),j=V===U?`S/ ${V}`:`S/ ${V} - S/ ${U}`,ne=c.includes(_.id),oe=_.variants.reduce((ee,fe)=>ee+fe.priceProduction,0)/(_.variants.length||1),H=_.variants.reduce((ee,fe)=>ee+fe.priceRetail,0)/(_.variants.length||1);return A.jsxs("div",{className:"group transition-colors hover:bg-accent/5",children:[A.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 items-center cursor-pointer",onClick:()=>b(_.id),children:[A.jsxs("div",{className:"col-span-4",children:[A.jsx("div",{className:"font-medium text-foreground",children:_.name}),A.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.type,"  ",_.gender]})]}),A.jsx("div",{className:"col-span-2",children:A.jsx("code",{className:"text-xs font-mono bg-accent px-1.5 py-0.5 rounded text-primary",children:_.baseCode})}),A.jsx("div",{className:"col-span-1",children:A.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-secondary text-secondary-foreground border border-secondary-foreground/10",children:_.collection})}),A.jsx("div",{className:"col-span-2 text-center text-sm font-medium",children:_.variants.length>0?j:A.jsx("span",{className:"text-muted-foreground",children:"-"})}),A.jsx("div",{className:"col-span-1 text-center flex justify-center",children:_.variants.length>0?A.jsx(Aw,{cost:oe,price:H}):"-"}),A.jsx("div",{className:"col-span-1 text-center",children:A.jsx("span",{className:Ws("text-sm font-bold",M===0?"text-destructive":M<10?"text-yellow-600":"text-green-600"),children:M})}),A.jsx("div",{className:"col-span-1 flex justify-end",children:A.jsx(yr,{variant:ne?"secondary":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:ee=>{ee.stopPropagation(),b(_.id)},children:A.jsx(eN,{className:"h-4 w-4"})})})]}),ne&&A.jsxs("div",{className:"bg-muted/20 border-t border-border p-4 pl-12 cursor-default",onClick:ee=>ee.stopPropagation(),children:[A.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:"Detalle de Variantes"}),A.jsx("div",{className:"border border-border rounded-lg overflow-hidden bg-background shadow-sm",children:A.jsxs("table",{className:"w-full text-sm text-left",children:[A.jsx("thead",{className:"bg-muted/50 text-xs text-muted-foreground uppercase",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 font-medium",children:"SKU Variante"}),A.jsx("th",{className:"px-4 py-2 font-medium",children:"Color / Talla"}),A.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Costo Prod."}),A.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Precio Venta"}),A.jsx("th",{className:"px-4 py-2 font-medium text-center",children:"Margen"}),A.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Stock"})]})}),A.jsx("tbody",{className:"divide-y divide-border",children:_.variants.map(ee=>A.jsxs("tr",{className:"hover:bg-accent/5",children:[A.jsx("td",{className:"px-4 py-2 font-mono text-xs text-muted-foreground",children:ee.sku}),A.jsx("td",{className:"px-4 py-2",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-medium",children:ee.color}),A.jsx("span",{className:"bg-accent px-1.5 py-0.5 rounded text-[10px] font-mono",children:ee.size})]})}),A.jsxs("td",{className:"px-4 py-2 text-right text-muted-foreground",children:["S/ ",ee.priceProduction.toFixed(2)]}),A.jsxs("td",{className:"px-4 py-2 text-right font-medium",children:["S/ ",ee.priceRetail.toFixed(2)]}),A.jsx("td",{className:"px-4 py-2 flex justify-center",children:A.jsx(Aw,{cost:ee.priceProduction,price:ee.priceRetail})}),A.jsx("td",{className:"px-4 py-2 text-right font-bold",children:ee.stock})]},ee.id))})]})}),A.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[A.jsx(yr,{size:"sm",variant:"outline",onClick:()=>e(_),children:"Editar Producto"}),A.jsx(yr,{size:"sm",variant:"destructive",onClick:()=>d(_.id),children:"Eliminar"})]})]})]},_.id)})})]}),A.jsx(Qy,{isOpen:!!f,onClose:()=>d(null),onConfirm:E,title:"Eliminar Producto",message:"Ests seguro de que deseas eliminar este producto y todas sus variantes? Esta accin no se puede deshacer.",confirmText:"S, Eliminar",variant:"danger"})]})}var lp=n=>n.type==="checkbox",ju=n=>n instanceof Date,ya=n=>n==null;const nS=n=>typeof n=="object";var Ci=n=>!ya(n)&&!Array.isArray(n)&&nS(n)&&!ju(n),ED=n=>Ci(n)&&n.target?lp(n.target)?n.target.checked:n.target.value:n,ND=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,TD=(n,e)=>n.has(ND(e)),CD=n=>{const e=n.constructor&&n.constructor.prototype;return Ci(e)&&e.hasOwnProperty("isPrototypeOf")},Jy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pr(n){if(n instanceof Date)return new Date(n);const e=typeof FileList<"u"&&n instanceof FileList;if(Jy&&(n instanceof Blob||e))return n;const t=Array.isArray(n);if(!t&&!(Ci(n)&&CD(n)))return n;const r=t?[]:Object.create(Object.getPrototypeOf(n));for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=Pr(n[s]));return r}var zg=n=>/^\w*$/.test(n),Ar=n=>n===void 0,qg=n=>Array.isArray(n)?n.filter(Boolean):[],Zy=n=>qg(n.replace(/["|']|\]/g,"").split(/\.|\[/)),At=(n,e,t)=>{if(!e||!Ci(n))return t;const r=(zg(e)?[e]:Zy(e)).reduce((s,o)=>ya(s)?s:s[o],n);return Ar(r)||r===n?Ar(n[e])?t:n[e]:r},dl=n=>typeof n=="boolean",ko=n=>typeof n=="function",Nr=(n,e,t)=>{let r=-1;const s=zg(e)?[e]:Zy(e),o=s.length,c=o-1;for(;++r<o;){const u=s[r];let f=t;if(r!==c){const d=n[u];f=Ci(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;n[u]=f,n=n[u]}};const Sw={BLUR:"blur",FOCUS_OUT:"focusout"},io={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rS=Xe.createContext(null);rS.displayName="HookFormControlContext";const ID=()=>Xe.useContext(rS);var RD=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const o in n)Object.defineProperty(s,o,{get:()=>{const c=o;return e._proxyFormState[c]!==io.all&&(e._proxyFormState[c]=!r||io.all),n[c]}});return s};const iS=typeof window<"u"?Xe.useLayoutEffect:Xe.useEffect;var Ma=n=>typeof n=="string",LD=(n,e,t,r,s)=>Ma(n)?(r&&e.watch.add(n),At(t,n,s)):Array.isArray(n)?n.map(o=>(r&&e.watch.add(o),At(t,o))):(r&&(e.watchAll=!0),t),j2=n=>ya(n)||!nS(n);function Wc(n,e,t=new WeakSet){if(j2(n)||j2(e))return Object.is(n,e);if(ju(n)&&ju(e))return Object.is(n.getTime(),e.getTime());const r=Object.keys(n),s=Object.keys(e);if(r.length!==s.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const o of r){const c=n[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=e[o];if(ju(c)&&ju(u)||Ci(c)&&Ci(u)||Array.isArray(c)&&Array.isArray(u)?!Wc(c,u,t):!Object.is(c,u))return!1}}return!0}const kD=Xe.createContext(null);kD.displayName="HookFormContext";var DD=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},ba=n=>Array.isArray(n)?n:[n],Ew=()=>{let n=[];return{get observers(){return n},next:s=>{for(const o of n)o.next&&o.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(o=>o!==s)}}),unsubscribe:()=>{n=[]}}};function sS(n,e){const t={};for(const r in n)if(n.hasOwnProperty(r)){const s=n[r],o=e[r];if(s&&Ci(s)&&o){const c=sS(s,o);Ci(c)&&(t[r]=c)}else n[r]&&(t[r]=o)}return t}var Ds=n=>Ci(n)&&!Object.keys(n).length,ev=n=>n.type==="file",rg=n=>{if(!Jy)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aS=n=>n.type==="select-multiple",tv=n=>n.type==="radio",PD=n=>tv(n)||lp(n),E0=n=>rg(n)&&n.isConnected;function OD(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Ar(n)?r++:n[e[r++]];return n}function MD(n){for(const e in n)if(n.hasOwnProperty(e)&&!Ar(n[e]))return!1;return!0}function di(n,e){const t=Array.isArray(e)?e:zg(e)?[e]:Zy(e),r=t.length===1?n:OD(n,t),s=t.length-1,o=t[s];return r&&delete r[o],s!==0&&(Ci(r)&&Ds(r)||Array.isArray(r)&&MD(r))&&di(n,t.slice(0,-1)),n}var jD=n=>{for(const e in n)if(ko(n[e]))return!0;return!1};function oS(n){return Array.isArray(n)||Ci(n)&&!jD(n)}function V2(n,e={}){for(const t in n){const r=n[t];oS(r)?(e[t]=Array.isArray(r)?[]:{},V2(r,e[t])):Ar(r)||(e[t]=!0)}return e}function Hh(n,e,t){t||(t=V2(e));for(const r in n){const s=n[r];if(oS(s))Ar(e)||j2(t[r])?t[r]=V2(s,Array.isArray(s)?[]:{}):Hh(s,ya(e)?{}:e[r],t[r]);else{const o=e[r];t[r]=!Wc(s,o)}}return t}const Nw={value:!1,isValid:!1},Tw={value:!0,isValid:!0};var lS=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Ar(n[0].attributes.value)?Ar(n[0].value)||n[0].value===""?Tw:{value:n[0].value,isValid:!0}:Tw:Nw}return Nw},cS=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Ar(n)?n:e?n===""?NaN:n&&+n:t&&Ma(n)?new Date(n):r?r(n):n;const Cw={isValid:!1,value:null};var uS=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Cw):Cw;function Iw(n){const e=n.ref;return ev(e)?e.files:tv(e)?uS(n.refs).value:aS(e)?[...e.selectedOptions].map(({value:t})=>t):lp(e)?lS(n.refs).value:cS(Ar(e.value)?n.ref.value:e.value,n)}var VD=(n,e,t,r)=>{const s={};for(const o of n){const c=At(e,o);c&&Nr(s,o,c._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},ig=n=>n instanceof RegExp,gd=n=>Ar(n)?n:ig(n)?n.source:Ci(n)?ig(n.value)?n.value.source:n.value:n,$h=n=>({isOnSubmit:!n||n===io.onSubmit,isOnBlur:n===io.onBlur,isOnChange:n===io.onChange,isOnAll:n===io.all,isOnTouch:n===io.onTouched});const Rw="AsyncFunction";var FD=n=>!!n&&!!n.validate&&!!(ko(n.validate)&&n.validate.constructor.name===Rw||Ci(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Rw)),UD=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),F2=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const nf=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const o=At(n,s);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],s)&&!r)return!0;if(c.ref&&e(c.ref,c.name)&&!r)return!0;if(nf(u,e))break}else if(Ci(u)&&nf(u,e))break}}};function Lw(n,e,t){const r=At(n,t);if(r||zg(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const o=s.join("."),c=At(e,o),u=At(n,o);if(c&&!Array.isArray(c)&&t!==o)return{name:t};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};s.pop()}return{name:t}}var BD=(n,e,t,r)=>{t(n);const{name:s,...o}=n;return Ds(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(c=>e[c]===(!r||io.all))},zD=(n,e,t)=>!n||!e||n===e||ba(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),qD=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,HD=(n,e)=>!qg(At(n,e)).length&&di(n,e),hS=(n,e,t)=>{const r=ba(At(n,t));return Nr(r,"root",e[t]),Nr(n,t,r),n};function kw(n,e,t="validate"){if(Ma(n)||Array.isArray(n)&&n.every(Ma)||dl(n)&&!n)return{type:t,message:Ma(n)?n:"",ref:e}}var Mh=n=>Ci(n)&&!ig(n)?n:{value:n,message:""},U2=async(n,e,t,r,s,o)=>{const{ref:c,refs:u,required:f,maxLength:d,minLength:g,min:b,max:E,pattern:_,validate:M,name:V,valueAsNumber:U,mount:j}=n._f,ne=At(t,V);if(!j||e.has(V))return{};const oe=u?u[0]:c,H=R=>{s&&oe.reportValidity&&(oe.setCustomValidity(dl(R)?"":R||""),oe.reportValidity())},ee={},fe=tv(c),q=lp(c),k=fe||q,D=(U||ev(c))&&Ar(c.value)&&Ar(ne)||rg(c)&&c.value===""||ne===""||Array.isArray(ne)&&!ne.length,Y=DD.bind(null,V,r,ee),T=(R,L,he,Ae=Kl.maxLength,te=Kl.minLength)=>{const pe=R?L:he;ee[V]={type:R?Ae:te,message:pe,ref:c,...Y(R?Ae:te,pe)}};if(o?!Array.isArray(ne)||!ne.length:f&&(!k&&(D||ya(ne))||dl(ne)&&!ne||q&&!lS(u).isValid||fe&&!uS(u).isValid)){const{value:R,message:L}=Ma(f)?{value:!!f,message:f}:Mh(f);if(R&&(ee[V]={type:Kl.required,message:L,ref:oe,...Y(Kl.required,L)},!r))return H(L),ee}if(!D&&(!ya(b)||!ya(E))){let R,L;const he=Mh(E),Ae=Mh(b);if(!ya(ne)&&!isNaN(ne)){const te=c.valueAsNumber||ne&&+ne;ya(he.value)||(R=te>he.value),ya(Ae.value)||(L=te<Ae.value)}else{const te=c.valueAsDate||new Date(ne),pe=be=>new Date(new Date().toDateString()+" "+be),ue=c.type=="time",Ce=c.type=="week";Ma(he.value)&&ne&&(R=ue?pe(ne)>pe(he.value):Ce?ne>he.value:te>new Date(he.value)),Ma(Ae.value)&&ne&&(L=ue?pe(ne)<pe(Ae.value):Ce?ne<Ae.value:te<new Date(Ae.value))}if((R||L)&&(T(!!R,he.message,Ae.message,Kl.max,Kl.min),!r))return H(ee[V].message),ee}if((d||g)&&!D&&(Ma(ne)||o&&Array.isArray(ne))){const R=Mh(d),L=Mh(g),he=!ya(R.value)&&ne.length>+R.value,Ae=!ya(L.value)&&ne.length<+L.value;if((he||Ae)&&(T(he,R.message,L.message),!r))return H(ee[V].message),ee}if(_&&!D&&Ma(ne)){const{value:R,message:L}=Mh(_);if(ig(R)&&!ne.match(R)&&(ee[V]={type:Kl.pattern,message:L,ref:c,...Y(Kl.pattern,L)},!r))return H(L),ee}if(M){if(ko(M)){const R=await M(ne,t),L=kw(R,oe);if(L&&(ee[V]={...L,...Y(Kl.validate,L.message)},!r))return H(L.message),ee}else if(Ci(M)){let R={};for(const L in M){if(!Ds(R)&&!r)break;const he=kw(await M[L](ne,t),oe,L);he&&(R={...he,...Y(L,he.message)},H(he.message),r&&(ee[V]=R))}if(!Ds(R)&&(ee[V]={ref:oe,...R},!r))return ee}}return H(!0),ee};const GD={mode:io.onSubmit,reValidateMode:io.onChange,shouldFocusError:!0};function YD(n={}){let e={...GD,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:ko(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Ci(e.defaultValues)||Ci(e.values)?Pr(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Pr(s),c={action:!1,mount:!1,watch:!1,keepIsValid:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,d=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={...g};let E={...b};const _={array:Ew(),state:Ew()},M=e.criteriaMode===io.all,V=se=>ge=>{clearTimeout(d),d=setTimeout(se,ge)},U=async se=>{if(!c.keepIsValid&&!e.disabled&&(b.isValid||E.isValid||se)){let ge;e.resolver?(ge=Ds((await k()).errors),j()):ge=await Y(r,!0),ge!==t.isValid&&_.state.next({isValid:ge})}},j=(se,ge)=>{!e.disabled&&(b.isValidating||b.validatingFields||E.isValidating||E.validatingFields)&&((se||Array.from(u.mount)).forEach(Se=>{Se&&(ge?Nr(t.validatingFields,Se,ge):di(t.validatingFields,Se))}),_.state.next({validatingFields:t.validatingFields,isValidating:!Ds(t.validatingFields)}))},ne=(se,ge=[],Se,Ke,He=!0,Ve=!0)=>{if(Ke&&Se&&!e.disabled){if(c.action=!0,Ve&&Array.isArray(At(r,se))){const it=Se(At(r,se),Ke.argA,Ke.argB);He&&Nr(r,se,it)}if(Ve&&Array.isArray(At(t.errors,se))){const it=Se(At(t.errors,se),Ke.argA,Ke.argB);He&&Nr(t.errors,se,it),HD(t.errors,se)}if((b.touchedFields||E.touchedFields)&&Ve&&Array.isArray(At(t.touchedFields,se))){const it=Se(At(t.touchedFields,se),Ke.argA,Ke.argB);He&&Nr(t.touchedFields,se,it)}(b.dirtyFields||E.dirtyFields)&&(t.dirtyFields=Hh(s,o)),_.state.next({name:se,isDirty:R(se,ge),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Nr(o,se,ge)},oe=(se,ge)=>{Nr(t.errors,se,ge),_.state.next({errors:t.errors})},H=se=>{t.errors=se,_.state.next({errors:t.errors,isValid:!1})},ee=(se,ge,Se,Ke)=>{const He=At(r,se);if(He){const Ve=At(o,se,Ar(Se)?At(s,se):Se);Ar(Ve)||Ke&&Ke.defaultChecked||ge?Nr(o,se,ge?Ve:Iw(He._f)):Ae(se,Ve),c.mount&&!c.action&&U()}},fe=(se,ge,Se,Ke,He)=>{let Ve=!1,it=!1;const ft={name:se};if(!e.disabled){if(!Se||Ke){(b.isDirty||E.isDirty)&&(it=t.isDirty,t.isDirty=ft.isDirty=R(),Ve=it!==ft.isDirty);const st=Wc(At(s,se),ge);it=!!At(t.dirtyFields,se),st?di(t.dirtyFields,se):Nr(t.dirtyFields,se,!0),ft.dirtyFields=t.dirtyFields,Ve=Ve||(b.dirtyFields||E.dirtyFields)&&it!==!st}if(Se){const st=At(t.touchedFields,se);st||(Nr(t.touchedFields,se,Se),ft.touchedFields=t.touchedFields,Ve=Ve||(b.touchedFields||E.touchedFields)&&st!==Se)}Ve&&He&&_.state.next(ft)}return Ve?ft:{}},q=(se,ge,Se,Ke)=>{const He=At(t.errors,se),Ve=(b.isValid||E.isValid)&&dl(ge)&&t.isValid!==ge;if(e.delayError&&Se?(f=V(()=>oe(se,Se)),f(e.delayError)):(clearTimeout(d),f=null,Se?Nr(t.errors,se,Se):di(t.errors,se)),(Se?!Wc(He,Se):He)||!Ds(Ke)||Ve){const it={...Ke,...Ve&&dl(ge)?{isValid:ge}:{},errors:t.errors,name:se};t={...t,...it},_.state.next(it)}},k=async se=>(j(se,!0),await e.resolver(o,e.context,VD(se||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),D=async se=>{const{errors:ge}=await k(se);if(j(se),se)for(const Se of se){const Ke=At(ge,Se);Ke?Nr(t.errors,Se,Ke):di(t.errors,Se)}else t.errors=ge;return ge},Y=async(se,ge,Se={valid:!0})=>{for(const Ke in se){const He=se[Ke];if(He){const{_f:Ve,...it}=He;if(Ve){const ft=u.array.has(Ve.name),st=He._f&&FD(He._f);st&&b.validatingFields&&j([Ve.name],!0);const bt=await U2(He,u.disabled,o,M,e.shouldUseNativeValidation&&!ge,ft);if(st&&b.validatingFields&&j([Ve.name]),bt[Ve.name]&&(Se.valid=!1,ge||n.shouldUseNativeValidation))break;!ge&&(At(bt,Ve.name)?ft?hS(t.errors,bt,Ve.name):Nr(t.errors,Ve.name,bt[Ve.name]):di(t.errors,Ve.name))}!Ds(it)&&await Y(it,ge,Se)}}return Se.valid},T=()=>{for(const se of u.unMount){const ge=At(r,se);ge&&(ge._f.refs?ge._f.refs.every(Se=>!E0(Se)):!E0(ge._f.ref))&&Ee(se)}u.unMount=new Set},R=(se,ge)=>!e.disabled&&(se&&ge&&Nr(o,se,ge),!Wc(X(),s)),L=(se,ge,Se)=>LD(se,u,{...c.mount?o:Ar(ge)?s:Ma(se)?{[se]:ge}:ge},Se,ge),he=se=>qg(At(c.mount?o:s,se,e.shouldUnregister?At(s,se,[]):[])),Ae=(se,ge,Se={})=>{const Ke=At(r,se);let He=ge;if(Ke){const Ve=Ke._f;Ve&&(!Ve.disabled&&Nr(o,se,cS(ge,Ve)),He=rg(Ve.ref)&&ya(ge)?"":ge,aS(Ve.ref)?[...Ve.ref.options].forEach(it=>it.selected=He.includes(it.value)):Ve.refs?lp(Ve.ref)?Ve.refs.forEach(it=>{(!it.defaultChecked||!it.disabled)&&(Array.isArray(He)?it.checked=!!He.find(ft=>ft===it.value):it.checked=He===it.value||!!He)}):Ve.refs.forEach(it=>it.checked=it.value===He):ev(Ve.ref)?Ve.ref.value="":(Ve.ref.value=He,Ve.ref.type||_.state.next({name:se,values:Pr(o)})))}(Se.shouldDirty||Se.shouldTouch)&&fe(se,He,Se.shouldTouch,Se.shouldDirty,!0),Se.shouldValidate&&be(se)},te=(se,ge,Se)=>{for(const Ke in ge){if(!ge.hasOwnProperty(Ke))return;const He=ge[Ke],Ve=se+"."+Ke,it=At(r,Ve);(u.array.has(se)||Ci(He)||it&&!it._f)&&!ju(He)?te(Ve,He,Se):Ae(Ve,He,Se)}},pe=(se,ge,Se={})=>{const Ke=At(r,se),He=u.array.has(se),Ve=Pr(ge);Nr(o,se,Ve),He?(_.array.next({name:se,values:Pr(o)}),(b.isDirty||b.dirtyFields||E.isDirty||E.dirtyFields)&&Se.shouldDirty&&_.state.next({name:se,dirtyFields:Hh(s,o),isDirty:R(se,Ve)})):Ke&&!Ke._f&&!ya(Ve)?te(se,Ve,Se):Ae(se,Ve,Se),F2(se,u)?_.state.next({...t,name:se,values:Pr(o)}):_.state.next({name:c.mount?se:void 0,values:Pr(o)})},ue=async se=>{c.mount=!0;const ge=se.target;let Se=ge.name,Ke=!0;const He=At(r,Se),Ve=st=>{Ke=Number.isNaN(st)||ju(st)&&isNaN(st.getTime())||Wc(st,At(o,Se,st))},it=$h(e.mode),ft=$h(e.reValidateMode);if(He){let st,bt;const gt=ge.type?Iw(He._f):ED(se),fn=se.type===Sw.BLUR||se.type===Sw.FOCUS_OUT,Zt=!UD(He._f)&&!e.resolver&&!At(t.errors,Se)&&!He._f.deps||qD(fn,At(t.touchedFields,Se),t.isSubmitted,ft,it),Pt=F2(Se,u,fn);Nr(o,Se,gt),fn?(!ge||!ge.readOnly)&&(He._f.onBlur&&He._f.onBlur(se),f&&f(0)):He._f.onChange&&He._f.onChange(se);const Ft=fe(Se,gt,fn),Qt=!Ds(Ft)||Pt;if(!fn&&_.state.next({name:Se,type:se.type,values:Pr(o)}),Zt)return(b.isValid||E.isValid)&&(e.mode==="onBlur"?fn&&U():fn||U()),Qt&&_.state.next({name:Se,...Pt?{}:Ft});if(!fn&&Pt&&_.state.next({...t}),e.resolver){const{errors:Ot}=await k([Se]);if(j([Se]),Ve(gt),Ke){const yn=Lw(t.errors,r,Se),Et=Lw(Ot,r,yn.name||Se);st=Et.error,Se=Et.name,bt=Ds(Ot)}}else j([Se],!0),st=(await U2(He,u.disabled,o,M,e.shouldUseNativeValidation))[Se],j([Se]),Ve(gt),Ke&&(st?bt=!1:(b.isValid||E.isValid)&&(bt=await Y(r,!0)));Ke&&(He._f.deps&&(!Array.isArray(He._f.deps)||He._f.deps.length>0)&&be(He._f.deps),q(Se,bt,st,Ft))}},Ce=(se,ge)=>{if(At(t.errors,ge)&&se.focus)return se.focus(),1},be=async(se,ge={})=>{let Se,Ke;const He=ba(se);if(e.resolver){const Ve=await D(Ar(se)?se:He);Se=Ds(Ve),Ke=se?!He.some(it=>At(Ve,it)):Se}else se?(Ke=(await Promise.all(He.map(async Ve=>{const it=At(r,Ve);return await Y(it&&it._f?{[Ve]:it}:it)}))).every(Boolean),!(!Ke&&!t.isValid)&&U()):Ke=Se=await Y(r);return _.state.next({...!Ma(se)||(b.isValid||E.isValid)&&Se!==t.isValid?{}:{name:se},...e.resolver||!se?{isValid:Se}:{},errors:t.errors}),ge.shouldFocus&&!Ke&&nf(r,Ce,se?He:u.mount),Ke},X=(se,ge)=>{let Se={...c.mount?o:s};return ge&&(Se=sS(ge.dirtyFields?t.dirtyFields:t.touchedFields,Se)),Ar(se)?Se:Ma(se)?At(Se,se):se.map(Ke=>At(Se,Ke))},P=(se,ge)=>({invalid:!!At((ge||t).errors,se),isDirty:!!At((ge||t).dirtyFields,se),error:At((ge||t).errors,se),isValidating:!!At(t.validatingFields,se),isTouched:!!At((ge||t).touchedFields,se)}),z=se=>{se&&ba(se).forEach(ge=>di(t.errors,ge)),_.state.next({errors:se?t.errors:{}})},K=(se,ge,Se)=>{const Ke=(At(r,se,{_f:{}})._f||{}).ref,He=At(t.errors,se)||{},{ref:Ve,message:it,type:ft,...st}=He;Nr(t.errors,se,{...st,...ge,ref:Ke}),_.state.next({name:se,errors:t.errors,isValid:!1}),Se&&Se.shouldFocus&&Ke&&Ke.focus&&Ke.focus()},ie=(se,ge)=>ko(se)?_.state.subscribe({next:Se=>"values"in Se&&se(L(void 0,ge),Se)}):L(se,ge,!0),de=se=>_.state.subscribe({next:ge=>{zD(se.name,ge.name,se.exact)&&BD(ge,se.formState||b,Mt,se.reRenderRoot)&&se.callback({values:{...o},...t,...ge,defaultValues:s})}}).unsubscribe,ye=se=>(c.mount=!0,E={...E,...se.formState},de({...se,formState:{...g,...se.formState}})),Ee=(se,ge={})=>{for(const Se of se?ba(se):u.mount)u.mount.delete(Se),u.array.delete(Se),ge.keepValue||(di(r,Se),di(o,Se)),!ge.keepError&&di(t.errors,Se),!ge.keepDirty&&di(t.dirtyFields,Se),!ge.keepTouched&&di(t.touchedFields,Se),!ge.keepIsValidating&&di(t.validatingFields,Se),!e.shouldUnregister&&!ge.keepDefaultValue&&di(s,Se);_.state.next({values:Pr(o)}),_.state.next({...t,...ge.keepDirty?{isDirty:R()}:{}}),!ge.keepIsValid&&U()},Le=({disabled:se,name:ge})=>{if(dl(se)&&c.mount||se||u.disabled.has(ge)){const He=u.disabled.has(ge)!==!!se;se?u.disabled.add(ge):u.disabled.delete(ge),He&&c.mount&&!c.action&&U()}},Ue=(se,ge={})=>{let Se=At(r,se);const Ke=dl(ge.disabled)||dl(e.disabled);return Nr(r,se,{...Se||{},_f:{...Se&&Se._f?Se._f:{ref:{name:se}},name:se,mount:!0,...ge}}),u.mount.add(se),Se?Le({disabled:dl(ge.disabled)?ge.disabled:e.disabled,name:se}):ee(se,!0,ge.value),{...Ke?{disabled:ge.disabled||e.disabled}:{},...e.progressive?{required:!!ge.required,min:gd(ge.min),max:gd(ge.max),minLength:gd(ge.minLength),maxLength:gd(ge.maxLength),pattern:gd(ge.pattern)}:{},name:se,onChange:ue,onBlur:ue,ref:He=>{if(He){Ue(se,ge),Se=At(r,se);const Ve=Ar(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,it=PD(Ve),ft=Se._f.refs||[];if(it?ft.find(st=>st===Ve):Ve===Se._f.ref)return;Nr(r,se,{_f:{...Se._f,...it?{refs:[...ft.filter(E0),Ve,...Array.isArray(At(s,se))?[{}]:[]],ref:{type:Ve.type,name:se}}:{ref:Ve}}}),ee(se,!1,void 0,Ve)}else Se=At(r,se,{}),Se._f&&(Se._f.mount=!1),(e.shouldUnregister||ge.shouldUnregister)&&!(TD(u.array,se)&&c.action)&&u.unMount.add(se)}}},et=()=>e.shouldFocusError&&nf(r,Ce,u.mount),ot=se=>{dl(se)&&(_.state.next({disabled:se}),nf(r,(ge,Se)=>{const Ke=At(r,Se);Ke&&(ge.disabled=Ke._f.disabled||se,Array.isArray(Ke._f.refs)&&Ke._f.refs.forEach(He=>{He.disabled=Ke._f.disabled||se}))},0,!1))},ct=(se,ge)=>async Se=>{let Ke;Se&&(Se.preventDefault&&Se.preventDefault(),Se.persist&&Se.persist());let He=Pr(o);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:Ve,values:it}=await k();j(),t.errors=Ve,He=Pr(it)}else await Y(r);if(u.disabled.size)for(const Ve of u.disabled)di(He,Ve);if(di(t.errors,"root"),Ds(t.errors)){_.state.next({errors:{}});try{await se(He,Se)}catch(Ve){Ke=Ve}}else ge&&await ge({...t.errors},Se),et(),setTimeout(et);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ds(t.errors)&&!Ke,submitCount:t.submitCount+1,errors:t.errors}),Ke)throw Ke},vt=(se,ge={})=>{At(r,se)&&(Ar(ge.defaultValue)?pe(se,Pr(At(s,se))):(pe(se,ge.defaultValue),Nr(s,se,Pr(ge.defaultValue))),ge.keepTouched||di(t.touchedFields,se),ge.keepDirty||(di(t.dirtyFields,se),t.isDirty=ge.defaultValue?R(se,Pr(At(s,se))):R()),ge.keepError||(di(t.errors,se),b.isValid&&U()),_.state.next({...t}))},re=(se,ge={})=>{const Se=se?Pr(se):s,Ke=Pr(Se),He=Ds(se),Ve=He?s:Ke;if(ge.keepDefaultValues||(s=Se),!ge.keepValues){if(ge.keepDirtyValues){const it=new Set([...u.mount,...Object.keys(Hh(s,o))]);for(const ft of Array.from(it)){const st=At(t.dirtyFields,ft),bt=At(o,ft),gt=At(Ve,ft);st&&!Ar(bt)?Nr(Ve,ft,bt):!st&&!Ar(gt)&&pe(ft,gt)}}else{if(Jy&&Ar(se))for(const it of u.mount){const ft=At(r,it);if(ft&&ft._f){const st=Array.isArray(ft._f.refs)?ft._f.refs[0]:ft._f.ref;if(rg(st)){const bt=st.closest("form");if(bt){bt.reset();break}}}}if(ge.keepFieldsRef)for(const it of u.mount)pe(it,At(Ve,it));else r={}}o=e.shouldUnregister?ge.keepDefaultValues?Pr(s):{}:Pr(Ve),_.array.next({values:{...Ve}}),_.state.next({values:{...Ve}})}u={mount:ge.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!b.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues||!e.shouldUnregister&&!Ds(Ve),c.watch=!!e.shouldUnregister,c.keepIsValid=!!ge.keepIsValid,c.action=!1,ge.keepErrors||(t.errors={}),_.state.next({submitCount:ge.keepSubmitCount?t.submitCount:0,isDirty:He?!1:ge.keepDirty?t.isDirty:!!(ge.keepDefaultValues&&!Wc(se,s)),isSubmitted:ge.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:He?{}:ge.keepDirtyValues?ge.keepDefaultValues&&o?Hh(s,o):t.dirtyFields:ge.keepDefaultValues&&se?Hh(s,se):ge.keepDirty?t.dirtyFields:{},touchedFields:ge.keepTouched?t.touchedFields:{},errors:ge.keepErrors?t.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},lt=(se,ge)=>re(ko(se)?se(o):se,{...e.resetOptions,...ge}),$t=(se,ge={})=>{const Se=At(r,se),Ke=Se&&Se._f;if(Ke){const He=Ke.refs?Ke.refs[0]:Ke.ref;He.focus&&setTimeout(()=>{He.focus(),ge.shouldSelect&&ko(He.select)&&He.select()})}},Mt=se=>{t={...t,...se}},dt={control:{register:Ue,unregister:Ee,getFieldState:P,handleSubmit:ct,setError:K,_subscribe:de,_runSchema:k,_updateIsValidating:j,_focusError:et,_getWatch:L,_getDirty:R,_setValid:U,_setFieldArray:ne,_setDisabledField:Le,_setErrors:H,_getFieldArray:he,_reset:re,_resetDefaultValues:()=>ko(e.defaultValues)&&e.defaultValues().then(se=>{lt(se,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ot,_subjects:_,_proxyFormState:b,get _fields(){return r},get _formValues(){return o},get _state(){return c},set _state(se){c=se},get _defaultValues(){return s},get _names(){return u},set _names(se){u=se},get _formState(){return t},get _options(){return e},set _options(se){e={...e,...se}}},subscribe:ye,trigger:be,register:Ue,handleSubmit:ct,watch:ie,setValue:pe,getValues:X,reset:lt,resetField:vt,clearErrors:z,unregister:Ee,setError:K,setFocus:$t,getFieldState:P};return{...dt,formControl:dt}}var Uc=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const n=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+n)%16|0;return(e=="x"?t:t&3|8).toString(16)})},N0=(n,e,t={})=>t.shouldFocus||Ar(t.shouldFocus)?t.focusName||`${n}.${Ar(t.focusIndex)?e:t.focusIndex}.`:"",T0=(n,e)=>[...n,...ba(e)],C0=n=>Array.isArray(n)?n.map(()=>{}):void 0;function I0(n,e,t){return[...n.slice(0,e),...ba(t),...n.slice(e)]}var R0=(n,e,t)=>Array.isArray(n)?(Ar(n[t])&&(n[t]=void 0),n.splice(t,0,n.splice(e,1)[0]),n):[],L0=(n,e)=>[...ba(e),...ba(n)];function WD(n,e){let t=0;const r=[...n];for(const s of e)r.splice(s-t,1),t++;return qg(r).length?r:[]}var k0=(n,e)=>Ar(e)?[]:WD(n,ba(e).sort((t,r)=>t-r)),D0=(n,e,t)=>{[n[e],n[t]]=[n[t],n[e]]},Dw=(n,e,t)=>(n[e]=t,n);function KD(n){const e=ID(),{control:t=e,name:r,keyName:s="id",shouldUnregister:o,rules:c}=n,[u,f]=Xe.useState(t._getFieldArray(r)),d=Xe.useRef(t._getFieldArray(r).map(Uc)),g=Xe.useRef(!1);t._names.array.add(r),Xe.useMemo(()=>c&&u.length>=0&&t.register(r,c),[t,r,u.length,c]),iS(()=>t._subjects.array.subscribe({next:({values:H,name:ee})=>{if(ee===r||!ee){const fe=At(H,r);Array.isArray(fe)&&(f(fe),d.current=fe.map(Uc))}}}).unsubscribe,[t,r]);const b=Xe.useCallback(H=>{g.current=!0,t._setFieldArray(r,H)},[t,r]),E=(H,ee)=>{const fe=ba(Pr(H)),q=T0(t._getFieldArray(r),fe);t._names.focus=N0(r,q.length-1,ee),d.current=T0(d.current,fe.map(Uc)),b(q),f(q),t._setFieldArray(r,q,T0,{argA:C0(H)})},_=(H,ee)=>{const fe=ba(Pr(H)),q=L0(t._getFieldArray(r),fe);t._names.focus=N0(r,0,ee),d.current=L0(d.current,fe.map(Uc)),b(q),f(q),t._setFieldArray(r,q,L0,{argA:C0(H)})},M=H=>{const ee=k0(t._getFieldArray(r),H);d.current=k0(d.current,H),b(ee),f(ee),!Array.isArray(At(t._fields,r))&&Nr(t._fields,r,void 0),t._setFieldArray(r,ee,k0,{argA:H})},V=(H,ee,fe)=>{const q=ba(Pr(ee)),k=I0(t._getFieldArray(r),H,q);t._names.focus=N0(r,H,fe),d.current=I0(d.current,H,q.map(Uc)),b(k),f(k),t._setFieldArray(r,k,I0,{argA:H,argB:C0(ee)})},U=(H,ee)=>{const fe=t._getFieldArray(r);D0(fe,H,ee),D0(d.current,H,ee),b(fe),f(fe),t._setFieldArray(r,fe,D0,{argA:H,argB:ee},!1)},j=(H,ee)=>{const fe=t._getFieldArray(r);R0(fe,H,ee),R0(d.current,H,ee),b(fe),f(fe),t._setFieldArray(r,fe,R0,{argA:H,argB:ee},!1)},ne=(H,ee)=>{const fe=Pr(ee),q=Dw(t._getFieldArray(r),H,fe);d.current=[...q].map((k,D)=>!k||D===H?Uc():d.current[D]),b(q),f([...q]),t._setFieldArray(r,q,Dw,{argA:H,argB:fe},!0,!1)},oe=H=>{const ee=ba(Pr(H));d.current=ee.map(Uc),b([...ee]),f([...ee]),t._setFieldArray(r,[...ee],fe=>fe,{},!0,!1)};return Xe.useEffect(()=>{if(t._state.action=!1,F2(r,t._names)&&t._subjects.state.next({...t._formState}),g.current&&(!$h(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!$h(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([r]).then(H=>{t._updateIsValidating([r]);const ee=At(H.errors,r),fe=At(t._formState.errors,r);(fe?!ee&&fe.type||ee&&(fe.type!==ee.type||fe.message!==ee.message):ee&&ee.type)&&(ee?Nr(t._formState.errors,r,ee):di(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const H=At(t._fields,r);H&&H._f&&!($h(t._options.reValidateMode).isOnSubmit&&$h(t._options.mode).isOnSubmit)&&U2(H,t._names.disabled,t._formValues,t._options.criteriaMode===io.all,t._options.shouldUseNativeValidation,!0).then(ee=>!Ds(ee)&&t._subjects.state.next({errors:hS(t._formState.errors,ee,r)}))}t._subjects.state.next({name:r,values:Pr(t._formValues)}),t._names.focus&&nf(t._fields,(H,ee)=>{if(t._names.focus&&ee.startsWith(t._names.focus)&&H.focus)return H.focus(),1}),t._names.focus="",t._setValid(),g.current=!1},[u,r,t]),Xe.useEffect(()=>(!At(t._formValues,r)&&t._setFieldArray(r),()=>{const H=(ee,fe)=>{const q=At(t._fields,ee);q&&q._f&&(q._f.mount=fe)};t._options.shouldUnregister||o?t.unregister(r):H(r,!1)}),[r,t,s,o]),{swap:Xe.useCallback(U,[b,r,t]),move:Xe.useCallback(j,[b,r,t]),prepend:Xe.useCallback(_,[b,r,t]),append:Xe.useCallback(E,[b,r,t]),remove:Xe.useCallback(M,[b,r,t]),insert:Xe.useCallback(V,[b,r,t]),update:Xe.useCallback(ne,[b,r,t]),replace:Xe.useCallback(oe,[b,r,t]),fields:Xe.useMemo(()=>u.map((H,ee)=>({...H,[s]:d.current[ee]||Uc()})),[u,s])}}function $D(n={}){const e=Xe.useRef(void 0),t=Xe.useRef(void 0),[r,s]=Xe.useState({isDirty:!1,isValidating:!1,isLoading:ko(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:ko(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!ko(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:c,...u}=YD(n);e.current={...u,formState:r}}const o=e.current.control;return o._options=n,iS(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),o._formState.isReady=!0,c},[o]),Xe.useEffect(()=>o._disableForm(n.disabled),[o,n.disabled]),Xe.useEffect(()=>{n.mode&&(o._options.mode=n.mode),n.reValidateMode&&(o._options.reValidateMode=n.reValidateMode)},[o,n.mode,n.reValidateMode]),Xe.useEffect(()=>{n.errors&&(o._setErrors(n.errors),o._focusError())},[o,n.errors]),Xe.useEffect(()=>{n.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,n.shouldUnregister]),Xe.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==r.isDirty&&o._subjects.state.next({isDirty:c})}},[o,r.isDirty]),Xe.useEffect(()=>{var c;n.values&&!Wc(n.values,t.current)?(o._reset(n.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((c=o._options.resetOptions)===null||c===void 0)&&c.keepIsValid||o._setValid(),t.current=n.values,s(u=>({...u}))):o._resetDefaultValues()},[o,n.values]),Xe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=Xe.useMemo(()=>RD(r,o),[o,r]),e.current}function yd(n,e,t,r){if(!e||!r)return"INVALID-SKU";const s={VERANO:"VER",INVIERNO:"INV",ANADIBLES:"ADD"},o=n.trim().toUpperCase(),c=s[o]||o.slice(0,3).replace(/[^A-Z]/g,"X"),u={HOMBRE:"H",MUJER:"M",UNISEX:"U"}[t]||"U",f=e.slice(0,3).toUpperCase(),d=r.split(" ").map(g=>g[0]).join("").slice(0,3).toUpperCase();return`${c}-${f}-${u}-${d}`}function P0(n,e,t){const s={negro:"BLK",black:"BLK",blanco:"WHT",white:"WHT",rojo:"RED",azul:"BLU",blue:"BLU",verde:"GRN",green:"GRN",amarillo:"YEL"}[e.toLowerCase()]||e.slice(0,3).toUpperCase(),o=t.toUpperCase();return`${n}-${s}-${o}`}function XD({initialData:n,onComplete:e}){const t=uu(H=>H.addProduct),r=uu(H=>H.updateProduct),{register:s,control:o,watch:c,handleSubmit:u,reset:f,setValue:d}=$D({defaultValues:{collection:"VERANO",gender:"UNISEX",variants:[]}});mt.useEffect(()=>{n?(f({name:n.name,collection:n.collection,type:n.type,gender:n.gender,variants:n.variants.map(H=>({id:H.id,color:H.color,size:H.size,stock:H.stock,priceProduction:H.priceProduction,priceRetail:H.priceRetail,images:[]}))}),V(n.baseCode)):(f({name:"",collection:"VERANO",type:"",gender:"UNISEX",variants:[]}),V(""))},[n,f]);const g=c("name"),b=c("type"),E=c("collection"),_=c("gender"),[M,V]=mt.useState("");mt.useEffect(()=>{if(g&&b){const H=yd(E,b,_,g);V(H)}},[g,b,E,_]);const{fields:U,append:j,remove:ne}=KD({control:o,name:"variants"}),oe=async H=>{if(n)r(n.id,{name:H.name,collection:H.collection,type:H.type,gender:H.gender,baseCode:yd(H.collection,H.type,H.gender,H.name),variants:H.variants.map(ee=>({id:ee.id||crypto.randomUUID(),sku:P0(yd(H.collection,H.type,H.gender,H.name),ee.color,ee.size),color:ee.color,size:ee.size,stock:ee.stock,priceProduction:ee.priceProduction,priceRetail:ee.priceRetail,images:[]}))});else{const ee={id:crypto.randomUUID(),name:H.name,collection:H.collection,type:H.type,gender:H.gender,baseCode:yd(H.collection,H.type,H.gender,H.name),updatedAt:Date.now(),createdAt:Date.now(),variants:H.variants.map(fe=>({id:crypto.randomUUID(),sku:P0(yd(H.collection,H.type,H.gender,H.name),fe.color,fe.size),color:fe.color,size:fe.size,stock:fe.stock,priceProduction:fe.priceProduction,priceRetail:fe.priceRetail,images:[]}))};try{await t(ee)}catch(fe){console.error("Error UI saving product:",fe);return}}e?e():(f(),V(""))};return A.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[A.jsxs("div",{className:"flex items-center justify-between mb-10",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n?"Editar Producto":"Registro de Producto"}),A.jsx("p",{className:"text-muted-foreground mt-1 text-lg",children:n?"Modifica los datos del producto seleccionado.":"Sigue los 3 pasos para dar de alta un nuevo tem."})]}),A.jsx("div",{className:"bg-card border border-border px-6 py-3 rounded-xl shadow-sm flex items-center gap-4",children:A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider block",children:"SKU PRELIMINAR"}),A.jsx("span",{className:"text-2xl font-mono font-bold text-primary",children:M||"---"})]})})]}),A.jsxs("form",{onSubmit:u(oe),className:"space-y-8",children:[A.jsxs("section",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden relative",children:[A.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary/20"}),A.jsxs("div",{className:"p-8",children:[A.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[A.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary text-primary-foreground font-bold text-lg shadow-lg shadow-primary/20",children:"1"}),A.jsx("h3",{className:"text-xl font-semibold",children:"Definicin General"})]}),A.jsxs("div",{className:"grid grid-cols-12 gap-8 pl-14",children:[A.jsxs("div",{className:"col-span-8 space-y-4",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium",children:"Nombre Comercial"}),A.jsx(Or,{...s("name"),placeholder:"Ej. Polo Oversize 'Urban'",className:"h-12 text-lg",autoFocus:!0})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium",children:"Tipo de Prenda"}),A.jsx(Or,{...s("type"),placeholder:"Ej. POLO",className:"h-11 font-mono uppercase"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium",children:"Gnero"}),A.jsxs("select",{...s("gender"),className:"flex h-11 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[A.jsx("option",{value:"UNISEX",children:"Unisex"}),A.jsx("option",{value:"HOMBRE",children:"Hombre"}),A.jsx("option",{value:"MUJER",children:"Mujer"})]})]})]})]}),A.jsxs("div",{className:"col-span-4 bg-muted/30 rounded-lg border border-border/50 p-6 flex flex-col justify-center items-center text-center",children:[A.jsx("span",{className:"text-sm text-muted-foreground mb-2",children:"Tu SKU comienza con:"}),A.jsx("div",{className:"text-3xl font-mono font-black text-muted-foreground/50 tracking-widest",children:M?M.split("-").slice(0,4).join("-"):"????"}),A.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Se usan las 3 primeras letras de la coleccin, tipo, gnero y nombre."})]})]})]})]}),A.jsxs("section",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden relative",children:[A.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary/40"}),A.jsxs("div",{className:"p-8",children:[A.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[A.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary text-primary-foreground font-bold text-lg shadow-lg shadow-primary/20",children:"2"}),A.jsx("h3",{className:"text-xl font-semibold",children:"Temporada y Coleccin"})]}),A.jsx("div",{className:"pl-14 max-w-2xl",children:A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium",children:"Nombre de la Coleccin"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(Or,{...s("collection"),placeholder:"Escribe el nombre de la coleccin...",className:"h-12 flex-1",list:"collections-list"}),A.jsx("div",{className:"h-12 w-24 bg-accent rounded-md flex items-center justify-center font-mono font-bold text-muted-foreground border border-input",title:"Cdigo de Coleccin",children:c("collection")?c("collection").slice(0,3).toUpperCase():"---"})]}),A.jsx("p",{className:"text-xs text-muted-foreground",children:'Tip: Si escribes "Verano 2026", el cdigo ser "VER".'}),A.jsxs("datalist",{id:"collections-list",children:[A.jsx("option",{value:"VERANO"}),A.jsx("option",{value:"INVIERNO"}),A.jsx("option",{value:"ANADIBLES"})]})]})})]})]}),A.jsxs("section",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden relative",children:[A.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary"}),A.jsxs("div",{className:"p-8",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary text-primary-foreground font-bold text-lg shadow-lg shadow-primary/20",children:"3"}),A.jsx("h3",{className:"text-xl font-semibold",children:"Variantes (Colores y Tallas)"})]}),A.jsxs(yr,{type:"button",onClick:()=>j({color:"",size:"",priceProduction:0,priceRetail:0,stock:0,images:[]}),children:[A.jsx(fg,{className:"mr-2 h-4 w-4"})," Agregar Nueva Variante"]})]}),A.jsxs("div",{className:"pl-14 space-y-4",children:[U.length>0&&A.jsxs("div",{className:"bg-muted/40 p-4 rounded-lg flex items-center gap-4 text-sm mb-4 border border-border/50",children:[A.jsx("span",{className:"font-semibold text-muted-foreground whitespace-nowrap",children:"Aplicar a todos:"}),A.jsxs("div",{className:"flex gap-4 flex-1",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("label",{className:"text-xs text-muted-foreground",children:"Costo Produccin"}),A.jsx(Or,{type:"number",className:"h-8 w-24 bg-background",onChange:H=>{const ee=parseFloat(H.target.value);isNaN(ee)||U.forEach((fe,q)=>d(`variants.${q}.priceProduction`,ee))}})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("label",{className:"text-xs text-muted-foreground",children:"Precio Venta"}),A.jsx(Or,{type:"number",className:"h-8 w-24 bg-background",onChange:H=>{const ee=parseFloat(H.target.value);isNaN(ee)||U.forEach((fe,q)=>d(`variants.${q}.priceRetail`,ee))}})]})]}),A.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Escribe aqu para actualizar todas las variantes a la vez."})]}),U.map((H,ee)=>A.jsxs("div",{className:"bg-accent/10 border border-border rounded-xl p-5 hover:border-primary/40 transition-all",children:[A.jsxs("div",{className:"grid grid-cols-12 gap-6 items-end",children:[A.jsxs("div",{className:"col-span-4 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Variante"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Or,{...s(`variants.${ee}.color`),placeholder:"Color",className:"font-medium"}),A.jsx(Or,{...s(`variants.${ee}.size`),placeholder:"Talla",className:"w-20 font-medium text-center"})]})]}),A.jsxs("div",{className:"col-span-4 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Estructura de Costos"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[10px] text-muted-foreground block",children:"Costo Produccin"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-2 top-2.5 text-xs text-muted-foreground",children:"S/"}),A.jsx(Or,{type:"number",...s(`variants.${ee}.priceProduction`,{valueAsNumber:!0}),className:"pl-6 text-sm",placeholder:"0.00"})]})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[10px] text-primary font-bold block",children:"Precio al Pblico"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-2 top-2.5 text-xs text-primary font-bold",children:"S/"}),A.jsx(Or,{type:"number",...s(`variants.${ee}.priceRetail`,{valueAsNumber:!0}),className:"pl-6 text-sm font-bold border-primary/20 bg-primary/5",placeholder:"0.00"})]})]})]})]}),A.jsxs("div",{className:"col-span-3 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Stock"}),A.jsx(Or,{type:"number",...s(`variants.${ee}.stock`,{valueAsNumber:!0}),className:"text-center"})]}),A.jsx("div",{className:"col-span-1 flex justify-end",children:A.jsx(yr,{type:"button",variant:"ghost",size:"icon",onClick:()=>ne(ee),className:"text-muted-foreground hover:text-destructive",children:A.jsx(iy,{className:"h-5 w-5"})})})]}),A.jsx("div",{className:"mt-3 pt-3 border-t border-border/50 flex justify-between items-center",children:A.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["SKU FINAL: ",A.jsx("span",{className:"text-foreground bg-accent px-1.5 py-0.5 rounded",children:M?P0(M,c(`variants.${ee}.color`),c(`variants.${ee}.size`)):"..."})]})})]},H.id)),U.length===0&&A.jsxs("div",{className:"text-center py-10 bg-accent/5 rounded-xl border border-dashed border-border",children:[A.jsx("p",{className:"text-muted-foreground",children:"No has agregado variantes todava."}),A.jsx(yr,{variant:"link",onClick:()=>j({color:"Unico",size:"U",priceProduction:0,priceRetail:0,stock:0,images:[]}),children:"+ Agregar primera variante"})]})]})]})]}),A.jsxs("div",{className:"flex justify-end pt-6 gap-4",children:[A.jsx(yr,{type:"button",variant:"outline",size:"lg",className:"px-8",onClick:e,children:"Cancelar"}),A.jsxs(yr,{type:"submit",size:"lg",className:"px-10 text-lg shadow-lg shadow-primary/20",children:[n?"Actualizar":"Registrar"," Producto"]})]})]})]})}function QD(){const[n,e]=mt.useState("LIST"),[t,r]=mt.useState(void 0),s=c=>{r(c),e("EDIT")},o=()=>{r(void 0),e("LIST")};return A.jsxs("div",{className:"h-full flex flex-col",children:[(n==="CREATE"||n==="EDIT")&&A.jsx("div",{className:"mb-4",children:A.jsxs(yr,{variant:"ghost",onClick:o,className:"gap-2",children:[A.jsx(z6,{className:"h-4 w-4"})," Volver al Listado"]})}),n==="LIST"?A.jsx(SD,{onAddProduct:()=>{r(void 0),e("CREATE")},onEditProduct:s}):A.jsx(XD,{initialData:t,onComplete:o})]})}const JD="modulepreload",ZD=function(n){return"/sistema-control-sede/"+n},Pw={},Im=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=f(t.map(d=>{if(d=ZD(d),d in Pw)return;Pw[d]=!0;const g=d.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":JD,g||(E.as="script"),E.crossOrigin="",E.href=d,u&&E.setAttribute("nonce",u),document.head.appendChild(E),g)return new Promise((_,M)=>{E.addEventListener("load",_),E.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},Yd=ly((n,e)=>({sales:[],promotions:[],loading:!0,initialized:!1,initializeSubscription:()=>{const t=$y(tg(bs,"sales"),Xy("createdAt","desc")),r=Gd(t,c=>{const u=c.docs.map(f=>({...f.data(),id:f.id}));n({sales:u})},c=>{console.error("Error fetching sales:",c),pn.error("Error cargando ventas desde la nube")}),s=tg(bs,"promotions"),o=Gd(s,c=>{const u=c.docs.map(f=>({...f.data(),id:f.id}));u.length===0&&e().initialized,n({promotions:u})},c=>{console.error("Error fetching promotions:",c)});return n({initialized:!0,loading:!1}),()=>{r(),o()}},addSale:async t=>{try{await Wu(Ks(bs,"sales",t.id),t),pn.success("Venta registrada en la nube")}catch(r){throw console.error(r),pn.error("Error al guardar venta"),r}},updateSaleStatus:async(t,r)=>{try{await Fu(Ks(bs,"sales",t),{status:r,updatedAt:Date.now()}),pn.success("Estado actualizado")}catch(s){console.error(s),pn.error("Error al actualizar estado")}},addPromotion:async t=>{try{await Wu(Ks(bs,"promotions",t.id),t),pn.success("Promocin guardada")}catch(r){console.error(r),pn.error("Error al guardar promocin")}},togglePromotion:async t=>{const r=e().promotions.find(s=>s.id===t);if(r)try{await Fu(Ks(bs,"promotions",t),{isActive:!r.isActive})}catch(s){console.error(s),pn.error("Error al actualizar promocin")}},removePromotion:async t=>{const{deleteDoc:r}=await Im(async()=>{const{deleteDoc:s}=await Promise.resolve().then(()=>xD);return{deleteDoc:s}},void 0);try{await r(Ks(bs,"promotions",t)),pn.success("Promocin eliminada")}catch(s){console.error(s),pn.error("Error al eliminar promocin")}},calculateCartTotal:(t,r,s=0)=>{const o=e().promotions.filter(g=>g.isActive);let c=new Set,u=0;t.forEach(g=>{let b=g.unitPrice*g.quantity;u+=b});let f=0;t.forEach(g=>{let b=g.unitPrice*g.quantity,E=0;o.forEach(_=>{let M=!1;switch(_.scope){case"GLOBAL":M=!0;break;case"COLLECTION":g.collection===_.target&&(M=!0);break;case"TYPE":g.type===_.target&&(M=!0);break;case"GENDER":g.gender===_.target&&(M=!0);break;case"PRODUCT":g.productName&&g.productName.includes(_.target||"")&&(M=!0);break}if(M){c.add(_.id);let V=_.type==="PERCENTAGE"?b*(_.value/100):_.value*g.quantity;V>E&&(E=V)}}),f+=E});let d=u-f-r+s;return d<0&&(d=0),{subtotal:u,discountTotal:f+r,shippingCost:s,total:d,appliedPromotions:Array.from(c)}},cleanup:()=>{n({sales:[],promotions:[],loading:!0,initialized:!1})}})),B2=[{name:"Lima Cercado",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Ancn",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Ate",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Barranco",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Brea",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Carabayllo",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Chaclacayo",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Chorrillos",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Cieneguilla",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Comas",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"El Agustino",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"Independencia",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"Jess Mara",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"La Molina",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"La Victoria",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"Lince",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Los Olivos",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Lurigancho",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Lurn",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Magdalena del Mar",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Miraflores",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Pachacmac",department:"LIMA",basePrice:15,allowDoorDelivery:!0},{name:"Pucusana",department:"LIMA",basePrice:20,allowDoorDelivery:!1},{name:"Pueblo Libre",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Puente Piedra",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Punta Hermosa",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Punta Negra",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Rmac",department:"LIMA",basePrice:8,allowDoorDelivery:!1},{name:"San Bartolo",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"San Borja",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"San Isidro",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"San Juan de Lurigancho",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"San Juan de Miraflores",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"San Luis",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"San Martn de Porres",department:"LIMA",basePrice:10,allowDoorDelivery:!1},{name:"San Miguel",department:"LIMA",basePrice:7,allowDoorDelivery:!0},{name:"Santa Anita",department:"LIMA",basePrice:10,allowDoorDelivery:!0},{name:"Santa Mara del Mar",department:"LIMA",basePrice:20,allowDoorDelivery:!0},{name:"Santa Rosa",department:"LIMA",basePrice:15,allowDoorDelivery:!1},{name:"Santiago de Surco",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Surquillo",department:"LIMA",basePrice:8,allowDoorDelivery:!0},{name:"Villa El Salvador",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Villa Mara del Triunfo",department:"LIMA",basePrice:12,allowDoorDelivery:!1},{name:"Callao",department:"CALLAO",basePrice:10,allowDoorDelivery:!1},{name:"Bellavista",department:"CALLAO",basePrice:9,allowDoorDelivery:!0},{name:"Carmen de la Legua",department:"CALLAO",basePrice:9,allowDoorDelivery:!1},{name:"La Perla",department:"CALLAO",basePrice:9,allowDoorDelivery:!0},{name:"La Punta",department:"CALLAO",basePrice:10,allowDoorDelivery:!0},{name:"Ventanilla",department:"CALLAO",basePrice:12,allowDoorDelivery:!1},{name:"Mi Per",department:"CALLAO",basePrice:12,allowDoorDelivery:!1}];B2.sort((n,e)=>n.name.localeCompare(e.name));const Wd=ly((n,e)=>({globalShippingBase:5,districts:B2,loading:!0,initialized:!1,initializeSubscription:()=>{const t=Ks(bs,"settings","global"),r=Gd(t,async s=>{if(s.exists()){const o=s.data();n({globalShippingBase:o.globalShippingBase,districts:o.districts,loading:!1,initialized:!0})}else try{await Wu(t,{globalShippingBase:5,districts:B2})}catch(o){console.error("Error creating initial settings:",o),pn.error("Error inicializando configuracin en la nube")}},s=>{console.error(s),pn.error("No se pudo cargar la configuracin")});return n({initialized:!0}),r},updateGlobalShipping:async t=>{try{await Fu(Ks(bs,"settings","global"),{globalShippingBase:t}),pn.success("Tarifa base actualizada")}catch(r){console.error(r),pn.error("Error al guardar")}},updateDistrict:async(t,r)=>{const o=e().districts.map(c=>c.name===t?{...c,...r}:c);n({districts:o});try{await Fu(Ks(bs,"settings","global"),{districts:o})}catch(c){console.error(c),pn.error("Error al actualizar distrito")}},toggleDoorDelivery:async t=>{const r=e().districts,s=r.map(o=>o.name===t?{...o,allowDoorDelivery:!o.allowDoorDelivery}:o);n({districts:s});try{await Fu(Ks(bs,"settings","global"),{districts:s})}catch(o){console.error(o),pn.error("Error al actualizar"),n({districts:r})}},cleanup:()=>{n({initialized:!1,loading:!0})}}));function lr(n){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(n)}var Vo=Uint8Array,Va=Uint16Array,nv=Int32Array,rv=new Vo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iv=new Vo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ow=new Vo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fS=function(n,e){for(var t=new Va(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new nv(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},dS=fS(rv,2),eP=dS.b,z2=dS.r;eP[28]=258,z2[258]=28;var tP=fS(iv,0),Mw=tP.r,q2=new Va(32768);for(var Mr=0;Mr<32768;++Mr){var Bc=(Mr&43690)>>1|(Mr&21845)<<1;Bc=(Bc&52428)>>2|(Bc&13107)<<2,Bc=(Bc&61680)>>4|(Bc&3855)<<4,q2[Mr]=((Bc&65280)>>8|(Bc&255)<<8)>>1}var Dd=(function(n,e,t){for(var r=n.length,s=0,o=new Va(e);s<r;++s)n[s]&&++o[n[s]-1];var c=new Va(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var u;if(t){u=new Va(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],g=e-n[s],b=c[n[s]-1]++<<g,E=b|(1<<g)-1;b<=E;++b)u[q2[b]>>f]=d}else for(u=new Va(r),s=0;s<r;++s)n[s]&&(u[s]=q2[c[n[s]-1]++]>>15-n[s]);return u}),Ku=new Vo(288);for(var Mr=0;Mr<144;++Mr)Ku[Mr]=8;for(var Mr=144;Mr<256;++Mr)Ku[Mr]=9;for(var Mr=256;Mr<280;++Mr)Ku[Mr]=7;for(var Mr=280;Mr<288;++Mr)Ku[Mr]=8;var sg=new Vo(32);for(var Mr=0;Mr<32;++Mr)sg[Mr]=5;var nP=Dd(Ku,9,0),rP=Dd(sg,5,0),pS=function(n){return(n+7)/8|0},iP=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Vo(n.subarray(e,t))},$l=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},vd=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},O0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:gS,l:0};if(s==1){var c=new Vo(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(ee,fe){return ee.f-fe.f}),t.push({s:-1,f:25001});var u=t[0],f=t[1],d=0,g=1,b=2;for(t[0]={s:-1,f:u.f+f.f,l:u,r:f};g!=s-1;)u=t[t[d].f<t[b].f?d++:b++],f=t[d!=g&&t[d].f<t[b].f?d++:b++],t[g++]={s:-1,f:u.f+f.f,l:u,r:f};for(var E=o[0].s,r=1;r<s;++r)o[r].s>E&&(E=o[r].s);var _=new Va(E+1),M=H2(t[g-1],_,0);if(M>e){var r=0,V=0,U=M-e,j=1<<U;for(o.sort(function(fe,q){return _[q.s]-_[fe.s]||fe.f-q.f});r<s;++r){var ne=o[r].s;if(_[ne]>e)V+=j-(1<<M-_[ne]),_[ne]=e;else break}for(V>>=U;V>0;){var oe=o[r].s;_[oe]<e?V-=1<<e-_[oe]++-1:++r}for(;r>=0&&V;--r){var H=o[r].s;_[H]==e&&(--_[H],++V)}M=e}return{t:new Vo(_),l:M}},H2=function(n,e,t){return n.s==-1?Math.max(H2(n.l,e,t+1),H2(n.r,e,t+1)):e[n.s]=t},jw=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Va(++e),r=0,s=n[0],o=1,c=function(f){t[r++]=f},u=1;u<=e;++u)if(n[u]==s&&u!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=n[u]}return{c:t.subarray(0,r),n:e}},bd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},mS=function(n,e,t){var r=t.length,s=pS(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Vw=function(n,e,t,r,s,o,c,u,f,d,g){$l(e,g++,t),++s[256];for(var b=O0(s,15),E=b.t,_=b.l,M=O0(o,15),V=M.t,U=M.l,j=jw(E),ne=j.c,oe=j.n,H=jw(V),ee=H.c,fe=H.n,q=new Va(19),k=0;k<ne.length;++k)++q[ne[k]&31];for(var k=0;k<ee.length;++k)++q[ee[k]&31];for(var D=O0(q,7),Y=D.t,T=D.l,R=19;R>4&&!Y[Ow[R-1]];--R);var L=d+5<<3,he=bd(s,Ku)+bd(o,sg)+c,Ae=bd(s,E)+bd(o,V)+c+14+3*R+bd(q,Y)+2*q[16]+3*q[17]+7*q[18];if(f>=0&&L<=he&&L<=Ae)return mS(e,g,n.subarray(f,f+d));var te,pe,ue,Ce;if($l(e,g,1+(Ae<he)),g+=2,Ae<he){te=Dd(E,_,0),pe=E,ue=Dd(V,U,0),Ce=V;var be=Dd(Y,T,0);$l(e,g,oe-257),$l(e,g+5,fe-1),$l(e,g+10,R-4),g+=14;for(var k=0;k<R;++k)$l(e,g+3*k,Y[Ow[k]]);g+=3*R;for(var X=[ne,ee],P=0;P<2;++P)for(var z=X[P],k=0;k<z.length;++k){var K=z[k]&31;$l(e,g,be[K]),g+=Y[K],K>15&&($l(e,g,z[k]>>5&127),g+=z[k]>>12)}}else te=nP,pe=Ku,ue=rP,Ce=sg;for(var k=0;k<u;++k){var ie=r[k];if(ie>255){var K=ie>>18&31;vd(e,g,te[K+257]),g+=pe[K+257],K>7&&($l(e,g,ie>>23&31),g+=rv[K]);var de=ie&31;vd(e,g,ue[de]),g+=Ce[de],de>3&&(vd(e,g,ie>>5&8191),g+=iv[de])}else vd(e,g,te[ie]),g+=pe[ie]}return vd(e,g,te[256]),g+pe[256]},sP=new nv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gS=new Vo(0),aP=function(n,e,t,r,s,o){var c=o.z||n.length,u=new Vo(r+c+5*(1+Math.ceil(c/7e3))+s),f=u.subarray(r,u.length-s),d=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var b=sP[e-1],E=b>>13,_=b&8191,M=(1<<t)-1,V=o.p||new Va(32768),U=o.h||new Va(M+1),j=Math.ceil(t/3),ne=2*j,oe=function(vt){return(n[vt]^n[vt+1]<<j^n[vt+2]<<ne)&M},H=new nv(25e3),ee=new Va(288),fe=new Va(32),q=0,k=0,D=o.i||0,Y=0,T=o.w||0,R=0;D+2<c;++D){var L=oe(D),he=D&32767,Ae=U[L];if(V[he]=Ae,U[L]=he,T<=D){var te=c-D;if((q>7e3||Y>24576)&&(te>423||!d)){g=Vw(n,f,0,H,ee,fe,k,Y,R,D-R,g),Y=q=k=0,R=D;for(var pe=0;pe<286;++pe)ee[pe]=0;for(var pe=0;pe<30;++pe)fe[pe]=0}var ue=2,Ce=0,be=_,X=he-Ae&32767;if(te>2&&L==oe(D-X))for(var P=Math.min(E,te)-1,z=Math.min(32767,D),K=Math.min(258,te);X<=z&&--be&&he!=Ae;){if(n[D+ue]==n[D+ue-X]){for(var ie=0;ie<K&&n[D+ie]==n[D+ie-X];++ie);if(ie>ue){if(ue=ie,Ce=X,ie>P)break;for(var de=Math.min(X,ie-2),ye=0,pe=0;pe<de;++pe){var Ee=D-X+pe&32767,Le=V[Ee],Ue=Ee-Le&32767;Ue>ye&&(ye=Ue,Ae=Ee)}}}he=Ae,Ae=V[he],X+=he-Ae&32767}if(Ce){H[Y++]=268435456|z2[ue]<<18|Mw[Ce];var et=z2[ue]&31,ot=Mw[Ce]&31;k+=rv[et]+iv[ot],++ee[257+et],++fe[ot],T=D+ue,++q}else H[Y++]=n[D],++ee[n[D]]}}for(D=Math.max(D,T);D<c;++D)H[Y++]=n[D],++ee[n[D]];g=Vw(n,f,d,H,ee,fe,k,Y,R,D-R,g),d||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=U,o.p=V,o.i=D,o.w=T)}else{for(var D=o.w||0;D<c+d;D+=65535){var ct=D+65535;ct>=c&&(f[g/8|0]=d,ct=c),g=mS(f,g+1,n.subarray(D,ct))}o.i=c}return iP(u,0,r+pS(g)+s)},yS=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)s+=r+=t[c];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},oP=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new Vo(o.length+n.length);c.set(o),c.set(n,o.length),n=c,s.w=o.length}return aP(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},vS=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},lP=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=yS();s.p(e.dictionary),vS(n,2,s.d())}};function G2(n,e){e||(e={});var t=yS();t.p(n);var r=oP(n,e,e.dictionary?6:2,4);return lP(r,e),vS(r,r.length-4,t.d()),r}var cP=typeof TextDecoder<"u"&&new TextDecoder,uP=0;try{cP.decode(gS,{stream:!0}),uP=1}catch{}function hP(n){if(Array.isArray(n))return n}function fP(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,c,u=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(g){d=!0,s=g}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw s}}return u}}function Fw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function dP(n,e){if(n){if(typeof n=="string")return Fw(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fw(n,e):void 0}}function pP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uw(n,e){return hP(n)||fP(n,e)||dP(n,e)||pP()}function Bw(n,e="utf8"){return new TextDecoder(e).decode(n)}const mP=new TextEncoder;function gP(n){return mP.encode(n)}const yP=1024*8,vP=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),M0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=yP,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let c=s;(ArrayBuffer.isView(e)||e instanceof sv)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=M0[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===vP&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(s,s+r));u.reverse();const f=new M0[t](u.buffer);return this.offset+=r,f.reverse(),f}const c=new M0[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Bw(this.readBytes(e))}decodeText(e=1,t="utf8"){return Bw(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(gP(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Rf(n){let e=n.length;for(;--e>=0;)n[e]=0}const bP=3,_P=258,bS=29,wP=256,xP=wP+1+bS,_S=30,AP=512,SP=new Array((xP+2)*2);Rf(SP);const EP=new Array(_S*2);Rf(EP);const NP=new Array(AP);Rf(NP);const TP=new Array(_P-bP+1);Rf(TP);const CP=new Array(bS);Rf(CP);const IP=new Array(_S);Rf(IP);const RP=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do s=s+e[r++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var Y2=RP;const LP=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},kP=new Uint32Array(LP()),DP=(n,e,t,r)=>{const s=kP,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^s[(n^e[c])&255];return n^-1};var ul=DP,W2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const PP=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var OP=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)PP(t,r)&&(n[r]=t[r])}}return n},MP=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let c=n[r];t.set(c,s),s+=c.length}return t},xS={assign:OP,flattenChunks:MP};let AS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{AS=!1}const Kd=new Uint8Array(256);for(let n=0;n<256;n++)Kd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Kd[254]=Kd[254]=1;var jP=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,c=n.length,u=0;for(s=0;s<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),o=0,s=0;o<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const VP=(n,e)=>{if(e<65534&&n.subarray&&AS)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var FP=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let c=n[r++];if(c<128){o[s++]=c;continue}let u=Kd[c];if(u>4){o[s++]=65533,r+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&r<t;)c=c<<6|n[r++]&63,u--;if(u>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return VP(o,s)},UP=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Kd[n[t]]>e?t:e},K2={string2buf:jP,buf2string:FP,utf8border:UP};function BP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zP=BP;const hm=16209,qP=16191;var HP=function(e,t){let r,s,o,c,u,f,d,g,b,E,_,M,V,U,j,ne,oe,H,ee,fe,q,k,D,Y;const T=e.state;r=e.next_in,D=e.input,s=r+(e.avail_in-5),o=e.next_out,Y=e.output,c=o-(t-e.avail_out),u=o+(e.avail_out-257),f=T.dmax,d=T.wsize,g=T.whave,b=T.wnext,E=T.window,_=T.hold,M=T.bits,V=T.lencode,U=T.distcode,j=(1<<T.lenbits)-1,ne=(1<<T.distbits)-1;e:do{M<15&&(_+=D[r++]<<M,M+=8,_+=D[r++]<<M,M+=8),oe=V[_&j];t:for(;;){if(H=oe>>>24,_>>>=H,M-=H,H=oe>>>16&255,H===0)Y[o++]=oe&65535;else if(H&16){ee=oe&65535,H&=15,H&&(M<H&&(_+=D[r++]<<M,M+=8),ee+=_&(1<<H)-1,_>>>=H,M-=H),M<15&&(_+=D[r++]<<M,M+=8,_+=D[r++]<<M,M+=8),oe=U[_&ne];n:for(;;){if(H=oe>>>24,_>>>=H,M-=H,H=oe>>>16&255,H&16){if(fe=oe&65535,H&=15,M<H&&(_+=D[r++]<<M,M+=8,M<H&&(_+=D[r++]<<M,M+=8)),fe+=_&(1<<H)-1,fe>f){e.msg="invalid distance too far back",T.mode=hm;break e}if(_>>>=H,M-=H,H=o-c,fe>H){if(H=fe-H,H>g&&T.sane){e.msg="invalid distance too far back",T.mode=hm;break e}if(q=0,k=E,b===0){if(q+=d-H,H<ee){ee-=H;do Y[o++]=E[q++];while(--H);q=o-fe,k=Y}}else if(b<H){if(q+=d+b-H,H-=b,H<ee){ee-=H;do Y[o++]=E[q++];while(--H);if(q=0,b<ee){H=b,ee-=H;do Y[o++]=E[q++];while(--H);q=o-fe,k=Y}}}else if(q+=b-H,H<ee){ee-=H;do Y[o++]=E[q++];while(--H);q=o-fe,k=Y}for(;ee>2;)Y[o++]=k[q++],Y[o++]=k[q++],Y[o++]=k[q++],ee-=3;ee&&(Y[o++]=k[q++],ee>1&&(Y[o++]=k[q++]))}else{q=o-fe;do Y[o++]=Y[q++],Y[o++]=Y[q++],Y[o++]=Y[q++],ee-=3;while(ee>2);ee&&(Y[o++]=Y[q++],ee>1&&(Y[o++]=Y[q++]))}}else if((H&64)===0){oe=U[(oe&65535)+(_&(1<<H)-1)];continue n}else{e.msg="invalid distance code",T.mode=hm;break e}break}}else if((H&64)===0){oe=V[(oe&65535)+(_&(1<<H)-1)];continue t}else if(H&32){T.mode=qP;break e}else{e.msg="invalid literal/length code",T.mode=hm;break e}break}}while(r<s&&o<u);ee=M>>3,r-=ee,M-=ee<<3,_&=(1<<M)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<u?257+(u-o):257-(o-u),T.hold=_,T.bits=M};const jh=15,zw=852,qw=592,Hw=0,j0=1,Gw=2,GP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),YP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),KP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$P=(n,e,t,r,s,o,c,u)=>{const f=u.bits;let d=0,g=0,b=0,E=0,_=0,M=0,V=0,U=0,j=0,ne=0,oe,H,ee,fe,q,k=null,D;const Y=new Uint16Array(jh+1),T=new Uint16Array(jh+1);let R=null,L,he,Ae;for(d=0;d<=jh;d++)Y[d]=0;for(g=0;g<r;g++)Y[e[t+g]]++;for(_=f,E=jh;E>=1&&Y[E]===0;E--);if(_>E&&(_=E),E===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,u.bits=1,0;for(b=1;b<E&&Y[b]===0;b++);for(_<b&&(_=b),U=1,d=1;d<=jh;d++)if(U<<=1,U-=Y[d],U<0)return-1;if(U>0&&(n===Hw||E!==1))return-1;for(T[1]=0,d=1;d<jh;d++)T[d+1]=T[d]+Y[d];for(g=0;g<r;g++)e[t+g]!==0&&(c[T[e[t+g]]++]=g);if(n===Hw?(k=R=c,D=20):n===j0?(k=GP,R=YP,D=257):(k=WP,R=KP,D=0),ne=0,g=0,d=b,q=o,M=_,V=0,ee=-1,j=1<<_,fe=j-1,n===j0&&j>zw||n===Gw&&j>qw)return 1;for(;;){L=d-V,c[g]+1<D?(he=0,Ae=c[g]):c[g]>=D?(he=R[c[g]-D],Ae=k[c[g]-D]):(he=96,Ae=0),oe=1<<d-V,H=1<<M,b=H;do H-=oe,s[q+(ne>>V)+H]=L<<24|he<<16|Ae|0;while(H!==0);for(oe=1<<d-1;ne&oe;)oe>>=1;if(oe!==0?(ne&=oe-1,ne+=oe):ne=0,g++,--Y[d]===0){if(d===E)break;d=e[t+c[g]]}if(d>_&&(ne&fe)!==ee){for(V===0&&(V=_),q+=b,M=d-V,U=1<<M;M+V<E&&(U-=Y[M+V],!(U<=0));)M++,U<<=1;if(j+=1<<M,n===j0&&j>zw||n===Gw&&j>qw)return 1;ee=ne&fe,s[ee]=_<<24|M<<16|q-o|0}}return ne!==0&&(s[q+ne]=d-V<<24|64<<16|0),u.bits=_,0};var Pd=$P;const XP=0,SS=1,ES=2,{Z_FINISH:Yw,Z_BLOCK:QP,Z_TREES:fm,Z_OK:$u,Z_STREAM_END:JP,Z_NEED_DICT:ZP,Z_STREAM_ERROR:oo,Z_DATA_ERROR:NS,Z_MEM_ERROR:TS,Z_BUF_ERROR:eO,Z_DEFLATED:Ww}=wS,Hg=16180,Kw=16181,$w=16182,Xw=16183,Qw=16184,Jw=16185,Zw=16186,ex=16187,tx=16188,nx=16189,ag=16190,Xl=16191,V0=16192,rx=16193,F0=16194,ix=16195,sx=16196,ax=16197,ox=16198,dm=16199,pm=16200,lx=16201,cx=16202,ux=16203,hx=16204,fx=16205,U0=16206,dx=16207,px=16208,qr=16209,CS=16210,IS=16211,tO=852,nO=592,rO=15,iO=rO,mx=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function sO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zu=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Hg||e.mode>IS?1:0},RS=n=>{if(Zu(n))return oo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Hg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(tO),e.distcode=e.distdyn=new Int32Array(nO),e.sane=1,e.back=-1,$u},LS=n=>{if(Zu(n))return oo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,RS(n)},kS=(n,e)=>{let t;if(Zu(n))return oo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?oo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,LS(n))},DS=(n,e)=>{if(!n)return oo;const t=new sO;n.state=t,t.strm=n,t.window=null,t.mode=Hg;const r=kS(n,e);return r!==$u&&(n.state=null),r},aO=n=>DS(n,iO);let gx=!0,B0,z0;const oO=n=>{if(gx){B0=new Int32Array(512),z0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Pd(SS,n.lens,0,288,B0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Pd(ES,n.lens,0,32,z0,0,n.work,{bits:5}),gx=!1}n.lencode=B0,n.lenbits=9,n.distcode=z0,n.distbits=5},PS=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},lO=(n,e)=>{let t,r,s,o,c,u,f,d,g,b,E,_,M,V,U=0,j,ne,oe,H,ee,fe,q,k;const D=new Uint8Array(4);let Y,T;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zu(n)||!n.output||!n.input&&n.avail_in!==0)return oo;t=n.state,t.mode===Xl&&(t.mode=V0),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,d=t.hold,g=t.bits,b=u,E=f,k=$u;e:for(;;)switch(t.mode){case Hg:if(t.wrap===0){t.mode=V0;break}for(;g<16;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=d&255,D[1]=d>>>8&255,t.check=ul(t.check,D,2,0),d=0,g=0,t.mode=Kw;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=qr;break}if((d&15)!==Ww){n.msg="unknown compression method",t.mode=qr;break}if(d>>>=4,g-=4,q=(d&15)+8,t.wbits===0&&(t.wbits=q),q>15||q>t.wbits){n.msg="invalid window size",t.mode=qr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?nx:Xl,d=0,g=0;break;case Kw:for(;g<16;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==Ww){n.msg="unknown compression method",t.mode=qr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=qr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=ul(t.check,D,2,0)),d=0,g=0,t.mode=$w;case $w:for(;g<32;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,t.check=ul(t.check,D,4,0)),d=0,g=0,t.mode=Xw;case Xw:for(;g<16;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=ul(t.check,D,2,0)),d=0,g=0,t.mode=Qw;case Qw:if(t.flags&1024){for(;g<16;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=ul(t.check,D,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=Jw;case Jw:if(t.flags&1024&&(_=t.length,_>u&&(_=u),_&&(t.head&&(q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+_),q)),t.flags&512&&t.wrap&4&&(t.check=ul(t.check,r,_,o)),u-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=Zw;case Zw:if(t.flags&2048){if(u===0)break e;_=0;do q=r[o+_++],t.head&&q&&t.length<65536&&(t.head.name+=String.fromCharCode(q));while(q&&_<u);if(t.flags&512&&t.wrap&4&&(t.check=ul(t.check,r,_,o)),u-=_,o+=_,q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ex;case ex:if(t.flags&4096){if(u===0)break e;_=0;do q=r[o+_++],t.head&&q&&t.length<65536&&(t.head.comment+=String.fromCharCode(q));while(q&&_<u);if(t.flags&512&&t.wrap&4&&(t.check=ul(t.check,r,_,o)),u-=_,o+=_,q)break e}else t.head&&(t.head.comment=null);t.mode=tx;case tx:if(t.flags&512){for(;g<16;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=qr;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Xl;break;case nx:for(;g<32;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}n.adler=t.check=mx(d),d=0,g=0,t.mode=ag;case ag:if(t.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=u,t.hold=d,t.bits=g,ZP;n.adler=t.check=1,t.mode=Xl;case Xl:if(e===QP||e===fm)break e;case V0:if(t.last){d>>>=g&7,g-=g&7,t.mode=U0;break}for(;g<3;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=rx;break;case 1:if(oO(t),t.mode=dm,e===fm){d>>>=2,g-=2;break e}break;case 2:t.mode=sx;break;case 3:n.msg="invalid block type",t.mode=qr}d>>>=2,g-=2;break;case rx:for(d>>>=g&7,g-=g&7;g<32;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=qr;break}if(t.length=d&65535,d=0,g=0,t.mode=F0,e===fm)break e;case F0:t.mode=ix;case ix:if(_=t.length,_){if(_>u&&(_=u),_>f&&(_=f),_===0)break e;s.set(r.subarray(o,o+_),c),u-=_,o+=_,f-=_,c+=_,t.length-=_;break}t.mode=Xl;break;case sx:for(;g<14;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=qr;break}t.have=0,t.mode=ax;case ax:for(;t.have<t.ncode;){for(;g<3;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}t.lens[R[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Y={bits:t.lenbits},k=Pd(XP,t.lens,0,19,t.lencode,0,t.work,Y),t.lenbits=Y.bits,k){n.msg="invalid code lengths set",t.mode=qr;break}t.have=0,t.mode=ox;case ox:for(;t.have<t.nlen+t.ndist;){for(;U=t.lencode[d&(1<<t.lenbits)-1],j=U>>>24,ne=U>>>16&255,oe=U&65535,!(j<=g);){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if(oe<16)d>>>=j,g-=j,t.lens[t.have++]=oe;else{if(oe===16){for(T=j+2;g<T;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if(d>>>=j,g-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=qr;break}q=t.lens[t.have-1],_=3+(d&3),d>>>=2,g-=2}else if(oe===17){for(T=j+3;g<T;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}d>>>=j,g-=j,q=0,_=3+(d&7),d>>>=3,g-=3}else{for(T=j+7;g<T;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}d>>>=j,g-=j,q=0,_=11+(d&127),d>>>=7,g-=7}if(t.have+_>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=qr;break}for(;_--;)t.lens[t.have++]=q}}if(t.mode===qr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=qr;break}if(t.lenbits=9,Y={bits:t.lenbits},k=Pd(SS,t.lens,0,t.nlen,t.lencode,0,t.work,Y),t.lenbits=Y.bits,k){n.msg="invalid literal/lengths set",t.mode=qr;break}if(t.distbits=6,t.distcode=t.distdyn,Y={bits:t.distbits},k=Pd(ES,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Y),t.distbits=Y.bits,k){n.msg="invalid distances set",t.mode=qr;break}if(t.mode=dm,e===fm)break e;case dm:t.mode=pm;case pm:if(u>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=u,t.hold=d,t.bits=g,HP(n,E),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,d=t.hold,g=t.bits,t.mode===Xl&&(t.back=-1);break}for(t.back=0;U=t.lencode[d&(1<<t.lenbits)-1],j=U>>>24,ne=U>>>16&255,oe=U&65535,!(j<=g);){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if(ne&&(ne&240)===0){for(H=j,ee=ne,fe=oe;U=t.lencode[fe+((d&(1<<H+ee)-1)>>H)],j=U>>>24,ne=U>>>16&255,oe=U&65535,!(H+j<=g);){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}d>>>=H,g-=H,t.back+=H}if(d>>>=j,g-=j,t.back+=j,t.length=oe,ne===0){t.mode=fx;break}if(ne&32){t.back=-1,t.mode=Xl;break}if(ne&64){n.msg="invalid literal/length code",t.mode=qr;break}t.extra=ne&15,t.mode=lx;case lx:if(t.extra){for(T=t.extra;g<T;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=cx;case cx:for(;U=t.distcode[d&(1<<t.distbits)-1],j=U>>>24,ne=U>>>16&255,oe=U&65535,!(j<=g);){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if((ne&240)===0){for(H=j,ee=ne,fe=oe;U=t.distcode[fe+((d&(1<<H+ee)-1)>>H)],j=U>>>24,ne=U>>>16&255,oe=U&65535,!(H+j<=g);){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}d>>>=H,g-=H,t.back+=H}if(d>>>=j,g-=j,t.back+=j,ne&64){n.msg="invalid distance code",t.mode=qr;break}t.offset=oe,t.extra=ne&15,t.mode=ux;case ux:if(t.extra){for(T=t.extra;g<T;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=qr;break}t.mode=hx;case hx:if(f===0)break e;if(_=E-f,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=qr;break}_>t.wnext?(_-=t.wnext,M=t.wsize-_):M=t.wnext-_,_>t.length&&(_=t.length),V=t.window}else V=s,M=c-t.offset,_=t.length;_>f&&(_=f),f-=_,t.length-=_;do s[c++]=V[M++];while(--_);t.length===0&&(t.mode=pm);break;case fx:if(f===0)break e;s[c++]=t.length,f--,t.mode=pm;break;case U0:if(t.wrap){for(;g<32;){if(u===0)break e;u--,d|=r[o++]<<g,g+=8}if(E-=f,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?ul(t.check,s,E,c-E):Y2(t.check,s,E,c-E)),E=f,t.wrap&4&&(t.flags?d:mx(d))!==t.check){n.msg="incorrect data check",t.mode=qr;break}d=0,g=0}t.mode=dx;case dx:if(t.wrap&&t.flags){for(;g<32;){if(u===0)break e;u--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=qr;break}d=0,g=0}t.mode=px;case px:k=JP;break e;case qr:k=NS;break e;case CS:return TS;case IS:default:return oo}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=u,t.hold=d,t.bits=g,(t.wsize||E!==n.avail_out&&t.mode<qr&&(t.mode<U0||e!==Yw))&&PS(n,n.output,n.next_out,E-n.avail_out),b-=n.avail_in,E-=n.avail_out,n.total_in+=b,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?ul(t.check,s,E,n.next_out-E):Y2(t.check,s,E,n.next_out-E)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Xl?128:0)+(t.mode===dm||t.mode===F0?256:0),(b===0&&E===0||e===Yw)&&k===$u&&(k=eO),k},cO=n=>{if(Zu(n))return oo;let e=n.state;return e.window&&(e.window=null),n.state=null,$u},uO=(n,e)=>{if(Zu(n))return oo;const t=n.state;return(t.wrap&2)===0?oo:(t.head=e,e.done=!1,$u)},hO=(n,e)=>{const t=e.length;let r,s,o;return Zu(n)||(r=n.state,r.wrap!==0&&r.mode!==ag)?oo:r.mode===ag&&(s=1,s=Y2(s,e,t,0),s!==r.check)?NS:(o=PS(n,e,t,t),o?(r.mode=CS,TS):(r.havedict=1,$u))};var fO=LS,dO=kS,pO=RS,mO=aO,gO=DS,yO=lO,vO=cO,bO=uO,_O=hO,wO="pako inflate (from Nodeca project)",Ql={inflateReset:fO,inflateReset2:dO,inflateResetKeep:pO,inflateInit:mO,inflateInit2:gO,inflate:yO,inflateEnd:vO,inflateGetHeader:bO,inflateSetDictionary:_O,inflateInfo:wO};function xO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var AO=xO;const OS=Object.prototype.toString,{Z_NO_FLUSH:SO,Z_FINISH:EO,Z_OK:$d,Z_STREAM_END:q0,Z_NEED_DICT:H0,Z_STREAM_ERROR:NO,Z_DATA_ERROR:yx,Z_MEM_ERROR:TO}=wS;function cp(n){this.options=xS.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zP,this.strm.avail_out=0;let t=Ql.inflateInit2(this.strm,e.windowBits);if(t!==$d)throw new Error(W2[t]);if(this.header=new AO,Ql.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=K2.string2buf(e.dictionary):OS.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ql.inflateSetDictionary(this.strm,e.dictionary),t!==$d)))throw new Error(W2[t])}cp.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?EO:SO,OS.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Ql.inflate(t,c),o===H0&&s&&(o=Ql.inflateSetDictionary(t,s),o===$d?o=Ql.inflate(t,c):o===yx&&(o=H0));t.avail_in>0&&o===q0&&t.state.wrap>0&&n[t.next_in]!==0;)Ql.inflateReset(t),o=Ql.inflate(t,c);switch(o){case NO:case yx:case H0:case TO:return this.onEnd(o),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||o===q0))if(this.options.to==="string"){let f=K2.utf8border(t.output,t.next_out),d=t.next_out-f,g=K2.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===$d&&u===0)){if(o===q0)return o=Ql.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};cp.prototype.onData=function(n){this.chunks.push(n)};cp.prototype.onEnd=function(n){n===$d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function CO(n,e){const t=new cp(e);if(t.push(n),t.err)throw t.msg||W2[t.err];return t.result}var IO=cp,RO=CO,LO={Inflate:IO,inflate:RO};const{Inflate:kO,inflate:DO}=LO;var vx=kO,PO=DO;const MS=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;MS[n]=e}const bx=4294967295;function OO(n,e,t){let r=n;for(let s=0;s<t;s++)r=MS[(r^e[s])&255]^r>>>8;return r}function MO(n,e){return(OO(bx,n,e)^bx)>>>0}function _x(n,e,t){const r=n.readUint32(),s=MO(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function jS(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function VS(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function FS(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function US(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function BS(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+jO(e[o-s],t[o],t[o-s])&255}}function jO(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return s<=o&&s<=c?n:o<=c?e:t}function VO(n,e,t,r,s,o){switch(n){case 0:jS(e,t,s);break;case 1:VS(e,t,s,o);break;case 2:FS(e,t,r,s);break;case 3:US(e,t,r,s,o);break;case 4:BS(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const FO=new Uint16Array([255]),UO=new Uint8Array(FO.buffer),BO=UO[0]===255;function zO(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*s,f=new Uint8Array(r*t*u);let d=0;for(let g=0;g<7;g++){const b=c[g],E=Math.ceil((t-b.x)/b.xStep),_=Math.ceil((r-b.y)/b.yStep);if(E<=0||_<=0)continue;const M=E*u,V=new Uint8Array(M);for(let U=0;U<_;U++){const j=e[d++],ne=e.subarray(d,d+M);d+=M;const oe=new Uint8Array(M);VO(j,ne,oe,V,M,u),V.set(oe);for(let H=0;H<E;H++){const ee=b.x+H*b.xStep,fe=b.y+U*b.yStep;if(!(ee>=t||fe>=r))for(let q=0;q<u;q++)f[(fe*t+ee)*u+q]=oe[H*u+q]}}}if(o===16){const g=new Uint16Array(f.buffer);if(BO)for(let b=0;b<g.length;b++)g[b]=qO(g[b]);return g}else return f}function qO(n){return(n&255)<<8|n>>8&255}const HO=new Uint16Array([255]),GO=new Uint8Array(HO.buffer),YO=GO[0]===255,WO=new Uint8Array(0);function wx(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=Math.ceil(o/8)*s,u=Math.ceil(o/8*s*t),f=new Uint8Array(r*u);let d=WO,g=0,b,E;for(let _=0;_<r;_++){switch(b=e.subarray(g+1,g+1+u),E=f.subarray(_*u,(_+1)*u),e[g]){case 0:jS(b,E,u);break;case 1:VS(b,E,u,c);break;case 2:FS(b,E,d,u);break;case 3:US(b,E,d,u,c);break;case 4:BS(b,E,d,u,c);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=E,g+=u+1}if(o===16){const _=new Uint16Array(f.buffer);if(YO)for(let M=0;M<_.length;M++)_[M]=KO(_[M]);return _}else return f}function KO(n){return(n&255)<<8|n>>8&255}const Rm=Uint8Array.of(137,80,78,71,13,10,26,10);function xx(n){if(!$O(n.readBytes(Rm.length)))throw new Error("wrong PNG signature")}function $O(n){if(n.length<Rm.length)return!1;for(let e=0;e<Rm.length;e++)if(n[e]!==Rm[e])return!1;return!0}const XO="tEXt",QO=0,zS=new TextDecoder("latin1");function JO(n){if(e9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const ZO=/^[\u0000-\u00FF]*$/;function e9(n){if(!ZO.test(n))throw new Error("invalid latin1 text")}function t9(n,e,t){const r=qS(e);n[r]=n9(e,t-r.length-1)}function qS(n){for(n.mark();n.readByte()!==QO;);const e=n.offset;n.reset();const t=zS.decode(n.readBytes(e-n.offset-1));return n.skip(1),JO(t),t}function n9(n,e){return zS.decode(n.readBytes(e))}const Pa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},G0={UNKNOWN:-1,DEFLATE:0},Ax={UNKNOWN:-1,ADAPTIVE:0},Y0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},mm={NONE:0,BACKGROUND:1,PREVIOUS:2},W0={SOURCE:0,OVER:1};class r9 extends sv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new vx,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=G0.UNKNOWN,this._filterMethod=Ax.UNKNOWN,this._interlaceMethod=Y0.UNKNOWN,this._colorType=Pa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xx(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(xx(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case XO:t9(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?_x(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?_x(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=i9(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Pa.GREYSCALE:r=1;break;case Pa.TRUECOLOUR:r=3;break;case Pa.INDEXED_COLOUR:r=1;break;case Pa.GREYSCALE_ALPHA:r=2;break;case Pa.TRUECOLOUR_ALPHA:r=4;break;case Pa.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==G0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Pa.GREYSCALE:case Pa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Pa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Pa.UNKNOWN:case Pa.GREYSCALE_ALPHA:case Pa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=qS(this),r=this.readUint8();if(r!==G0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:PO(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=wx({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case mm.NONE:break;case mm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const c=(s*e.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[c+u]=0}break;case mm.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,c)=>{const u=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,f=(o*t.width+c)*this._png.channels;return{index:u,frameIndex:f}};switch(t.blendOp){case W0.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++)e.data[u+d]=t.data[f+d]}break;case W0.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++){const g=t.data[f+this._png.channels-1]/r,b=d%(this._png.channels-1)===0?1:t.data[f+d],E=Math.floor(g*b+(1-g)*e.data[u+d]);e.data[u+d]+=E}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Ax.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Y0.NO_INTERLACE)this._png.data=wx({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Y0.ADAM7)this._png.data=zO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:mm.NONE,blendOp:W0.SOURCE,data:e}),this._inflator=new vx,this._writingDataChunks=!1}}function i9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Sx;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Sx||(Sx={}));function s9(n,e){return new r9(n,e).decode()}var sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function K0(){sn.console&&typeof sn.console.log=="function"&&sn.console.log.apply(sn.console,arguments)}var xr={log:K0,warn:function(n){sn.console&&(typeof sn.console.warn=="function"?sn.console.warn.apply(sn.console,arguments):K0.call(null,arguments))},error:function(n){sn.console&&(typeof sn.console.error=="function"?sn.console.error.apply(sn.console,arguments):K0(n))}};function $0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Pu(r.response,e,t)},r.onerror=function(){xr.error("could not download file")},r.send()}function Ex(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function gm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Pu=sn.saveAs||((typeof window>"u"?"undefined":lr(window))!=="object"||window!==sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=sn.URL||sn.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Ex(s.href)?$0(n,e,t):gm(s,s.target="_blank"):gm(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){gm(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Ex(n))$0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){gm(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:lr(o)!=="object"&&(xr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return $0(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(sn.HTMLElement)||sn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":lr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var g=u.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},u.readAsDataURL(n)}else{var f=sn.URL||sn.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function HS(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,c=s.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+u+f+d}}var Lm=sn.atob.bind(sn),Nx=sn.btoa.bind(sn);function X0(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=Is(t,r,s,o,e[0],7,-680876936),o=Is(o,t,r,s,e[1],12,-389564586),s=Is(s,o,t,r,e[2],17,606105819),r=Is(r,s,o,t,e[3],22,-1044525330),t=Is(t,r,s,o,e[4],7,-176418897),o=Is(o,t,r,s,e[5],12,1200080426),s=Is(s,o,t,r,e[6],17,-1473231341),r=Is(r,s,o,t,e[7],22,-45705983),t=Is(t,r,s,o,e[8],7,1770035416),o=Is(o,t,r,s,e[9],12,-1958414417),s=Is(s,o,t,r,e[10],17,-42063),r=Is(r,s,o,t,e[11],22,-1990404162),t=Is(t,r,s,o,e[12],7,1804603682),o=Is(o,t,r,s,e[13],12,-40341101),s=Is(s,o,t,r,e[14],17,-1502002290),t=Rs(t,r=Is(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Rs(o,t,r,s,e[6],9,-1069501632),s=Rs(s,o,t,r,e[11],14,643717713),r=Rs(r,s,o,t,e[0],20,-373897302),t=Rs(t,r,s,o,e[5],5,-701558691),o=Rs(o,t,r,s,e[10],9,38016083),s=Rs(s,o,t,r,e[15],14,-660478335),r=Rs(r,s,o,t,e[4],20,-405537848),t=Rs(t,r,s,o,e[9],5,568446438),o=Rs(o,t,r,s,e[14],9,-1019803690),s=Rs(s,o,t,r,e[3],14,-187363961),r=Rs(r,s,o,t,e[8],20,1163531501),t=Rs(t,r,s,o,e[13],5,-1444681467),o=Rs(o,t,r,s,e[2],9,-51403784),s=Rs(s,o,t,r,e[7],14,1735328473),t=Ls(t,r=Rs(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Ls(o,t,r,s,e[8],11,-2022574463),s=Ls(s,o,t,r,e[11],16,1839030562),r=Ls(r,s,o,t,e[14],23,-35309556),t=Ls(t,r,s,o,e[1],4,-1530992060),o=Ls(o,t,r,s,e[4],11,1272893353),s=Ls(s,o,t,r,e[7],16,-155497632),r=Ls(r,s,o,t,e[10],23,-1094730640),t=Ls(t,r,s,o,e[13],4,681279174),o=Ls(o,t,r,s,e[0],11,-358537222),s=Ls(s,o,t,r,e[3],16,-722521979),r=Ls(r,s,o,t,e[6],23,76029189),t=Ls(t,r,s,o,e[9],4,-640364487),o=Ls(o,t,r,s,e[12],11,-421815835),s=Ls(s,o,t,r,e[15],16,530742520),t=ks(t,r=Ls(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ks(o,t,r,s,e[7],10,1126891415),s=ks(s,o,t,r,e[14],15,-1416354905),r=ks(r,s,o,t,e[5],21,-57434055),t=ks(t,r,s,o,e[12],6,1700485571),o=ks(o,t,r,s,e[3],10,-1894986606),s=ks(s,o,t,r,e[10],15,-1051523),r=ks(r,s,o,t,e[1],21,-2054922799),t=ks(t,r,s,o,e[8],6,1873313359),o=ks(o,t,r,s,e[15],10,-30611744),s=ks(s,o,t,r,e[6],15,-1560198380),r=ks(r,s,o,t,e[13],21,1309151649),t=ks(t,r,s,o,e[4],6,-145523070),o=ks(o,t,r,s,e[11],10,-1120210379),s=ks(s,o,t,r,e[2],15,718787259),r=ks(r,s,o,t,e[9],21,-343485551),n[0]=$c(t,n[0]),n[1]=$c(r,n[1]),n[2]=$c(s,n[2]),n[3]=$c(o,n[3])}function Gg(n,e,t,r,s,o){return e=$c($c(e,n),$c(r,o)),$c(e<<s|e>>>32-s,t)}function Is(n,e,t,r,s,o,c){return Gg(e&t|~e&r,n,e,s,o,c)}function Rs(n,e,t,r,s,o,c){return Gg(e&r|t&~r,n,e,s,o,c)}function Ls(n,e,t,r,s,o,c){return Gg(e^t^r,n,e,s,o,c)}function ks(n,e,t,r,s,o,c){return Gg(t^(e|~r),n,e,s,o,c)}function GS(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)X0(r,a9(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(X0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,X0(r,s),r}function a9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Tx="0123456789abcdef".split("");function o9(n){for(var e="",t=0;t<4;t++)e+=Tx[n>>8*t+4&15]+Tx[n>>8*t&15];return e}function l9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function $2(n){return GS(n).map(l9).join("")}var c9=(function(n){for(var e=0;e<n.length;e++)n[e]=o9(n[e]);return n.join("")})(GS("hello"))!="5d41402abc4b2a76b9719d911017c592";function $c(n,e){if(c9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function X2(n,e){var t,r,s,o;if(n!==t){for(var c=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),u=[],f=0;f<256;f++)u[f]=f;var d=0;for(f=0;f<256;f++){var g=u[f];d=(d+g+c.charCodeAt(f))%256,u[f]=u[d],u[d]=g}t=n,r=u}else u=r;var b=e.length,E=0,_=0,M="";for(f=0;f<b;f++)_=(_+(g=u[E=(E+1)%256]))%256,u[E]=u[_],u[_]=g,c=u[(u[E]+u[_])%256],M+=String.fromCharCode(e.charCodeAt(f)^c);return M}var Cx={print:4,modify:8,copy:16,"annot-forms":32};function Gh(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(u){if(Cx.perm!==void 0)throw new Error("Invalid permission: "+u);s+=Cx[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=$2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=X2(this.encryptionKey,this.padding)}function Yh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function Ix(n){if(lr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(u){sn.console&&xr.error("jsPDF PubSub Error",u.message,u)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function og(n){if(!(this instanceof og))return new og(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function YS(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ou(n,e,t,r,s){if(!(this instanceof Ou))return new Ou(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,YS.call(this,r,s)}function Xh(n,e,t,r,s){if(!(this instanceof Xh))return new Xh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,YS.call(this,r,s)}function Bt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],c=[],u=1,f=16,d="S",g=null;lr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,E={},_={internal:{},__private__:{}};_.__private__.PubSub=Ix;var M="1.3",V=_.__private__.getPdfVersion=function(){return M};_.__private__.setPdfVersion=function(x){M=x};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return U};var j=_.__private__.getPageFormat=function(x){return U[x]};s=s||"a4";var ne="compat",oe="advanced",H=ne;function ee(){this.saveGraphicsState(),re(new pt(bt,0,0,-bt,0,Bs()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),d="n",H=oe}function fe(){this.restoreGraphicsState(),d="S",H=ne}var q=_.__private__.combineFontStyleAndFontWeight=function(x,F){if(x=="bold"&&F=="normal"||x=="bold"&&F==400||x=="normal"&&F=="italic"||x=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(x=F==400||F==="normal"?x==="italic"?"italic":"normal":F!=700&&F!=="bold"||x!=="normal"?(F==700?"bold":F)+""+x:"bold"),x};_.advancedAPI=function(x){var F=H===ne;return F&&ee.call(this),typeof x!="function"||(x(this),F&&fe.call(this)),this},_.compatAPI=function(x){var F=H===oe;return F&&fe.call(this),typeof x!="function"||(x(this),F&&ee.call(this)),this},_.isAdvancedAPI=function(){return H===oe};var k,D=function(x){if(H!==oe)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=_.roundToPrecision=_.__private__.roundToPrecision=function(x,F){var le=e||F;if(isNaN(x)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(le).replace(/0+$/,"")};k=_.hpf=_.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(x,16)};var T=_.f2=_.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return Y(x,2)},R=_.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return Y(x,3)},L=_.scale=_.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return H===ne?x*bt:H===oe?x:void 0},he=function(x){return L((function(F){return H===ne?Bs()-F:H===oe?F:void 0})(x))};_.__private__.setPrecision=_.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Ae,te="00000000000000000000000000000000",pe=_.__private__.getFileId=function(){return te},ue=_.__private__.setFileId=function(x){return te=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(vr=new Gh(g.userPermissions,g.userPassword,g.ownerPassword,te)),te};_.setFileId=function(x){return ue(x),this},_.getFileId=function(){return pe()};var Ce=_.__private__.convertDateToPDFDate=function(x){var F=x.getTimezoneOffset(),le=F<0?"+":"-",ve=Math.floor(Math.abs(F/60)),Ne=Math.abs(F%60),Ge=[le,K(ve),"'",K(Ne),"'"].join("");return["D:",x.getFullYear(),K(x.getMonth()+1),K(x.getDate()),K(x.getHours()),K(x.getMinutes()),K(x.getSeconds()),Ge].join("")},be=_.__private__.convertPDFDateToDate=function(x){var F=parseInt(x.substr(2,4),10),le=parseInt(x.substr(6,2),10)-1,ve=parseInt(x.substr(8,2),10),Ne=parseInt(x.substr(10,2),10),Ge=parseInt(x.substr(12,2),10),tt=parseInt(x.substr(14,2),10);return new Date(F,le,ve,Ne,Ge,tt,0)},X=_.__private__.setCreationDate=function(x){var F;if(x===void 0&&(x=new Date),x instanceof Date)F=Ce(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=x}return Ae=F},P=_.__private__.getCreationDate=function(x){var F=Ae;return x==="jsDate"&&(F=be(Ae)),F};_.setCreationDate=function(x){return X(x),this},_.getCreationDate=function(x){return P(x)};var z,K=_.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ie=_.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},de=0,ye=[],Ee=[],Le=0,Ue=[],et=[],ot=!1,ct=Ee;_.__private__.setCustomOutputDestination=function(x){ot=!0,ct=x};var vt=function(x){ot||(ct=x)};_.__private__.resetCustomOutputDestination=function(){ot=!1,ct=Ee};var re=_.__private__.out=function(x){return x=x.toString(),Le+=x.length+1,ct.push(x),ct},lt=_.__private__.write=function(x){return re(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},$t=_.__private__.getArrayBuffer=function(x){for(var F=x.length,le=new ArrayBuffer(F),ve=new Uint8Array(le);F--;)ve[F]=x.charCodeAt(F);return le},Mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Mt};var Be=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(x){return Be=H===oe?x/bt:x,this};var dt,se=_.__private__.getFontSize=_.getFontSize=function(){return H===ne?Be:Be*bt},ge=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(x){return ge=x,this},_.__private__.getR2L=_.getR2L=function(){return ge};var Se,Ke=_.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))dt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');dt=x}else dt=parseInt(x,10)};_.__private__.getZoomMode=function(){return dt};var He,Ve=_.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Se=x};_.__private__.getPageMode=function(){return Se};var it=_.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');He=x};_.__private__.getLayoutMode=function(){return He},_.__private__.setDisplayMode=_.setDisplayMode=function(x,F,le){return Ke(x),it(F),Ve(le),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(x){if(Object.keys(ft).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[x]},_.__private__.getDocumentProperties=function(){return ft},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(x){for(var F in ft)ft.hasOwnProperty(F)&&x[F]&&(ft[F]=x[F]);return this},_.__private__.setDocumentProperty=function(x,F){if(Object.keys(ft).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[x]=F};var st,bt,gt,fn,Zt,Pt={},Ft={},Qt=[],Ot={},yn={},Et={},zt={},jn=null,jt=0,Ct=[],ut=new Ix(_),_n=n.hotfixes||[],An={},cr={},Sr=[],pt=function x(F,le,ve,Ne,Ge,tt){if(!(this instanceof x))return new x(F,le,ve,Ne,Ge,tt);isNaN(F)&&(F=1),isNaN(le)&&(le=0),isNaN(ve)&&(ve=0),isNaN(Ne)&&(Ne=1),isNaN(Ge)&&(Ge=0),isNaN(tt)&&(tt=0),this._matrix=[F,le,ve,Ne,Ge,tt]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(x)},pt.prototype.multiply=function(x){var F=x.sx*this.sx+x.shy*this.shx,le=x.sx*this.shy+x.shy*this.sy,ve=x.shx*this.sx+x.sy*this.shx,Ne=x.shx*this.shy+x.sy*this.sy,Ge=x.tx*this.sx+x.ty*this.shx+this.tx,tt=x.tx*this.shy+x.ty*this.sy+this.ty;return new pt(F,le,ve,Ne,Ge,tt)},pt.prototype.decompose=function(){var x=this.sx,F=this.shy,le=this.shx,ve=this.sy,Ne=this.tx,Ge=this.ty,tt=Math.sqrt(x*x+F*F),xt=(x/=tt)*le+(F/=tt)*ve;le-=x*xt,ve-=F*xt;var It=Math.sqrt(le*le+ve*ve);return xt/=It,x*(ve/=It)<F*(le/=It)&&(x=-x,F=-F,xt=-xt,tt=-tt),{scale:new pt(tt,0,0,It,0,0),translate:new pt(1,0,0,1,Ne,Ge),rotate:new pt(x,F,-F,x,0,0),skew:new pt(1,0,xt,1,0,0)}},pt.prototype.toString=function(x){return this.join(" ")},pt.prototype.inversed=function(){var x=this.sx,F=this.shy,le=this.shx,ve=this.sy,Ne=this.tx,Ge=this.ty,tt=1/(x*ve-F*le),xt=ve*tt,It=-F*tt,Yt=-le*tt,Ut=x*tt;return new pt(xt,It,Yt,Ut,-xt*Ne-Yt*Ge,-It*Ne-Ut*Ge)},pt.prototype.applyToPoint=function(x){var F=x.x*this.sx+x.y*this.shx+this.tx,le=x.x*this.shy+x.y*this.sy+this.ty;return new _i(F,le)},pt.prototype.applyToRectangle=function(x){var F=this.applyToPoint(x),le=this.applyToPoint(new _i(x.x+x.w,x.y+x.h));return new Xs(F.x,F.y,le.x-F.x,le.y-F.y)},pt.prototype.clone=function(){var x=this.sx,F=this.shy,le=this.shx,ve=this.sy,Ne=this.tx,Ge=this.ty;return new pt(x,F,le,ve,Ne,Ge)},_.Matrix=pt;var Er=_.matrixMult=function(x,F){return F.multiply(x)},Zr=new pt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Zr;var Zn=function(x,F){if(!yn[x]){var le=(F instanceof Ou?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);F.id=le,yn[x]=le,Ot[le]=F,ut.publish("addPattern",F)}};_.ShadingPattern=Ou,_.TilingPattern=Xh,_.addShadingPattern=function(x,F){return D("addShadingPattern()"),Zn(x,F),this},_.beginTilingPattern=function(x){D("beginTilingPattern()"),Qs(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},_.endTilingPattern=function(x,F){D("endTilingPattern()"),F.stream=et[z].join(`
`),Zn(x,F),ut.publish("endTilingPattern",F),Sr.pop().restore()};var er,zn=_.__private__.newObject=function(){var x=Tn();return Hr(x,!0),x},Tn=_.__private__.newObjectDeferred=function(){return de++,ye[de]=function(){return Le},de},Hr=function(x,F){return F=typeof F=="boolean"&&F,ye[x]=Le,F&&re(x+" 0 obj"),x},Ri=_.__private__.newAdditionalObject=function(){var x={objId:Tn(),content:""};return Ue.push(x),x},vi=Tn(),Gn=Tn(),rr=_.__private__.decodeColorString=function(x){var F=x.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var le=parseFloat(F[0]);F=[le,le,le,"r"]}for(var ve="#",Ne=0;Ne<3;Ne++)ve+=("0"+Math.floor(255*parseFloat(F[Ne])).toString(16)).slice(-2);return ve},ei=_.__private__.encodeColorString=function(x){var F;typeof x=="string"&&(x={ch1:x});var le=x.ch1,ve=x.ch2,Ne=x.ch3,Ge=x.ch4,tt=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var xt=new HS(le);if(xt.ok)le=xt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var It=parseInt(le.substr(1),16);le=It>>16&255,ve=It>>8&255,Ne=255&It}if(ve===void 0||Ge===void 0&&le===ve&&ve===Ne)F=typeof le=="string"?le+" "+tt[0]:x.precision===2?T(le/255)+" "+tt[0]:R(le/255)+" "+tt[0];else if(Ge===void 0||lr(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",tt[1]].join(" ");F=typeof le=="string"?[le,ve,Ne,tt[1]].join(" "):x.precision===2?[T(le/255),T(ve/255),T(Ne/255),tt[1]].join(" "):[R(le/255),R(ve/255),R(Ne/255),tt[1]].join(" ")}else F=typeof le=="string"?[le,ve,Ne,Ge,tt[2]].join(" "):x.precision===2?[T(le),T(ve),T(Ne),T(Ge),tt[2]].join(" "):[R(le),R(ve),R(Ne),R(Ge),tt[2]].join(" ");return F},Hi=_.__private__.getFilters=function(){return c},_s=_.__private__.putStream=function(x){var F=(x=x||{}).data||"",le=x.filters||Hi(),ve=x.alreadyAppliedFilters||[],Ne=x.addLength1||!1,Ge=F.length,tt=x.objectId,xt=function(N){return N};if(g!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(xt=vr.encryptor(tt,0));var It={};le===!0&&(le=["FlateEncode"]);var Yt=x.additionalKeyValues||[],Ut=(It=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(F,le):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(It.data.length!==0&&(Yt.push({key:"Length",value:It.data.length}),Ne===!0&&Yt.push({key:"Length1",value:Ge})),Ut.length!=0)if(Ut.split("/").length-1==1)Yt.push({key:"Filter",value:Ut});else{Yt.push({key:"Filter",value:"["+Ut+"]"});for(var wn=0;wn<Yt.length;wn+=1)if(Yt[wn].key==="DecodeParms"){for(var ur=[],tr=0;tr<It.reverseChain.split("/").length-1;tr+=1)ur.push("null");ur.push(Yt[wn].value),Yt[wn].value="["+ur.join(" ")+"]"}}re("<<");for(var m=0;m<Yt.length;m++)re("/"+Yt[m].key+" "+Yt[m].value);re(">>"),It.data.length!==0&&(re("stream"),re(xt(It.data)),re("endstream"))},Fa=_.__private__.putPage=function(x){var F=x.number,le=x.data,ve=x.objId,Ne=x.contentsObjId;Hr(ve,!0),re("<</Type /Page"),re("/Parent "+x.rootDictionaryObjId+" 0 R"),re("/Resources "+x.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(k(x.mediaBox.bottomLeftX))+" "+parseFloat(k(x.mediaBox.bottomLeftY))+" "+k(x.mediaBox.topRightX)+" "+k(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&re("/CropBox ["+k(x.cropBox.bottomLeftX)+" "+k(x.cropBox.bottomLeftY)+" "+k(x.cropBox.topRightX)+" "+k(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&re("/BleedBox ["+k(x.bleedBox.bottomLeftX)+" "+k(x.bleedBox.bottomLeftY)+" "+k(x.bleedBox.topRightX)+" "+k(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&re("/TrimBox ["+k(x.trimBox.bottomLeftX)+" "+k(x.trimBox.bottomLeftY)+" "+k(x.trimBox.topRightX)+" "+k(x.trimBox.topRightY)+"]"),x.artBox!==null&&re("/ArtBox ["+k(x.artBox.bottomLeftX)+" "+k(x.artBox.bottomLeftY)+" "+k(x.artBox.topRightX)+" "+k(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&re("/UserUnit "+x.userUnit),ut.publish("putPage",{objId:ve,pageContext:Ct[F],pageNumber:F,page:le}),re("/Contents "+Ne+" 0 R"),re(">>"),re("endobj");var Ge=le.join(`
`);return H===oe&&(Ge+=`
Q`),Hr(Ne,!0),_s({data:Ge,filters:Hi(),objectId:Ne}),re("endobj"),ve},js=_.__private__.putPages=function(){var x,F,le=[];for(x=1;x<=jt;x++)Ct[x].objId=Tn(),Ct[x].contentsObjId=Tn();for(x=1;x<=jt;x++)le.push(Fa({number:x,data:et[x],objId:Ct[x].objId,contentsObjId:Ct[x].contentsObjId,mediaBox:Ct[x].mediaBox,cropBox:Ct[x].cropBox,bleedBox:Ct[x].bleedBox,trimBox:Ct[x].trimBox,artBox:Ct[x].artBox,userUnit:Ct[x].userUnit,rootDictionaryObjId:vi,resourceDictionaryObjId:Gn}));Hr(vi,!0),re("<</Type /Pages");var ve="/Kids [";for(F=0;F<jt;F++)ve+=le[F]+" 0 R ";re(ve+"]"),re("/Count "+jt),re(">>"),re("endobj"),ut.publish("postPutPages")},Gi=function(x){ut.publish("putFont",{font:x,out:re,newObject:zn,putStream:_s}),x.isAlreadyPutted!==!0&&(x.objectNumber=zn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Yh(x.postScriptName)),re("/Subtype /Type1"),typeof x.encoding=="string"&&re("/Encoding /"+x.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},wa=function(x){x.objectNumber=zn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[k(x.x),k(x.y),k(x.x+x.width),k(x.y+x.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var le=x.pages[1].join(`
`);_s({data:le,additionalKeyValues:F,objectId:x.objectNumber}),re("endobj")},ss=function(x,F){F||(F=21);var le=zn(),ve=(function(tt,xt){var It,Yt=[],Ut=1/(xt-1);for(It=0;It<1;It+=Ut)Yt.push(It);if(Yt.push(1),tt[0].offset!=0){var wn={offset:0,color:tt[0].color};tt.unshift(wn)}if(tt[tt.length-1].offset!=1){var ur={offset:1,color:tt[tt.length-1].color};tt.push(ur)}for(var tr="",m=0,N=0;N<Yt.length;N++){for(It=Yt[N];It>tt[m+1].offset;)m++;var O=tt[m].offset,J=(It-O)/(tt[m+1].offset-O),Ie=tt[m].color,Me=tt[m+1].color;tr+=ie(Math.round((1-J)*Ie[0]+J*Me[0]).toString(16))+ie(Math.round((1-J)*Ie[1]+J*Me[1]).toString(16))+ie(Math.round((1-J)*Ie[2]+J*Me[2]).toString(16))}return tr.trim()})(x.colors,F),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+F+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_s({data:ve,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),re("endobj"),x.objectNumber=zn(),re("<< /ShadingType "+x.type),re("/ColorSpace /DeviceRGB");var Ge="/Coords ["+k(parseFloat(x.coords[0]))+" "+k(parseFloat(x.coords[1]))+" ";x.type===2?Ge+=k(parseFloat(x.coords[2]))+" "+k(parseFloat(x.coords[3])):Ge+=k(parseFloat(x.coords[2]))+" "+k(parseFloat(x.coords[3]))+" "+k(parseFloat(x.coords[4]))+" "+k(parseFloat(x.coords[5])),re(Ge+="]"),x.matrix&&re("/Matrix ["+x.matrix.toString()+"]"),re("/Function "+le+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Li=function(x,F){var le=Tn(),ve=zn();F.push({resourcesOid:le,objectOid:ve}),x.objectNumber=ve;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+x.boundingBox.map(k).join(" ")+"]"}),Ne.push({key:"XStep",value:k(x.xStep)}),Ne.push({key:"YStep",value:k(x.yStep)}),Ne.push({key:"Resources",value:le+" 0 R"}),x.matrix&&Ne.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),_s({data:x.stream,additionalKeyValues:Ne,objectId:x.objectNumber}),re("endobj")},as=function(x){for(var F in x.objectNumber=zn(),re("<<"),x)switch(F){case"opacity":re("/ca "+T(x[F]));break;case"stroke-opacity":re("/CA "+T(x[F]))}re(">>"),re("endobj")},ws=function(x){Hr(x.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in re("/Font <<"),Pt)Pt.hasOwnProperty(F)&&(b===!1||b===!0&&E.hasOwnProperty(F))&&re("/"+F+" "+Pt[F].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(Ot).length>0){for(var F in re("/Shading <<"),Ot)Ot.hasOwnProperty(F)&&Ot[F]instanceof Ou&&Ot[F].objectNumber>=0&&re("/"+F+" "+Ot[F].objectNumber+" 0 R");ut.publish("putShadingPatternDict"),re(">>")}})(),(function(F){if(Object.keys(Ot).length>0){for(var le in re("/Pattern <<"),Ot)Ot.hasOwnProperty(le)&&Ot[le]instanceof _.TilingPattern&&Ot[le].objectNumber>=0&&Ot[le].objectNumber<F&&re("/"+le+" "+Ot[le].objectNumber+" 0 R");ut.publish("putTilingPatternDict"),re(">>")}})(x.objectOid),(function(){if(Object.keys(Et).length>0){var F;for(F in re("/ExtGState <<"),Et)Et.hasOwnProperty(F)&&Et[F].objectNumber>=0&&re("/"+F+" "+Et[F].objectNumber+" 0 R");ut.publish("putGStateDict"),re(">>")}})(),(function(){for(var F in re("/XObject <<"),An)An.hasOwnProperty(F)&&An[F].objectNumber>=0&&re("/"+F+" "+An[F].objectNumber+" 0 R");ut.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},Ir=function(x){Ft[x.fontName]=Ft[x.fontName]||{},Ft[x.fontName][x.fontStyle]=x.id},Bo=function(x,F,le,ve,Ne){var Ge={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:x,fontName:F,fontStyle:le,encoding:ve,isStandardFont:Ne||!1,metadata:{}};return ut.publish("addFont",{font:Ge,instance:this}),Pt[Ge.id]=Ge,Ir(Ge),Ge.id},Yi=_.__private__.pdfEscape=_.pdfEscape=function(x,F){return(function(le,ve){var Ne,Ge,tt,xt,It,Yt,Ut,wn,ur;if(tt=(ve=ve||{}).sourceEncoding||"Unicode",It=ve.outputEncoding,(ve.autoencode||It)&&Pt[st].metadata&&Pt[st].metadata[tt]&&Pt[st].metadata[tt].encoding&&(xt=Pt[st].metadata[tt].encoding,!It&&Pt[st].encoding&&(It=Pt[st].encoding),!It&&xt.codePages&&(It=xt.codePages[0]),typeof It=="string"&&(It=xt[It]),It)){for(Ut=!1,Yt=[],Ne=0,Ge=le.length;Ne<Ge;Ne++)(wn=It[le.charCodeAt(Ne)])?Yt.push(String.fromCharCode(wn)):Yt.push(le[Ne]),Yt[Ne].charCodeAt(0)>>8&&(Ut=!0);le=Yt.join("")}for(Ne=le.length;Ut===void 0&&Ne!==0;)le.charCodeAt(Ne-1)>>8&&(Ut=!0),Ne--;if(!Ut)return le;for(Yt=ve.noBOM?[]:[254,255],Ne=0,Ge=le.length;Ne<Ge;Ne++){if((ur=(wn=le.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(ur),Yt.push(wn-(ur<<8))}return String.fromCharCode.apply(void 0,Yt)})(x,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xs=_.__private__.beginPage=function(x){et[++jt]=[],Ct[jt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},zo(jt),vt(et[z])},Vs=function(x,F){var le,ve,Ne;switch(t=F||t,typeof x=="string"&&(le=j(x.toLowerCase()),Array.isArray(le)&&(ve=le[0],Ne=le[1])),Array.isArray(x)&&(ve=x[0]*bt,Ne=x[1]*bt),isNaN(ve)&&(ve=s[0],Ne=s[1]),(ve>14400||Ne>14400)&&(xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ne=Math.min(14400,Ne)),s=[ve,Ne],t.substr(0,1)){case"l":Ne>ve&&(s=[Ne,ve]);break;case"p":ve>Ne&&(s=[Ne,ve])}xs(s),qt(Ki),re(ls),us!==0&&re(us+" J"),Yr!==0&&re(Yr+" j"),ut.publish("addPage",{pageNumber:jt})},lo=function(x){x>0&&x<=jt&&(et.splice(x,1),Ct.splice(x,1),jt--,z>jt&&(z=jt),this.setPage(z))},zo=function(x){x>0&&x<=jt&&(z=x)},qo=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return et.length-1},wl=function(x,F,le){var ve,Ne=void 0;return le=le||{},x=x!==void 0?x:Pt[st].fontName,F=F!==void 0?F:Pt[st].fontStyle,ve=x.toLowerCase(),Ft[ve]!==void 0&&Ft[ve][F]!==void 0?Ne=Ft[ve][F]:Ft[x]!==void 0&&Ft[x][F]!==void 0?Ne=Ft[x][F]:le.disableWarning===!1&&xr.warn("Unable to look up font label for font '"+x+"', '"+F+"'. Refer to getFontList() for available fonts."),Ne||le.noFallback||(Ne=Ft.times[F])==null&&(Ne=Ft.times.normal),Ne},os=_.__private__.putInfo=function(){var x=zn(),F=function(ve){return ve};for(var le in g!==null&&(F=vr.encryptor(x,0)),re("<<"),re("/Producer ("+Yi(F("jsPDF "+Bt.version))+")"),ft)ft.hasOwnProperty(le)&&ft[le]&&re("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Yi(F(ft[le]))+")");re("/CreationDate ("+Yi(F(Ae))+")"),re(">>"),re("endobj")},bi=_.__private__.putCatalog=function(x){var F=(x=x||{}).rootDictionaryObjId||vi;switch(zn(),re("<<"),re("/Type /Catalog"),re("/Pages "+F+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+dt;le.substr(le.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&re("/OpenAction [3 0 R /XYZ null null "+T(dt)+"]")}switch(He||(He="continuous"),He){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Se&&re("/PageMode /"+Se),ut.publish("putCatalog"),re(">>"),re("endobj")},jr=_.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(de+1)),re("/Root "+de+" 0 R"),re("/Info "+(de-1)+" 0 R"),g!==null&&re("/Encrypt "+vr.oid+" 0 R"),re("/ID [ <"+te+"> <"+te+"> ]"),re(">>")},vn=_.__private__.putHeader=function(){re("%PDF-"+M),re("%")},xa=_.__private__.putXRef=function(){var x="0000000000";re("xref"),re("0 "+(de+1)),re("0000000000 65535 f ");for(var F=1;F<=de;F++)typeof ye[F]=="function"?re((x+ye[F]()).slice(-10)+" 00000 n "):ye[F]!==void 0?re((x+ye[F]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},As=_.__private__.buildDocument=function(){var x;de=0,Le=0,Ee=[],ye=[],Ue=[],vi=Tn(),Gn=Tn(),vt(Ee),ut.publish("buildDocument"),vn(),js(),(function(){ut.publish("putAdditionalObjects");for(var le=0;le<Ue.length;le++){var ve=Ue[le];Hr(ve.objId,!0),re(ve.content),re("endobj")}ut.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var le in Pt)Pt.hasOwnProperty(le)&&(b===!1||b===!0&&E.hasOwnProperty(le))&&Gi(Pt[le])})(),(function(){var le;for(le in Et)Et.hasOwnProperty(le)&&as(Et[le])})(),(function(){for(var le in An)An.hasOwnProperty(le)&&wa(An[le])})(),(function(le){var ve;for(ve in Ot)Ot.hasOwnProperty(ve)&&(Ot[ve]instanceof Ou?ss(Ot[ve]):Ot[ve]instanceof Xh&&Li(Ot[ve],le))})(x),ut.publish("putResources"),x.forEach(ws),ws({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),ut.publish("postPutResources"),g!==null&&(vr.oid=zn(),re("<<"),re("/Filter /Standard"),re("/V "+vr.v),re("/R "+vr.r),re("/U <"+vr.toHexString(vr.U)+">"),re("/O <"+vr.toHexString(vr.O)+">"),re("/P "+vr.P),re(">>"),re("endobj")),os(),bi();var F=Le;return xa(),jr(),re("startxref"),re(""+F),re("%%EOF"),vt(et[z]),Ee.join(`
`)},Cn=_.__private__.getBlob=function(x){return new Blob([$t(x)],{type:"application/pdf"})},Ua=_.output=_.__private__.output=(er=function(x,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",x){case void 0:return As();case"save":_.save(F.filename);break;case"arraybuffer":return $t(As());case"blob":return Cn(As());case"bloburi":case"bloburl":if(sn.URL!==void 0&&typeof sn.URL.createObjectURL=="function")return sn.URL&&sn.URL.createObjectURL(Cn(As()))||void 0;xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ve=As();try{le=Nx(ve)}catch{le=Nx(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+F.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(Ne=F.pdfObjectUrl,Ge="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",xt=sn.open();return xt!==null&&xt.document.write(tt),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Yt=sn.open();if(Yt!==null){Yt.document.write(It);var Ut=this;Yt.document.documentElement.querySelector("#pdfViewer").onload=function(){Yt.document.title=F.filename,Yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ut.output("bloburl"))}}return Yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',ur=sn.open();if(ur!==null&&(ur.document.write(wn),ur.document.title=F.filename),ur||typeof safari>"u")return ur;break;case"datauri":case"dataurl":return sn.document.location.href=this.output("datauristring",F);default:return null}},er.foo=function(){try{return er.apply(this,arguments)}catch(le){var x=le.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var F="Error in function "+x.split(`
`)[0].split("<")[0]+": "+le.message;if(!sn.console)throw new Error(F);sn.console.error(F,le),sn.alert&&alert(F)}},er.foo.bar=er,er.foo),Gr=function(x){return Array.isArray(_n)===!0&&_n.indexOf(x)>-1};switch(r){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Gr("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);bt=r}var vr=null;X(),ue();var Vr=_.__private__.getPageInfo=_.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[x].objId,pageNumber:x,pageContext:Ct[x]}},co=_.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Ct)if(Ct[F].objId===x)break;return Vr(F)},cc=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Ct[z].objId,pageNumber:z,pageContext:Ct[z]}};_.addPage=function(){return Vs.apply(this,arguments),this},_.setPage=function(){return zo.apply(this,arguments),vt.call(this,et[z]),this},_.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},_.movePage=function(x,F){var le,ve;if(x>F){le=et[x],ve=Ct[x];for(var Ne=x;Ne>F;Ne--)et[Ne]=et[Ne-1],Ct[Ne]=Ct[Ne-1];et[F]=le,Ct[F]=ve,this.setPage(F)}else if(x<F){le=et[x],ve=Ct[x];for(var Ge=x;Ge<F;Ge++)et[Ge]=et[Ge+1],Ct[Ge]=Ct[Ge+1];et[F]=le,Ct[F]=ve,this.setPage(F)}return this},_.deletePage=function(){return lo.apply(this,arguments),this},_.__private__.text=_.text=function(x,F,le,ve,Ne){var Ge,tt,xt,It,Yt,Ut,wn,ur,tr,m=(ve=ve||{}).scope||this;if(typeof x=="number"&&typeof F=="number"&&(typeof le=="string"||Array.isArray(le))){var N=le;le=F,F=x,x=N}if(arguments[3]instanceof pt==0?(xt=arguments[4],It=arguments[5],lr(wn=arguments[3])==="object"&&wn!==null||(typeof xt=="string"&&(It=xt,xt=null),typeof wn=="string"&&(It=wn,wn=null),typeof wn=="number"&&(xt=wn,wn=null),ve={flags:wn,angle:xt,align:It})):(D("The transform parameter of text() with a Matrix value"),tr=Ne),isNaN(F)||isNaN(le)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return m;var O,J="",Ie=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Ea,Me=m.internal.scaleFactor;function at(qn){return qn=qn.split("	").join(Array(ve.TabLen||9).join(" ")),Yi(qn,wn)}function nn(qn){for(var Pn,fr=qn.concat(),Kr=[],Ja=fr.length;Ja--;)typeof(Pn=fr.shift())=="string"?Kr.push(Pn):Array.isArray(qn)&&(Pn.length===1||Pn[1]===void 0&&Pn[2]===void 0)?Kr.push(Pn[0]):Kr.push([Pn[0],Pn[1],Pn[2]]);return Kr}function hr(qn,Pn){var fr;if(typeof qn=="string")fr=Pn(qn)[0];else if(Array.isArray(qn)){for(var Kr,Ja,Ia=qn.concat(),Il=[],yu=Ia.length;yu--;)typeof(Kr=Ia.shift())=="string"?Il.push(Pn(Kr)[0]):Array.isArray(Kr)&&typeof Kr[0]=="string"&&(Ja=Pn(Kr[0],Kr[1],Kr[2]),Il.push([Ja[0],Ja[1],Ja[2]]));fr=Il}return fr}var mn=!1,Wn=!0;if(typeof x=="string")mn=!0;else if(Array.isArray(x)){var wi=x.concat();tt=[];for(var Di,ir=wi.length;ir--;)(typeof(Di=wi.shift())!="string"||Array.isArray(Di)&&typeof Di[0]!="string")&&(Wn=!1);mn=Wn}if(mn===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Pi=Be/m.internal.scaleFactor,zs=Pi*(Ie-1);switch(ve.baseline){case"bottom":le-=zs;break;case"top":le+=Pi-zs;break;case"hanging":le+=Pi-2*zs;break;case"middle":le+=Pi/2-zs}if((Ut=ve.maxWidth||0)>0&&(typeof x=="string"?x=m.splitTextToSize(x,Ut):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(qn,Pn){return qn.concat(m.splitTextToSize(Pn,Ut))},[]))),Ge={text:x,x:F,y:le,options:ve,mutex:{pdfEscape:Yi,activeFontKey:st,fonts:Pt,activeFontSize:Be}},ut.publish("preProcessText",Ge),x=Ge.text,xt=(ve=Ge.options).angle,tr instanceof pt==0&&xt&&typeof xt=="number"){xt*=Math.PI/180,ve.rotationDirection===0&&(xt=-xt),H===oe&&(xt=-xt);var Ga=Math.cos(xt),Ya=Math.sin(xt);tr=new pt(Ga,Ya,-Ya,Ga,0,0)}else xt&&xt instanceof pt&&(tr=xt);H!==oe||tr||(tr=Zr),(Yt=ve.charSpace||cs)!==void 0&&(J+=k(L(Yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ur=ve.horizontalScale)!==void 0&&(J+=k(100*ur)+` Tz
`),ve.lang;var fs=-1,mo=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,uc=m.internal.getCurrentPageInfo().pageContext;switch(mo){case 0:case!1:case"fill":fs=0;break;case 1:case!0:case"stroke":fs=1;break;case 2:case"fillThenStroke":fs=2;break;case 3:case"invisible":fs=3;break;case 4:case"fillAndAddForClipping":fs=4;break;case 5:case"strokeAndAddPathForClipping":fs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fs=6;break;case 7:case"addToPathForClipping":fs=7}var mu=uc.usedRenderingMode!==void 0?uc.usedRenderingMode:-1;fs!==-1?J+=fs+` Tr
`:mu!==-1&&(J+=`0 Tr
`),fs!==-1&&(uc.usedRenderingMode=fs),It=ve.align||"left";var qs,Ta=Be*Ie,go=m.internal.pageSize.getWidth(),gu=Pt[st];Yt=ve.charSpace||cs,Ut=ve.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Ca=[],$o=function(qn){return m.getStringUnitWidth(qn,{font:gu,charSpace:Yt,fontSize:Be,doKerning:!1})*Be/Me};if(Object.prototype.toString.call(x)==="[object Array]"){var Es;tt=nn(x),It!=="left"&&(qs=tt.map($o));var ds,Wa=0;if(It==="right"){F-=qs[0],x=[],ir=tt.length;for(var Ka=0;Ka<ir;Ka++)Ka===0?(ds=ui(F),Es=ti(le)):(ds=L(Wa-qs[Ka]),Es=-Ta),x.push([tt[Ka],ds,Es]),Wa=qs[Ka]}else if(It==="center"){F-=qs[0]/2,x=[],ir=tt.length;for(var yo=0;yo<ir;yo++)yo===0?(ds=ui(F),Es=ti(le)):(ds=L((Wa-qs[yo])/2),Es=-Ta),x.push([tt[yo],ds,Es]),Wa=qs[yo]}else if(It==="left"){x=[],ir=tt.length;for(var hc=0;hc<ir;hc++)x.push(tt[hc])}else if(It==="justify"&&gu.encoding==="Identity-H"){x=[],ir=tt.length,Ut=Ut!==0?Ut:go;for(var fc=0,Wr=0;Wr<ir;Wr++)if(Es=Wr===0?ti(le):-Ta,ds=Wr===0?ui(F):fc,Wr<ir-1){var th=L((Ut-qs[Wr])/(tt[Wr].split(" ").length-1)),$a=tt[Wr].split(" ");x.push([$a[0]+" ",ds,Es]),fc=0;for(var Xa=1;Xa<$a.length;Xa++){var Oi=($o($a[Xa-1]+" "+$a[Xa])-$o($a[Xa]))*Me+th;Xa==$a.length-1?x.push([$a[Xa],Oi,0]):x.push([$a[Xa]+" ",Oi,0]),fc-=Oi}}else x.push([tt[Wr],ds,Es]);x.push(["",fc,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],ir=tt.length,Ut=Ut!==0?Ut:go,Wr=0;Wr<ir;Wr++){Es=Wr===0?ti(le):-Ta,ds=Wr===0?ui(F):0;var vo=tt[Wr].split(" ").length-1,dc=vo>0?(Ut-qs[Wr])/vo:0;Wr<ir-1?Ca.push(k(L(dc))):Ca.push(0),x.push([tt[Wr],ds,Es])}}}(typeof ve.R2L=="boolean"?ve.R2L:ge)===!0&&(x=hr(x,function(qn,Pn,fr){return[qn.split("").reverse().join(""),Pn,fr]})),Ge={text:x,x:F,y:le,options:ve,mutex:{pdfEscape:Yi,activeFontKey:st,fonts:Pt,activeFontSize:Be}},ut.publish("postProcessText",Ge),x=Ge.text,O=Ge.mutex.isHex||!1;var pc=Pt[st].encoding;pc!=="WinAnsiEncoding"&&pc!=="StandardEncoding"||(x=hr(x,function(qn,Pn,fr){return[at(qn),Pn,fr]})),tt=nn(x),x=[];for(var bo,_o,Qa,Cl=Array.isArray(tt[0])?1:0,Hs="",wo=function(qn,Pn,fr){var Kr="";return fr instanceof pt?(fr=typeof ve.angle=="number"?Er(fr,new pt(1,0,0,1,qn,Pn)):Er(new pt(1,0,0,1,qn,Pn),fr),H===oe&&(fr=Er(new pt(1,0,0,-1,0,0),fr)),Kr=fr.join(" ")+` Tm
`):Kr=k(qn)+" "+k(Pn)+` Td
`,Kr},$i=0;$i<tt.length;$i++){switch(Hs="",Cl){case 1:Qa=(O?"<":"(")+tt[$i][0]+(O?">":")"),bo=parseFloat(tt[$i][1]),_o=parseFloat(tt[$i][2]);break;case 0:Qa=(O?"<":"(")+tt[$i]+(O?">":")"),bo=ui(F),_o=ti(le)}Ca!==void 0&&Ca[$i]!==void 0&&(Hs=Ca[$i]+` Tw
`),$i===0?x.push(Hs+wo(bo,_o,tr)+Qa):Cl===0?x.push(Hs+Qa):Cl===1&&x.push(Hs+wo(bo,_o,tr)+Qa)}x=Cl===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ea=`BT
/`;return ea+=st+" "+Be+` Tf
`,ea+=k(Be*Ie)+` TL
`,ea+=Us+`
`,ea+=J,ea+=x,re(ea+="ET"),E[st]=!0,m};var xl=_.__private__.clip=_.clip=function(x){return re(x==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return xl("evenodd")},_.__private__.discardPath=_.discardPath=function(){return re("n"),this};var ki=_.__private__.isValidStyle=function(x){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(F=!0),F};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(x){return ki(x)&&(d=x),this};var Al=_.__private__.getStyle=_.getStyle=function(x){var F=d;switch(x){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=x}return F},Aa=_.close=function(){return re("h"),this};_.stroke=function(){return re("S"),this},_.fill=function(x){return ci("f",x),this},_.fillEvenOdd=function(x){return ci("f*",x),this},_.fillStroke=function(x){return ci("B",x),this},_.fillStrokeEvenOdd=function(x){return ci("B*",x),this};var ci=function(x,F){lr(F)==="object"?El(F,x):re(x)},Ba=function(x){x===null||H===oe&&x===void 0||(x=Al(x),re(x))};function Sl(x,F,le,ve,Ne){var Ge=new Xh(F||this.boundingBox,le||this.xStep,ve||this.yStep,this.gState,Ne||this.matrix);Ge.stream=this.stream;var tt=x+"$$"+this.cloneIndex+++"$$";return Zn(tt,Ge),Ge}var El=function(x,F){var le=yn[x.key],ve=Ot[le];if(ve instanceof Ou)re("q"),re(Ho(F)),ve.gState&&_.setGState(ve.gState),re(x.matrix.toString()+" cm"),re("/"+le+" sh"),re("Q");else if(ve instanceof Xh){var Ne=new pt(1,0,0,-1,0,Bs());x.matrix&&(Ne=Ne.multiply(x.matrix||Zr),le=Sl.call(ve,x.key,x.boundingBox,x.xStep,x.yStep,Ne).id),re("q"),re("/Pattern cs"),re("/"+le+" scn"),ve.gState&&_.setGState(ve.gState),re(F),re("Q")}},Ho=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Go=_.moveTo=function(x,F){return re(k(L(x))+" "+k(he(F))+" m"),this},Sa=_.lineTo=function(x,F){return re(k(L(x))+" "+k(he(F))+" l"),this},Wi=_.curveTo=function(x,F,le,ve,Ne,Ge){return re([k(L(x)),k(he(F)),k(L(le)),k(he(ve)),k(L(Ne)),k(he(Ge)),"c"].join(" ")),this};_.__private__.line=_.line=function(x,F,le,ve,Ne){if(isNaN(x)||isNaN(F)||isNaN(le)||isNaN(ve)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return H===ne?this.lines([[le-x,ve-F]],x,F,[1,1],Ne||"S"):this.lines([[le-x,ve-F]],x,F,[1,1]).stroke()},_.__private__.lines=_.lines=function(x,F,le,ve,Ne,Ge){var tt,xt,It,Yt,Ut,wn,ur,tr,m,N,O,J;if(typeof x=="number"&&(J=le,le=F,F=x,x=J),ve=ve||[1,1],Ge=Ge||!1,isNaN(F)||isNaN(le)||!Array.isArray(x)||!Array.isArray(ve)||!ki(Ne)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Go(F,le),tt=ve[0],xt=ve[1],Yt=x.length,N=F,O=le,It=0;It<Yt;It++)(Ut=x[It]).length===2?(N=Ut[0]*tt+N,O=Ut[1]*xt+O,Sa(N,O)):(wn=Ut[0]*tt+N,ur=Ut[1]*xt+O,tr=Ut[2]*tt+N,m=Ut[3]*xt+O,N=Ut[4]*tt+N,O=Ut[5]*xt+O,Wi(wn,ur,tr,m,N,O));return Ge&&Aa(),Ba(Ne),this},_.path=function(x){for(var F=0;F<x.length;F++){var le=x[F],ve=le.c;switch(le.op){case"m":Go(ve[0],ve[1]);break;case"l":Sa(ve[0],ve[1]);break;case"c":Wi.apply(this,ve);break;case"h":Aa()}}return this},_.__private__.rect=_.rect=function(x,F,le,ve,Ne){if(isNaN(x)||isNaN(F)||isNaN(le)||isNaN(ve)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return H===ne&&(ve=-ve),re([k(L(x)),k(he(F)),k(L(le)),k(L(ve)),"re"].join(" ")),Ba(Ne),this},_.__private__.triangle=_.triangle=function(x,F,le,ve,Ne,Ge,tt){if(isNaN(x)||isNaN(F)||isNaN(le)||isNaN(ve)||isNaN(Ne)||isNaN(Ge)||!ki(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-x,ve-F],[Ne-le,Ge-ve],[x-Ne,F-Ge]],x,F,[1,1],tt,!0),this},_.__private__.roundedRect=_.roundedRect=function(x,F,le,ve,Ne,Ge,tt){if(isNaN(x)||isNaN(F)||isNaN(le)||isNaN(ve)||isNaN(Ne)||isNaN(Ge)||!ki(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*le),Ge=Math.min(Ge,.5*ve),this.lines([[le-2*Ne,0],[Ne*xt,0,Ne,Ge-Ge*xt,Ne,Ge],[0,ve-2*Ge],[0,Ge*xt,-Ne*xt,Ge,-Ne,Ge],[2*Ne-le,0],[-Ne*xt,0,-Ne,-Ge*xt,-Ne,-Ge],[0,2*Ge-ve],[0,-Ge*xt,Ne*xt,-Ge,Ne,-Ge]],x+Ne,F,[1,1],tt,!0),this},_.__private__.ellipse=_.ellipse=function(x,F,le,ve,Ne){if(isNaN(x)||isNaN(F)||isNaN(le)||isNaN(ve)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*le,tt=4/3*(Math.SQRT2-1)*ve;return Go(x+le,F),Wi(x+le,F-tt,x+Ge,F-ve,x,F-ve),Wi(x-Ge,F-ve,x-le,F-tt,x-le,F),Wi(x-le,F+tt,x-Ge,F+ve,x,F+ve),Wi(x+Ge,F+ve,x+le,F+tt,x+le,F),Ba(Ne),this},_.__private__.circle=_.circle=function(x,F,le,ve){if(isNaN(x)||isNaN(F)||isNaN(le)||!ki(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,F,le,le,ve)},_.setFont=function(x,F,le){return le&&(F=q(F,le)),st=wl(x,F,{disableWarning:!1}),this};var Fs=_.__private__.getFont=_.getFont=function(){return Pt[wl.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var x,F,le={};for(x in Ft)if(Ft.hasOwnProperty(x))for(F in le[x]=[],Ft[x])Ft[x].hasOwnProperty(F)&&le[x].push(F);return le},_.addFont=function(x,F,le,ve,Ne){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(le=q(le,ve)),Bo.call(this,x,F,le,Ne=Ne||"Identity-H")};var Ea,Ki=n.lineWidth||.200025,za=_.__private__.getLineWidth=_.getLineWidth=function(){return Ki},qt=_.__private__.setLineWidth=_.setLineWidth=function(x){return Ki=x,re(k(L(x))+" w"),this};_.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(x,F){if(x=x||[],F=F||0,isNaN(F)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(le){return k(L(le))}).join(" "),F=k(L(F)),re("["+x+"] "+F+" d"),this};var uo=_.__private__.getLineHeight=_.getLineHeight=function(){return Be*Ea};_.__private__.getLineHeight=_.getLineHeight=function(){return Be*Ea};var Yo=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ea=x),this},qa=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return Ea};Yo(n.lineHeight);var ui=_.__private__.getHorizontalCoordinate=function(x){return L(x)},ti=_.__private__.getVerticalCoordinate=function(x){return H===oe?x:Ct[z].mediaBox.topRightY-Ct[z].mediaBox.bottomLeftY-L(x)},ho=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(x){return k(ui(x))},Yn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(x){return k(ti(x))},ls=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return rr(ls)},_.__private__.setStrokeColor=_.setDrawColor=function(x,F,le,ve){return ls=ei({ch1:x,ch2:F,ch3:le,ch4:ve,pdfColorType:"draw",precision:2}),re(ls),this};var fo=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return rr(fo)},_.__private__.setFillColor=_.setFillColor=function(x,F,le,ve){return fo=ei({ch1:x,ch2:F,ch3:le,ch4:ve,pdfColorType:"fill",precision:2}),re(fo),this};var Us=n.textColor||"0 g",Nl=_.__private__.getTextColor=_.getTextColor=function(){return rr(Us)};_.__private__.setTextColor=_.setTextColor=function(x,F,le,ve){return Us=ei({ch1:x,ch2:F,ch3:le,ch4:ve,pdfColorType:"text",precision:3}),this};var cs=n.charSpace,Na=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(cs||0)};_.__private__.setCharSpace=_.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cs=x,this};var us=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(x){var F=_.CapJoinStyles[x];if(F===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return us=F,re(F+" J"),this};var Yr=0;_.__private__.setLineJoin=_.setLineJoin=function(x){var F=_.CapJoinStyles[x];if(F===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yr=F,re(F+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(k(L(x))+" M"),this},_.GState=og,_.setGState=function(x){(x=typeof x=="string"?Et[zt[x]]:$s(null,x)).equals(jn)||(re("/"+x.id+" gs"),jn=x)};var $s=function(x,F){if(!x||!zt[x]){var le=!1;for(var ve in Et)if(Et.hasOwnProperty(ve)&&Et[ve].equals(F)){le=!0;break}if(le)F=Et[ve];else{var Ne="GS"+(Object.keys(Et).length+1).toString(10);Et[Ne]=F,F.id=Ne}return x&&(zt[x]=F.id),ut.publish("addGState",F),F}};_.addGState=function(x,F){return $s(x,F),this},_.saveGraphicsState=function(){return re("q"),Qt.push({key:st,size:Be,color:Us}),this},_.restoreGraphicsState=function(){re("Q");var x=Qt.pop();return st=x.key,Be=x.size,Us=x.color,jn=null,this},_.setCurrentTransformationMatrix=function(x){return re(x.toString()+" cm"),this},_.comment=function(x){return re("#"+x),this};var _i=function(x,F){var le=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Ge){isNaN(Ge)||(le=parseFloat(Ge))}});var ve=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ge){isNaN(Ge)||(ve=parseFloat(Ge))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Ge){Ne=Ge.toString()}}),this},Xs=function(x,F,le,ve){_i.call(this,x,F),this.type="rect";var Ne=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(tt){isNaN(tt)||(Ne=parseFloat(tt))}});var Ge=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(tt){isNaN(tt)||(Ge=parseFloat(tt))}}),this},Ha=function(){this.page=jt,this.currentPage=z,this.pages=et.slice(0),this.pagesContext=Ct.slice(0),this.x=gt,this.y=fn,this.matrix=Zt,this.width=Ss(z),this.height=Wo(z),this.outputDestination=ct,this.id="",this.objectNumber=-1};Ha.prototype.restore=function(){jt=this.page,z=this.currentPage,Ct=this.pagesContext,et=this.pages,gt=this.x,fn=this.y,Zt=this.matrix,po(z,this.width),hs(z,this.height),ct=this.outputDestination};var Qs=function(x,F,le,ve,Ne){Sr.push(new Ha),jt=z=0,et=[],gt=x,fn=F,Zt=Ne,xs([le,ve])};for(var Js in _.beginFormObject=function(x,F,le,ve,Ne){return Qs(x,F,le,ve,Ne),this},_.endFormObject=function(x){return(function(F){if(cr[F])Sr.pop().restore();else{var le=new Ha,ve="Xo"+(Object.keys(An).length+1).toString(10);le.id=ve,cr[F]=ve,An[ve]=le,ut.publish("addFormObject",le),Sr.pop().restore()}})(x),this},_.doFormObject=function(x,F){var le=An[cr[x]];return re("q"),re(F.toString()+" cm"),re("/"+le.id+" Do"),re("Q"),this},_.getFormObject=function(x){var F=An[cr[x]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},_.save=function(x,F){return x=x||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Pu(Cn(As()),x),typeof Pu.unload=="function"&&sn.setTimeout&&setTimeout(Pu.unload,911),this):new Promise(function(le,ve){try{var Ne=Pu(Cn(As()),x);typeof Pu.unload=="function"&&sn.setTimeout&&setTimeout(Pu.unload,911),le(Ne)}catch(Ge){ve(Ge.message)}})},Bt.API)Bt.API.hasOwnProperty(Js)&&(Js==="events"&&Bt.API.events.length?(function(x,F){var le,ve,Ne;for(Ne=F.length-1;Ne!==-1;Ne--)le=F[Ne][0],ve=F[Ne][1],x.subscribe.apply(x,[le].concat(typeof ve=="function"?[ve]:ve))})(ut,Bt.API.events):_[Js]=Bt.API[Js]);function Ss(x){return Ct[x].mediaBox.topRightX-Ct[x].mediaBox.bottomLeftX}function po(x,F){Ct[x].mediaBox.topRightX=F+Ct[x].mediaBox.bottomLeftX}function Wo(x){return Ct[x].mediaBox.topRightY-Ct[x].mediaBox.bottomLeftY}function hs(x,F){Ct[x].mediaBox.topRightY=F+Ct[x].mediaBox.bottomLeftY}var Zs=_.getPageWidth=function(x){return Ss(x=x||z)/bt},Tl=_.setPageWidth=function(x,F){po(x,F*bt)},Bs=_.getPageHeight=function(x){return Wo(x=x||z)/bt},Ko=_.setPageHeight=function(x,F){hs(x,F*bt)};return _.internal={pdfEscape:Yi,getStyle:Al,getFont:Fs,getFontSize:se,getCharSpace:Na,getTextColor:Nl,getLineHeight:uo,getLineHeightFactor:qa,getLineWidth:za,write:lt,getHorizontalCoordinate:ui,getVerticalCoordinate:ti,getCoordinateString:ho,getVerticalCoordinateString:Yn,collections:{},newObject:zn,newAdditionalObject:Ri,newObjectDeferred:Tn,newObjectDeferredBegin:Hr,getFilters:Hi,putStream:_s,events:ut,scaleFactor:bt,pageSize:{getWidth:function(){return Zs(z)},setWidth:function(x){Tl(z,x)},getHeight:function(){return Bs(z)},setHeight:function(x){Ko(z,x)}},encryptionOptions:g,encryption:vr,getEncryptor:function(x){return g!==null?vr.encryptor(x,0):function(F){return F}},output:Ua,getNumberOfPages:qo,get pages(){return et},out:re,f2:T,f3:R,getPageInfo:Vr,getPageInfoByObjId:co,getCurrentPageInfo:cc,getPDFVersion:V,Point:_i,Rectangle:Xs,Matrix:pt,hasHotfix:Gr},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Zs(z)},set:function(x){Tl(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Bs(z)},set:function(x){Ko(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var F=0,le=Mt.length;F<le;F++){var ve=Bo.call(this,x[F][0],x[F][1],x[F][2],Mt[F][3],!0);b===!1&&(E[ve]=!0);var Ne=x[F][0].split("-");Ir({id:ve,fontName:Ne[0],fontStyle:Ne[1]||""})}ut.publish("addFonts",{fonts:Pt,dictionary:Ft})}).call(_,Mt),st="F1",Vs(s,t),ut.publish("initialized"),_}Gh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Gh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Gh.prototype.processOwnerPassword=function(n,e){return X2($2(e).substr(0,5),n)},Gh.prototype.encryptor=function(n,e){var t=$2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return X2(t,r)}},og.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||lr(n)!==lr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Bt.API={events:[]},Bt.version="4.1.0";var li=Bt.API,av=1,eh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},lg=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},cn=function(n){return n.toFixed(2)},zc=function(n){return n.toFixed(5)};li.__acroform__={};var _a=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Rx=function(n){return n*av},hl=function(n){var e=new KS,t=Dt.internal.getHeight(n)||0,r=Dt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(cn(r)),Number(cn(t))],e},u9=li.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},h9=li.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},f9=li.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},mi=li.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return f9(n,e-1)},gi=li.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return u9(n,e-1)},yi=li.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return h9(n,e-1)},d9=li.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],c=n[2],u=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+u)||0,f.upperRight_X=t(s+c)||0,f.upperRight_Y=r(o)||0,[Number(cn(f.lowerLeft_X)),Number(cn(f.lowerLeft_Y)),Number(cn(f.upperRight_X)),Number(cn(f.upperRight_Y))]},p9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Q2(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+cn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=hl(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Q2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var o=t,c=Dt.internal.getHeight(n)||0;c=c<0?-c:c;var u=Dt.internal.getWidth(n)||0;u=u<0?-u:u;var f=function(T,R,L){if(T+1<s.length){var he=R+" "+s[T+1][0];return ym(he,n,L).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var d,g,b=ym("3",n,o).height,E=n.multiline?c-o:(c-b)/2,_=E+=2,M=0,V=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+ym(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var j="",ne=0,oe=0;oe<s.length;oe++)if(s.hasOwnProperty(oe)){var H=!1;if(s[oe].length!==1&&U!==s[oe].length-1){if((b+2)*(ne+2)+2>c)continue e;j+=s[oe][U],H=!0,V=oe,oe--}else{j=(j+=s[oe][U]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var ee=parseInt(oe),fe=f(ee,j,o),q=oe>=s.length-1;if(fe&&!q){j+=" ",U=0;continue}if(fe||q){if(q)V=ee;else if(n.multiline&&(b+2)*(ne+2)+2>c)continue e}else{if(!n.multiline||(b+2)*(ne+2)+2>c)continue e;V=ee}}for(var k="",D=M;D<=V;D++){var Y=s[D];if(n.multiline){if(D===V){k+=Y[U]+" ",U=(U+1)%Y.length;continue}if(D===M){k+=Y[Y.length-1]+" ";continue}}k+=Y[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,g=ym(k,n,o).width,n.textAlign){case"right":d=u-g-2;break;case"center":d=(u-g)/2;break;default:d=2}e+=cn(d)+" "+cn(_)+` Td
`,e+="("+eh(k)+`) Tj
`,e+=-cn(d)+` 0 Td
`,_=-(o+2),g=0,M=H?V:V+1,ne++,j=""}break}return r.text=e,r.fontSize=o,r},ym=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},m9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},g9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},y9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Fo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(m9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");av=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new $S,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&g9(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var c in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var u=r[c],f=[],d=u.Rect;if(u.Rect&&(u.Rect=d9(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Dt.createDefaultAppearanceStream(u),lr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(f=u.getKeyValueListForStream()),u.Rect=d,u.hasAppearanceStream&&!u.appearanceStreamContent){var g=p9(u);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(u.appearanceStreamContent){var b="";for(var E in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(E)){var _=u.appearanceStreamContent[E];if(b+="/"+E+" ",b+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var M=_[c];typeof M=="function"&&(M=M.call(s,u)),b+="/"+c+" "+M+" ",s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M)}}else typeof(M=_)=="function"&&(M=M.call(s,u)),b+="/"+c+" "+M,s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M);b+=">>"}f.push({key:"AP",value:`<<
`+b+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:u.objId}),s.internal.out("endobj")}o&&(function(V,U){for(var j in V)if(V.hasOwnProperty(j)){var ne=j,oe=V[j];U.internal.newObjectDeferredBegin(oe.objId,!0),lr(oe)==="object"&&typeof oe.putStream=="function"&&oe.putStream(),delete V[ne]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},WS=li.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),lr(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+lg(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+eh(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Q0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+eh(r(n))+")"},pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pl.prototype.toString=function(){return this.objId+" 0 R"},pl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},pl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:WS(s,this.objId,this.scope)}):s instanceof pl?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var KS=function(){pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};_a(KS,pl);var $S=function(){pl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+eh(t(n))+")"}},set:function(t){n=t}})};_a($S,pl);var Fo=function n(){pl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mi(e,3)},set:function(j){j?this.F=gi(e,3):this.F=yi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof cg)return;o="FieldObject"+n.FieldNum++}var j=function(ne){return ne};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+eh(j(o))+")"},set:function(j){o=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(j){o=j}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/av:d},set:function(j){d=j}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){g=j}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof cg||this instanceof Uu))return Q0(b,this.objId,this.scope)},set:function(j){j=j.toString(),b=j}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof ns==0?Q0(E,this.objId,this.scope):E},set:function(j){j=j.toString(),E=this instanceof ns==0?j.substr(0,1)==="("?Vh(j.substr(1,j.length-2)):Vh(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ns==1?Vh(E.substr(1,E.length-1)):E},set:function(j){j=j.toString(),E=this instanceof ns==1?"/"+lg(j):j}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ns==0?Q0(_,this.objId,this.scope):_},set:function(j){j=j.toString(),_=this instanceof ns==0?j.substr(0,1)==="("?Vh(j.substr(1,j.length-2)):Vh(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ns==1?Vh(_.substr(1,_.length-1)):_},set:function(j){j=j.toString(),_=this instanceof ns==1?"/"+lg(j):j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,V=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return V},set:function(j){j=!!j,V=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(j){M=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,1)},set:function(j){j?this.Ff=gi(this.Ff,1):this.Ff=yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,2)},set:function(j){j?this.Ff=gi(this.Ff,2):this.Ff=yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,3)},set:function(j){j?this.Ff=gi(this.Ff,3):this.Ff=yi(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');U=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(U){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};_a(Fo,pl);var rf=function(){Fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WS(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,c,u){u||(u=1);for(var f,d=[];f=c.exec(o);)d.push(f[u]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,18)},set:function(t){t?this.Ff=gi(this.Ff,18):this.Ff=yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=gi(this.Ff,19):this.Ff=yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,20)},set:function(t){t?(this.Ff=gi(this.Ff,20),e.sort()):this.Ff=yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,22)},set:function(t){t?this.Ff=gi(this.Ff,22):this.Ff=yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,23)},set:function(t){t?this.Ff=gi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,27)},set:function(t){t?this.Ff=gi(this.Ff,27):this.Ff=yi(this.Ff,27)}}),this.hasAppearanceStream=!1};_a(rf,Fo);var sf=function(){rf.call(this),this.fontName="helvetica",this.combo=!1};_a(sf,rf);var af=function(){sf.call(this),this.combo=!0};_a(af,sf);var km=function(){af.call(this),this.edit=!0};_a(km,af);var ns=function(){Fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,15)},set:function(t){t?this.Ff=gi(this.Ff,15):this.Ff=yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,16)},set:function(t){t?this.Ff=gi(this.Ff,16):this.Ff=yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,17)},set:function(t){t?this.Ff=gi(this.Ff,17):this.Ff=yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,26)},set:function(t){t?this.Ff=gi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+eh(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){lr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+lg(t)}})};_a(ns,Fo);var Dm=function(){ns.call(this),this.pushButton=!0};_a(Dm,ns);var of=function(){ns.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};_a(of,ns);var cg=function(){var n,e;Fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+eh(s(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){lr(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_a(cg,Fo),of.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},of.prototype.createOption=function(n){var e=new cg;return e.Parent=this,e.optionName=n,this.Kids.push(e),v9.call(this.scope,e),e};var Pm=function(){ns.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};_a(Pm,ns);var Uu=function(){Fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,13)},set:function(e){e?this.Ff=gi(this.Ff,13):this.Ff=yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,21)},set:function(e){e?this.Ff=gi(this.Ff,21):this.Ff=yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,23)},set:function(e){e?this.Ff=gi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,24)},set:function(e){e?this.Ff=gi(this.Ff,24):this.Ff=yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,25)},set:function(e){e?this.Ff=gi(this.Ff,25):this.Ff=yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,26)},set:function(e){e?this.Ff=gi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_a(Uu,Fo);var Om=function(){Uu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,14)},set:function(n){n?this.Ff=gi(this.Ff,14):this.Ff=yi(this.Ff,14)}}),this.password=!0};_a(Om,Uu);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=Q2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+cn(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=hl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=Dt.internal.getHeight(n),c=Dt.internal.getWidth(n),u=Q2(n,n.caption);return s.push("1 g"),s.push("0 0 "+cn(c)+" "+cn(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+cn(c-1)+" "+cn(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+cn(u.fontSize)+" Tf "+r),s.push(u.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Circle.YesNormal,e.D[n]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Dt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+zc(Dt.internal.getWidth(n)/2)+" "+zc(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Dt.internal.Bezier_C).toFixed(5)),c=Number((r*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zc(Dt.internal.getWidth(n)/2)+" "+zc(Dt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+zc(Dt.internal.getWidth(n)/2)+" "+zc(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zc(Dt.internal.getWidth(n)/2)+" "+zc(Dt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Cross.YesNormal,e.D[n]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=hl(n);e.scope=n.scope;var t=[],r=Dt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+cn(Dt.internal.getWidth(n)-2)+" "+cn(Dt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(cn(r.x1.x)+" "+cn(r.x1.y)+" m"),t.push(cn(r.x2.x)+" "+cn(r.x2.y)+" l"),t.push(cn(r.x4.x)+" "+cn(r.x4.y)+" m"),t.push(cn(r.x3.x)+" "+cn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=Dt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+cn(Dt.internal.getWidth(n)-2)+" "+cn(Dt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(cn(t.x1.x)+" "+cn(t.x1.y)+" m"),r.push(cn(t.x2.x)+" "+cn(t.x2.y)+" l"),r.push(cn(t.x4.x)+" "+cn(t.x4.y)+" m"),r.push(cn(t.x3.x)+" "+cn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=hl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cn(Dt.internal.getWidth(n))+" "+cn(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Dt.internal.getWidth(n),t=Dt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Dt.internal.getWidth=function(n){var e=0;return lr(n)==="object"&&(e=Rx(n.Rect[2])),e},Dt.internal.getHeight=function(n){var e=0;return lr(n)==="object"&&(e=Rx(n.Rect[3])),e};var v9=li.addField=function(n){if(y9(this,n),!(n instanceof Fo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};li.AcroFormChoiceField=rf,li.AcroFormListBox=sf,li.AcroFormComboBox=af,li.AcroFormEditBox=km,li.AcroFormButton=ns,li.AcroFormPushButton=Dm,li.AcroFormRadioButton=of,li.AcroFormCheckBox=Pm,li.AcroFormTextField=Uu,li.AcroFormPasswordField=Om,li.AcroFormAppearance=Dt,li.AcroForm={ChoiceField:rf,ListBox:sf,ComboBox:af,EditBox:km,Button:ns,PushButton:Dm,RadioButton:of,CheckBox:Pm,TextField:Uu,PasswordField:Om,Appearance:Dt},Bt.AcroForm={ChoiceField:rf,ListBox:sf,ComboBox:af,EditBox:km,Button:ns,PushButton:Dm,RadioButton:of,CheckBox:Pm,TextField:Uu,PasswordField:Om,Appearance:Dt};Bt.AcroForm;function XS(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(T,R){var L,he,Ae,te,pe,ue=t;if((R=R||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(fe(T))for(pe in r)for(Ae=r[pe],L=0;L<Ae.length;L+=1){for(te=!0,he=0;he<Ae[L].length;he+=1)if(Ae[L][he]!==void 0&&Ae[L][he]!==T[he]){te=!1;break}if(te===!0){ue=pe;break}}else for(pe in r)for(Ae=r[pe],L=0;L<Ae.length;L+=1){for(te=!0,he=0;he<Ae[L].length;he+=1)if(Ae[L][he]!==void 0&&Ae[L][he]!==T.charCodeAt(he)){te=!1;break}if(te===!0){ue=pe;break}}return ue===t&&R!==t&&(ue=R),ue},o=function T(R){for(var L=this.internal.write,he=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:R.width}),te.push({key:"Height",value:R.height}),R.colorSpace===j.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===j.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var pe="",ue=0,Ce=R.transparency.length;ue<Ce;ue++)pe+=R.transparency[ue]+" "+R.transparency[ue]+" ";te.push({key:"Mask",value:"["+pe+"]"})}R.sMask!==void 0&&te.push({key:"SMask",value:R.objectId+1+" 0 R"});var be=R.filter!==void 0?["/"+R.filter]:void 0;if(he({data:R.data,additionalKeyValues:te,alreadyAppliedFilters:be,objectId:R.objectId}),L("endobj"),"sMask"in R&&R.sMask!==void 0){var X,P=(X=R.sMaskBitsPerComponent)!==null&&X!==void 0?X:R.bitsPerComponent,z={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:R.sMask};"filter"in R&&(z.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(R.width),z.filter=R.filter),T.call(this,z)}if(R.colorSpace===j.INDEXED){var K=this.internal.newObject();he({data:k(new Uint8Array(R.palette)),objectId:K}),L("endobj")}},c=function(){var T=this.internal.collections[e+"images"];for(var R in T)o.call(this,T[R])},u=function(){var T,R=this.internal.collections[e+"images"],L=this.internal.write;for(var he in R)L("/I"+(T=R[he]).index,T.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},d=function(){var T=this.internal.collections[e+"images"];return f.call(this),T},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(T){return typeof n["process"+T.toUpperCase()]=="function"},E=function(T){return lr(T)==="object"&&T.nodeType===1},_=function(T,R){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return Lm(unescape(L).split("base64,").pop());var he=n.loadFile(L,!0);if(he!==void 0)return he}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Ae;switch(R){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;default:Ae="image/jpeg"}return Lm(T.toDataURL(Ae,1).split("base64,").pop())}},M=function(T){var R=this.internal.collections[e+"images"];if(R){for(var L in R)if(T===R[L].alias)return R[L]}},V=function(T,R,L){return T||R||(T=-96,R=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),R<0&&(R=-1*L.height*72/R/this.internal.scaleFactor),T===0&&(T=R*L.width/L.height),R===0&&(R=T*L.height/L.width),[T,R]},U=function(T,R,L,he,Ae,te){var pe=V.call(this,L,he,Ae),ue=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,be=d.call(this);if(L=pe[0],he=pe[1],be[Ae.index]=Ae,te){te*=Math.PI/180;var X=Math.cos(te),P=Math.sin(te),z=function(ie){return ie.toFixed(4)},K=[z(X),z(P),z(-1*P),z(X),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ue(T),Ce(R+he),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ue(L),"0","0",ue(he),"0","0","cm"].join(" "))):this.internal.write([ue(L),"0","0",ue(he),ue(T),Ce(R+he),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ne=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},oe=n.__addimage__.sHashCode=function(T){var R,L,he=0;if(typeof T=="string")for(L=T.length,R=0;R<L;R++)he=(he<<5)-he+T.charCodeAt(R),he|=0;else if(fe(T))for(L=T.byteLength/2,R=0;R<L;R++)he=(he<<5)-he+T[R],he|=0;return he},H=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var R=!0;return T.length===0&&(R=!1),T.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(R=!1),R},ee=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var R=T.indexOf(",");return R<0?null:T.substring(0,R).trim().endsWith("base64")?T.substring(R+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var fe=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},q=n.__addimage__.binaryStringToUint8Array=function(T){for(var R=T.length,L=new Uint8Array(R),he=0;he<R;he++)L[he]=T.charCodeAt(he);return L},k=n.__addimage__.arrayBufferToBinaryString=function(T){for(var R="",L=fe(T)?T:new Uint8Array(T),he=0;he<L.length;he+=8192)R+=String.fromCharCode.apply(null,L.subarray(he,he+8192));return R};n.addImage=function(){var T,R,L,he,Ae,te,pe,ue,Ce;if(typeof arguments[1]=="number"?(R=t,L=arguments[1],he=arguments[2],Ae=arguments[3],te=arguments[4],pe=arguments[5],ue=arguments[6],Ce=arguments[7]):(R=arguments[1],L=arguments[2],he=arguments[3],Ae=arguments[4],te=arguments[5],pe=arguments[6],ue=arguments[7],Ce=arguments[8]),lr(T=arguments[0])==="object"&&!E(T)&&"imageData"in T){var be=T;T=be.imageData,R=be.format||R||t,L=be.x||L||0,he=be.y||he||0,Ae=be.w||be.width||Ae,te=be.h||be.height||te,pe=be.alias||pe,ue=be.compression||ue,Ce=be.rotation||be.angle||Ce}var X=this.internal.getFilters();if(ue===void 0&&X.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(L)||isNaN(he))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var P=D.call(this,T,R,pe,ue);return U.call(this,L,he,Ae,te,P,Ce),this};var D=function(T,R,L,he){var Ae,te,pe;if(typeof T=="string"&&s(T)===t){T=unescape(T);var ue=Y(T,!1);(ue!==""||(ue=n.loadFile(T,!0))!==void 0)&&(T=ue)}if(E(T)&&(T=_(T,R)),R=s(T,R),!b(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((pe=L)==null||pe.length===0)&&(L=(function(Ce){return typeof Ce=="string"||fe(Ce)?oe(Ce):fe(Ce.data)?oe(Ce.data):null})(T)),(Ae=M.call(this,L))||(T instanceof Uint8Array||R==="RGBA"||(te=T,T=q(T)),Ae=this["process"+R.toUpperCase()](T,g.call(this),L,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in n.image_compression?Ce:ne.NONE})(he),te)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},Y=n.__addimage__.convertBase64ToBinaryString=function(T,R){R=typeof R!="boolean"||R;var L,he="";if(typeof T=="string"){var Ae;L=(Ae=ee(T))!==null&&Ae!==void 0?Ae:T;try{he=Lm(L)}catch(te){if(R)throw H(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return he};n.getImageProperties=function(T){var R,L,he="";if(E(T)&&(T=_(T)),typeof T=="string"&&s(T)===t&&((he=Y(T,!1))===""&&(he=n.loadFile(T)||""),T=he),L=s(T),!b(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(T instanceof Uint8Array||(T=q(T)),!(R=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=L,R}})(Bt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,b=0;b<d.length&&!g;b++)switch((r=d[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var E=0;E<d.length;E++){r=d[E];var _=this.internal.pdfEscape,M=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var V=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(V.objId),ne=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+_(j(r.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(j(ne))+") >>",V.content=o;var oe=V.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+oe,r.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(V.objId,"0 R",U.objId,"0 R");break;case"freetext":s="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ee=this.annotations._nameMap[r.options.name];r.options.pageNumber=ee.page,r.options.top=ee.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var fe=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+fe+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,c){var u=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,s,o){var c,u,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var g=this.splitTextToSize(t,u).length;c=Math.ceil(d*g)}else u=f,c=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,u,c,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Bt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(V){return e[V.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(V){return typeof V=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(V)},u=n.__arabicParser__.isArabicEndLetter=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(V){return c(V)&&s.indexOf(V.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(V){return c(V)&&o(V)&&e[V.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(V){var U=0,j=t,ne="",oe=0;for(U=0;U<V.length;U+=1)j[V.charCodeAt(U)]!==void 0?(oe++,typeof(j=j[V.charCodeAt(U)])=="number"&&(ne+=String.fromCharCode(j),j=t,oe=0),U===V.length-1&&(j=t,ne+=V.charAt(U-(oe-1)),U-=oe-1,oe=0)):(j=t,ne+=V.charAt(U-oe),U-=oe,oe=0);return ne};n.__arabicParser__.isArabicDiacritic=function(V){return V!==void 0&&r[V.charCodeAt(0)]!==void 0};var E=n.__arabicParser__.getCorrectForm=function(V,U,j){return c(V)?o(V)===!1?-1:!d(V)||!c(U)&&!c(j)||!c(j)&&u(U)||u(V)&&!c(U)||u(V)&&f(U)||u(V)&&u(U)?0:g(V)&&c(U)&&!u(U)&&c(j)&&d(j)?3:u(V)||!c(j)?1:2:-1},_=function(V){var U=0,j=0,ne=0,oe="",H="",ee="",fe=(V=V||"").split("\\s+"),q=[];for(U=0;U<fe.length;U+=1){for(q.push(""),j=0;j<fe[U].length;j+=1)oe=fe[U][j],H=fe[U][j-1],ee=fe[U][j+1],c(oe)?(ne=E(oe,H,ee),q[U]+=ne!==-1?String.fromCharCode(e[oe.charCodeAt(0)][ne]):oe):q[U]+=oe;q[U]=b(q[U])}return q.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var V,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(U)){var ne=0;for(j=[],ne=0;ne<U.length;ne+=1)Array.isArray(U[ne])?j.push([_(U[ne][0]),U[ne][1],U[ne][2]]):j.push([_(U[ne])]);V=j}else V=_(U);return typeof arguments[0]=="string"?V:(arguments[0].text=V,arguments[0])};n.events.push(["preProcessText",M])})(Bt.API),Bt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Bt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(V){f=V}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(V){d=V}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(V){g=V}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(V){b=V}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(V){E=V}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(V){_=V}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(V){M=V}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),E=d.scaleFactor||this.internal.scaleFactor,_=0,M=0,V=0,U=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var j=d.maxWidth;j>0?typeof f=="string"?f=this.splitTextToSize(f,j):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(oe,H){return oe.concat(U.splitTextToSize(H,j))},[])):f=Array.isArray(f)?f:[f];for(var ne=0;ne<f.length;ne++)_<(V=this.getStringUnitWidth(f[ne],{font:b})*g)&&(_=V);return _!==0&&(M=f.length),{w:_/=E,h:Math.max((M*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/E,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,E=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=b.top,_&&E&&(this.printHeaderRow(f.lineNumber,!0),f.y+=E[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,g,b,E){if(r.call(this),!g)throw new Error("No data for PDF table.");var _,M,V,U,j=[],ne=[],oe=[],H={},ee={},fe=[],q=[],k=(E=E||{}).autoSize||!1,D=E.printHeaders!==!1,Y=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,T=E.margins||Object.assign({width:this.getPageWidth()},e),R=typeof E.padding=="number"?E.padding:3,L=E.headerBackgroundColor||"#c8c8c8",he=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=he,this.setFontSize(Y),b==null)ne=j=Object.keys(g[0]),oe=j.map(function(){return"left"});else if(Array.isArray(b)&&lr(b[0])==="object")for(j=b.map(function(be){return be.name}),ne=b.map(function(be){return be.prompt||be.name||""}),oe=b.map(function(be){return be.align||"left"}),_=0;_<b.length;_+=1)ee[b[_].name]=.7499990551181103*b[_].width;else Array.isArray(b)&&typeof b[0]=="string"&&(ne=j=b,oe=j.map(function(){return"left"}));if(k||Array.isArray(b)&&typeof b[0]=="string")for(_=0;_<j.length;_+=1){for(H[U=j[_]]=g.map(function(be){return be[U]}),this.setFont(void 0,"bold"),fe.push(this.getTextDimensions(ne[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=H[U],this.setFont(void 0,"normal"),V=0;V<M.length;V+=1)fe.push(this.getTextDimensions(M[V],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[U]=Math.max.apply(null,fe)+R+R,fe=[]}if(D){var Ae={};for(_=0;_<j.length;_+=1)Ae[j[_]]={},Ae[j[_]].text=ne[_],Ae[j[_]].align=oe[_];var te=u.call(this,Ae,ee);q=j.map(function(be){return new o(f,d,ee[be],te,Ae[be].text,void 0,Ae[be].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var pe=b.reduce(function(be,X){return be[X.name]=X.align,be},{});for(_=0;_<g.length;_+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:_,data:g[_]},this);var ue=u.call(this,g[_],ee);for(V=0;V<j.length;V+=1){var Ce=g[_][j[V]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:_,col:V,data:Ce},this),c.call(this,new o(f,d,ee[j[V]],ue,Ce,_+2,pe[j[V]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var u=function(f,d){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(f).map(function(_){var M=f[_];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,d[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*b/E+g+g},this).reduce(function(_,M){return Math.max(_,M)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,E.push(g)),g.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(M)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),t=!1}})(Bt.API);var QS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},JS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J2=XS(JS),ZS=[100,200,300,400,500,600,700,800,900],b9=XS(ZS);function J0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return QS[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof J2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Lx(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var _9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Dx(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Px(n){return n.trimLeft()}function w9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function x9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Fh,vm,Ox,Mx,jx,Z0=["times"];function Vx(n,e,t,r,s){var o=4,c=Ux;switch(s){case Bt.API.image_compression.FAST:o=1,c=Fx;break;case Bt.API.image_compression.MEDIUM:o=6,c=Bx;break;case Bt.API.image_compression.SLOW:o=9,c=zx}n=(function(f,d,g,b){for(var E,_=f.length/d,M=new Uint8Array(f.length+_),V=[A9,Fx,Ux,Bx,zx],U=0;U<_;U+=1){var j=U*d,ne=f.subarray(j,j+d);if(b)M.set(b(ne,g,E),j+U);else{for(var oe=V.length,H=[],ee=0;ee<oe;ee+=1)H[ee]=V[ee](ne,g,E);var fe=E9(H.concat());M.set(H[fe],j+U)}E=ne}return M})(n,e,Math.ceil(t*r/8),c);var u=G2(n,{level:o});return Bt.API.__addimage__.arrayBufferToBinaryString(u)}function A9(n){var e=Array.apply([],n);return e.unshift(0),e}function Fx(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function Ux(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;s[o+1]=n[o]-c+256&255}return s}function Bx(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,u=t&&t[o]||0;s[o+1]=n[o]+256-(c+u>>>1)&255}return s}function zx(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var c=S9(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-c+256&255}return s}function S9(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function E9(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function e2(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),c=(1<<t)-1;return eE(n,s)>>o&c}function qx(n,e,t,r){var s=t*r,o=Math.floor(s/8),c=16-(s-8*o+r),u=(1<<r)-1,f=(e&u)<<c;(function(d,g,b){if(g+1<d.byteLength)d.setUint16(g,b,!1);else{var E=b>>8&255;d.setUint8(g,E)}})(n,o,eE(n,o)&~(u<<c)&65535|f)}function eE(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function N9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,c=1<<1+(7&s);n[e++],n[e++];var u=null,f=null;o&&(u=e,f=c,e+=3*c);var d=!0,g=[],b=0,E=null,_=0,M=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,M=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var V=n[e++];b=n[e++]|n[e++]<<8,E=n[e++],1&V||(E=null),_=V>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var U=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,ne=n[e++]|n[e++]<<8,oe=n[e++]|n[e++]<<8,H=n[e++],ee=H>>6&1,fe=1<<1+(7&H),q=u,k=f,D=!1;H>>7&&(D=!0,q=e,k=fe,e+=3*fe);var Y=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}g.push({x:U,y:j,width:ne,height:oe,has_local_palette:D,palette_offset:q,palette_size:k,data_offset:Y,data_length:e-Y,transparent_index:E,interlaced:!!ee,delay:b,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return M},this.frameInfo=function(R){if(R<0||R>=g.length)throw new Error("Frame index out of range.");return g[R]},this.decodeAndBlitFrameBGRA=function(R,L){var he=this.frameInfo(R),Ae=he.width*he.height,te=new Uint8Array(Ae);Hx(n,he.data_offset,te,Ae);var pe=he.palette_offset,ue=he.transparent_index;ue===null&&(ue=256);var Ce=he.width,be=t-Ce,X=Ce,P=4*(he.y*t+he.x),z=4*((he.y+he.height)*t+he.x),K=P,ie=4*be;he.interlaced===!0&&(ie+=4*t*7);for(var de=8,ye=0,Ee=te.length;ye<Ee;++ye){var Le=te[ye];if(X===0&&(X=Ce,(K+=ie)>=z&&(ie=4*be+4*t*(de-1),K=P+(Ce+be)*(de<<1),de>>=1)),Le===ue)K+=4;else{var Ue=n[pe+3*Le],et=n[pe+3*Le+1],ot=n[pe+3*Le+2];L[K++]=ot,L[K++]=et,L[K++]=Ue,L[K++]=255}--X}},this.decodeAndBlitFrameRGBA=function(R,L){var he=this.frameInfo(R),Ae=he.width*he.height,te=new Uint8Array(Ae);Hx(n,he.data_offset,te,Ae);var pe=he.palette_offset,ue=he.transparent_index;ue===null&&(ue=256);var Ce=he.width,be=t-Ce,X=Ce,P=4*(he.y*t+he.x),z=4*((he.y+he.height)*t+he.x),K=P,ie=4*be;he.interlaced===!0&&(ie+=4*t*7);for(var de=8,ye=0,Ee=te.length;ye<Ee;++ye){var Le=te[ye];if(X===0&&(X=Ce,(K+=ie)>=z&&(ie=4*be+4*t*(de-1),K=P+(Ce+be)*(de<<1),de>>=1)),Le===ue)K+=4;else{var Ue=n[pe+3*Le],et=n[pe+3*Le+1],ot=n[pe+3*Le+2];L[K++]=Ue,L[K++]=et,L[K++]=ot,L[K++]=255}--X}}}function Hx(n,e,t,r){for(var s=n[e++],o=1<<s,c=o+1,u=c+1,f=s+1,d=(1<<f)-1,g=0,b=0,E=0,_=n[e++],M=new Int32Array(4096),V=null;;){for(;g<16&&_!==0;)b|=n[e++]<<g,g+=8,_===1?_=n[e++]:--_;if(g<f)break;var U=b&d;if(b>>=f,g-=f,U!==o){if(U===c)break;for(var j=U<u?U:V,ne=0,oe=j;oe>o;)oe=M[oe]>>8,++ne;var H=oe;if(E+ne+(j!==U?1:0)>r)return void xr.log("Warning, gif stream longer than expected.");t[E++]=H;var ee=E+=ne;for(j!==U&&(t[E++]=H),oe=j;ne--;)oe=M[oe],t[--ee]=255&oe,oe>>=8;V!==null&&u<4096&&(M[u++]=V<<8|H,u>=d+1&&f<12&&(++f,d=d<<1|1)),V=U}else u=c+1,d=(1<<(f=s+1))-1,V=null}return E!==r&&xr.log("Warning, gif stream shorter than expected."),t}function t2(n){var e,t,r,s,o,c=Math.floor,u=new Array(64),f=new Array(64),d=new Array(64),g=new Array(64),b=new Array(65535),E=new Array(65535),_=new Array(64),M=new Array(64),V=[],U=0,j=7,ne=new Array(64),oe=new Array(64),H=new Array(64),ee=new Array(256),fe=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(P,z){for(var K=0,ie=0,de=new Array,ye=1;ye<=16;ye++){for(var Ee=1;Ee<=P[ye];Ee++)de[z[ie]]=[],de[z[ie]][0]=K,de[z[ie]][1]=ye,ie++,K++;K*=2}return de}function pe(P){for(var z=P[0],K=P[1]-1;K>=0;)z&1<<K&&(U|=1<<j),K--,--j<0&&(U==255?(ue(255),ue(0)):ue(U),j=7,U=0)}function ue(P){V.push(P)}function Ce(P){ue(P>>8&255),ue(255&P)}function be(P,z,K,ie,de){for(var ye,Ee=de[0],Le=de[240],Ue=(function(Be,dt){var se,ge,Se,Ke,He,Ve,it,ft,st,bt,gt=0;for(st=0;st<8;++st){se=Be[gt],ge=Be[gt+1],Se=Be[gt+2],Ke=Be[gt+3],He=Be[gt+4],Ve=Be[gt+5],it=Be[gt+6];var fn=se+(ft=Be[gt+7]),Zt=se-ft,Pt=ge+it,Ft=ge-it,Qt=Se+Ve,Ot=Se-Ve,yn=Ke+He,Et=Ke-He,zt=fn+yn,jn=fn-yn,jt=Pt+Qt,Ct=Pt-Qt;Be[gt]=zt+jt,Be[gt+4]=zt-jt;var ut=.707106781*(Ct+jn);Be[gt+2]=jn+ut,Be[gt+6]=jn-ut;var _n=.382683433*((zt=Et+Ot)-(Ct=Ft+Zt)),An=.5411961*zt+_n,cr=1.306562965*Ct+_n,Sr=.707106781*(jt=Ot+Ft),pt=Zt+Sr,Er=Zt-Sr;Be[gt+5]=Er+An,Be[gt+3]=Er-An,Be[gt+1]=pt+cr,Be[gt+7]=pt-cr,gt+=8}for(gt=0,st=0;st<8;++st){se=Be[gt],ge=Be[gt+8],Se=Be[gt+16],Ke=Be[gt+24],He=Be[gt+32],Ve=Be[gt+40],it=Be[gt+48];var Zr=se+(ft=Be[gt+56]),Zn=se-ft,er=ge+it,zn=ge-it,Tn=Se+Ve,Hr=Se-Ve,Ri=Ke+He,vi=Ke-He,Gn=Zr+Ri,rr=Zr-Ri,ei=er+Tn,Hi=er-Tn;Be[gt]=Gn+ei,Be[gt+32]=Gn-ei;var _s=.707106781*(Hi+rr);Be[gt+16]=rr+_s,Be[gt+48]=rr-_s;var Fa=.382683433*((Gn=vi+Hr)-(Hi=zn+Zn)),js=.5411961*Gn+Fa,Gi=1.306562965*Hi+Fa,wa=.707106781*(ei=Hr+zn),ss=Zn+wa,Li=Zn-wa;Be[gt+40]=Li+js,Be[gt+24]=Li-js,Be[gt+8]=ss+Gi,Be[gt+56]=ss-Gi,gt++}for(st=0;st<64;++st)bt=Be[st]*dt[st],_[st]=bt>0?bt+.5|0:bt-.5|0;return _})(P,z),et=0;et<64;++et)M[q[et]]=Ue[et];var ot=M[0]-K;K=M[0],ot==0?pe(ie[0]):(pe(ie[E[ye=32767+ot]]),pe(b[ye]));for(var ct=63;ct>0&&M[ct]==0;)ct--;if(ct==0)return pe(Ee),K;for(var vt,re=1;re<=ct;){for(var lt=re;M[re]==0&&re<=ct;)++re;var $t=re-lt;if($t>=16){vt=$t>>4;for(var Mt=1;Mt<=vt;++Mt)pe(Le);$t&=15}ye=32767+M[re],pe(de[($t<<4)+E[ye]]),pe(b[ye]),re++}return ct!=63&&pe(Ee),K}function X(P){P=Math.min(Math.max(P,1),100),o!=P&&((function(z){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var de=c((K[ie]*z+50)/100);de=Math.min(Math.max(de,1),255),u[q[ie]]=de}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var Le=c((ye[Ee]*z+50)/100);Le=Math.min(Math.max(Le,1),255),f[q[Ee]]=Le}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],et=0,ot=0;ot<8;ot++)for(var ct=0;ct<8;ct++)d[et]=1/(u[q[et]]*Ue[ot]*Ue[ct]*8),g[et]=1/(f[q[et]]*Ue[ot]*Ue[ct]*8),et++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),o=P)}this.encode=function(P,z){z&&X(z),V=new Array,U=0,j=7,Ce(65496),Ce(65504),Ce(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),Ce(1),Ce(1),ue(0),ue(0),(function(){Ce(65499),Ce(132),ue(0);for(var ge=0;ge<64;ge++)ue(u[ge]);ue(1);for(var Se=0;Se<64;Se++)ue(f[Se])})(),(function(ge,Se){Ce(65472),Ce(17),ue(8),Ce(Se),Ce(ge),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(P.width,P.height),(function(){Ce(65476),Ce(418),ue(0);for(var ge=0;ge<16;ge++)ue(k[ge+1]);for(var Se=0;Se<=11;Se++)ue(D[Se]);ue(16);for(var Ke=0;Ke<16;Ke++)ue(Y[Ke+1]);for(var He=0;He<=161;He++)ue(T[He]);ue(1);for(var Ve=0;Ve<16;Ve++)ue(R[Ve+1]);for(var it=0;it<=11;it++)ue(L[it]);ue(17);for(var ft=0;ft<16;ft++)ue(he[ft+1]);for(var st=0;st<=161;st++)ue(Ae[st])})(),Ce(65498),Ce(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var K=0,ie=0,de=0;U=0,j=7,this.encode.displayName="_encode_";for(var ye,Ee,Le,Ue,et,ot,ct,vt,re,lt=P.data,$t=P.width,Mt=P.height,Be=4*$t,dt=0;dt<Mt;){for(ye=0;ye<Be;){for(et=Be*dt+ye,ct=-1,vt=0,re=0;re<64;re++)ot=et+(vt=re>>3)*Be+(ct=4*(7&re)),dt+vt>=Mt&&(ot-=Be*(dt+1+vt-Mt)),ye+ct>=Be&&(ot-=ye+ct-Be+4),Ee=lt[ot++],Le=lt[ot++],Ue=lt[ot++],ne[re]=(fe[Ee]+fe[Le+256|0]+fe[Ue+512|0]>>16)-128,oe[re]=(fe[Ee+768|0]+fe[Le+1024|0]+fe[Ue+1280|0]>>16)-128,H[re]=(fe[Ee+1280|0]+fe[Le+1536|0]+fe[Ue+1792|0]>>16)-128;K=be(ne,d,K,e,r),ie=be(oe,g,ie,t,s),de=be(H,g,de,t,s),ye+=32}dt+=8}if(j>=0){var se=[];se[1]=j+1,se[0]=(1<<j+1)-1,pe(se)}return Ce(65497),new Uint8Array(V)},n=n||50,(function(){for(var P=String.fromCharCode,z=0;z<256;z++)ee[z]=P(z)})(),e=te(k,D),t=te(R,L),r=te(Y,T),s=te(he,Ae),(function(){for(var P=1,z=2,K=1;K<=15;K++){for(var ie=P;ie<z;ie++)E[32767+ie]=K,b[32767+ie]=[],b[32767+ie][1]=K,b[32767+ie][0]=ie;for(var de=-(z-1);de<=-P;de++)E[32767+de]=K,b[32767+de]=[],b[32767+de][1]=K,b[32767+de][0]=z-1+de;P<<=1,z<<=1}})(),(function(){for(var P=0;P<256;P++)fe[P]=19595*P,fe[P+256|0]=38470*P,fe[P+512|0]=7471*P+32768,fe[P+768|0]=-11059*P,fe[P+1024|0]=-21709*P,fe[P+1280|0]=32768*P+8421375,fe[P+1536|0]=-27439*P,fe[P+1792|0]=-5329*P})(),X(n)}function Ro(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Gx(n){function e(D){if(!D)throw Error("assert :P")}function t(D,Y,T){for(var R=0;4>R;R++)if(D[Y+R]!=T.charCodeAt(R))return!0;return!1}function r(D,Y,T,R,L){for(var he=0;he<L;he++)D[Y+he]=T[R+he]}function s(D,Y,T,R){for(var L=0;L<R;L++)D[Y+L]=T}function o(D){return new Int32Array(D)}function c(D,Y){for(var T=[],R=0;R<D;R++)T.push(new Y);return T}function u(D,Y){var T=[];return(function R(L,he,Ae){for(var te=Ae[he],pe=0;pe<te&&(L.push(Ae.length>he+1?[]:new Y),!(Ae.length<he+1));pe++)R(L[pe],he+1,Ae)})(T,0,D),T}var f=function(){var D=this;function Y(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function T(p,v,S,C,B){e(!(C%S));do p[v+(C-=S)]=B;while(0<C)}function R(p,v,S,C,B){if(e(2328>=B),512>=B)var G=o(512);else if((G=o(B))==null)return 0;return(function(W,Q,Z,ce,_e,De){var ae,xe,Re=Q,qe=1<<Z,ke=o(16),ze=o(16);for(e(_e!=0),e(ce!=null),e(W!=null),e(0<Z),xe=0;xe<_e;++xe){if(15<ce[xe])return 0;++ke[ce[xe]]}if(ke[0]==_e)return 0;for(ze[1]=0,ae=1;15>ae;++ae){if(ke[ae]>1<<ae)return 0;ze[ae+1]=ze[ae]+ke[ae]}for(xe=0;xe<_e;++xe)ae=ce[xe],0<ce[xe]&&(De[ze[ae]++]=xe);if(ze[15]==1)return(ce=new L).g=0,ce.value=De[0],T(W,Re,1,qe,ce),qe;var We,rt=-1,Ze=qe-1,Rt=0,_t=1,rn=1,Nt=1<<Z;for(xe=0,ae=1,_e=2;ae<=Z;++ae,_e<<=1){if(_t+=rn<<=1,0>(rn-=ke[ae]))return 0;for(;0<ke[ae];--ke[ae])(ce=new L).g=ae,ce.value=De[xe++],T(W,Re+Rt,_e,Nt,ce),Rt=Y(Rt,ae)}for(ae=Z+1,_e=2;15>=ae;++ae,_e<<=1){if(_t+=rn<<=1,0>(rn-=ke[ae]))return 0;for(;0<ke[ae];--ke[ae]){if(ce=new L,(Rt&Ze)!=rt){for(Re+=Nt,We=1<<(rt=ae)-Z;15>rt&&!(0>=(We-=ke[rt]));)++rt,We<<=1;qe+=Nt=1<<(We=rt-Z),W[Q+(rt=Rt&Ze)].g=We+Z,W[Q+rt].value=Re-Q-rt}ce.g=ae-Z,ce.value=De[xe++],T(W,Re+(Rt>>Z),_e,Nt,ce),Rt=Y(Rt,ae)}}return _t!=2*ze[15]-1?0:qe})(p,v,S,C,B,G)}function L(){this.value=this.g=0}function he(){this.value=this.g=0}function Ae(){this.G=c(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c($o,he)}function te(p,v,S,C){e(p!=null),e(v!=null),e(2147483648>C),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+C,p.Zc=4<=C?S+C-4+1:S,Ee(p)}function pe(p,v){for(var S=0;0<v--;)S|=Ue(p,128)<<v;return S}function ue(p,v){var S=pe(p,v);return Le(p)?-S:S}function Ce(p,v,S,C){var B,G=0;for(e(p!=null),e(v!=null),e(4294967288>C),p.Sb=C,p.Ra=0,p.u=0,p.h=0,4<C&&(C=4),B=0;B<C;++B)G+=v[S+B]<<8*B;p.Ra=G,p.bb=C,p.oa=v,p.pa=S}function be(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Wa-8>>>0,++p.bb,p.u-=8;ie(p)&&(p.h=1,p.u=0)}function X(p,v){if(e(0<=v),!p.h&&v<=ds){var S=K(p)&Es[v];return p.u+=v,be(p),S}return p.h=1,p.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(p){return p.Ra>>>(p.u&Wa-1)>>>0}function ie(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Wa}function de(p,v){p.u=v,p.h=ie(p)}function ye(p){p.u>=Ka&&(e(p.u>=Ka),be(p))}function Ee(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Le(p){return pe(p,1)}function Ue(p,v){var S=p.Ca;0>p.b&&Ee(p);var C=p.b,B=S*v>>>8,G=(p.I>>>C>B)+0;for(G?(S-=B,p.I-=B+1<<C>>>0):S=B+1,C=S,B=0;256<=C;)B+=8,C>>=8;return C=7^B+yo[C],p.b-=C,p.Ca=(S<<C)-1,G}function et(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function ot(p,v){return p[v+0]|p[v+1]<<8}function ct(p,v){return ot(p,v)|p[v+2]<<16}function vt(p,v){return ot(p,v)|ot(p,v+2)<<16}function re(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function lt(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function $t(){this.X=[],this.Xa=this.Mb=0}function Mt(p,v,S,C){e(S!=null),e(C!=null);var B=S[0],G=C[0];return B==0&&(B=(p*G+v/2)/v),G==0&&(G=(v*B+p/2)/p),0>=B||0>=G?0:(S[0]=B,C[0]=G,1)}function Be(p,v){return p+(1<<v)-1>>>v}function dt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function se(p,v){D[v]=function(S,C,B,G,W,Q,Z){var ce;for(ce=0;ce<W;++ce){var _e=D[p](Q[Z+ce-1],B,G+ce);Q[Z+ce]=dt(S[C+ce],_e)}}}function ge(){this.ud=this.hd=this.jd=0}function Se(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Ke(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function He(p,v){return Ke(p+(p-v+.5>>1))}function Ve(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function it(p,v,S,C,B,G,W){for(C=G[W-1],S=0;S<B;++S)G[W+S]=C=dt(p[v+S],C)}function ft(p,v,S,C,B){var G;for(G=0;G<S;++G){var W=p[v+G],Q=W>>8&255,Z=16711935&(Z=(Z=16711935&W)+((Q<<16)+Q));C[B+G]=(4278255360&W)+Z>>>0}}function st(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function bt(p,v,S,C,B,G){var W;for(W=0;W<C;++W){var Q=v[S+W],Z=Q>>>8,ce=Q,_e=255&(_e=(_e=Q>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));ce=255&(ce=(ce+=(p.hd<<24>>24)*(Z<<24>>24)>>>5)+((p.ud<<24>>24)*(_e<<24>>24)>>>5)),B[G+W]=(4278255360&Q)+(_e<<16)+ce}}function gt(p,v,S,C,B){D[v]=function(G,W,Q,Z,ce,_e,De,ae,xe){for(Z=De;Z<ae;++Z)for(De=0;De<xe;++De)ce[_e++]=B(Q[C(G[W++])])},D[p]=function(G,W,Q,Z,ce,_e,De){var ae=8>>G.b,xe=G.Ea,Re=G.K[0],qe=G.w;if(8>ae)for(G=(1<<G.b)-1,qe=(1<<ae)-1;W<Q;++W){var ke,ze=0;for(ke=0;ke<xe;++ke)ke&G||(ze=C(Z[ce++])),_e[De++]=B(Re[ze&qe]),ze>>=ae}else D["VP8LMapColor"+S](Z,ce,Re,qe,_e,De,W,Q,xe)}}function fn(p,v,S,C,B){for(S=v+S;v<S;){var G=p[v++];C[B++]=G>>16&255,C[B++]=G>>8&255,C[B++]=255&G}}function Zt(p,v,S,C,B){for(S=v+S;v<S;){var G=p[v++];C[B++]=G>>16&255,C[B++]=G>>8&255,C[B++]=255&G,C[B++]=G>>24&255}}function Pt(p,v,S,C,B){for(S=v+S;v<S;){var G=(W=p[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;C[B++]=G,C[B++]=W}}function Ft(p,v,S,C,B){for(S=v+S;v<S;){var G=(W=p[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;C[B++]=G,C[B++]=W}}function Qt(p,v,S,C,B){for(S=v+S;v<S;){var G=p[v++];C[B++]=255&G,C[B++]=G>>8&255,C[B++]=G>>16&255}}function Ot(p,v,S,C,B,G){if(G==0)for(S=v+S;v<S;)et(C,((G=p[v++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),B+=32;else r(C,B,p,v,S)}function yn(p,v){D[v][0]=D[p+"0"],D[v][1]=D[p+"1"],D[v][2]=D[p+"2"],D[v][3]=D[p+"3"],D[v][4]=D[p+"4"],D[v][5]=D[p+"5"],D[v][6]=D[p+"6"],D[v][7]=D[p+"7"],D[v][8]=D[p+"8"],D[v][9]=D[p+"9"],D[v][10]=D[p+"10"],D[v][11]=D[p+"11"],D[v][12]=D[p+"12"],D[v][13]=D[p+"13"],D[v][14]=D[p+"0"],D[v][15]=D[p+"0"]}function Et(p){return p==Au||p==ah||p==gc||p==oh}function zt(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new jn,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _n(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function An(p,v){var S=p.T,C=v.ba.f.RGBA,B=C.eb,G=C.fb+p.ka*C.A,W=Vi[v.ba.S],Q=p.y,Z=p.O,ce=p.f,_e=p.N,De=p.ea,ae=p.W,xe=v.cc,Re=v.dc,qe=v.Mc,ke=v.Nc,ze=p.ka,We=p.ka+p.T,rt=p.U,Ze=rt+1>>1;for(ze==0?W(Q,Z,null,null,ce,_e,De,ae,ce,_e,De,ae,B,G,null,null,rt):(W(v.ec,v.fc,Q,Z,xe,Re,qe,ke,ce,_e,De,ae,B,G-C.A,B,G,rt),++S);ze+2<We;ze+=2)xe=ce,Re=_e,qe=De,ke=ae,_e+=p.Rc,ae+=p.Rc,G+=2*C.A,W(Q,(Z+=2*p.fa)-p.fa,Q,Z,xe,Re,qe,ke,ce,_e,De,ae,B,G-C.A,B,G,rt);return Z+=p.fa,p.j+We<p.o?(r(v.ec,v.fc,Q,Z,rt),r(v.cc,v.dc,ce,_e,Ze),r(v.Mc,v.Nc,De,ae,Ze),S--):1&We||W(Q,Z,null,null,ce,_e,De,ae,ce,_e,De,ae,B,G+C.A,null,null,rt),S}function cr(p,v,S){var C=p.F,B=[p.J];if(C!=null){var G=p.U,W=v.ba.S,Q=W==xu||W==gc;v=v.ba.f.RGBA;var Z=[0],ce=p.ka;Z[0]=p.T,p.Kb&&(ce==0?--Z[0]:(--ce,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-ce));var _e=v.eb;ce=v.fb+ce*v.A,p=vu(C,B[0],p.width,G,Z,_e,ce+(Q?0:3),v.A),e(S==Z),p&&Et(W)&&Rl(_e,ce,Q,G,Z,v.A)}return 0}function Sr(p){var v=p.ma,S=v.ba.S,C=11>S,B=S==Qi||S==na||S==xu||S==mc||S==12||Et(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!go(v.Oa,p,B?11:12))return 0;if(B&&Et(S)&&nn(),p.da)alert("todo:use_scaling");else{if(C){if(v.Ib=_n,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=An,nn()}}else alert("todo:EmitYUV");B&&(v.Jb=cr,C&&Me())}if(C&&!nl){for(p=0;256>p;++p)Fi[p]=89858*(p-128)+bc>>la,Wg[p]=-22014*(p-128)+bc,mp[p]=-45773*(p-128),fh[p]=113618*(p-128)+bc>>la;for(p=Pl;p<tl;++p)v=76283*(p-16)+bc>>la,Kg[p-Pl]=os(v,255),$g[p-Pl]=os(v+8>>4,15);nl=1}return 1}function pt(p){var v=p.ma,S=p.U,C=p.T;return e(!(1&p.ka)),0>=S||0>=C?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Er(p){p.ma.memory=null}function Zr(p,v,S,C){return X(p,8)!=47?0:(v[0]=X(p,14)+1,S[0]=X(p,14)+1,C[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Zn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+X(v,S)+1}function er(p,v){return 120<v?v-120:1<=(S=((S=ia[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function zn(p,v,S){var C=K(S),B=p[v+=255&C].g-8;return 0<B&&(de(S,S.u+8),C=K(S),v+=p[v].value,v+=C&(1<<B)-1),de(S,S.u+p[v].g),p[v].value}function Tn(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Hr(p,v,S){var C=p.xc;return e((v=C==0?0:p.vc[p.md*(S>>C)+(v>>C)])<p.Wb),p.Ya[v]}function Ri(p,v,S,C){var B=p.ab,G=p.c*v,W=p.C;v=W+v;var Q=S,Z=C;for(C=p.Ta,S=p.Ua;0<B--;){var ce=p.gc[B],_e=W,De=v,ae=Q,xe=Z,Re=(Z=C,Q=S,ce.Ea);switch(e(_e<De),e(De<=ce.nc),ce.hc){case 2:Wr(ae,xe,(De-_e)*Re,Z,Q);break;case 0:var qe=_e,ke=De,ze=Z,We=Q,rt=(Nt=ce).Ea;qe==0&&(hc(ae,xe,null,null,1,ze,We),it(ae,xe+1,0,0,rt-1,ze,We+1),xe+=rt,We+=rt,++qe);for(var Ze=1<<Nt.b,Rt=Ze-1,_t=Be(rt,Nt.b),rn=Nt.K,Nt=Nt.w+(qe>>Nt.b)*_t;qe<ke;){var xn=rn,_r=Nt,on=1;for(fc(ae,xe,ze,We-rt,1,ze,We);on<rt;){var wt=(on&~Rt)+Ze;wt>rt&&(wt=rt),(0,vo[xn[_r++]>>8&15])(ae,xe+ +on,ze,We+on-rt,wt-on,ze,We+on),on=wt}xe+=rt,We+=rt,++qe&Rt||(Nt+=_t)}De!=ce.nc&&r(Z,Q-Re,Z,Q+(De-_e-1)*Re,Re);break;case 1:for(Re=ae,ke=xe,rt=(ae=ce.Ea)-(We=ae&~(ze=(xe=1<<ce.b)-1)),qe=Be(ae,ce.b),Ze=ce.K,ce=ce.w+(_e>>ce.b)*qe;_e<De;){for(Rt=Ze,_t=ce,rn=new ge,Nt=ke+We,xn=ke+ae;ke<Nt;)st(Rt[_t++],rn),dc(rn,Re,ke,xe,Z,Q),ke+=xe,Q+=xe;ke<xn&&(st(Rt[_t++],rn),dc(rn,Re,ke,rt,Z,Q),ke+=rt,Q+=rt),++_e&ze||(ce+=qe)}break;case 3:if(ae==Z&&xe==Q&&0<ce.b){for(ke=Z,ae=Re=Q+(De-_e)*Re-(We=(De-_e)*Be(ce.Ea,ce.b)),xe=Z,ze=Q,qe=[],We=(rt=We)-1;0<=We;--We)qe[We]=xe[ze+We];for(We=rt-1;0<=We;--We)ke[ae+We]=qe[We];th(ce,_e,De,Z,Re,Z,Q)}else th(ce,_e,De,ae,xe,Z,Q)}Q=C,Z=S}Z!=S&&r(C,S,Q,Z,G)}function vi(p,v){var S=p.V,C=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var G=p.l,W=p.Ta,Q=p.Ua,Z=G.width;if(Ri(p,B,S,C),B=Q=[Q],e((S=p.C)<(C=v)),e(G.v<G.va),C>G.o&&(C=G.o),S<G.j){var ce=G.j-S;S=G.j,B[0]+=ce*Z}if(S>=C?S=0:(B[0]+=4*G.v,G.ka=S-G.j,G.U=G.va-G.v,G.T=C-S,S=1),S){if(Q=Q[0],11>(S=p.ca).S){var _e=S.f.RGBA,De=(C=S.S,B=G.U,G=G.T,ce=_e.eb,_e.A),ae=G;for(_e=_e.fb+p.Ma*_e.A;0<ae--;){var xe=W,Re=Q,qe=B,ke=ce,ze=_e;switch(C){case ih:pc(xe,Re,qe,ke,ze);break;case Qi:bo(xe,Re,qe,ke,ze);break;case Au:bo(xe,Re,qe,ke,ze),Rl(ke,ze,0,qe,1,0);break;case sh:Cl(xe,Re,qe,ke,ze);break;case na:Ot(xe,Re,qe,ke,ze,1);break;case ah:Ot(xe,Re,qe,ke,ze,1),Rl(ke,ze,0,qe,1,0);break;case xu:Ot(xe,Re,qe,ke,ze,0);break;case gc:Ot(xe,Re,qe,ke,ze,0),Rl(ke,ze,1,qe,1,0);break;case mc:_o(xe,Re,qe,ke,ze);break;case oh:_o(xe,Re,qe,ke,ze),ta(ke,ze,qe,1,0);break;case Xo:Qa(xe,Re,qe,ke,ze);break;default:e(0)}Q+=Z,_e+=De}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function Gn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,C=p.Ya[v].H;if(0<S[1][C[1]+0].g||0<S[2][C[2]+0].g||0<S[3][C[3]+0].g)return 0}return 1}function rr(p,v,S,C,B,G){if(p.Z!=0){var W=p.qd,Q=p.rd;for(e(Ao[p.Z]!=null);v<S;++v)Ao[p.Z](W,Q,C,B,C,B,G),W=C,Q=B,B+=G;p.qd=W,p.rd=Q}}function ei(p,v){var S=p.l.ma,C=S.Z==0||S.Z==1?p.l.j:p.C;if(C=p.C<C?C:p.C,e(v<=p.l.o),v>C){var B=p.l.width,G=S.ca,W=S.tb+B*C,Q=p.V,Z=p.Ba+p.c*C,ce=p.gc;e(p.ab==1),e(ce[0].hc==3),Xa(ce[0],C,v,Q,Z,G,W),rr(S,C,v,G,W,B)}p.C=p.Ma=v}function Hi(p,v,S,C,B,G,W){var Q=p.$/C,Z=p.$%C,ce=p.m,_e=p.s,De=S+p.$,ae=De;B=S+C*B;var xe=S+C*G,Re=280+_e.ua,qe=p.Pb?Q:16777216,ke=0<_e.ua?_e.Wa:null,ze=_e.wc,We=De<xe?Hr(_e,Z,Q):null;e(p.C<G),e(xe<=B);var rt=!1;e:for(;;){for(;rt||De<xe;){var Ze=0;if(Q>=qe){var Rt=De-S;e((qe=p).Pb),qe.wd=qe.m,qe.xd=Rt,0<qe.s.ua&&lt(qe.s.Wa,qe.s.vb),qe=Q+Qo}if(Z&ze||(We=Hr(_e,Z,Q)),e(We!=null),We.Qb&&(v[De]=We.qb,rt=!0),!rt)if(ye(ce),We.jc){Ze=ce,Rt=v;var _t=De,rn=We.pd[K(Ze)&$o-1];e(We.jc),256>rn.g?(de(Ze,Ze.u+rn.g),Rt[_t]=rn.value,Ze=0):(de(Ze,Ze.u+rn.g-256),e(256<=rn.value),Ze=rn.value),Ze==0&&(rt=!0)}else Ze=zn(We.G[0],We.H[0],ce);if(ce.h)break;if(rt||256>Ze){if(!rt)if(We.nd)v[De]=(We.qb|Ze<<8)>>>0;else{if(ye(ce),rt=zn(We.G[1],We.H[1],ce),ye(ce),Rt=zn(We.G[2],We.H[2],ce),_t=zn(We.G[3],We.H[3],ce),ce.h)break;v[De]=(_t<<24|rt<<16|Ze<<8|Rt)>>>0}if(rt=!1,++De,++Z>=C&&(Z=0,++Q,W!=null&&Q<=G&&!(Q%16)&&W(p,Q),ke!=null))for(;ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else if(280>Ze){if(Ze=Zn(Ze-256,ce),Rt=zn(We.G[4],We.H[4],ce),ye(ce),Rt=er(C,Rt=Zn(Rt,ce)),ce.h)break;if(De-S<Rt||B-De<Ze)break e;for(_t=0;_t<Ze;++_t)v[De+_t]=v[De+_t-Rt];for(De+=Ze,Z+=Ze;Z>=C;)Z-=C,++Q,W!=null&&Q<=G&&!(Q%16)&&W(p,Q);if(e(De<=B),Z&ze&&(We=Hr(_e,Z,Q)),ke!=null)for(;ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else{if(!(Ze<Re))break e;for(rt=Ze-280,e(ke!=null);ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze;Ze=De,e(!(rt>>>(Rt=ke).Xa)),v[Ze]=Rt.X[rt],rt=!0}rt||e(ce.h==ie(ce))}if(p.Pb&&ce.h&&De<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&lt(p.s.vb,p.s.Wa);else{if(ce.h)break e;W?.(p,Q>G?G:Q),p.a=0,p.$=De-S}return 1}return p.a=3,0}function _s(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Fa(){var p=new Yt;return p==null?null:(p.a=0,p.xb=Of,yn("Predictor","VP8LPredictors"),yn("Predictor","VP8LPredictors_C"),yn("PredictorAdd","VP8LPredictorsAdd"),yn("PredictorAdd","VP8LPredictorsAdd_C"),Wr=ft,dc=bt,pc=fn,bo=Zt,_o=Pt,Qa=Ft,Cl=Qt,D.VP8LMapColor32b=$a,D.VP8LMapColor8b=Oi,p)}function js(p,v,S,C,B){var G=1,W=[p],Q=[v],Z=C.m,ce=C.s,_e=null,De=0;e:for(;;){if(S)for(;G&&X(Z,1);){var ae=W,xe=Q,Re=C,qe=1,ke=Re.m,ze=Re.gc[Re.ab],We=X(ke,2);if(Re.Oc&1<<We)G=0;else{switch(Re.Oc|=1<<We,ze.hc=We,ze.Ea=ae[0],ze.nc=xe[0],ze.K=[null],++Re.ab,e(4>=Re.ab),We){case 0:case 1:ze.b=X(ke,3)+2,qe=js(Be(ze.Ea,ze.b),Be(ze.nc,ze.b),0,Re,ze.K),ze.K=ze.K[0];break;case 3:var rt,Ze=X(ke,8)+1,Rt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(ae[0]=Be(ze.Ea,Rt),ze.b=Rt,rt=qe=js(Ze,1,0,Re,ze.K)){var _t,rn=Ze,Nt=ze,xn=1<<(8>>Nt.b),_r=o(xn);if(_r==null)rt=0;else{var on=Nt.K[0],wt=Nt.w;for(_r[0]=Nt.K[0][0],_t=1;_t<1*rn;++_t)_r[_t]=dt(on[wt+_t],_r[_t-1]);for(;_t<4*xn;++_t)_r[_t]=0;Nt.K[0]=null,Nt.K[0]=_r,rt=1}}qe=rt;break;case 2:break;default:e(0)}G=qe}}if(W=W[0],Q=Q[0],G&&X(Z,1)&&!(G=1<=(De=X(Z,4))&&11>=De)){C.a=3;break e}var ht;if(ht=G)t:{var Rr,Xt,hn,Xn=C,hi=W,Ui=Q,dr=De,ni=S,Ji=Xn.m,ri=Xn.s,gn=[null],Vn=1,Lr=0,Hn=sa[dr];n:for(;;){if(ni&&X(Ji,1)){var fi=X(Ji,3)+2,kr=Be(hi,fi),Fn=Be(Ui,fi),Xr=kr*Fn;if(!js(kr,Fn,0,Xn,gn))break n;for(gn=gn[0],ri.xc=fi,Rr=0;Rr<Xr;++Rr){var Qn=gn[Rr]>>8&65535;gn[Rr]=Qn,Qn>=Vn&&(Vn=Qn+1)}}if(Ji.h)break n;for(Xt=0;5>Xt;++Xt){var ii=kl[Xt];!Xt&&0<dr&&(ii+=1<<dr),Lr<ii&&(Lr=ii)}var si=c(Vn*Hn,L),sr=Vn,On=c(sr,Ae);if(On==null)var Zi=null;else e(65536>=sr),Zi=On;var Ur=o(Lr);if(Zi==null||Ur==null||si==null){Xn.a=1;break n}var Ht=si;for(Rr=hn=0;Rr<Vn;++Rr){var Wt=Zi[Rr],Un=Wt.G,Ns=Wt.H,ca=0,ms=1,ai=0;for(Xt=0;5>Xt;++Xt){ii=kl[Xt],Un[Xt]=Ht,Ns[Xt]=hn,!Xt&&0<dr&&(ii+=1<<dr);i:{var rl,il=ii,ph=Xn,pr=Ur,jf=Ht,Vf=hn,mh=0,So=ph.m,Xg=X(So,1);if(s(pr,0,0,il),Xg){var Ff=X(So,1)+1,Uf=X(So,1),gh=X(So,Uf==0?1:8);pr[gh]=1,Ff==2&&(pr[gh=X(So,8)]=1);var xi=1}else{var Br=o(19),Tu=X(So,4)+4;if(19<Tu){ph.a=3;var sl=0;break i}for(rl=0;rl<Tu;++rl)Br[Su[rl]]=X(So,3);var wc=void 0,Ol=void 0,eo=ph,yh=Br,xc=il,vh=pr,bh=0,Eo=eo.m,Bf=8,zf=c(128,L);r:for(;R(zf,0,7,yh,19);){if(X(Eo,1)){var gp=2+2*X(Eo,3);if((wc=2+X(Eo,gp))>xc)break r}else wc=xc;for(Ol=0;Ol<xc&&wc--;){ye(Eo);var qf=zf[0+(127&K(Eo))];de(Eo,Eo.u+qf.g);var al=qf.value;if(16>al)vh[Ol++]=al,al!=0&&(Bf=al);else{var yp=al==16,vp=al-16,bp=yc[vp],Hf=X(Eo,ra[vp])+bp;if(Ol+Hf>xc)break r;for(var _p=yp?Bf:0;0<Hf--;)vh[Ol++]=_p}}bh=1;break r}bh||(eo.a=3),xi=bh}(xi=xi&&!So.h)&&(mh=R(jf,Vf,8,pr,il)),xi&&mh!=0?sl=mh:(ph.a=3,sl=0)}if(sl==0)break n;if(ms&&lh[Xt]==1&&(ms=Ht[hn].g==0),ca+=Ht[hn].g,hn+=sl,3>=Xt){var Ml,_h=Ur[0];for(Ml=1;Ml<ii;++Ml)Ur[Ml]>_h&&(_h=Ur[Ml]);ai+=_h}}if(Wt.nd=ms,Wt.Qb=0,ms&&(Wt.qb=(Un[3][Ns[3]+0].value<<24|Un[1][Ns[1]+0].value<<16|Un[2][Ns[2]+0].value)>>>0,ca==0&&256>Un[0][Ns[0]+0].value&&(Wt.Qb=1,Wt.qb+=Un[0][Ns[0]+0].value<<8)),Wt.jc=!Wt.Qb&&6>ai,Wt.jc){var Cu,to=Wt;for(Cu=0;Cu<$o;++Cu){var No=Cu,To=to.pd[No],wh=to.G[0][to.H[0]+No];256<=wh.value?(To.g=wh.g+256,To.value=wh.value):(To.g=0,To.value=0,No>>=Tn(wh,8,To),No>>=Tn(to.G[1][to.H[1]+No],16,To),No>>=Tn(to.G[2][to.H[2]+No],0,To),Tn(to.G[3][to.H[3]+No],24,To))}}}ri.vc=gn,ri.Wb=Vn,ri.Ya=Zi,ri.yc=si,ht=1;break t}ht=0}if(!(G=ht)){C.a=3;break e}if(0<De){if(ce.ua=1<<De,!re(ce.Wa,De)){C.a=1,G=0;break e}}else ce.ua=0;var xh=C,jl=W,wp=Q,Ac=xh.s,Sc=Ac.xc;if(xh.c=jl,xh.i=wp,Ac.md=Be(jl,Sc),Ac.wc=Sc==0?-1:(1<<Sc)-1,S){C.xb=Jo;break e}if((_e=o(W*Q))==null){C.a=1,G=0;break e}G=(G=Hi(C,_e,0,W,Q,Q,null))&&!Z.h;break e}return G?(B!=null?B[0]=_e:(e(_e==null),e(S)),C.$=0,S||_s(ce)):_s(ce),G}function Gi(p,v){var S=p.c*p.i,C=S+v+16*v;return e(p.c<=v),p.V=o(C),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function wa(p,v){var S=p.C,C=v-S,B=p.V,G=p.Ba+p.c*S;for(e(v<=p.l.o);0<C;){var W=16<C?16:C,Q=p.l.ma,Z=p.l.width,ce=Z*W,_e=Q.ca,De=Q.tb+Z*S,ae=p.Ta,xe=p.Ua;Ri(p,W,B,G),Gs(ae,xe,_e,De,ce),rr(Q,S,S+W,_e,De,Z),C-=W,B+=W*p.c,S+=W}e(S==v),p.C=p.Ma=v}function ss(){this.ub=this.yd=this.td=this.Rb=0}function Li(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function as(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ws(){this.Yb=(function(){var p=[];return(function v(S,C,B){for(var G=B[C],W=0;W<G&&(S.push(B.length>C+1?[]:0),!(B.length<C+1));W++)v(S[W],C+1,B)})(p,0,[3,11]),p})()}function Ir(){this.jb=o(3),this.Wc=u([4,8],ws),this.Xc=u([4,17],ws)}function Bo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Yi(){this.ld=this.La=this.dd=this.tc=0}function xs(){this.Na=this.la=0}function Vs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function lo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yi),this.Y=0,this.ya=Array(new lo),this.aa=0,this.l=new bi}function qo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function wl(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new ss,this.Kc=new Li,this.ed=new Bo,this.Qa=new as,this.Ic=this.$c=this.Aa=0,this.D=new zo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,P),this.ia=0,this.pb=c(4,Vs),this.Pa=new Ir,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qo),this.Hd=0,this.rb=Array(new xs),this.sb=0,this.wa=Array(new Yi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new lo),this.L=this.aa=0,this.gd=u([4,2],Yi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function os(p,v){return 0>p?0:p>v?v:p}function bi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jr(){var p=new wl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ys||(Ys=Cn)),p}function vn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function xa(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function As(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return vn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,C=v.w,B=v.ha;if(4>B)return vn(p,7,"Truncated header.");var G=S[C+0]|S[C+1]<<8|S[C+2]<<16,W=p.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return vn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return vn(p,4,"Frame not displayable.");C+=3,B-=3;var Q=p.Kc;if(W.Rb){if(7>B)return vn(p,7,"cannot parse picture header");if(!xa(S,C,B))return vn(p,3,"Bad code word");Q.c=16383&(S[C+4]<<8|S[C+3]),Q.Td=S[C+4]>>6,Q.i=16383&(S[C+6]<<8|S[C+5]),Q.Ud=S[C+6]>>6,C+=7,B-=7,p.za=Q.c+15>>4,p.Ub=Q.i+15>>4,v.width=Q.c,v.height=Q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((G=p.Pa).jb,0,255,G.jb.length),e((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if(W.ub>B)return vn(p,7,"bad partition length");te(G=p.m,S,C,W.ub),C+=W.ub,B-=W.ub,W.Rb&&(Q.Ld=Le(G),Q.Kd=Le(G)),Q=p.Qa;var Z,ce=p.Pa;if(e(G!=null),e(Q!=null),Q.Cb=Le(G),Q.Cb){if(Q.Bb=Le(G),Le(G)){for(Q.Fb=Le(G),Z=0;4>Z;++Z)Q.Zb[Z]=Le(G)?ue(G,7):0;for(Z=0;4>Z;++Z)Q.Lb[Z]=Le(G)?ue(G,6):0}if(Q.Bb)for(Z=0;3>Z;++Z)ce.jb[Z]=Le(G)?pe(G,8):255}else Q.Bb=0;if(G.Ka)return vn(p,3,"cannot parse segment header");if((Q=p.ed).zd=Le(G),Q.Tb=pe(G,6),Q.wb=pe(G,3),Q.Pc=Le(G),Q.Pc&&Le(G)){for(ce=0;4>ce;++ce)Le(G)&&(Q.vd[ce]=ue(G,6));for(ce=0;4>ce;++ce)Le(G)&&(Q.od[ce]=ue(G,6))}if(p.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return vn(p,3,"cannot parse filter header");var _e=B;if(B=Z=C,C=Z+_e,Q=_e,p.Xb=(1<<pe(p.m,2))-1,_e<3*(ce=p.Xb))S=7;else{for(Z+=3*ce,Q-=3*ce,_e=0;_e<ce;++_e){var De=S[B+0]|S[B+1]<<8|S[B+2]<<16;De>Q&&(De=Q),te(p.Jc[+_e],S,Z,De),Z+=De,Q-=De,B+=3}te(p.Jc[+ce],S,Z,Q),S=Z<C?0:5}if(S!=0)return vn(p,S,"cannot parse partitions");for(S=pe(Z=p.m,7),B=Le(Z)?ue(Z,4):0,C=Le(Z)?ue(Z,4):0,Q=Le(Z)?ue(Z,4):0,ce=Le(Z)?ue(Z,4):0,Z=Le(Z)?ue(Z,4):0,_e=p.Qa,De=0;4>De;++De){if(_e.Cb){var ae=_e.Zb[De];_e.Fb||(ae+=S)}else{if(0<De){p.pb[De]=p.pb[0];continue}ae=S}var xe=p.pb[De];xe.Sc[0]=aa[os(ae+B,127)],xe.Sc[1]=oa[os(ae+0,127)],xe.Eb[0]=2*aa[os(ae+C,127)],xe.Eb[1]=101581*oa[os(ae+Q,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=aa[os(ae+ce,117)],xe.Qc[1]=oa[os(ae+Z,127)],xe.lc=ae+Z}if(!W.Rb)return vn(p,4,"Not a key frame.");for(Le(G),W=p.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(C=0;3>C;++C)for(Q=0;11>Q;++Q)ce=Ue(G,br[S][B][C][Q])?pe(G,8):pp[S][B][C][Q],W.Wc[S][B].Yb[C][Q]=ce;for(B=0;17>B;++B)W.Xc[S][B]=W.Wc[S][Sn[B]]}return p.kc=Le(G),p.kc&&(p.Bd=pe(G,8)),p.cb=1}function Cn(p,v,S,C,B,G,W){var Q=v[B].Yb[S];for(S=0;16>B;++B){if(!Ue(p,Q[S+0]))return B;for(;!Ue(p,Q[S+1]);)if(Q=v[++B].Yb[0],S=0,B==16)return 16;var Z=v[B+1].Yb;if(Ue(p,Q[S+2])){var ce=p,_e=0;if(Ue(ce,(ae=Q)[(De=S)+3]))if(Ue(ce,ae[De+6])){for(Q=0,De=2*(_e=Ue(ce,ae[De+8]))+(ae=Ue(ce,ae[De+9+_e])),_e=0,ae=dp[De];ae[Q];++Q)_e+=_e+Ue(ce,ae[Q]);_e+=3+(8<<De)}else Ue(ce,ae[De+7])?(_e=7+2*Ue(ce,165),_e+=Ue(ce,145)):_e=5+Ue(ce,159);else _e=Ue(ce,ae[De+4])?3+Ue(ce,ae[De+5]):2;Q=Z[2]}else _e=1,Q=Z[1];Z=W+Pf[B],0>(ce=p).b&&Ee(ce);var De,ae=ce.b,xe=(De=ce.Ca>>1)-(ce.I>>ae)>>31;--ce.b,ce.Ca+=xe,ce.Ca|=1,ce.I-=(De+1&xe)<<ae,G[Z]=((_e^xe)-xe)*C[(0<B)+0]}return 16}function Ua(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Gr(p,v,S,C,B){B=p[v+S+32*C]+(B>>3),p[v+S+32*C]=-256&B?0>B?0:255:B}function vr(p,v,S,C,B,G){Gr(p,v,0,S,C+B),Gr(p,v,1,S,C+G),Gr(p,v,2,S,C-G),Gr(p,v,3,S,C-B)}function Vr(p){return(20091*p>>16)+p}function co(p,v,S,C){var B,G=0,W=o(16);for(B=0;4>B;++B){var Q=p[v+0]+p[v+8],Z=p[v+0]-p[v+8],ce=(35468*p[v+4]>>16)-Vr(p[v+12]),_e=Vr(p[v+4])+(35468*p[v+12]>>16);W[G+0]=Q+_e,W[G+1]=Z+ce,W[G+2]=Z-ce,W[G+3]=Q-_e,G+=4,v++}for(B=G=0;4>B;++B)Q=(p=W[G+0]+4)+W[G+8],Z=p-W[G+8],ce=(35468*W[G+4]>>16)-Vr(W[G+12]),Gr(S,C,0,0,Q+(_e=Vr(W[G+4])+(35468*W[G+12]>>16))),Gr(S,C,1,0,Z+ce),Gr(S,C,2,0,Z-ce),Gr(S,C,3,0,Q-_e),G++,C+=32}function cc(p,v,S,C){var B=p[v+0]+4,G=35468*p[v+4]>>16,W=Vr(p[v+4]),Q=35468*p[v+1]>>16;vr(S,C,0,B+W,p=Vr(p[v+1]),Q),vr(S,C,1,B+G,p,Q),vr(S,C,2,B-G,p,Q),vr(S,C,3,B-W,p,Q)}function xl(p,v,S,C,B){co(p,v,S,C),B&&co(p,v+16,S,C+4)}function ki(p,v,S,C){wo(p,v+0,S,C,1),wo(p,v+32,S,C+128,1)}function Al(p,v,S,C){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)Gr(S,C,v,B,p)}function Aa(p,v,S,C){p[v+0]&&qn(p,v+0,S,C),p[v+16]&&qn(p,v+16,S,C+4),p[v+32]&&qn(p,v+32,S,C+128),p[v+48]&&qn(p,v+48,S,C+128+4)}function ci(p,v,S,C){var B,G=o(16);for(B=0;4>B;++B){var W=p[v+0+B]+p[v+12+B],Q=p[v+4+B]+p[v+8+B],Z=p[v+4+B]-p[v+8+B],ce=p[v+0+B]-p[v+12+B];G[0+B]=W+Q,G[8+B]=W-Q,G[4+B]=ce+Z,G[12+B]=ce-Z}for(B=0;4>B;++B)W=(p=G[0+4*B]+3)+G[3+4*B],Q=G[1+4*B]+G[2+4*B],Z=G[1+4*B]-G[2+4*B],ce=p-G[3+4*B],S[C+0]=W+Q>>3,S[C+16]=ce+Z>>3,S[C+32]=W-Q>>3,S[C+48]=ce-Z>>3,C+=64}function Ba(p,v,S){var C,B=v-32,G=Xi,W=255-p[B-1];for(C=0;C<S;++C){var Q,Z=G,ce=W+p[v-1];for(Q=0;Q<S;++Q)p[v+Q]=Z[ce+p[B+Q]];v+=32}}function Sl(p,v){Ba(p,v,4)}function El(p,v){Ba(p,v,8)}function Ho(p,v){Ba(p,v,16)}function Go(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function Sa(p,v){var S;for(S=16;0<S;--S)s(p,v,p[v-1],16),v+=32}function Wi(p,v,S){var C;for(C=0;16>C;++C)s(v,S+32*C,p,16)}function Fs(p,v){var S,C=16;for(S=0;16>S;++S)C+=p[v-1+32*S]+p[v+S-32];Wi(C>>5,p,v)}function Ea(p,v){var S,C=8;for(S=0;16>S;++S)C+=p[v-1+32*S];Wi(C>>4,p,v)}function Ki(p,v){var S,C=8;for(S=0;16>S;++S)C+=p[v+S-32];Wi(C>>4,p,v)}function za(p,v){Wi(128,p,v)}function qt(p,v,S){return p+2*v+S+2>>2}function uo(p,v){var S,C=v-32;for(C=new Uint8Array([qt(p[C-1],p[C+0],p[C+1]),qt(p[C+0],p[C+1],p[C+2]),qt(p[C+1],p[C+2],p[C+3]),qt(p[C+2],p[C+3],p[C+4])]),S=0;4>S;++S)r(p,v+32*S,C,0,C.length)}function Yo(p,v){var S=p[v-1],C=p[v-1+32],B=p[v-1+64],G=p[v-1+96];et(p,v+0,16843009*qt(p[v-1-32],S,C)),et(p,v+32,16843009*qt(S,C,B)),et(p,v+64,16843009*qt(C,B,G)),et(p,v+96,16843009*qt(B,G,G))}function qa(p,v){var S,C=4;for(S=0;4>S;++S)C+=p[v+S-32]+p[v-1+32*S];for(C>>=3,S=0;4>S;++S)s(p,v+32*S,C,4)}function ui(p,v){var S=p[v-1+0],C=p[v-1+32],B=p[v-1+64],G=p[v-1-32],W=p[v+0-32],Q=p[v+1-32],Z=p[v+2-32],ce=p[v+3-32];p[v+0+96]=qt(C,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=qt(S,C,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=qt(G,S,C),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=qt(W,G,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=qt(Q,W,G),p[v+3+32]=p[v+2+0]=qt(Z,Q,W),p[v+3+0]=qt(ce,Z,Q)}function ti(p,v){var S=p[v+1-32],C=p[v+2-32],B=p[v+3-32],G=p[v+4-32],W=p[v+5-32],Q=p[v+6-32],Z=p[v+7-32];p[v+0+0]=qt(p[v+0-32],S,C),p[v+1+0]=p[v+0+32]=qt(S,C,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=qt(C,B,G),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=qt(B,G,W),p[v+3+32]=p[v+2+64]=p[v+1+96]=qt(G,W,Q),p[v+3+64]=p[v+2+96]=qt(W,Q,Z),p[v+3+96]=qt(Q,Z,Z)}function ho(p,v){var S=p[v-1+0],C=p[v-1+32],B=p[v-1+64],G=p[v-1-32],W=p[v+0-32],Q=p[v+1-32],Z=p[v+2-32],ce=p[v+3-32];p[v+0+0]=p[v+1+64]=G+W+1>>1,p[v+1+0]=p[v+2+64]=W+Q+1>>1,p[v+2+0]=p[v+3+64]=Q+Z+1>>1,p[v+3+0]=Z+ce+1>>1,p[v+0+96]=qt(B,C,S),p[v+0+64]=qt(C,S,G),p[v+0+32]=p[v+1+96]=qt(S,G,W),p[v+1+32]=p[v+2+96]=qt(G,W,Q),p[v+2+32]=p[v+3+96]=qt(W,Q,Z),p[v+3+32]=qt(Q,Z,ce)}function Yn(p,v){var S=p[v+0-32],C=p[v+1-32],B=p[v+2-32],G=p[v+3-32],W=p[v+4-32],Q=p[v+5-32],Z=p[v+6-32],ce=p[v+7-32];p[v+0+0]=S+C+1>>1,p[v+1+0]=p[v+0+64]=C+B+1>>1,p[v+2+0]=p[v+1+64]=B+G+1>>1,p[v+3+0]=p[v+2+64]=G+W+1>>1,p[v+0+32]=qt(S,C,B),p[v+1+32]=p[v+0+96]=qt(C,B,G),p[v+2+32]=p[v+1+96]=qt(B,G,W),p[v+3+32]=p[v+2+96]=qt(G,W,Q),p[v+3+64]=qt(W,Q,Z),p[v+3+96]=qt(Q,Z,ce)}function ls(p,v){var S=p[v-1+0],C=p[v-1+32],B=p[v-1+64],G=p[v-1+96];p[v+0+0]=S+C+1>>1,p[v+2+0]=p[v+0+32]=C+B+1>>1,p[v+2+32]=p[v+0+64]=B+G+1>>1,p[v+1+0]=qt(S,C,B),p[v+3+0]=p[v+1+32]=qt(C,B,G),p[v+3+32]=p[v+1+64]=qt(B,G,G),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=G}function fo(p,v){var S=p[v-1+0],C=p[v-1+32],B=p[v-1+64],G=p[v-1+96],W=p[v-1-32],Q=p[v+0-32],Z=p[v+1-32],ce=p[v+2-32];p[v+0+0]=p[v+2+32]=S+W+1>>1,p[v+0+32]=p[v+2+64]=C+S+1>>1,p[v+0+64]=p[v+2+96]=B+C+1>>1,p[v+0+96]=G+B+1>>1,p[v+3+0]=qt(Q,Z,ce),p[v+2+0]=qt(W,Q,Z),p[v+1+0]=p[v+3+32]=qt(S,W,Q),p[v+1+32]=p[v+3+64]=qt(C,S,W),p[v+1+64]=p[v+3+96]=qt(B,C,S),p[v+1+96]=qt(G,B,C)}function Us(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function Nl(p,v){var S;for(S=0;8>S;++S)s(p,v,p[v-1],8),v+=32}function cs(p,v,S){var C;for(C=0;8>C;++C)s(v,S+32*C,p,8)}function Na(p,v){var S,C=8;for(S=0;8>S;++S)C+=p[v+S-32]+p[v-1+32*S];cs(C>>4,p,v)}function us(p,v){var S,C=4;for(S=0;8>S;++S)C+=p[v+S-32];cs(C>>3,p,v)}function Yr(p,v){var S,C=4;for(S=0;8>S;++S)C+=p[v-1+32*S];cs(C>>3,p,v)}function $s(p,v){cs(128,p,v)}function _i(p,v,S){var C=p[v-S],B=p[v+0],G=3*(B-C)+xo[1020+p[v-2*S]-p[v+S]],W=wu[112+(G+4>>3)];p[v-S]=Xi[255+C+wu[112+(G+3>>3)]],p[v+0]=Xi[255+B-W]}function Xs(p,v,S,C){var B=p[v+0],G=p[v+S];return Mi[255+p[v-2*S]-p[v-S]]>C||Mi[255+G-B]>C}function Ha(p,v,S,C){return 4*Mi[255+p[v-S]-p[v+0]]+Mi[255+p[v-2*S]-p[v+S]]<=C}function Qs(p,v,S,C,B){var G=p[v-3*S],W=p[v-2*S],Q=p[v-S],Z=p[v+0],ce=p[v+S],_e=p[v+2*S],De=p[v+3*S];return 4*Mi[255+Q-Z]+Mi[255+W-ce]>C?0:Mi[255+p[v-4*S]-G]<=B&&Mi[255+G-W]<=B&&Mi[255+W-Q]<=B&&Mi[255+De-_e]<=B&&Mi[255+_e-ce]<=B&&Mi[255+ce-Z]<=B}function Js(p,v,S,C){var B=2*C+1;for(C=0;16>C;++C)Ha(p,v+C,S,B)&&_i(p,v+C,S)}function Ss(p,v,S,C){var B=2*C+1;for(C=0;16>C;++C)Ha(p,v+C*S,1,B)&&_i(p,v+C*S,1)}function po(p,v,S,C){var B;for(B=3;0<B;--B)Js(p,v+=4*S,S,C)}function Wo(p,v,S,C){var B;for(B=3;0<B;--B)Ss(p,v+=4,S,C)}function hs(p,v,S,C,B,G,W,Q){for(G=2*G+1;0<B--;){if(Qs(p,v,S,G,W))if(Xs(p,v,S,Q))_i(p,v,S);else{var Z=p,ce=v,_e=S,De=Z[ce-2*_e],ae=Z[ce-_e],xe=Z[ce+0],Re=Z[ce+_e],qe=Z[ce+2*_e],ke=27*(We=xo[1020+3*(xe-ae)+xo[1020+De-Re]])+63>>7,ze=18*We+63>>7,We=9*We+63>>7;Z[ce-3*_e]=Xi[255+Z[ce-3*_e]+We],Z[ce-2*_e]=Xi[255+De+ze],Z[ce-_e]=Xi[255+ae+ke],Z[ce+0]=Xi[255+xe-ke],Z[ce+_e]=Xi[255+Re-ze],Z[ce+2*_e]=Xi[255+qe-We]}v+=C}}function Zs(p,v,S,C,B,G,W,Q){for(G=2*G+1;0<B--;){if(Qs(p,v,S,G,W))if(Xs(p,v,S,Q))_i(p,v,S);else{var Z=p,ce=v,_e=S,De=Z[ce-_e],ae=Z[ce+0],xe=Z[ce+_e],Re=wu[112+(4+(qe=3*(ae-De))>>3)],qe=wu[112+(qe+3>>3)],ke=Re+1>>1;Z[ce-2*_e]=Xi[255+Z[ce-2*_e]+ke],Z[ce-_e]=Xi[255+De+qe],Z[ce+0]=Xi[255+ae-Re],Z[ce+_e]=Xi[255+xe-ke]}v+=C}}function Tl(p,v,S,C,B,G){hs(p,v,S,1,16,C,B,G)}function Bs(p,v,S,C,B,G){hs(p,v,1,S,16,C,B,G)}function Ko(p,v,S,C,B,G){var W;for(W=3;0<W;--W)Zs(p,v+=4*S,S,1,16,C,B,G)}function x(p,v,S,C,B,G){var W;for(W=3;0<W;--W)Zs(p,v+=4,1,S,16,C,B,G)}function F(p,v,S,C,B,G,W,Q){hs(p,v,B,1,8,G,W,Q),hs(S,C,B,1,8,G,W,Q)}function le(p,v,S,C,B,G,W,Q){hs(p,v,1,B,8,G,W,Q),hs(S,C,1,B,8,G,W,Q)}function ve(p,v,S,C,B,G,W,Q){Zs(p,v+4*B,B,1,8,G,W,Q),Zs(S,C+4*B,B,1,8,G,W,Q)}function Ne(p,v,S,C,B,G,W,Q){Zs(p,v+4,1,B,8,G,W,Q),Zs(S,C+4,1,B,8,G,W,Q)}function Ge(){this.ba=new jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function It(){this.ua=0,this.Wa=new $t,this.vb=new $t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ae,this.yc=new L}function Yt(){this.xb=this.a=0,this.l=new bi,this.ca=new jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new It,this.ab=0,this.gc=c(4,xt),this.Oc=0}function Ut(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wn(p,v,S,C,B,G,W){for(p=p==null?0:p[v+0],v=0;v<W;++v)B[G+v]=p+S[C+v]&255,p=B[G+v]}function ur(p,v,S,C,B,G,W){var Q;if(p==null)wn(null,null,S,C,B,G,W);else for(Q=0;Q<W;++Q)B[G+Q]=p[v+Q]+S[C+Q]&255}function tr(p,v,S,C,B,G,W){if(p==null)wn(null,null,S,C,B,G,W);else{var Q,Z=p[v+0],ce=Z,_e=Z;for(Q=0;Q<W;++Q)ce=_e+(Z=p[v+Q])-ce,_e=S[C+Q]+(-256&ce?0>ce?0:255:ce)&255,ce=Z,B[G+Q]=_e}}function m(p,v,S,C){var B=v.width,G=v.o;if(e(p!=null&&v!=null),0>S||0>=C||S+C>G)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Ut,(W=p.ga==null)||(W=v.width*v.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var Q=p.Fa,Z=p.P,ce=p.qc,_e=p.mb,De=p.nb,ae=Z+1,xe=ce-1,Re=W.l;if(e(Q!=null&&_e!=null&&v!=null),Ao[0]=null,Ao[1]=wn,Ao[2]=ur,Ao[3]=tr,W.ca=_e,W.tb=De,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=ce)v=0;else if(W.$a=3&Q[Z+0],W.Z=Q[Z+0]>>2&3,W.Lc=Q[Z+0]>>4&3,Z=Q[Z+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Z)v=0;else if(Re.put=pt,Re.ac=Sr,Re.bc=Er,Re.ma=W,Re.width=v.width,Re.height=v.height,Re.Da=v.Da,Re.v=v.v,Re.va=v.va,Re.j=v.j,Re.o=v.o,W.$a)e:{e(W.$a==1),v=Fa();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,Ce(v.m,Q,ae,xe),!js(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Gn(v.s)?(W.ic=1,Q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Gi(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=xe>=W.c*W.i;W=!v}if(W)return null;p.ga.Lc!=1?p.Ga=0:C=G-S}e(p.ga!=null),e(S+C<=G);e:{if(v=(Q=p.ga).c,G=Q.l.o,Q.$a==0){if(ae=p.rc,xe=p.Vc,Re=p.Fa,Z=p.P+1+S*v,ce=p.mb,_e=p.nb+S*v,e(Z<=p.P+p.qc),Q.Z!=0)for(e(Ao[Q.Z]!=null),W=0;W<C;++W)Ao[Q.Z](ae,xe,Re,Z,ce,_e,v),ae=ce,xe=_e,_e+=v,Z+=v;else for(W=0;W<C;++W)r(ce,_e,Re,Z,v),ae=ce,xe=_e,_e+=v,Z+=v;p.rc=ae,p.Vc=xe}else{if(e(Q.mc!=null),v=S+C,e((W=Q.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(Q.ic||Me(),Q.ic){Q=W.V,ae=W.Ba,xe=W.c;var qe=W.i,ke=(Re=1,Z=W.$/xe,ce=W.$%xe,_e=W.m,De=W.s,W.$),ze=xe*qe,We=xe*v,rt=De.wc,Ze=ke<We?Hr(De,ce,Z):null;e(ke<=ze),e(v<=qe),e(Gn(De));t:for(;;){for(;!_e.h&&ke<We;){if(ce&rt||(Ze=Hr(De,ce,Z)),e(Ze!=null),ye(_e),256>(qe=zn(Ze.G[0],Ze.H[0],_e)))Q[ae+ke]=qe,++ke,++ce>=xe&&(ce=0,++Z<=v&&!(Z%16)&&ei(W,Z));else{if(!(280>qe)){Re=0;break t}qe=Zn(qe-256,_e);var Rt,_t=zn(Ze.G[4],Ze.H[4],_e);if(ye(_e),!(ke>=(_t=er(xe,_t=Zn(_t,_e)))&&ze-ke>=qe)){Re=0;break t}for(Rt=0;Rt<qe;++Rt)Q[ae+ke+Rt]=Q[ae+ke+Rt-_t];for(ke+=qe,ce+=qe;ce>=xe;)ce-=xe,++Z<=v&&!(Z%16)&&ei(W,Z);ke<We&&ce&rt&&(Ze=Hr(De,ce,Z))}e(_e.h==ie(_e))}ei(W,Z>v?v:Z);break t}!Re||_e.h&&ke<ze?(Re=0,W.a=_e.h?5:3):W.$=ke,v=Re}else v=Hi(W,W.V,W.Ba,W.c,W.i,v,wa);if(!v){C=0;break e}}S+C>=G&&(p.Cc=1),C=1}if(!C)return null;if(p.Cc&&((C=p.ga)!=null&&(C.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*B}function N(p,v,S,C,B,G){for(;0<B--;){var W,Q=p,Z=v+(S?1:0),ce=p,_e=v+(S?0:3);for(W=0;W<C;++W){var De=ce[_e+4*W];De!=255&&(De*=32897,Q[Z+4*W+0]=Q[Z+4*W+0]*De>>23,Q[Z+4*W+1]=Q[Z+4*W+1]*De>>23,Q[Z+4*W+2]=Q[Z+4*W+2]*De>>23)}v+=G}}function O(p,v,S,C,B){for(;0<C--;){var G;for(G=0;G<S;++G){var W=p[v+2*G+0],Q=15&(ce=p[v+2*G+1]),Z=4369*Q,ce=(240&ce|ce>>4)*Z>>16;p[v+2*G+0]=(240&W|W>>4)*Z>>16&240|(15&W|W<<4)*Z>>16>>4&15,p[v+2*G+1]=240&ce|Q}v+=B}}function J(p,v,S,C,B,G,W,Q){var Z,ce,_e=255;for(ce=0;ce<B;++ce){for(Z=0;Z<C;++Z){var De=p[v+Z];G[W+4*Z]=De,_e&=De}v+=S,W+=Q}return _e!=255}function Ie(p,v,S,C,B){var G;for(G=0;G<B;++G)S[C+G]=p[v+G]>>8}function Me(){Rl=N,ta=O,vu=J,Gs=Ie}function at(p,v,S){D[p]=function(C,B,G,W,Q,Z,ce,_e,De,ae,xe,Re,qe,ke,ze,We,rt){var Ze,Rt=rt-1>>1,_t=Q[Z+0]|ce[_e+0]<<16,rn=De[ae+0]|xe[Re+0]<<16;e(C!=null);var Nt=3*_t+rn+131074>>2;for(v(C[B+0],255&Nt,Nt>>16,qe,ke),G!=null&&(Nt=3*rn+_t+131074>>2,v(G[W+0],255&Nt,Nt>>16,ze,We)),Ze=1;Ze<=Rt;++Ze){var xn=Q[Z+Ze]|ce[_e+Ze]<<16,_r=De[ae+Ze]|xe[Re+Ze]<<16,on=_t+xn+rn+_r+524296,wt=on+2*(xn+rn)>>3;Nt=wt+_t>>1,_t=(on=on+2*(_t+_r)>>3)+xn>>1,v(C[B+2*Ze-1],255&Nt,Nt>>16,qe,ke+(2*Ze-1)*S),v(C[B+2*Ze-0],255&_t,_t>>16,qe,ke+(2*Ze-0)*S),G!=null&&(Nt=on+rn>>1,_t=wt+_r>>1,v(G[W+2*Ze-1],255&Nt,Nt>>16,ze,We+(2*Ze-1)*S),v(G[W+2*Ze+0],255&_t,_t>>16,ze,We+(2*Ze+0)*S)),_t=xn,rn=_r}1&rt||(Nt=3*_t+rn+131074>>2,v(C[B+rt-1],255&Nt,Nt>>16,qe,ke+(rt-1)*S),G!=null&&(Nt=3*rn+_t+131074>>2,v(G[W+rt-1],255&Nt,Nt>>16,ze,We+(rt-1)*S)))}}function nn(){Vi[ih]=Dl,Vi[Qi]=vc,Vi[sh]=Mf,Vi[na]=uh,Vi[xu]=Zo,Vi[mc]=Za,Vi[Xo]=el,Vi[Au]=vc,Vi[ah]=uh,Vi[gc]=Zo,Vi[oh]=Za}function hr(p){return p&-16384?0>p?0:255:p>>hh}function mn(p,v){return hr((19077*p>>8)+(26149*v>>8)-14234)}function Wn(p,v,S){return hr((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function wi(p,v){return hr((19077*p>>8)+(33050*v>>8)-17685)}function Di(p,v,S,C,B){C[B+0]=mn(p,S),C[B+1]=Wn(p,v,S),C[B+2]=wi(p,v)}function ir(p,v,S,C,B){C[B+0]=wi(p,v),C[B+1]=Wn(p,v,S),C[B+2]=mn(p,S)}function Pi(p,v,S,C,B){var G=Wn(p,v,S);v=G<<3&224|wi(p,v)>>3,C[B+0]=248&mn(p,S)|G>>5,C[B+1]=v}function zs(p,v,S,C,B){var G=240&wi(p,v)|15;C[B+0]=240&mn(p,S)|Wn(p,v,S)>>4,C[B+1]=G}function Ga(p,v,S,C,B){C[B+0]=255,Di(p,v,S,C,B+1)}function Ya(p,v,S,C,B){ir(p,v,S,C,B),C[B+3]=255}function fs(p,v,S,C,B){Di(p,v,S,C,B),C[B+3]=255}function mo(p,v,S){D[p]=function(C,B,G,W,Q,Z,ce,_e,De){for(var ae=_e+(-2&De)*S;_e!=ae;)v(C[B+0],G[W+0],Q[Z+0],ce,_e),v(C[B+1],G[W+0],Q[Z+0],ce,_e+S),B+=2,++W,++Z,_e+=2*S;1&De&&v(C[B+0],G[W+0],Q[Z+0],ce,_e)}}function uc(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function mu(p,v,S,C,B){switch(p>>>30){case 3:wo(v,S,C,B,0);break;case 2:$i(v,S,C,B);break;case 1:qn(v,S,C,B)}}function qs(p,v){var S,C,B=v.M,G=v.Nb,W=p.oc,Q=p.pc+40,Z=p.oc,ce=p.pc+584,_e=p.oc,De=p.pc+600;for(S=0;16>S;++S)W[Q+32*S-1]=129;for(S=0;8>S;++S)Z[ce+32*S-1]=129,_e[De+32*S-1]=129;for(0<B?W[Q-1-32]=Z[ce-1-32]=_e[De-1-32]=129:(s(W,Q-32-1,127,21),s(Z,ce-32-1,127,9),s(_e,De-32-1,127,9)),C=0;C<p.za;++C){var ae=v.ya[v.aa+C];if(0<C){for(S=-1;16>S;++S)r(W,Q+32*S-4,W,Q+32*S+12,4);for(S=-1;8>S;++S)r(Z,ce+32*S-4,Z,ce+32*S+4,4),r(_e,De+32*S-4,_e,De+32*S+4,4)}var xe=p.Gd,Re=p.Hd+C,qe=ae.ad,ke=ae.Hc;if(0<B&&(r(W,Q-32,xe[Re].y,0,16),r(Z,ce-32,xe[Re].f,0,8),r(_e,De-32,xe[Re].ea,0,8)),ae.Za){var ze=W,We=Q-32+16;for(0<B&&(C>=p.za-1?s(ze,We,xe[Re].y[15],4):r(ze,We,xe[Re+1].y,0,4)),S=0;4>S;S++)ze[We+128+S]=ze[We+256+S]=ze[We+384+S]=ze[We+0+S];for(S=0;16>S;++S,ke<<=2)ze=W,We=Q+$r[S],Fr[ae.Ob[S]](ze,We),mu(ke,qe,16*+S,ze,We)}else if(ze=uc(C,B,ae.Ob[0]),ps[ze](W,Q),ke!=0)for(S=0;16>S;++S,ke<<=2)mu(ke,qe,16*+S,W,Q+$r[S]);for(S=ae.Gc,ze=uc(C,B,ae.Dd),Ra[ze](Z,ce),Ra[ze](_e,De),ke=qe,ze=Z,We=ce,255&(ae=0|S)&&(170&ae?ea(ke,256,ze,We):Pn(ke,256,ze,We)),ae=_e,ke=De,255&(S>>=8)&&(170&S?ea(qe,320,ae,ke):Pn(qe,320,ae,ke)),B<p.Ub-1&&(r(xe[Re].y,0,W,Q+480,16),r(xe[Re].f,0,Z,ce+224,8),r(xe[Re].ea,0,_e,De+224,8)),S=8*G*p.B,xe=p.sa,Re=p.ta+16*C+16*G*p.R,qe=p.qa,ae=p.ra+8*C+S,ke=p.Ha,ze=p.Ia+8*C+S,S=0;16>S;++S)r(xe,Re+S*p.R,W,Q+32*S,16);for(S=0;8>S;++S)r(qe,ae+S*p.B,Z,ce+32*S,8),r(ke,ze+S*p.B,_e,De+32*S,8)}}function Ta(p,v,S,C,B,G,W,Q,Z){var ce=[0],_e=[0],De=0,ae=Z!=null?Z.kd:0,xe=Z??new tt;if(p==null||12>S)return 7;xe.data=p,xe.w=v,xe.ha=S,v=[v],S=[S],xe.gb=[xe.gb];e:{var Re=v,qe=S,ke=xe.gb;if(e(p!=null),e(qe!=null),e(ke!=null),ke[0]=0,12<=qe[0]&&!t(p,Re[0],"RIFF")){if(t(p,Re[0]+8,"WEBP")){ke=3;break e}var ze=vt(p,Re[0]+4);if(12>ze||4294967286<ze){ke=3;break e}if(ae&&ze>qe[0]-8){ke=7;break e}ke[0]=ze,Re[0]+=12,qe[0]-=12}ke=0}if(ke!=0)return ke;for(ze=0<xe.gb[0],S=S[0];;){e:{var We=p;qe=v,ke=S;var rt=ce,Ze=_e,Rt=Re=[0];if((Nt=De=[De])[0]=0,8>ke[0])ke=7;else{if(!t(We,qe[0],"VP8X")){if(vt(We,qe[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var _t=vt(We,qe[0]+8),rn=1+ct(We,qe[0]+12);if(2147483648<=rn*(We=1+ct(We,qe[0]+15))){ke=3;break e}Rt!=null&&(Rt[0]=_t),rt!=null&&(rt[0]=rn),Ze!=null&&(Ze[0]=We),qe[0]+=18,ke[0]-=18,Nt[0]=1}ke=0}}if(De=De[0],Re=Re[0],ke!=0)return ke;if(qe=!!(2&Re),!ze&&De)return 3;if(G!=null&&(G[0]=!!(16&Re)),W!=null&&(W[0]=qe),Q!=null&&(Q[0]=0),W=ce[0],Re=_e[0],De&&qe&&Z==null){ke=0;break}if(4>S){ke=7;break}if(ze&&De||!ze&&!De&&!t(p,v[0],"ALPH")){S=[S],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{_t=p,ke=v,ze=S;var Nt=xe.gb;rt=xe.na,Ze=xe.P,Rt=xe.Sa,rn=22,e(_t!=null),e(ze!=null),We=ke[0];var xn=ze[0];for(e(rt!=null),e(Rt!=null),rt[0]=null,Ze[0]=null,Rt[0]=0;;){if(ke[0]=We,ze[0]=xn,8>xn){ke=7;break e}var _r=vt(_t,We+4);if(4294967286<_r){ke=3;break e}var on=8+_r+1&-2;if(rn+=on,0<Nt&&rn>Nt){ke=3;break e}if(!t(_t,We,"VP8 ")||!t(_t,We,"VP8L")){ke=0;break e}if(xn[0]<on){ke=7;break e}t(_t,We,"ALPH")||(rt[0]=_t,Ze[0]=We+8,Rt[0]=_r),We+=on,xn-=on}}if(S=S[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],ke!=0)break}S=[S],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(Nt=p,ke=v,ze=S,rt=xe.gb[0],Ze=xe.Ja,Rt=xe.xa,_t=ke[0],We=!t(Nt,_t,"VP8 "),rn=!t(Nt,_t,"VP8L"),e(Nt!=null),e(ze!=null),e(Ze!=null),e(Rt!=null),8>ze[0])ke=7;else{if(We||rn){if(Nt=vt(Nt,_t+4),12<=rt&&Nt>rt-12){ke=3;break e}if(ae&&Nt>ze[0]-8){ke=7;break e}Ze[0]=Nt,ke[0]+=8,ze[0]-=8,Rt[0]=rn}else Rt[0]=5<=ze[0]&&Nt[_t+0]==47&&!(Nt[_t+4]>>5),Ze[0]=ze[0];ke=0}if(S=S[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],v=v[0],ke!=0)break;if(4294967286<xe.Ja)return 3;if(Q==null||qe||(Q[0]=xe.xa?2:1),W=[W],Re=[Re],xe.xa){if(5>S){ke=7;break}Q=W,ae=Re,qe=G,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(ze=[0],Nt=[0],rt=[0],Ce(Ze=new z,p,v,S),Zr(Ze,ze,Nt,rt)?(Q!=null&&(Q[0]=ze[0]),ae!=null&&(ae[0]=Nt[0]),qe!=null&&(qe[0]=rt[0]),p=1):p=0):p=0}else{if(10>S){ke=7;break}Q=Re,p==null||10>S||!xa(p,v+3,S-3)?p=0:(ae=p[v+0]|p[v+1]<<8|p[v+2]<<16,qe=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=xe.Ja||!qe||!p?p=0:(W&&(W[0]=qe),Q&&(Q[0]=p),p=1))}if(!p||(W=W[0],Re=Re[0],De&&(ce[0]!=W||_e[0]!=Re)))return 3;Z!=null&&(Z[0]=xe,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-S));break}return ke==0||ke==7&&De&&Z==null?(G!=null&&(G[0]|=xe.na!=null&&0<xe.na.length),C!=null&&(C[0]=W),B!=null&&(B[0]=Re),0):ke}function go(p,v,S){var C=v.width,B=v.height,G=0,W=0,Q=C,Z=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(Q=p.cd,Z=p.bd,G=p.v,W=p.j,11>S||(G&=-2,W&=-2),0>G||0>W||0>=Q||0>=Z||G+Q>C||W+Z>B))return 0;if(v.v=G,v.j=W,v.va=G+Q,v.o=W+Z,v.U=Q,v.T=Z,v.da=p!=null&&0<p.da,v.da){if(!Mt(Q,Z,S=[p.ib],G=[p.hb]))return 0;v.ib=S[0],v.hb=G[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*C/4&&v.hb<3*B/4,v.Kb=0),1}function gu(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Ca(p,v,S,C){if(C==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var B=S.cd,G=S.bd,W=-2&S.v,Q=-2&S.j;if(0>W||0>Q||0>=B||0>=G||W+B>p||Q+G>v)return 2;p=B,v=G}if(S.da){if(!Mt(p,v,B=[S.ib],G=[S.hb]))return 2;p=B[0],v=G[0]}}C.width=p,C.height=v;e:{var Z=C.width,ce=C.height;if(p=C.S,0>=Z||0>=ce||!(p>=ih&&13>p))p=2;else{if(0>=C.Rd&&C.sd==null){W=G=B=v=0;var _e=(Q=Z*dh[p])*ce;if(11>p||(G=(ce+1)/2*(v=(Z+1)/2),p==12&&(W=(B=Z)*ce)),(ce=o(_e+2*G+W))==null){p=1;break e}C.sd=ce,11>p?((Z=C.f.RGBA).eb=ce,Z.fb=0,Z.A=Q,Z.size=_e):((Z=C.f.kb).y=ce,Z.O=0,Z.fa=Q,Z.Fd=_e,Z.f=ce,Z.N=0+_e,Z.Ab=v,Z.Cd=G,Z.ea=ce,Z.W=0+_e+G,Z.Db=v,Z.Ed=G,p==12&&(Z.F=ce,Z.J=0+_e+2*G),Z.Tc=W,Z.lb=B)}if(v=1,B=C.S,G=C.width,W=C.height,B>=ih&&13>B)if(11>B)p=C.f.RGBA,v&=(Q=Math.abs(p.A))*(W-1)+G<=p.size,v&=Q>=G*dh[B],v&=p.eb!=null;else{p=C.f.kb,Q=(G+1)/2,_e=(W+1)/2,Z=Math.abs(p.fa),ce=Math.abs(p.Ab);var De=Math.abs(p.Db),ae=Math.abs(p.lb),xe=ae*(W-1)+G;v&=Z*(W-1)+G<=p.Fd,v&=ce*(_e-1)+Q<=p.Cd,v=(v&=De*(_e-1)+Q<=p.Ed)&Z>=G&ce>=Q&De>=Q,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=ae>=G,v&=xe<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=gu(C)),p}var $o=64,Es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ds=24,Wa=32,Ka=8,yo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];se("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(p){return p},D.Predictor2=function(p,v,S){return v[S+0]},D.Predictor3=function(p,v,S){return v[S+1]},D.Predictor4=function(p,v,S){return v[S-1]},D.Predictor5=function(p,v,S){return Se(Se(p,v[S+1]),v[S+0])},D.Predictor6=function(p,v,S){return Se(p,v[S-1])},D.Predictor7=function(p,v,S){return Se(p,v[S+0])},D.Predictor8=function(p,v,S){return Se(v[S-1],v[S+0])},D.Predictor9=function(p,v,S){return Se(v[S+0],v[S+1])},D.Predictor10=function(p,v,S){return Se(Se(p,v[S-1]),Se(v[S+0],v[S+1]))},D.Predictor11=function(p,v,S){var C=v[S+0];return 0>=Ve(C>>24&255,p>>24&255,(v=v[S-1])>>24&255)+Ve(C>>16&255,p>>16&255,v>>16&255)+Ve(C>>8&255,p>>8&255,v>>8&255)+Ve(255&C,255&p,255&v)?C:p},D.Predictor12=function(p,v,S){var C=v[S+0];return(Ke((p>>24&255)+(C>>24&255)-((v=v[S-1])>>24&255))<<24|Ke((p>>16&255)+(C>>16&255)-(v>>16&255))<<16|Ke((p>>8&255)+(C>>8&255)-(v>>8&255))<<8|Ke((255&p)+(255&C)-(255&v)))>>>0},D.Predictor13=function(p,v,S){var C=v[S-1];return(He((p=Se(p,v[S+0]))>>24&255,C>>24&255)<<24|He(p>>16&255,C>>16&255)<<16|He(p>>8&255,C>>8&255)<<8|He(255&p,255&C))>>>0};var hc=D.PredictorAdd0;D.PredictorAdd1=it,se("Predictor2","PredictorAdd2"),se("Predictor3","PredictorAdd3"),se("Predictor4","PredictorAdd4"),se("Predictor5","PredictorAdd5"),se("Predictor6","PredictorAdd6"),se("Predictor7","PredictorAdd7"),se("Predictor8","PredictorAdd8"),se("Predictor9","PredictorAdd9"),se("Predictor10","PredictorAdd10"),se("Predictor11","PredictorAdd11"),se("Predictor12","PredictorAdd12"),se("Predictor13","PredictorAdd13");var fc=D.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Wr,th=D.ColorIndexInverseTransform,$a=D.MapARGB,Xa=D.VP8LColorIndexInverseTransformAlpha,Oi=D.MapAlpha,vo=D.VP8LPredictorsAdd=[];vo.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var dc,pc,bo,_o,Qa,Cl,Hs,wo,$i,ea,qn,Pn,fr,Kr,Ja,Ia,Il,yu,Lf,up,hp,fp,kf,Df,Rl,ta,vu,Gs,Ll=o(511),nh=o(2041),bu=o(225),_u=o(767),rh=0,xo=nh,wu=bu,Xi=_u,Mi=Ll,ih=0,Qi=1,sh=2,na=3,xu=4,mc=5,Xo=6,Au=7,ah=8,gc=9,oh=10,ra=[2,3,7],yc=[3,3,11],kl=[280,256,256,256,40],lh=[0,1,1,1,0],Su=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ia=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qo=8,aa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oa=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ys=null,dp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ch=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ji=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],br=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ps=[],Fr=[],Ra=[],Jo=1,Of=2,Ao=[],Vi=[];at("UpsampleRgbLinePair",Di,3),at("UpsampleBgrLinePair",ir,3),at("UpsampleRgbaLinePair",fs,4),at("UpsampleBgraLinePair",Ya,4),at("UpsampleArgbLinePair",Ga,4),at("UpsampleRgba4444LinePair",zs,2),at("UpsampleRgb565LinePair",Pi,2);var Dl=D.UpsampleRgbLinePair,Mf=D.UpsampleBgrLinePair,vc=D.UpsampleRgbaLinePair,uh=D.UpsampleBgraLinePair,Zo=D.UpsampleArgbLinePair,Za=D.UpsampleRgba4444LinePair,el=D.UpsampleRgb565LinePair,la=16,bc=1<<la-1,Pl=-227,tl=482,hh=6,nl=0,Fi=o(256),fh=o(256),mp=o(256),Wg=o(256),Kg=o(tl-Pl),$g=o(tl-Pl);mo("YuvToRgbRow",Di,3),mo("YuvToBgrRow",ir,3),mo("YuvToRgbaRow",fs,4),mo("YuvToBgraRow",Ya,4),mo("YuvToArgbRow",Ga,4),mo("YuvToRgba4444Row",zs,2),mo("YuvToRgb565Row",Pi,2);var $r=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_c=[0,2,8],Eu=[8,7,6,4,4,2,2,2,1,1,1,1],Nu=1;this.WebPDecodeRGBA=function(p,v,S,C,B){var G=Qi,W=new Ge,Q=new jt;W.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var Z=Q.width,ce=Q.height,_e=new Ct;if(_e==null||p==null)var De=2;else e(_e!=null),De=Ta(p,v,S,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(De!=0?Z=0:(Z!=null&&(Z[0]=_e.width[0]),ce!=null&&(ce[0]=_e.height[0]),Z=1),Z){Q.width=Q.width[0],Q.height=Q.height[0],C!=null&&(C[0]=Q.width),B!=null&&(B[0]=Q.height);e:{if(C=new bi,(B=new tt).data=p,B.w=v,B.ha=S,B.kd=1,v=[0],e(B!=null),((p=Ta(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(W!=null),C.data=B.data,C.w=B.w+B.offset,C.ha=B.ha-B.offset,C.put=pt,C.ac=Sr,C.bc=Er,C.ma=W,B.xa){if((p=Fa())==null){W=1;break e}if((function(ae,xe){var Re=[0],qe=[0],ke=[0];t:for(;;){if(ae==null)return 0;if(xe==null)return ae.a=2,0;if(ae.l=xe,ae.a=0,Ce(ae.m,xe.data,xe.w,xe.ha),!Zr(ae.m,Re,qe,ke)){ae.a=3;break t}if(ae.xb=Of,xe.width=Re[0],xe.height=qe[0],!js(Re[0],qe[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(p,C)){if(C=(v=Ca(C.width,C.height,W.Oa,W.ba))==0){t:{C=p;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((S=C.l)!=null),e((B=S.ma)!=null),C.xb!=0){if(C.ca=B.ba,C.tb=B.tb,e(C.ca!=null),!go(B.Oa,S,na)){C.a=2;break n}if(!Gi(C,S.width)||S.da)break n;if((S.da||Et(C.ca.S))&&Me(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Me()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!re(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Hi(C,C.V,C.Ba,C.c,C.i,S.o,vi))break n;B.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(v=p.a)}else v=p.a}else{if((p=new jr)==null){W=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,As(p,C)){if((v=Ca(C.width,C.height,W.Oa,W.ba))==0){if(p.Aa=0,S=W.Oa,e((B=p)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(ce=_e=0;4>ce;++ce)12>(De=B.pb[ce]).lc&&(De.ia=Z*Eu[0>De.lc?0:De.lc]>>3),_e|=De.ia;_e&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(ae,xe){if(ae==null)return 0;if(xe==null)return vn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!As(ae,xe))return 0;if(e(ae.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(ae.L=0);var Re=_c[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=xe.v-Re>>4,ae.zb=xe.j-Re>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=xe.o+15+Re>>4,ae.Hb=xe.va+15+Re>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var qe=ae.ed;for(Re=0;4>Re;++Re){var ke;if(ae.Qa.Cb){var ze=ae.Qa.Lb[Re];ae.Qa.Fb||(ze+=qe.Tb)}else ze=qe.Tb;for(ke=0;1>=ke;++ke){var We=ae.gd[Re][ke],rt=ze;if(qe.Pc&&(rt+=qe.vd[0],ke&&(rt+=qe.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Ze=rt;0<qe.wb&&(Ze=4<qe.wb?Ze>>2:Ze>>1)>9-qe.wb&&(Ze=9-qe.wb),1>Ze&&(Ze=1),We.dd=Ze,We.tc=2*rt+Ze,We.ld=40<=rt?2:15<=rt?1:0}else We.tc=0;We.La=ke}}}Re=0}else vn(ae,6,"Frame setup failed"),Re=ae.a;if(Re=Re==0){if(Re){ae.$c=0,0<ae.Aa||(ae.Ic=Nu);t:{Re=ae.Ic,qe=4*(Ze=ae.za);var Rt=32*Ze,_t=Ze+1,rn=0<ae.L?Ze*(0<ae.Aa?2:1):0,Nt=(ae.Aa==2?2:1)*Ze;if((We=qe+832+(ke=3*(16*Re+_c[ae.L])/2*Rt)+(ze=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=We)Re=0;else{if(We>ae.Vb){if(ae.Vb=0,ae.Ec=o(We),ae.Fc=0,ae.Ec==null){Re=vn(ae,1,"no memory during frame initialization.");break t}ae.Vb=We}We=ae.Ec,rt=ae.Fc,ae.Ac=We,ae.Bc=rt,rt+=qe,ae.Gd=c(Rt,qo),ae.Hd=0,ae.rb=c(_t+1,xs),ae.sb=1,ae.wa=rn?c(rn,Yi):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ze),e(!0),ae.oc=We,ae.pc=rt,rt+=832,ae.ya=c(Nt,lo),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ze),ae.R=16*Ze,ae.B=8*Ze,Ze=(Rt=_c[ae.L])*ae.R,Rt=Rt/2*ae.B,ae.sa=We,ae.ta=rt+Ze,ae.qa=ae.sa,ae.ra=ae.ta+16*Re*ae.R+Rt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Re*ae.B+Rt,ae.$c=0,rt+=ke,ae.mb=ze?We:null,ae.nb=ze?rt:null,e(rt+ze<=ae.Fc+ae.Vb),Ua(ae),s(ae.Ac,ae.Bc,0,qe),Re=1}}if(Re){if(xe.ka=0,xe.y=ae.sa,xe.O=ae.ta,xe.f=ae.qa,xe.N=ae.ra,xe.ea=ae.Ha,xe.Vd=ae.Ia,xe.fa=ae.R,xe.Rc=ae.B,xe.F=null,xe.J=0,!rh){for(Re=-255;255>=Re;++Re)Ll[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)nh[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)bu[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)_u[255+Re]=0>Re?0:255<Re?255:Re;rh=1}Hs=ci,wo=xl,ea=ki,qn=Al,Pn=Aa,$i=cc,fr=Tl,Kr=Bs,Ja=F,Ia=le,Il=Ko,yu=x,Lf=ve,up=Ne,hp=Js,fp=Ss,kf=po,Df=Wo,Fr[0]=qa,Fr[1]=Sl,Fr[2]=uo,Fr[3]=Yo,Fr[4]=ui,Fr[5]=ho,Fr[6]=ti,Fr[7]=Yn,Fr[8]=fo,Fr[9]=ls,ps[0]=Fs,ps[1]=Ho,ps[2]=Go,ps[3]=Sa,ps[4]=Ea,ps[5]=Ki,ps[6]=za,Ra[0]=Na,Ra[1]=El,Ra[2]=Us,Ra[3]=Nl,Ra[4]=Yr,Ra[5]=us,Ra[6]=$s,Re=1}else Re=0}Re&&(Re=(function(xn,_r){for(xn.M=0;xn.M<xn.Va;++xn.M){var on,wt=xn.Jc[xn.M&xn.Xb],ht=xn.m,Rr=xn;for(on=0;on<Rr.za;++on){var Xt=ht,hn=Rr,Xn=hn.Ac,hi=hn.Bc+4*on,Ui=hn.zc,dr=hn.ya[hn.aa+on];if(hn.Qa.Bb?dr.$b=Ue(Xt,hn.Pa.jb[0])?2+Ue(Xt,hn.Pa.jb[2]):Ue(Xt,hn.Pa.jb[1]):dr.$b=0,hn.kc&&(dr.Ad=Ue(Xt,hn.Bd)),dr.Za=!Ue(Xt,145)+0,dr.Za){var ni=dr.Ob,Ji=0;for(hn=0;4>hn;++hn){var ri,gn=Ui[0+hn];for(ri=0;4>ri;++ri){gn=ji[Xn[hi+ri]][gn];for(var Vn=ch[Ue(Xt,gn[0])];0<Vn;)Vn=ch[2*Vn+Ue(Xt,gn[Vn])];gn=-Vn,Xn[hi+ri]=gn}r(ni,Ji,Xn,hi,4),Ji+=4,Ui[0+hn]=gn}}else gn=Ue(Xt,156)?Ue(Xt,128)?1:3:Ue(Xt,163)?2:0,dr.Ob[0]=gn,s(Xn,hi,gn,4),s(Ui,0,gn,4);dr.Dd=Ue(Xt,142)?Ue(Xt,114)?Ue(Xt,183)?1:3:2:0}if(Rr.m.Ka)return vn(xn,7,"Premature end-of-partition0 encountered.");for(;xn.ja<xn.za;++xn.ja){if(Rr=wt,Xt=(ht=xn).rb[ht.sb-1],Xn=ht.rb[ht.sb+ht.ja],on=ht.ya[ht.aa+ht.ja],hi=ht.kc?on.Ad:0)Xt.la=Xn.la=0,on.Za||(Xt.Na=Xn.Na=0),on.Hc=0,on.Gc=0,on.ia=0;else{var Lr,Hn;if(Xt=Xn,Xn=Rr,hi=ht.Pa.Xc,Ui=ht.ya[ht.aa+ht.ja],dr=ht.pb[Ui.$b],hn=Ui.ad,ni=0,Ji=ht.rb[ht.sb-1],gn=ri=0,s(hn,ni,0,384),Ui.Za)var fi=0,kr=hi[3];else{Vn=o(16);var Fn=Xt.Na+Ji.Na;if(Fn=Ys(Xn,hi[1],Fn,dr.Eb,0,Vn,0),Xt.Na=Ji.Na=(0<Fn)+0,1<Fn)Hs(Vn,0,hn,ni);else{var Xr=Vn[0]+3>>3;for(Vn=0;256>Vn;Vn+=16)hn[ni+Vn]=Xr}fi=1,kr=hi[0]}var Qn=15&Xt.la,ii=15&Ji.la;for(Vn=0;4>Vn;++Vn){var si=1&ii;for(Xr=Hn=0;4>Xr;++Xr)Qn=Qn>>1|(si=(Fn=Ys(Xn,kr,Fn=si+(1&Qn),dr.Sc,fi,hn,ni))>fi)<<7,Hn=Hn<<2|(3<Fn?3:1<Fn?2:hn[ni+0]!=0),ni+=16;Qn>>=4,ii=ii>>1|si<<7,ri=(ri<<8|Hn)>>>0}for(kr=Qn,fi=ii>>4,Lr=0;4>Lr;Lr+=2){for(Hn=0,Qn=Xt.la>>4+Lr,ii=Ji.la>>4+Lr,Vn=0;2>Vn;++Vn){for(si=1&ii,Xr=0;2>Xr;++Xr)Fn=si+(1&Qn),Qn=Qn>>1|(si=0<(Fn=Ys(Xn,hi[2],Fn,dr.Qc,0,hn,ni)))<<3,Hn=Hn<<2|(3<Fn?3:1<Fn?2:hn[ni+0]!=0),ni+=16;Qn>>=2,ii=ii>>1|si<<5}gn|=Hn<<4*Lr,kr|=Qn<<4<<Lr,fi|=(240&ii)<<Lr}Xt.la=kr,Ji.la=fi,Ui.Hc=ri,Ui.Gc=gn,Ui.ia=43690&gn?0:dr.ia,hi=!(ri|gn)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[on.$b][on.Za],ht.wa[ht.Y+ht.ja].La|=!hi),Rr.Ka)return vn(xn,7,"Premature end-of-file encountered.")}if(Ua(xn),ht=_r,Rr=1,on=(wt=xn).D,Xt=0<wt.L&&wt.M>=wt.zb&&wt.M<=wt.Va,wt.Aa==0)t:{if(on.M=wt.M,on.uc=Xt,qs(wt,on),Rr=1,on=(Hn=wt.D).Nb,Xt=(gn=_c[wt.L])*wt.R,Xn=gn/2*wt.B,Vn=16*on*wt.R,Xr=8*on*wt.B,hi=wt.sa,Ui=wt.ta-Xt+Vn,dr=wt.qa,hn=wt.ra-Xn+Xr,ni=wt.Ha,Ji=wt.Ia-Xn+Xr,ii=(Qn=Hn.M)==0,ri=Qn>=wt.Va-1,wt.Aa==2&&qs(wt,Hn),Hn.uc)for(si=(Fn=wt).D.M,e(Fn.D.uc),Hn=Fn.yb;Hn<Fn.Hb;++Hn){fi=Hn,kr=si;var sr=(On=(ai=Fn).D).Nb;Lr=ai.R;var On=On.wa[On.Y+fi],Zi=ai.sa,Ur=ai.ta+16*sr*Lr+16*fi,Ht=On.dd,Wt=On.tc;if(Wt!=0)if(e(3<=Wt),ai.L==1)0<fi&&fp(Zi,Ur,Lr,Wt+4),On.La&&Df(Zi,Ur,Lr,Wt),0<kr&&hp(Zi,Ur,Lr,Wt+4),On.La&&kf(Zi,Ur,Lr,Wt);else{var Un=ai.B,Ns=ai.qa,ca=ai.ra+8*sr*Un+8*fi,ms=ai.Ha,ai=ai.Ia+8*sr*Un+8*fi;sr=On.ld,0<fi&&(Kr(Zi,Ur,Lr,Wt+4,Ht,sr),Ia(Ns,ca,ms,ai,Un,Wt+4,Ht,sr)),On.La&&(yu(Zi,Ur,Lr,Wt,Ht,sr),up(Ns,ca,ms,ai,Un,Wt,Ht,sr)),0<kr&&(fr(Zi,Ur,Lr,Wt+4,Ht,sr),Ja(Ns,ca,ms,ai,Un,Wt+4,Ht,sr)),On.La&&(Il(Zi,Ur,Lr,Wt,Ht,sr),Lf(Ns,ca,ms,ai,Un,Wt,Ht,sr))}}if(wt.ia&&alert("todo:DitherRow"),ht.put!=null){if(Hn=16*Qn,Qn=16*(Qn+1),ii?(ht.y=wt.sa,ht.O=wt.ta+Vn,ht.f=wt.qa,ht.N=wt.ra+Xr,ht.ea=wt.Ha,ht.W=wt.Ia+Xr):(Hn-=gn,ht.y=hi,ht.O=Ui,ht.f=dr,ht.N=hn,ht.ea=ni,ht.W=Ji),ri||(Qn-=gn),Qn>ht.o&&(Qn=ht.o),ht.F=null,ht.J=null,wt.Fa!=null&&0<wt.Fa.length&&Hn<Qn&&(ht.J=m(wt,ht,Hn,Qn-Hn),ht.F=wt.mb,ht.F==null&&ht.F.length==0)){Rr=vn(wt,3,"Could not decode alpha data.");break t}Hn<ht.j&&(gn=ht.j-Hn,Hn=ht.j,e(!(1&gn)),ht.O+=wt.R*gn,ht.N+=wt.B*(gn>>1),ht.W+=wt.B*(gn>>1),ht.F!=null&&(ht.J+=ht.width*gn)),Hn<Qn&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Hn-ht.j,ht.U=ht.va-ht.v,ht.T=Qn-Hn,Rr=ht.put(ht))}on+1!=wt.Ic||ri||(r(wt.sa,wt.ta-Xt,hi,Ui+16*wt.R,Xt),r(wt.qa,wt.ra-Xn,dr,hn+8*wt.B,Xn),r(wt.Ha,wt.Ia-Xn,ni,Ji+8*wt.B,Xn))}if(!Rr)return vn(xn,6,"Output aborted.")}return 1})(ae,xe)),xe.bc!=null&&xe.bc(xe),Re&=1}return Re?(ae.cb=0,Re):0})(p,C)||(v=p.a)}}else v=p.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=gu(W.ba))}W=v}G=W!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var dh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,Y){for(var T="",R=0;R<4;R++)T+=String.fromCharCode(D[Y++]);return T}function g(D,Y){return D[Y+0]|D[Y+1]<<8}function b(D,Y){return(D[Y+0]|D[Y+1]<<8|D[Y+2]<<16)>>>0}function E(D,Y){return(D[Y+0]|D[Y+1]<<8|D[Y+2]<<16|D[Y+3]<<24)>>>0}new f;var _=[0],M=[0],V=[],U=new f,j=n,ne=(function(D,Y){var T={},R=0,L=!1,he=0,Ae=0;if(T.frames=[],!(function(P,z){for(var K=0;K<4;K++)if(P[z+K]!="RIFF".charCodeAt(K))return!0;return!1})(D,Y)){for(E(D,Y+=4),Y+=8;Y<D.length;){var te=d(D,Y),pe=E(D,Y+=4);Y+=4;var ue=pe+(1&pe);switch(te){case"VP8 ":case"VP8L":T.frames[R]===void 0&&(T.frames[R]={}),(X=T.frames[R]).src_off=L?Ae:Y-8,X.src_size=he+pe+8,R++,L&&(L=!1,he=0,Ae=0);break;case"VP8X":(X=T.header={}).feature_flags=D[Y];var Ce=Y+4;X.canvas_width=1+b(D,Ce),Ce+=3,X.canvas_height=1+b(D,Ce),Ce+=3;break;case"ALPH":L=!0,he=ue+8,Ae=Y-8;break;case"ANIM":(X=T.header).bgcolor=E(D,Y),Ce=Y+4,X.loop_count=g(D,Ce),Ce+=2;break;case"ANMF":var be,X;(X=T.frames[R]={}).offset_x=2*b(D,Y),Y+=3,X.offset_y=2*b(D,Y),Y+=3,X.width=1+b(D,Y),Y+=3,X.height=1+b(D,Y),Y+=3,X.duration=b(D,Y),Y+=3,be=D[Y++],X.dispose=1&be,X.blend=be>>1&1}te!="ANMF"&&(Y+=ue)}return T}})(j,0);ne.response=j,ne.rgbaoutput=!0,ne.dataurl=!1;var oe=ne.header?ne.header:null,H=ne.frames?ne.frames:null;if(oe){oe.loop_counter=oe.loop_count,_=[oe.canvas_height],M=[oe.canvas_width];for(var ee=0;ee<H.length&&H[ee].blend!=0;ee++);}var fe=H[0],q=U.WebPDecodeRGBA(j,fe.src_off,fe.src_size,M,_);fe.rgba=q,fe.imgwidth=M[0],fe.imgheight=_[0];for(var k=0;k<M[0]*_[0]*4;k++)V[k]=q[k];return this.width=M,this.height=_,this.data=V,this}function T9(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function C9(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,s,o,c,u,f,d,g=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new f,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new c,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new c,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,f=this.internal.Matrix,d=new g}]);var b=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=P;Object.defineProperty(this,"pdf",{get:function(){return z}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(re){K=!!re}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(re){ie=!!re}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(re){isNaN(re)||(de=re)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(re){isNaN(re)||(ye=re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(re){var lt;typeof re=="number"?lt=[re,re,re,re]:((lt=new Array(4))[0]=re[0],lt[1]=re.length>=2?re[1]:lt[0],lt[2]=re.length>=3?re[2]:lt[0],lt[3]=re.length>=4?re[3]:lt[1]),d.margin=lt}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(re){Ee=re}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(re){Le=re}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(re){Ue=re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(re){re instanceof g&&(d=re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(re){d.path=re}});var et=[];Object.defineProperty(this,"ctxStack",{get:function(){return et},set:function(re){et=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var lt;lt=E(re),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var lt=E(re);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var ot=null,ct=null,vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(re){ot=null,ct=null,vt=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var lt;if(this.ctx.font=re,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var $t=lt[1];lt[2];var Mt=lt[3],Be=lt[4];lt[5];var dt=lt[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(se==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var ge=(function(gt){var fn,Zt,Pt=[],Ft=gt.trim();if(Ft==="")return Z0;if(Ft in kx)return[kx[Ft]];for(;Ft!=="";){switch(Zt=null,fn=(Ft=Px(Ft)).charAt(0)){case'"':case"'":Zt=w9(Ft.substring(1),fn);break;default:Zt=x9(Ft)}if(Zt===null||(Pt.push(Zt[0]),(Ft=Px(Zt[1]))!==""&&Ft.charAt(0)!==","))return Z0;Ft=Ft.replace(/^,/,"")}return Pt})(dt);if(this.fontFaces){var Se=(function(gt,fn){var Zt=gt.getFontList(),Pt=JSON.stringify(Zt);if(ot===null||ct!==Pt){var Ft=(function(Qt){var Ot=[];return Object.keys(Qt).forEach(function(yn){Qt[yn].forEach(function(Et){var zt=null;switch(Et){case"bold":zt={family:yn,weight:"bold"};break;case"italic":zt={family:yn,style:"italic"};break;case"bolditalic":zt={family:yn,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:yn}}zt!==null&&(zt.ref={name:yn,style:Et},Ot.push(zt))})}),Ot})(Zt);ot=(function(Qt){for(var Ot={},yn=0;yn<Qt.length;++yn){var Et=J0(Qt[yn]),zt=Et.family,jn=Et.stretch,jt=Et.style,Ct=Et.weight;Ot[zt]=Ot[zt]||{},Ot[zt][jn]=Ot[zt][jn]||{},Ot[zt][jn][jt]=Ot[zt][jn][jt]||{},Ot[zt][jn][jt][Ct]=Et}return Ot})(Ft.concat(fn)),ct=Pt}return ot})(this.pdf,this.fontFaces),Ke=ge.map(function(gt){return{family:gt,stretch:"normal",weight:Mt,style:$t}}),He=(function(gt,fn,Zt){for(var Pt=(Zt=Zt||{}).defaultFontFamily||"times",Ft=Object.assign({},_9,Zt.genericFontFamilies||{}),Qt=null,Ot=null,yn=0;yn<fn.length;++yn)if(Ft[(Qt=J0(fn[yn])).family]&&(Qt.family=Ft[Qt.family]),gt.hasOwnProperty(Qt.family)){Ot=gt[Qt.family];break}if(!(Ot=Ot||gt[Pt]))throw new Error("Could not find a font-family for the rule '"+Dx(Qt)+"' and default family '"+Pt+"'.");if(Ot=(function(Et,zt){if(zt[Et])return zt[Et];var jn=J2[Et],jt=jn<=J2.normal?-1:1,Ct=Lx(zt,JS,jn,jt);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+Et);return Ct})(Qt.stretch,Ot),Ot=(function(Et,zt){if(zt[Et])return zt[Et];for(var jn=QS[Et],jt=0;jt<jn.length;++jt)if(zt[jn[jt]])return zt[jn[jt]];throw new Error("Could not find a matching font-style for "+Et)})(Qt.style,Ot),!(Ot=(function(Et,zt){if(zt[Et])return zt[Et];if(Et===400&&zt[500])return zt[500];if(Et===500&&zt[400])return zt[400];var jn=b9[Et],jt=Lx(zt,ZS,jn,Et<400?-1:1);if(!jt)throw new Error("Could not find a matching font-weight for value "+Et);return jt})(Qt.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+Dx(Qt)+"'.");return Ot})(Se,Ke);this.pdf.setFont(He.ref.name,He.ref.style)}else{var Ve="";(Mt==="bold"||parseInt(Mt,10)>=700||$t==="bold")&&(Ve="bold"),$t==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var it="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<ge.length;st++){if(this.pdf.internal.getFont(ge[st],Ve,{noFallback:!0,disableWarning:!0})!==void 0){it=ge[st];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(ge[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=ge[st],Ve="bold";else if(this.pdf.internal.getFont(ge[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=ge[st],Ve="normal";break}}if(it===""){for(var bt=0;bt<ge.length;bt++)if(ft[ge[bt]]){it=ft[ge[bt]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};b.prototype.setLineDash=function(P){this.lineDash=P},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){H.call(this,"fill",!1)},b.prototype.stroke=function(){H.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(P,z){if(isNaN(P)||isNaN(z))throw xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new c(P,z));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new c(P,z)},b.prototype.closePath=function(){var P=new c(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&lr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){P=new c(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(P.x,P.y)},b.prototype.lineTo=function(P,z){if(isNaN(P)||isNaN(z))throw xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new c(P,z));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new c(K.x,K.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},b.prototype.quadraticCurveTo=function(P,z,K,ie){if(isNaN(K)||isNaN(ie)||isNaN(P)||isNaN(z))throw xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new c(K,ie)),ye=this.ctx.transform.applyToPoint(new c(P,z));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:de.x,y:de.y}),this.ctx.lastPoint=new c(de.x,de.y)},b.prototype.bezierCurveTo=function(P,z,K,ie,de,ye){if(isNaN(de)||isNaN(ye)||isNaN(P)||isNaN(z)||isNaN(K)||isNaN(ie))throw xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new c(de,ye)),Le=this.ctx.transform.applyToPoint(new c(P,z)),Ue=this.ctx.transform.applyToPoint(new c(K,ie));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:Ue.x,y2:Ue.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new c(Ee.x,Ee.y)},b.prototype.arc=function(P,z,K,ie,de,ye){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(ie)||isNaN(de))throw xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new c(P,z));P=Ee.x,z=Ee.y;var Le=this.ctx.transform.applyToPoint(new c(0,K)),Ue=this.ctx.transform.applyToPoint(new c(0,0));K=Math.sqrt(Math.pow(Le.x-Ue.x,2)+Math.pow(Le.y-Ue.y,2))}Math.abs(de-ie)>=2*Math.PI&&(ie=0,de=2*Math.PI),this.path.push({type:"arc",x:P,y:z,radius:K,startAngle:ie,endAngle:de,counterclockwise:ye})},b.prototype.arcTo=function(P,z,K,ie,de){throw new Error("arcTo not implemented.")},b.prototype.rect=function(P,z,K,ie){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(ie))throw xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,z),this.lineTo(P+K,z),this.lineTo(P+K,z+ie),this.lineTo(P,z+ie),this.lineTo(P,z),this.lineTo(P+K,z),this.lineTo(P,z)},b.prototype.fillRect=function(P,z,K,ie){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(ie))throw xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,z,K,ie),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},b.prototype.strokeRect=function(P,z,K,ie){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(ie))throw xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(P,z,K,ie),this.stroke())},b.prototype.clearRect=function(P,z,K,ie){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(ie))throw xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,z,K,ie))},b.prototype.save=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},b.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(z),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(P){var z,K,ie,de;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))z=0,K=0,ie=0,de=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ye!==null)z=parseInt(ye[1]),K=parseInt(ye[2]),ie=parseInt(ye[3]),de=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)z=parseInt(ye[1]),K=parseInt(ye[2]),ie=parseInt(ye[3]),de=parseFloat(ye[4]);else{if(de=1,typeof P=="string"&&P.charAt(0)!=="#"){var Ee=new HS(P);P=Ee.ok?Ee.toHex():"#000000"}P.length===4?(z=P.substring(1,2),z+=z,K=P.substring(2,3),K+=K,ie=P.substring(3,4),ie+=ie):(z=P.substring(1,3),K=P.substring(3,5),ie=P.substring(5,7)),z=parseInt(z,16),K=parseInt(K,16),ie=parseInt(ie,16)}}return{r:z,g:K,b:ie,a:de,style:P}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(P,z,K,ie){if(isNaN(z)||isNaN(K)||typeof P!="string")throw xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!_.call(this)){var de=ue(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;R.call(this,{text:P,x:z,y:K,scale:ye,angle:de,align:this.textAlign,maxWidth:ie})}},b.prototype.strokeText=function(P,z,K,ie){if(isNaN(z)||isNaN(K)||typeof P!="string")throw xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){ie=isNaN(ie)?void 0:ie;var de=ue(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;R.call(this,{text:P,x:z,y:K,scale:ye,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ie})}},b.prototype.measureText=function(P){if(typeof P!="string")throw xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,K=this.pdf.internal.scaleFactor,ie=z.internal.getFontSize(),de=z.getStringUnitWidth(P)*ie/z.internal.scaleFactor;return new function(ye){var Ee=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:de*=Math.round(96*K/72*1e4)/1e4})},b.prototype.scale=function(P,z){if(isNaN(P)||isNaN(z))throw xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new f(P,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},b.prototype.rotate=function(P){if(isNaN(P))throw xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},b.prototype.translate=function(P,z){if(isNaN(P)||isNaN(z))throw xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new f(1,0,0,1,P,z);this.ctx.transform=this.ctx.transform.multiply(K)},b.prototype.transform=function(P,z,K,ie,de,ye){if(isNaN(P)||isNaN(z)||isNaN(K)||isNaN(ie)||isNaN(de)||isNaN(ye))throw xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new f(P,z,K,ie,de,ye);this.ctx.transform=this.ctx.transform.multiply(Ee)},b.prototype.setTransform=function(P,z,K,ie,de,ye){P=isNaN(P)?1:P,z=isNaN(z)?0:z,K=isNaN(K)?0:K,ie=isNaN(ie)?1:ie,de=isNaN(de)?0:de,ye=isNaN(ye)?0:ye,this.ctx.transform=new f(P,z,K,ie,de,ye)};var V=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(P,z,K,ie,de,ye,Ee,Le,Ue){var et=this.pdf.getImageProperties(P),ot=1,ct=1,vt=1,re=1;ie!==void 0&&Le!==void 0&&(vt=Le/ie,re=Ue/de,ot=et.width/ie*Le/ie,ct=et.height/de*Ue/de),ye===void 0&&(ye=z,Ee=K,z=0,K=0),ie!==void 0&&Le===void 0&&(Le=ie,Ue=de),ie===void 0&&Le===void 0&&(Le=et.width,Ue=et.height);var lt=this.ctx.transform.decompose(),$t=ue(lt.rotate.shx),Mt=new f,Be=(Mt=(Mt=(Mt=Mt.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new u(ye-z*vt,Ee-K*re,ie*ot,de*ct));if(this.autoPaging){for(var dt,se=U.call(this,Be),ge=[],Se=0;Se<se.length;Se+=1)ge.indexOf(se[Se])===-1&&ge.push(se[Se]);oe(ge);for(var Ke=ge[0],He=ge[ge.length-1],Ve=Ke;Ve<He+1;Ve++){this.pdf.setPage(Ve);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Ve===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Ve===1?0:st+(Ve-2)*bt;if(this.ctx.clip_path.length!==0){var fn=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(dt,this.posX+this.margin[3],-gt+ft+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=fn}var Zt=JSON.parse(JSON.stringify(Be));Zt=ne([Zt],this.posX+this.margin[3],-gt+ft+this.ctx.prevPageLastElemOffset)[0];var Pt=(Ve>Ke||Ve<He)&&V.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,bt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,$t),Pt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,$t)};var U=function(P,z,K){var ie=[];z=z||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ie.push(Math.floor((P.y+de)/K)+1);break;case"arc":ie.push(Math.floor((P.y+de-P.radius)/K)+1),ie.push(Math.floor((P.y+de+P.radius)/K)+1);break;case"qct":var ye=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ie.push(Math.floor((ye.y+de)/K)+1),ie.push(Math.floor((ye.y+ye.h+de)/K)+1);break;case"bct":var Ee=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ie.push(Math.floor((Ee.y+de)/K)+1),ie.push(Math.floor((Ee.y+Ee.h+de)/K)+1);break;case"rect":ie.push(Math.floor((P.y+de)/K)+1),ie.push(Math.floor((P.y+P.h+de)/K)+1)}for(var Le=0;Le<ie.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Le];)j.call(this);return ie},j=function(){var P=this.fillStyle,z=this.strokeStyle,K=this.font,ie=this.lineCap,de=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=z,this.font=K,this.lineCap=ie,this.lineWidth=de,this.lineJoin=ye},ne=function(P,z,K){for(var ie=0;ie<P.length;ie++)switch(P[ie].type){case"bct":P[ie].x2+=z,P[ie].y2+=K;case"qct":P[ie].x1+=z,P[ie].y1+=K;default:P[ie].x+=z,P[ie].y+=K}return P},oe=function(P){return P.sort(function(z,K){return z-K})},H=function(P,z){var K=this.fillStyle,ie=this.strokeStyle,de=this.lineCap,ye=this.lineWidth,Ee=Math.abs(ye*this.ctx.transform.scaleX),Le=this.lineJoin;if(this.autoPaging){for(var Ue,et,ot=JSON.parse(JSON.stringify(this.path)),ct=JSON.parse(JSON.stringify(this.path)),vt=[],re=0;re<ct.length;re++)if(ct[re].x!==void 0)for(var lt=U.call(this,ct[re]),$t=0;$t<lt.length;$t+=1)vt.indexOf(lt[$t])===-1&&vt.push(lt[$t]);for(var Mt=0;Mt<vt.length;Mt++)for(;this.pdf.internal.getNumberOfPages()<vt[Mt];)j.call(this);oe(vt);for(var Be=vt[0],dt=vt[vt.length-1],se=Be;se<dt+1;se++){this.pdf.setPage(se),this.fillStyle=K,this.strokeStyle=ie,this.lineCap=de,this.lineWidth=Ee,this.lineJoin=Le;var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=se===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=se===1?0:Ke+(se-2)*He;if(this.ctx.clip_path.length!==0){var it=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(Ue,this.posX+this.margin[3],-Ve+Se+this.ctx.prevPageLastElemOffset),ee.call(this,P,!0),this.path=it}if(et=JSON.parse(JSON.stringify(ot)),this.path=ne(et,this.posX+this.margin[3],-Ve+Se+this.ctx.prevPageLastElemOffset),z===!1||se===0){var ft=(se>Be||se<dt)&&V.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,He,null).clip().discardPath()),ee.call(this,P,z),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=ot}else this.lineWidth=Ee,ee.call(this,P,z),this.lineWidth=ye},ee=function(P,z){if((P!=="stroke"||z||!M.call(this))&&(P==="stroke"||z||!_.call(this))){for(var K,ie,de=[],ye=this.path,Ee=0;Ee<ye.length;Ee++){var Le=ye[Ee];switch(Le.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Le,deltas:[],abs:[]});break;case"lt":var Ue=de.length;if(ye[Ee-1]&&!isNaN(ye[Ee-1].x)&&(K=[Le.x-ye[Ee-1].x,Le.y-ye[Ee-1].y],Ue>0)){for(;Ue>=0;Ue--)if(de[Ue-1].close!==!0&&de[Ue-1].begin!==!0){de[Ue-1].deltas.push(K),de[Ue-1].abs.push(Le);break}}break;case"bct":K=[Le.x1-ye[Ee-1].x,Le.y1-ye[Ee-1].y,Le.x2-ye[Ee-1].x,Le.y2-ye[Ee-1].y,Le.x-ye[Ee-1].x,Le.y-ye[Ee-1].y],de[de.length-1].deltas.push(K);break;case"qct":var et=ye[Ee-1].x+2/3*(Le.x1-ye[Ee-1].x),ot=ye[Ee-1].y+2/3*(Le.y1-ye[Ee-1].y),ct=Le.x+2/3*(Le.x1-Le.x),vt=Le.y+2/3*(Le.y1-Le.y),re=Le.x,lt=Le.y;K=[et-ye[Ee-1].x,ot-ye[Ee-1].y,ct-ye[Ee-1].x,vt-ye[Ee-1].y,re-ye[Ee-1].x,lt-ye[Ee-1].y],de[de.length-1].deltas.push(K);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Le)}}ie=z?null:P==="stroke"?"stroke":"fill";for(var $t=!1,Mt=0;Mt<de.length;Mt++)if(de[Mt].arc)for(var Be=de[Mt].abs,dt=0;dt<Be.length;dt++){var se=Be[dt];se.type==="arc"?k.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,z,!$t):L.call(this,se.x,se.y),$t=!0}else if(de[Mt].close===!0)this.pdf.internal.out("h"),$t=!1;else if(de[Mt].begin!==!0){var ge=de[Mt].start.x,Se=de[Mt].start.y;he.call(this,de[Mt].deltas,ge,Se),$t=!0}ie&&D.call(this,ie),z&&Y.call(this)}},fe=function(P){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-K;case"top":return P+z-K;case"hanging":return P+z-2*K;case"middle":return P+z/2-K;default:return P}},q=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(z,K){this.colorStops.push([z,K])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(P,z,K,ie,de,ye,Ee,Le,Ue){for(var et=te.call(this,K,ie,de,ye),ot=0;ot<et.length;ot++){var ct=et[ot];ot===0&&(Ue?T.call(this,ct.x1+P,ct.y1+z):L.call(this,ct.x1+P,ct.y1+z)),Ae.call(this,P,z,ct.x2,ct.y2,ct.x3,ct.y3,ct.x4,ct.y4)}Le?Y.call(this):D.call(this,Ee)},D=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(P,z){this.pdf.internal.out(t(P)+" "+r(z)+" m")},R=function(P){var z;switch(P.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var K,ie,de,ye=this.pdf.getTextDimensions(P.text),Ee=fe.call(this,P.y),Le=q.call(this,Ee)-ye.h,Ue=this.ctx.transform.applyToPoint(new c(P.x,Ee));if(this.autoPaging){var et=this.ctx.transform.decompose(),ot=new f;ot=(ot=(ot=ot.multiply(et.translate)).multiply(et.skew)).multiply(et.scale);for(var ct=this.ctx.transform.applyToRectangle(new u(P.x,Ee,ye.w,ye.h)),vt=ot.applyToRectangle(new u(P.x,Le,ye.w,ye.h)),re=U.call(this,vt),lt=[],$t=0;$t<re.length;$t+=1)lt.indexOf(re[$t])===-1&&lt.push(re[$t]);oe(lt);for(var Mt=lt[0],Be=lt[lt.length-1],dt=Mt;dt<Be+1;dt++){this.pdf.setPage(dt);var se=dt===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],Ke=Se-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Ve=He-this.margin[3],it=dt===1?0:ge+(dt-2)*Ke;if(this.ctx.clip_path.length!==0){var ft=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(K,this.posX+this.margin[3],-1*it+se),ee.call(this,"fill",!0),this.path=ft}var st=ne([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-it+se+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*P.scale),de=this.lineWidth,this.lineWidth=de*P.scale);var bt=this.autoPaging!=="text";if(bt||st.y+st.h<=Se){if(bt||st.y>=se&&st.x<=He){var gt=bt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||He-st.x)[0],fn=ne([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-it+se+this.ctx.prevPageLastElemOffset)[0],Zt=bt&&(dt>Mt||dt<Be)&&V.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Ke,null).clip().discardPath()),this.pdf.text(gt,fn.x,fn.y,{angle:P.angle,align:z,renderingMode:P.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else st.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-st.y);P.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=de)}}else P.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*P.scale),de=this.lineWidth,this.lineWidth=de*P.scale),this.pdf.text(P.text,Ue.x+this.posX,Ue.y+this.posY,{angle:P.angle,align:z,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=de)},L=function(P,z,K,ie){K=K||0,ie=ie||0,this.pdf.internal.out(t(P+K)+" "+r(z+ie)+" l")},he=function(P,z,K){return this.pdf.lines(P,z,K,null,null)},Ae=function(P,z,K,ie,de,ye,Ee,Le){this.pdf.internal.out([e(s(K+P)),e(o(ie+z)),e(s(de+P)),e(o(ye+z)),e(s(Ee+P)),e(o(Le+z)),"c"].join(" "))},te=function(P,z,K,ie){for(var de=2*Math.PI,ye=Math.PI/2;z>K;)z-=de;var Ee=Math.abs(K-z);Ee<de&&ie&&(Ee=de-Ee);for(var Le=[],Ue=ie?-1:1,et=z;Ee>1e-5;){var ot=et+Ue*Math.min(Ee,ye);Le.push(pe.call(this,P,et,ot)),Ee-=Math.abs(ot-et),et=ot}return Le},pe=function(P,z,K){var ie=(K-z)/2,de=P*Math.cos(ie),ye=P*Math.sin(ie),Ee=de,Le=-ye,Ue=Ee*Ee+Le*Le,et=Ue+Ee*de+Le*ye,ot=4/3*(Math.sqrt(2*Ue*et)-et)/(Ee*ye-Le*de),ct=Ee-ot*Le,vt=Le+ot*Ee,re=ct,lt=-vt,$t=ie+z,Mt=Math.cos($t),Be=Math.sin($t);return{x1:P*Math.cos(z),y1:P*Math.sin(z),x2:ct*Mt-vt*Be,y2:ct*Be+vt*Mt,x3:re*Mt-lt*Be,y3:re*Be+lt*Mt,x4:P*Math.cos(K),y4:P*Math.sin(K)}},ue=function(P){return 180*P/Math.PI},Ce=function(P,z,K,ie,de,ye){var Ee=P+.5*(K-P),Le=z+.5*(ie-z),Ue=de+.5*(K-de),et=ye+.5*(ie-ye),ot=Math.min(P,de,Ee,Ue),ct=Math.max(P,de,Ee,Ue),vt=Math.min(z,ye,Le,et),re=Math.max(z,ye,Le,et);return new u(ot,vt,ct-ot,re-vt)},be=function(P,z,K,ie,de,ye,Ee,Le){var Ue,et,ot,ct,vt,re,lt,$t,Mt,Be,dt,se,ge,Se,Ke=K-P,He=ie-z,Ve=de-K,it=ye-ie,ft=Ee-de,st=Le-ye;for(et=0;et<41;et++)Mt=(lt=(ot=P+(Ue=et/40)*Ke)+Ue*((vt=K+Ue*Ve)-ot))+Ue*(vt+Ue*(de+Ue*ft-vt)-lt),Be=($t=(ct=z+Ue*He)+Ue*((re=ie+Ue*it)-ct))+Ue*(re+Ue*(ye+Ue*st-re)-$t),et==0?(dt=Mt,se=Be,ge=Mt,Se=Be):(dt=Math.min(dt,Mt),se=Math.min(se,Be),ge=Math.max(ge,Mt),Se=Math.max(Se,Be));return new u(Math.round(dt),Math.round(se),Math.round(ge-dt),Math.round(Se-se))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,z,K=(P=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:z}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Bt.API),(function(n){var e=function(c){var u,f,d,g,b,E,_,M,V,U;for(f=[],d=0,g=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;g>d;d+=4)(b=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(E=(b=((b=((b=((b=(b-(U=b%85))/85)-(V=b%85))/85)-(M=b%85))/85)-(_=b%85))/85)%85,f.push(E+33,_+33,M+33,V+33,U+33)):f.push(122);return(function(j,ne){for(var oe=ne;oe>0;oe--)j.pop()})(f,u.length),String.fromCharCode.apply(String,f)+"~>"},t=function(c){var u,f,d,g,b,E=String,_="length",M=255,V="charCodeAt",U="slice",j="replace";for(c[U](-2),c=c[U](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],g=0,b=(c+=u="uuuuu"[U](c[_]%5||5))[_];b>g;g+=5)f=52200625*(c[V](g)-33)+614125*(c[V](g+1)-33)+7225*(c[V](g+2)-33)+85*(c[V](g+3)-33)+(c[V](g+4)-33),d.push(M&f>>24,M&f>>16,M&f>>8,M&f);return(function(ne,oe){for(var H=oe;H>0;H--)ne.pop()})(d,u[_]),E.fromCharCode.apply(E,d)},r=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var f="",d=0;d<c.length;d+=2)f+=String.fromCharCode("0x"+(c[d]+c[d+1]));return f},o=function(c){for(var u=new Uint8Array(c.length),f=c.length;f--;)u[f]=c.charCodeAt(f);return(u=G2(u)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(c,u){var f=0,d=c||"",g=[];for(typeof(u=u||[])=="string"&&(u=[u]),f=0;f<u.length;f+=1)switch(u[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[f]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(Bt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(f,d,g){var b=new XMLHttpRequest,E=0,_=function(M){var V=M.length,U=[],j=String.fromCharCode;for(E=0;E<V;E+=1)U.push(j(255&M.charCodeAt(E)));return U.join("")};if(b.open("GET",f,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?g(_(this.responseText)):g(void 0)}),b.send(null),d&&b.status===200)return _(b.responseText)})(s,o,c)}catch{}return u})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Bt.API),(function(n){function e(){return(sn.html2canvas?Promise.resolve(sn.html2canvas):Im(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(sn.DOMPurify?Promise.resolve(sn.DOMPurify):Im(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var f=lr(u);return f==="undefined"?"undefined":f==="string"||u instanceof String?"string":f==="number"||u instanceof Number?"number":f==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(u,f){var d=document.createElement(u);for(var g in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[g]=f.style[g];return d},o=function u(f,d){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)d!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(u(b,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},c=function u(f){var d=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),g=u.convert(Promise.resolve(),d);return(g=g.setProgress(1,u,1,[u])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,f){return u.__proto__=f||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:u,dompurify:d})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var _=0;_<g.length;++_){var M=g[_],V=M.src.find(function(U){return U.format==="truetype"});V&&d.addFont(V.url,M.ref.name,M.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,d.context2d.save(!0),f(this.prop.container,E)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(u,f):this.outputPdf(u,f)},c.prototype.outputPdf=function(u,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,f)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(r(u)!=="object")return this;var f=Object.keys(u||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=u[d]};switch(d){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[d]=u[d]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(u,f){return this.then(function(){var d=u in c.template.prop?this.prop[u]:this.opt[u];return f?f(d):d})},c.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function f(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(u=u||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:f(u.inner.width,u.k),height:f(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,f,d,g){return u!=null&&(this.progress.val=u),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,f,d,g){return this.setProgress(u?this.progress.val+u:null,f||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(u,f){var d=this;return this.thenCore(u,f,function(g,b){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(E){return d.updateProgress(null,g),E}).then(g,b).then(function(E){return d.updateProgress(1),E})})},c.prototype.thenCore=function(u,f,d){d=d||Promise.prototype.then;var g=this;u&&(u=u.bind(g)),f&&(f=f.bind(g));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),E=d.call(b,u,f);return c.convert(E,g.__proto__)},c.prototype.thenExternal=function(u,f){return Promise.prototype.then.call(this,u,f)},c.prototype.thenList=function(u){var f=this;return u.forEach(function(d){f=f.thenCore(d)}),f},c.prototype.catch=function(u){u&&(u=u.bind(this));var f=Promise.prototype.catch.call(this,u);return c.convert(f,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Bt.getPageSize=function(u,f,d){if(lr(u)==="object"){var g=u;u=g.orientation,f=g.unit||f,d=g.format||d}f=f||"mm",d=d||"a4",u=(""+(u||"P")).toLowerCase();var b,E=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+f}var M,V=0,U=0;if(_.hasOwnProperty(E))V=_[E][1]/b,U=_[E][0]/b;else try{V=d[1],U=d[0]}catch{throw new Error("Invalid format: "+d)}if(u==="p"||u==="portrait")u="p",U>V&&(M=U,U=V,V=M);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",V>U&&(M=U,U=V,V=M)}return{width:U,height:V,unit:f,k:b,orientation:u}},n.html=function(u,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(J0):null;var d=new c(f);return f.worker?d:d.from(u).doCallback()}})(Bt.API),Bt.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],u=r.exec(c);if(u!=null){var f=u[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var b=t.internal.newObject();g.push(b);var E=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var c={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var f=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(Bt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,c,u){var f,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(b){for(var E,_=256*b.charCodeAt(4)+b.charCodeAt(5),M=b.length,V={width:0,height:0,numcomponents:1},U=4;U<M;U+=2){if(U+=_,e.indexOf(b.charCodeAt(U+1))!==-1){E=256*b.charCodeAt(U+5)+b.charCodeAt(U+6),V={width:256*b.charCodeAt(U+7)+b.charCodeAt(U+8),height:E,numcomponents:b.charCodeAt(U+9)};break}_=256*b.charCodeAt(U+2)+b.charCodeAt(U+3)}return V})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}g={data:t,width:f.width,height:f.height,colorSpace:u,bitsPerComponent:8,filter:d,index:r,alias:s}}return g}})(Bt.API),Bt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=s9(n,{checkCrc:!0}),c=o.width,u=o.height,f=o.channels,d=o.palette,g=o.depth;s=d&&f===1?(function(k){for(var D=k.width,Y=k.height,T=k.data,R=k.palette,L=k.depth,he=!1,Ae=[],te=[],pe=void 0,ue=!1,Ce=0,be=0;be<R.length;be++){var X=Uw(R[be],4),P=X[0],z=X[1],K=X[2],ie=X[3];Ae.push(P,z,K),ie!=null&&(ie===0?(Ce++,te.length<1&&te.push(be)):ie<255&&(ue=!0))}if(ue||Ce>1){he=!0,te=void 0;var de=D*Y;pe=new Uint8Array(de);for(var ye=new DataView(T.buffer),Ee=0;Ee<de;Ee++){var Le=e2(ye,Ee,L),Ue=Uw(R[Le],4)[3];pe[Ee]=Ue}}else Ce===0&&(te=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:he?8:void 0,colorBytes:T,alphaBytes:pe,needSMask:he,palette:Ae,mask:te}})(o):f===2||f===4?(function(k){for(var D=k.data,Y=k.width,T=k.height,R=k.channels,L=k.depth,he=R===2?"DeviceGray":"DeviceRGB",Ae=R-1,te=Y*T,pe=Ae,ue=te*pe,Ce=1*te,be=Math.ceil(ue*L/8),X=Math.ceil(Ce*L/8),P=new Uint8Array(be),z=new Uint8Array(X),K=new DataView(D.buffer),ie=new DataView(P.buffer),de=new DataView(z.buffer),ye=!1,Ee=0;Ee<te;Ee++){for(var Le=Ee*R,Ue=0;Ue<pe;Ue++)qx(ie,e2(K,Le+Ue,L),Ee*pe+Ue,L);var et=e2(K,Le+pe,L);et<(1<<L)-1&&(ye=!0),qx(de,et,1*Ee,L)}return{colorSpace:he,colorsPerPixel:Ae,sMaskBitsPerComponent:ye?L:void 0,colorBytes:P,alphaBytes:z,needSMask:ye}})(o):(function(k){var D=k.data,Y=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Y,colorsPerPixel:Y==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(T){for(var R=T.length,L=new Uint8Array(2*R),he=new DataView(L.buffer,L.byteOffset,L.byteLength),Ae=0;Ae<R;Ae++)he.setUint16(2*Ae,T[Ae],!1);return L})(D):D,needSMask:!1}})(o);var b,E,_,M=s,V=M.colorSpace,U=M.colorsPerPixel,j=M.sMaskBitsPerComponent,ne=M.colorBytes,oe=M.alphaBytes,H=M.needSMask,ee=M.palette,fe=M.mask,q=null;return r!==Bt.API.image_compression.NONE&&typeof G2=="function"?(q=(function(k){var D;switch(k){case Bt.API.image_compression.FAST:D=11;break;case Bt.API.image_compression.MEDIUM:D=13;break;case Bt.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),b=this.decode.FLATE_DECODE,E="/Predictor ".concat(q," /Colors ").concat(U," /BitsPerComponent ").concat(g," /Columns ").concat(c),n=Vx(ne,Math.ceil(c*U*g/8),U,g,r),H&&(_=Vx(oe,Math.ceil(c*j/8),1,j,r))):(b=void 0,E=void 0,n=ne,H&&(_=oe)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:n,index:e,filter:b,decodeParameters:E,transparency:fe,palette:ee,sMask:_,predictor:q,width:c,height:u,bitsPerComponent:g,sMaskBitsPerComponent:j,colorSpace:V}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new N9(e),c=o.width,u=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:c,height:u},g=new t2(100).encode(d,100);return n.processJPEG.call(this,g,t,r,s)},n.processGIF87A=n.processGIF89A})(Bt.API),Ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ro.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){xr.log("bit decode error:"+t)}},Ro.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var f=this.palette[o>>7-u&1];this.data[c+4*u]=f.blue,this.data[c+4*u+1]=f.green,this.data[c+4*u+2]=f.red,this.data[c+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Ro.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*s*4,u=o>>4,f=15&o,d=this.palette[u];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Ro.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Ro.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,g=r*this.width*4+4*s;this.data[g]=f,this.data[g+1]=u,this.data[g+2]=c,this.data[g+3]=d}this.pos+=n}},Ro.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&e)/e*255|0,f=(c>>5&t)/t*255|0,d=(c>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=u,this.data[g+3]=255}this.pos+=n}},Ro.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},Ro.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=c}},Ro.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new Ro(e,!1),c=o.width,u=o.height,f={data:o.getData(),width:c,height:u},d=new t2(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(Bt.API),Gx.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new Gx(e),c=o.width,u=o.height,f={data:o.getData(),width:c,height:u},d=new t2(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(Bt.API),Bt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),u=0,f=0,d=0;d<s;d+=4){var g=r[d],b=r[d+1],E=r[d+2],_=r[d+3];o[u++]=g,o[u++]=b,o[u++]=E,c[f++]=_}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:M,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Bt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fh=Bt.API,vm=Fh.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:s.metadata.Unicode.widths,f=u.fof?u.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=d.fof?d.fof:1,b=e.doKerning!==!1,E=0,_=n.length,M=0,V=u[0]||f,U=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?U.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(E=b&&lr(d[r])==="object"&&!isNaN(parseInt(d[r][M],10))?d[r][M]/g:0,U.push((u[r]||V)/f+E)),M=r;return U},Ox=Fh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Fh.processArabic&&(n=Fh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:vm.apply(this,arguments).reduce(function(o,c){return o+c},0)},Mx=function(n,e,t,r){for(var s=[],o=0,c=n.length,u=0;o!==c&&u+e[o]<t;)u+=e[o],o++;s.push(n.slice(0,o));var f=o;for(u=0;o!==c;)u+e[o]>r&&(s.push(n.slice(f,o)),u=0,f=o),u+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},jx=function(n,e,t){t||(t={});var r,s,o,c,u,f,d,g=[],b=[g],E=t.textIndent||0,_=0,M=0,V=n.split(" "),U=vm.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?V[0].length+2:t.lineIndent||0){var j=Array(f).join(" "),ne=[];V.map(function(H){(H=H.split(/\s*\n/)).length>1?ne=ne.concat(H.map(function(ee,fe){return(fe&&ee.length?`
`:"")+ee})):ne.push(H[0])}),V=ne,f=Ox.apply(this,[j,t])}for(o=0,c=V.length;o<c;o++){var oe=0;if(r=V[o],f&&r[0]==`
`&&(r=r.substr(1),oe=1),E+_+(M=(s=vm.apply(this,[r,t])).reduce(function(H,ee){return H+ee},0))>e||oe){if(M>e){for(u=Mx.apply(this,[r,s,e-(E+_),e]),g.push(u.shift()),g=[u.pop()];u.length;)b.push([u.shift()]);M=s.slice(r.length-(g[0]?g[0].length:0)).reduce(function(H,ee){return H+ee},0)}else g=[r];b.push(g),E=M+f,_=U}else g.push(r),E+=_+M,_=U}return d=f?function(H,ee){return(ee?j:"")+H.join(" ")}:function(H){return H.join(" ")},b.map(d)},Fh.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle),E="Unicode";return b.metadata[E]?{widths:b.metadata[E].widths||{0:1},kerning:b.metadata[E].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var u,f,d=[];for(u=0,f=r.length;u<f;u++)d=d.concat(jx.apply(this,[r[u],c,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var c=function(E){return"0x"+parseInt(E,10).toString(16)},u=n.__fontmetrics__.compress=function(E){var _,M,V,U,j=["{"];for(var ne in E){if(_=E[ne],isNaN(parseInt(ne,10))?M="'"+ne+"'":(ne=parseInt(ne,10),M=(M=c(ne).slice(2)).slice(0,-1)+s[M.slice(-1)]),typeof _=="number")_<0?(V=c(_).slice(3),U="-"):(V=c(_).slice(2),U=""),V=U+V.slice(0,-1)+s[V.slice(-1)];else{if(lr(_)!=="object")throw new Error("Don't know what to do with value type "+lr(_)+".");V=u(_)}j.push(M+V)}return j.push("}"),j.join("")},f=n.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,M,V,U,j={},ne=1,oe=j,H=[],ee="",fe="",q=E.length-1,k=1;k<q;k+=1)(U=E[k])=="'"?_?(V=_.join(""),_=void 0):_=[]:_?_.push(U):U=="{"?(H.push([oe,V]),oe={},V=void 0):U=="}"?((M=H.pop())[0][M[1]]=oe,V=void 0,oe=M[0]):U=="-"?ne=-1:V===void 0?r.hasOwnProperty(U)?(ee+=r[U],V=parseInt(ee,16)*ne,ne=1,ee=""):ee+=U:r.hasOwnProperty(U)?(fe+=r[U],oe[V]=parseInt(fe,16)*ne,ne=1,V=void 0,fe=""):fe+=U;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(E){var _=E.font,M=b.Unicode[_.postScriptName];M&&(_.metadata.Unicode={},_.metadata.Unicode.widths=M.widths,_.metadata.Unicode.kerning=M.kerning);var V=g.Unicode[_.postScriptName];V&&(_.metadata.Unicode.encoding=V,_.encoding=V.codePages[0])}])})(Bt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Lm(u)),c.metadata=n.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,r)}}])})(Bt),Bt.API.addSvgAsImage=function(n,e,t,r,s,o,c,u){if(isNaN(e)||isNaN(t))throw xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(sn.canvg?Promise.resolve(sn.canvg):Im(()=>import("./index.es-CuE-JlnV.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(g)}).then(function(){b.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,c,u)})},Bt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Bt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),f=[],d=0,g=0,b=0;function E(M,V){var U,j=!1;for(U=0;U<M.length;U+=1)M[U]===V&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=u.length;for(b=0;b<_;b+=1)t[u[b]].value=t[u[b]].defaultValue,t[u[b]].explicitSet=!1}if(lr(n)==="object"){for(s in n)if(o=n[s],E(u,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&E(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,V=[];for(M in t)t[M].explicitSet===!0&&(t[M].type==="name"?V.push("/"+M+" /"+t[M].value):V.push("/"+M+" "+t[M].value));V.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+V.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},Bt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",C9),this.internal.events.subscribe("postPutResources",T9)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var u,f=c.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],b=0,E=o.length;b<E;++b){if(u=c.metadata.characterToGlyph(o.charCodeAt(b)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(b),f.indexOf(u)==-1&&(f.push(u),f.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return g.join("");u=u.toString(16),g.push(d[4-u.length],u)}return g.join("")},r=function(o){var c,u,f,d,g,b,E;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],b=0,E=(u=Object.keys(o).sort(function(_,M){return _-M})).length;b<E;b++)c=u[b],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(d=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+d+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var u=c.font,f=c.out,d=c.newObject,g=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var b=u.metadata.Unicode.widths,E=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),_="",M=0;M<E.length;M++)_+=String.fromCharCode(E[M]);var V=d();g({data:_,addLength1:!0,objectId:V}),f("endobj");var U=d();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var j=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Yh(u.fontName)),f("/FontFile2 "+V+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),f("/Flags "+u.metadata.flags),f("/StemV "+u.metadata.stemV),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f(">>"),f("endobj");var ne=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Yh(u.fontName)),f("/FontDescriptor "+j+" 0 R"),f("/W "+n.API.PDFObject.convert(b)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+u.encoding+")"),f(">>"),f(">>"),f("endobj"),u.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+U+" 0 R"),f("/BaseFont /"+Yh(u.fontName)),f("/Encoding /"+u.encoding),f("/DescendantFonts ["+ne+" 0 R]"),f(">>"),f("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var u=c.font,f=c.out,d=c.newObject,g=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var b=u.metadata.rawData,E="",_=0;_<b.length;_++)E+=String.fromCharCode(b[_]);var M=d();g({data:E,addLength1:!0,objectId:M}),f("endobj");var V=d();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:V}),f("endobj");var U=d();f("<<"),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f("/StemV "+u.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),f("/FontName /"+Yh(u.fontName)),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f(">>"),f("endobj"),u.objectNumber=d();for(var j=0;j<u.metadata.hmtx.widths.length;j++)u.metadata.hmtx.widths[j]=parseInt(u.metadata.hmtx.widths[j]*(1e3/u.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+V+" 0 R/BaseFont/"+Yh(u.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),f("endobj"),u.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,u=o.text||"",f=o.x,d=o.y,g=o.options||{},b=o.mutex||{},E=b.pdfEscape,_=b.activeFontKey,M=b.fonts,V=_,U="",j=0,ne="",oe=M[V].encoding;if(M[V].encoding!=="Identity-H")return{text:u,x:f,y:d,options:g,mutex:b};for(ne=u,V=_,Array.isArray(u)&&(ne=u[0]),j=0;j<ne.length;j+=1)M[V].metadata.hasOwnProperty("cmap")&&(c=M[V].metadata.cmap.unicode.codeMap[ne[j].charCodeAt(0)]),c||ne[j].charCodeAt(0)<256&&M[V].metadata.hasOwnProperty("Unicode")?U+=ne[j]:U+="";var H="";return parseInt(V.slice(1))<14||oe==="WinAnsiEncoding"?H=E(U,V).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):oe==="Identity-H"&&(H=t(U,M[V])),b.isHex=!0,{text:H,x:f,y:d,options:g,mutex:b}};e.events.push(["postProcessText",function(o){var c=o.text||"",u=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?u.push([s(Object.assign({},f,{text:c[d][0]})).text,c[d][1],c[d][2]]):u.push(s(Object.assign({},f,{text:c[d]})).text);o.text=u}else o.text=s(Object.assign({},f,{text:c})).text}])})(Bt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Bt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,c,u,f,d,g,b=e,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},V={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ne=!1,oe=0;this.__bidiEngine__={};var H=function(T){var R=T.charCodeAt(),L=R>>8,he=V[L];return he!==void 0?b[256*he+(255&R)]:L===252||L===253?"AL":j.test(L)?"L":L===8?"R":"N"},ee=function(T){for(var R,L=0;L<T.length;L++){if((R=H(T.charAt(L)))==="L")return!1;if(R==="R")return!0}return!1},fe=function(T,R,L,he){var Ae,te,pe,ue,Ce=R[he];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ne=!1;break;case"N":case"AN":break;case"EN":ne&&(Ce="AN");break;case"AL":ne=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":he<1||he+1>=R.length||(Ae=L[he-1])!=="EN"&&Ae!=="AN"||(te=R[he+1])!=="EN"&&te!=="AN"?Ce="N":ne&&(te="AN"),Ce=te===Ae?te:"N";break;case"ES":Ce=(Ae=he>0?L[he-1]:"B")==="EN"&&he+1<R.length&&R[he+1]==="EN"?"EN":"N";break;case"ET":if(he>0&&L[he-1]==="EN"){Ce="EN";break}if(ne){Ce="N";break}for(pe=he+1,ue=R.length;pe<ue&&R[pe]==="ET";)pe++;Ce=pe<ue&&R[pe]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(ue=R.length,pe=he+1;pe<ue&&R[pe]==="NSM";)pe++;if(pe<ue){var be=T[he],X=be>=1425&&be<=2303||be===64286;if(Ae=R[pe],X&&(Ae==="R"||Ae==="AL")){Ce="R";break}}}Ce=he<1||(Ae=R[he-1])==="B"?"N":L[he-1];break;case"B":ne=!1,s=!0,Ce=oe;break;case"S":o=!0,Ce="N"}return Ce},q=function(T,R,L){var he=T.split("");return L&&k(he,L,{hiLevel:oe}),he.reverse(),R&&R.reverse(),he.join("")},k=function(T,R,L){var he,Ae,te,pe,ue,Ce=-1,be=T.length,X=0,P=[],z=oe?_:E,K=[];for(ne=!1,s=!1,o=!1,Ae=0;Ae<be;Ae++)K[Ae]=H(T[Ae]);for(te=0;te<be;te++){if(ue=X,P[te]=fe(T,K,P,te),he=240&(X=z[ue][M[P[te]]]),X&=15,R[te]=pe=z[X][5],he>0)if(he===16){for(Ae=Ce;Ae<te;Ae++)R[Ae]=1;Ce=-1}else Ce=-1;if(z[X][6])Ce===-1&&(Ce=te);else if(Ce>-1){for(Ae=Ce;Ae<te;Ae++)R[Ae]=pe;Ce=-1}K[te]==="B"&&(R[te]=0),L.hiLevel|=pe}o&&(function(ie,de,ye){for(var Ee=0;Ee<ye;Ee++)if(ie[Ee]==="S"){de[Ee]=oe;for(var Le=Ee-1;Le>=0&&ie[Le]==="WS";Le--)de[Le]=oe}})(K,R,be)},D=function(T,R,L,he,Ae){if(!(Ae.hiLevel<T)){if(T===1&&oe===1&&!s)return R.reverse(),void(L&&L.reverse());for(var te,pe,ue,Ce,be=R.length,X=0;X<be;){if(he[X]>=T){for(ue=X+1;ue<be&&he[ue]>=T;)ue++;for(Ce=X,pe=ue-1;Ce<pe;Ce++,pe--)te=R[Ce],R[Ce]=R[pe],R[pe]=te,L&&(te=L[Ce],L[Ce]=L[pe],L[pe]=te);X=ue}X++}}},Y=function(T,R,L){var he=T.split(""),Ae={hiLevel:oe};return L||(L=[]),k(he,L,Ae),(function(te,pe,ue){if(ue.hiLevel!==0&&g)for(var Ce,be=0;be<te.length;be++)pe[be]===1&&(Ce=U.indexOf(te[be]))>=0&&(te[be]=U[Ce+1])})(he,L,Ae),D(2,he,R,L,Ae),D(1,he,R,L,Ae),he.join("")};return this.__bidiEngine__.doBidiReorder=function(T,R,L){if((function(Ae,te){if(te)for(var pe=0;pe<Ae.length;pe++)te[pe]=pe;u===void 0&&(u=ee(Ae)),d===void 0&&(d=ee(Ae))})(T,R),c||!f||d)if(c&&f&&u^d)oe=u?1:0,T=q(T,R,L);else if(!c&&f&&d)oe=u?1:0,T=Y(T,R,L),T=q(T,R);else if(!c||u||f||d){if(c&&!f&&u^d)T=q(T,R),u?(oe=0,T=Y(T,R,L)):(oe=1,T=Y(T,R,L),T=q(T,R));else if(c&&u&&!f&&d)oe=1,T=Y(T,R,L),T=q(T,R);else if(!c&&!f&&u^d){var he=g;u?(oe=1,T=Y(T,R,L),oe=0,g=!1,T=Y(T,R,L),g=he):(oe=0,T=Y(T,R,L),T=q(T,R),oe=1,g=!1,T=Y(T,R,L),g=he,T=q(T,R))}}else oe=0,T=Y(T,R,L);else oe=u?1:0,T=Y(T,R,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,f=T.isOutputVisual,u=T.isInputRtl,d=T.isOutputRtl,g=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(c=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?c.push([t.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):c.push([t.doBidiReorder(s[u])]);r.text=c}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Bt),Bt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new hu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new q9(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new I9(this.contents),this.head=new L9(this),this.name=new M9(this),this.cmap=new tE(this),this.toUnicode={},this.hhea=new k9(this),this.maxp=new j9(this),this.hmtx=new V9(this),this.post=new P9(this),this.os2=new D9(this),this.loca=new z9(this),this.glyf=new F9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,f,d;for(d=[],c=0,u=(f=this.bbox).length;c<u;c++)e=f[c],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,c,u;for(c=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Uo,hu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,c,u,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*c+256*u+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),I9=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,c,u,f,d,g,b,E,_,M,V;for(V in _=Object.keys(t).length,f=Math.log(2),b=16*Math.floor(Math.log(_)/f),c=Math.floor(b/f),g=16*_-b,(s=new hu).writeInt(this.scalarType),s.writeShort(_),s.writeShort(b),s.writeShort(c),s.writeShort(g),o=16*_,d=s.pos+o,u=null,M=[],t)for(E=t[V],s.writeString(V),s.writeInt(n(E)),s.writeInt(d),s.writeInt(E.length),M=M.concat(E),V==="head"&&(u=d),d+=E.length;d%4;)M.push(0),d++;return s.write(M),r=2981146554-n(s.data),s.pos=u+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,c;for(t=nE.call(t);t.length%4;)t.push(0);for(o=new hu(t),s=0,r=0,c=t.length;r<c;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),R9={}.hasOwnProperty,_l=function(n,e){for(var t in e)R9.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Uo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var L9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new hu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Yx=(function(){function n(e,t){var r,s,o,c,u,f,d,g,b,E,_,M,V,U,j,ne,oe;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(_=e.readUInt16(),E=_/2,e.pos+=6,o=(function(){var H,ee;for(ee=[],f=H=0;0<=E?H<E:H>E;f=0<=E?++H:--H)ee.push(e.readUInt16());return ee})(),e.pos+=2,V=(function(){var H,ee;for(ee=[],f=H=0;0<=E?H<E:H>E;f=0<=E?++H:--H)ee.push(e.readUInt16());return ee})(),d=(function(){var H,ee;for(ee=[],f=H=0;0<=E?H<E:H>E;f=0<=E?++H:--H)ee.push(e.readUInt16());return ee})(),g=(function(){var H,ee;for(ee=[],f=H=0;0<=E?H<E:H>E;f=0<=E?++H:--H)ee.push(e.readUInt16());return ee})(),s=(this.length-e.pos+this.offset)/2,u=(function(){var H,ee;for(ee=[],f=H=0;0<=s?H<s:H>s;f=0<=s?++H:--H)ee.push(e.readUInt16());return ee})(),f=j=0,oe=o.length;j<oe;f=++j)for(U=o[f],r=ne=M=V[f];M<=U?ne<=U:ne>=U;r=M<=U?++ne:--ne)g[f]===0?c=r+d[f]:(c=u[g[f]/2+(r-M)-(E-f)]||0)!==0&&(c+=d[f]),this.codeMap[r]=65535&c}e.pos=b}return n.encode=function(e,t){var r,s,o,c,u,f,d,g,b,E,_,M,V,U,j,ne,oe,H,ee,fe,q,k,D,Y,T,R,L,he,Ae,te,pe,ue,Ce,be,X,P,z,K,ie,de,ye,Ee,Le,Ue,et,ot;switch(he=new hu,c=Object.keys(e).sort(function(ct,vt){return ct-vt}),t){case"macroman":for(V=0,U=(function(){var ct=[];for(M=0;M<256;++M)ct.push(0);return ct})(),ne={0:0},o={},Ae=0,Ce=c.length;Ae<Ce;Ae++)ne[Le=e[s=c[Ae]]]==null&&(ne[Le]=++V),o[s]={old:e[s],new:ne[e[s]]},U[s]=ne[e[s]];return he.writeUInt16(1),he.writeUInt16(0),he.writeUInt32(12),he.writeUInt16(0),he.writeUInt16(262),he.writeUInt16(0),he.write(U),{charMap:o,subtable:he.data,maxGlyphID:V+1};case"unicode":for(R=[],b=[],oe=0,ne={},r={},j=d=null,te=0,be=c.length;te<be;te++)ne[ee=e[s=c[te]]]==null&&(ne[ee]=++oe),r[s]={old:ee,new:ne[ee]},u=ne[ee]-s,j!=null&&u===d||(j&&b.push(j),R.push(s),d=u),j=s;for(j&&b.push(j),b.push(65535),R.push(65535),Y=2*(D=R.length),k=2*Math.pow(Math.log(D)/Math.LN2,2),E=Math.log(k/2)/Math.LN2,q=2*D-k,f=[],fe=[],_=[],M=pe=0,X=R.length;pe<X;M=++pe){if(T=R[M],g=b[M],T===65535){f.push(0),fe.push(0);break}if(T-(L=r[T].new)>=32768)for(f.push(0),fe.push(2*(_.length+D-M)),s=ue=T;T<=g?ue<=g:ue>=g;s=T<=g?++ue:--ue)_.push(r[s].new);else f.push(L-T),fe.push(0)}for(he.writeUInt16(3),he.writeUInt16(1),he.writeUInt32(12),he.writeUInt16(4),he.writeUInt16(16+8*D+2*_.length),he.writeUInt16(0),he.writeUInt16(Y),he.writeUInt16(k),he.writeUInt16(E),he.writeUInt16(q),ye=0,P=b.length;ye<P;ye++)s=b[ye],he.writeUInt16(s);for(he.writeUInt16(0),Ee=0,z=R.length;Ee<z;Ee++)s=R[Ee],he.writeUInt16(s);for(Ue=0,K=f.length;Ue<K;Ue++)u=f[Ue],he.writeUInt16(u);for(et=0,ie=fe.length;et<ie;et++)H=fe[et],he.writeUInt16(H);for(ot=0,de=_.length;ot<de;ot++)V=_[ot],he.writeUInt16(V);return{charMap:r,subtable:he.data,maxGlyphID:oe+1}}},n})(),tE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new Yx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=Yx.encode(e,t),(s=new hu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),k9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),D9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),P9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,u,f;for(f=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)f.push(e.readUInt32());return f}).call(this)}},n})(),O9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},M9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,c,u,f,d,g,b,E;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(f={},o=g=0,b=r.length;g<b;o=++g)s=r[o],e.pos=s.offset,d=e.readString(s.length),c=new O9(d,s),f[E=s.nameID]==null&&(f[E]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),j9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),V9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,c,u,f;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,b,E;for(E=[],d=0,g=(b=this.metrics).length;d<g;d++)o=b[d],E.push(o.advance);return E}).call(this),r=this.widths[this.widths.length-1],f=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),nE=[].slice,F9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,c,u,f,d,g,b;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(u=new hu(t.read(s))).readShort(),d=u.readShort(),b=u.readShort(),f=u.readShort(),g=u.readShort(),this.cache[e]=c===-1?new B9(u,d,b,f,g):new U9(u,c,d,b,f,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,c,u,f;for(c=[],o=[],u=0,f=t.length;u<f;u++)s=e[t[u]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),U9=(function(){function n(e,t,r,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),B9=(function(){function n(e,t,r,s,o){var c,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new hu(nE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),z9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _l(n,Uo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<t.length&&t[o]==c){++o,r[c]=s;var u=this.offsets[c],f=this.offsets[c+1]-u;f>0&&(s+=f)}for(var d=new Array(4*r.length),g=0;g<r.length;++g)d[4*g+3]=255&r[g],d[4*g+2]=(65280&r[g])>>8,d[4*g+1]=(16711680&r[g])>>16,d[4*g]=(4278190080&r[g])>>24;return d},n})(),q9=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,c,u,f;for(s={},c=0,u=e.length;c<u;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,c,u,f,d,g,b,E,_,M,V,U,j;for(s in r=tE.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},j=r.charMap)_[(f=j[s]).old]=f.new;for(M in E=r.maxGlyphID,c)M in _||(_[M]=E++);return g=(function(ne){var oe,H;for(oe in H={},ne)H[ne[oe]]=oe;return H})(_),b=Object.keys(g).sort(function(ne,oe){return ne-oe}),V=(function(){var ne,oe,H;for(H=[],ne=0,oe=b.length;ne<oe;ne++)u=b[ne],H.push(g[u]);return H})(),o=this.font.glyf.encode(c,V,_),d=this.font.loca.encode(o.offsets,V),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n})();Bt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,c;if(Array.isArray(t))return"["+(function(){var u,f,d;for(d=[],u=0,f=t.length;u<f;u++)r=t[u],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function rE(n,e,t,r,s){r=r||{};var o=1.15,c=s.internal.scaleFactor,u=s.internal.getFontSize()/c,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=u*f,g=/\r\n|\r|\n/g,b="",E=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(b=typeof n=="string"?n.split(g):n,E=b.length||1),t+=u*(2-o),r.valign==="middle"?t-=E/2*d:r.valign==="bottom"&&(t-=E*d),r.halign==="center"||r.halign==="right"){var _=u;if(r.halign==="center"&&(_*=.5),b&&E>=1){for(var M=0;M<b.length;M++)s.text(b[M],e-s.getStringUnitWidth(b[M])*_,t),t+=d;return s}e-=s.getStringUnitWidth(n)*_}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var Wx={},lf=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Wx=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,f=c.fontName;if(e.font&&(f=e.font),e.fontStyle){u=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),u=d[0])}if(this.jsPDFDocument.setFont(f,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=n.unifyColor(e.textColor),g&&(s=this.jsPDFDocument).setTextColor.apply(s,g),g=n.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,o){return this.jsPDFDocument.rect(e,t,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Wx||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),Z2=function(n,e){return Z2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},Z2(n,e)};function iE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Z2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var sE=(function(n){iE(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function H9(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function G9(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function ug(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return s}function aE(n,e,t,r){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var c=oE(s,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,c)}function oE(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Yg(n,e){var t,r,s,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function lE(n,e){var t=Yg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function Y9(n,e,t,r,s){var o={},c=1.3333333333333333,u=n2(e,function(oe){return s.getComputedStyle(oe).backgroundColor});u!=null&&(o.fillColor=u);var f=n2(e,function(oe){return s.getComputedStyle(oe).color});f!=null&&(o.textColor=f);var d=K9(r,t);d&&(o.cellPadding=d);var g="borderTopColor",b=c*t,E=r.borderTopWidth;if(r.borderBottomWidth===E&&r.borderRightWidth===E&&r.borderLeftWidth===E){var _=(parseFloat(E)||0)/b;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/b,right:(parseFloat(r.borderRightWidth)||0)/b,bottom:(parseFloat(r.borderBottomWidth)||0)/b,left:(parseFloat(r.borderLeftWidth)||0)/b},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var M=n2(e,function(oe){return s.getComputedStyle(oe)[g]});M!=null&&(o.lineColor=M);var V=["left","right","center","justify"];V.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),V=["middle","bottom","top"],V.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var U=parseInt(r.fontSize||"");isNaN(U)||(o.fontSize=U/c);var j=W9(r);j&&(o.fontStyle=j);var ne=(r.fontFamily||"").toLowerCase();return n.indexOf(ne)!==-1&&(o.font=ne),o}function W9(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function n2(n,e){var t=cE(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function cE(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:cE(n.parentElement,e):t}function K9(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(u){return parseInt(u||"0")/r}),c=Yg(o,0);return s>c.top&&(c.top=s),s>c.bottom&&(c.bottom=s),c}function uE(n,e,t,r,s){var o,c;r===void 0&&(r=!1),s===void 0&&(s=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),g=[],b=[],E=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:g,body:b,foot:E};for(var _=0;_<u.rows.length;_++){var M=u.rows[_],V=(c=(o=M?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),U=$9(f,d,t,M,r,s);U&&(V==="thead"?g.push(U):V==="tfoot"?E.push(U):b.push(U))}return{head:g,body:b,foot:E}}function $9(n,e,t,r,s,o){for(var c=new sE(r),u=0;u<r.cells.length;u++){var f=r.cells[u],d=t.getComputedStyle(f);if(s||d.display!=="none"){var g=void 0;o&&(g=Y9(n,f,e,d,t)),c.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:g,_element:f,content:X9(f)})}}var b=t.getComputedStyle(r);if(c.length>0&&(s||b.display!=="none"))return c}function X9(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Q9(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function ec(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])}return o}function hE(n,e){var t=new lf(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();Q9(s,r,e);var o=ec({},s,r,e),c;typeof window<"u"&&(c=window);var u=J9(s,r,e),f=Z9(s,r,e),d=eM(t,o),g=nM(t,o,c);return{id:e.tableId,content:g,hooks:f,styles:u,settings:d}}function J9(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],g=e[f],b=t[f];r.columnStyles=ec({},d,g,b)}else{var E=[n,e,t],_=E.map(function(M){return M[f]||{}});r[f]=ec({},_[0],_[1],_[2])}},o=0,c=Object.keys(r);o<c.length;o++){var u=c[o];s(u)}return r}function Z9(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=r;o<c.length;o++){var u=c[o];u.didParseCell&&s.didParseCell.push(u.didParseCell),u.willDrawCell&&s.willDrawCell.push(u.willDrawCell),u.didDrawCell&&s.didDrawCell.push(u.didDrawCell),u.willDrawPage&&s.willDrawPage.push(u.willDrawPage),u.didDrawPage&&s.didDrawPage.push(u.didDrawPage)}return s}function eM(n,e){var t,r,s,o,c,u,f,d,g,b,E,_,M=Yg(e.margin,40/n.scaleFactor()),V=(t=tM(n,e.startY))!==null&&t!==void 0?t:M.top,U;e.showFoot===!0?U="everyPage":e.showFoot===!1?U="never":U=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var ne=(o=e.useCss)!==null&&o!==void 0?o:!1,oe=e.theme||(ne?"plain":"striped"),H=!!e.horizontalPageBreak,ee=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:ne,theme:oe,startY:V,margin:M,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:j,showFoot:U,tableLineWidth:(b=e.tableLineWidth)!==null&&b!==void 0?b:0,tableLineColor:(E=e.tableLineColor)!==null&&E!==void 0?E:200,horizontalPageBreak:H,horizontalPageBreakRepeat:ee,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function tM(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function nM(n,e,t){var r=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var u=uE(n,e.html,t,c,e.useCss)||{};r=u.head||r,s=u.body||r,o=u.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||rM(r,s,o);return{columns:f,head:r,body:s,foot:o}}function rM(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,u;Array.isArray(r)?u=r[parseInt(o)]:u=r[o],typeof u=="object"&&!Array.isArray(u)&&(c=u?.colSpan||1);for(var f=0;f<c;f++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(f>0?"_".concat(f):"");var g={dataKey:d};s.push(g)}}),s}var ey=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),iM=(function(n){iE(e,n);function e(t,r,s,o,c,u){var f=n.call(this,t,r,u)||this;return f.cell=s,f.row=o,f.column=c,f.section=o.section,f}return e})(ey),sM=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,o,c){for(var u=0,f=t;u<f.length;u++){var d=f[u],g=new iM(e,this,r,s,o,c),b=d(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],b)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new ey(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new ey(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),fE=(function(){function n(e,t,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof sE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var o;return Math.max(r,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,o){var c=r.cells[o.index];if(!c)return 0;var u=t.getLineHeight(c.styles.fontSize),f=c.padding("vertical"),d=f+u;return d>s?d:s},0)},n})(),dE=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Yg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),aM=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var o=s[r],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function oM(n,e){lM(n,e);var t=[],r=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=ty(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=ty(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),uM(e),hM(e,n),cM(e)}function lM(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=lE(n,e);e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var f=u[c],d=o.cells[f.index];if(d){var g=e.hooks.didParseCell;e.callCellHooks(n,g,d,o,f,null);var b=d.padding("horizontal");d.contentWidth=ug(d.text,d.styles,n)+b;var E=ug(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=E+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/t;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var f=u[c],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var g=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},b=g.cellWidth||g.minCellWidth;b&&typeof b=="number"&&(f.minWidth=b,f.wrappedWidth=b)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function ty(n,e,t){for(var r=e,s=n.reduce(function(_,M){return _+M.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],u=c.wrappedWidth/s,f=r*u,d=c.width+f,g=t(c),b=d<g?g:d;e-=b-c.width,c.width=b}if(e=Math.round(e*1e10)/1e10,e){var E=n.filter(function(_){return e<0?_.width>t(_):!0});E.length&&(e=ty(E,e,t))}return e}function cM(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],c=0,u=n.columns;c<u.length;c++){var f=u[c],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var g=o.cells[f.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var b=r.length-s,E=g.rowSpan>b?b:g.rowSpan;e[f.index]={cell:g,left:E,row:o}}}}}function uM(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,o=0,c=0,u=0;u<n.columns.length;u++){var f=n.columns[u];if(c-=1,c>1&&n.columns[u+1])o+=f.width,delete r.cells[f.index];else if(s){var d=s;delete r.cells[f.index],s=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(c=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function hM(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],c=0,u=n.columns;c<u.length;c++){var f=u[c],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var g=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,g+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Kx(d.text,g,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Kx(d.text,g,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var b=d.styles.overflow(d.text,g);typeof b=="string"?d.text=[b]:d.text=b}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var E=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<E*d.rowSpan?t={height:E,count:d.rowSpan}:t&&t.count>0&&t.height>E&&(E=t.height),E>o.height&&(o.height=E)}}t.count--}}function Kx(n,e,t,r,s){return n.map(function(o){return fM(o,e,t,r,s)})}function fM(n,e,t,r,s){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=ug(n,t,r))return n;for(;e<ug(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function pE(n,e){var t=new lf(n),r=dM(e,t.scaleFactor()),s=new sM(e,r);return oM(t,s),t.applyStyles(t.userStyles),s}function dM(n,e){var t=n.content,r=mM(t.columns);if(t.head.length===0){var s=$x(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=$x(r,"foot");s&&t.foot.push(s)}var o=n.settings.theme,c=n.styles;return{columns:r,head:r2("head",t.head,r,c,o,e),body:r2("body",t.body,r,c,o,e),foot:r2("foot",t.foot,r,c,o,e)}}function r2(n,e,t,r,s,o){var c={},u=e.map(function(f,d){for(var g=0,b={},E=0,_=0,M=0,V=t;M<V.length;M++){var U=V[M];if(c[U.index]==null||c[U.index].left===0)if(_===0){var j=void 0;Array.isArray(f)?j=f[U.index-E-g]:j=f[U.dataKey];var ne={};typeof j=="object"&&!Array.isArray(j)&&(ne=j?.styles||{});var oe=gM(n,U,d,s,r,o,ne),H=new dE(j,oe,n);b[U.dataKey]=H,b[U.index]=H,_=H.colSpan-1,c[U.index]={left:H.rowSpan-1,times:_}}else _--,E++;else c[U.index].left--,_=c[U.index].times,g++}return new fE(f,d,n,b)});return u}function $x(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=pM(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function pM(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function mM(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new aM(s,e,t)})}function gM(n,e,t,r,s,o,c){var u=G9(r),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=ec({},u.table,u[n],s.styles,f),g=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},b=n==="body"?g:{},E=n==="body"&&t%2===0?ec({},u.alternateRow,s.alternateRowStyles):{},_=H9(o),M=ec({},_,d,E,b);return ec(M,c)}function yM(n,e,t){var r;t===void 0&&(t={});var s=lE(n,e),o=new Map,c=[],u=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(E){var _=e.columns.find(function(M){return M.dataKey===E||M.index===E});_&&!o.has(_.index)&&(o.set(_.index,!0),c.push(_.index),u.push(e.columns[_.index]),s-=_.wrappedWidth)});for(var d=!0,g=(r=t?.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(o.has(g)){g++;continue}var b=e.columns[g].wrappedWidth;if(d||s>=b)d=!1,c.push(g),u.push(e.columns[g]),s-=b;else break;g++}return{colIndexes:c,columns:u,lastIndex:g-1}}function vM(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=yM(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function mE(n,e){var t=e.settings,r=t.startY,s=t.margin,o={x:s.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+s.bottom+c;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(E,_){return E+_.height},0);u+=d}var g=new lf(n);(t.pageBreak==="always"||t.startY!=null&&u>g.pageSize().height)&&(yE(g),o.y=s.top),e.callWillDrawPageHooks(g,o);var b=ec({},o);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?bM(g,e,b,o):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(E){return ac(g,e,E,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(E,_){var M=_===e.body.length-1;hg(g,e,E,M,b,o,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(E){return ac(g,e,E,o,e.columns)})),aE(g,e,b,o),e.callEndPageHooks(g,o),e.finalY=o.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function bM(n,e,t,r){var s=vM(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,g){n.applyStyles(n.userStyles),g>0?Od(n,e,t,r,d.columns,!0):Xx(n,e,r,d.columns),_M(n,e,t,r,d.columns),i2(n,e,r,d.columns)});else for(var c=-1,u=s[0],f=function(){var d=c;if(u){n.applyStyles(n.userStyles);var g=u.columns;c>=0?Od(n,e,t,r,g,!0):Xx(n,e,r,g),d=Qx(n,e,c+1,r,g),i2(n,e,r,g)}var b=d-c;s.slice(1).forEach(function(E){n.applyStyles(n.userStyles),Od(n,e,t,r,E.columns,!0),Qx(n,e,c+1,r,E.columns,b),i2(n,e,r,E.columns)}),c=d};c<e.body.length-1;)f()}function Xx(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return ac(n,e,o,t,r)})}function _M(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var u=c===e.body.length-1;hg(n,e,o,u,t,r,s)})}function Qx(n,e,t,r,s,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),u=-1;return e.body.slice(t,c).forEach(function(f,d){var g=t+d===e.body.length-1,b=gE(n,e,g,r);f.canEntireRowFit(b,s)&&(ac(n,e,f,r,s),u=t+d)}),u}function i2(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return ac(n,e,o,t,r)})}function wM(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((e-s)/r);return Math.max(0,o)}function xM(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,u=t.columns;c<u.length;c++){var f=u[c],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var g=new dE(d.raw,d.styles,d.section);g=ec(g,d),g.text=[];var b=wM(d,e,r);d.text.length>b&&(g.text=d.text.splice(b,d.text.length));var E=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(E,_),d.contentHeight>=e&&(d.contentHeight=e,g.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),g.contentHeight=g.getContentHeight(E,_),g.contentHeight>o&&(o=g.contentHeight),s[f.index]=g}}var M=new fE(n.raw,-1,n.section,s,!0);M.height=o;for(var V=0,U=t.columns;V<U.length;V++){var f=U[V],g=M.cells[f.index];g&&(g.height=M.height);var d=n.cells[f.index];d&&(d.height=n.height)}return M}function AM(n,e,t,r){var s=n.pageSize().height,o=r.settings.margin,c=o.top+o.bottom,u=s-c;e.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>u)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var g=e.hasRowSpan(r.columns),b=e.getMaxCellHeight(r.columns)>u;return b?(g&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function hg(n,e,t,r,s,o,c){var u=gE(n,e,r,o);if(t.canEntireRowFit(u,c))ac(n,e,t,o,c);else if(AM(n,t,u,e)){var f=xM(t,u,e,n);ac(n,e,t,o,c),Od(n,e,s,o,c),hg(n,e,f,r,s,o,c)}else Od(n,e,s,o,c),hg(n,e,t,r,s,o,c)}function ac(n,e,t,r,s){r.x=e.settings.margin.left;for(var o=0,c=s;o<c.length;o++){var u=c[o],f=t.cells[u.index];if(!f){r.x+=u.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,u,r);if(d===!1){r.x+=u.width;continue}SM(n,f,r);var g=f.getTextPos();rE(f.text,g.x,g.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,u,r),r.x+=u.width}r.y+=t.height}function SM(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=oE(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),EM(n,e,t,r.lineWidth))}function EM(n,e,t,r){var s,o,c,u;r.top&&(s=t.x,o=t.y,c=t.x+e.width,u=t.y,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.top,s,o,c,u)),r.bottom&&(s=t.x,o=t.y+e.height,c=t.x+e.width,u=t.y+e.height,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.bottom,s,o,c,u)),r.left&&(s=t.x,o=t.y,c=t.x,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),f(r.left,s,o,c,u)),r.right&&(s=t.x+e.width,o=t.y,c=t.x+e.width,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),f(r.right,s,o,c,u));function f(d,g,b,E,_){n.getDocument().setLineWidth(d),n.getDocument().line(g,b,E,_,"S")}}function gE(n,e,t,r){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function Od(n,e,t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(u){return ac(n,e,u,r,s)}),e.callEndPageHooks(n,r);var c=e.settings.margin;aE(n,e,t,r),yE(n),e.pageNumber++,r.x=c.left,r.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return ac(n,e,u,r,s)}),n.applyStyles(n.userStyles))}function yE(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function NM(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=hE(this,r),o=pE(this,s);return mE(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){rE(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return lf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){lf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new lf(this),o=uE(s,e,window,t,!1),c=o.head,u=o.body,f=((r=c[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:u,data:u}}}var s2;function TM(n,e){var t=hE(n,e),r=pE(n,t);mE(n,r)}try{if(typeof window<"u"&&window){var Jx=window,Zx=Jx.jsPDF||((s2=Jx.jspdf)===null||s2===void 0?void 0:s2.jsPDF);Zx&&NM(Zx)}}catch(n){console.error("Could not apply autoTable plugin",n)}const vE=n=>{try{const e=new Bt;e.setFontSize(18),e.text("SISTEMA DE CONTROL DE SEDE",105,15,{align:"center"}),e.setFontSize(10),e.setFontSize(11),e.text(`Boleta de Venta: ${n.id.slice(0,8).toUpperCase()}`,14,40);const t=new Date(n.createdAt);e.text(`Fecha: ${t.toLocaleDateString()} ${t.toLocaleTimeString()}`,14,45),e.text("Cliente:",14,55),e.setFontSize(10),e.text(`${n.customer.name}`,35,55),e.text(`${n.customer.address}`,35,60),n.customer.district&&e.text(`${n.customer.district}, ${n.customer.department||""}`,35,65);const r=n.items.map(d=>[`${d.productName} 
${d.color} / ${d.size}`,d.quantity,`S/ ${d.unitPrice.toFixed(2)}`,`S/ ${(d.unitPrice*d.quantity).toFixed(2)}`]);TM(e,{startY:75,head:[["Descripcin","Cant.","P. Unit","Importe"]],body:r,theme:"grid",headStyles:{fillColor:[40,40,40],textColor:255},styles:{fontSize:9,cellPadding:2},columnStyles:{0:{cellWidth:80},1:{halign:"center"},2:{halign:"right"},3:{halign:"right"}},didDrawPage:()=>{}});const o=(e.lastAutoTable?.finalY||150)+10;e.setFontSize(10),e.text("Subtotal:",140,o,{align:"right"}),e.text(`S/ ${n.subtotal.toFixed(2)}`,190,o,{align:"right"});let c=o;if(n.globalDiscount>0||n.items.some(d=>d.discount>0)){c+=5;const d=n.subtotal+n.shippingCost-n.total;e.text("Descuentos:",140,c,{align:"right"}),e.text(`- S/ ${d.toFixed(2)}`,190,c,{align:"right"})}const u=c+5;e.text("Envo:",140,u,{align:"right"}),e.text(`S/ ${n.shippingCost.toFixed(2)}`,190,u,{align:"right"});const f=u+10;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("TOTAL A PAGAR:",140,f,{align:"right"}),e.text(`S/ ${n.total.toFixed(2)}`,190,f,{align:"right"}),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("Gracias por su compra!",105,f+20,{align:"center"}),e.save(`boleta_${n.id.slice(0,8)}.pdf`)}catch(e){throw console.error("PDF Generation Error:",e),e}};function CM(){const n=uu(be=>be.products),e=Yd(),{districts:t,globalShippingBase:r}=Wd(),[s,o]=mt.useState(""),[c,u]=mt.useState([]),[f,d]=mt.useState(""),[g,b]=mt.useState(!1),[E,_]=mt.useState(null),[M,V]=mt.useState("ENCUENTRO"),[U,j]=mt.useState(!1),[ne,oe]=mt.useState(""),[H,ee]=mt.useState(""),[fe,q]=mt.useState("LIMA"),[k,D]=mt.useState(""),[Y,T]=mt.useState(r.toString()),R=t.filter(be=>be.department===fe),[L,he]=mt.useState({subtotal:0,discountTotal:0,shippingCost:0,total:0,appliedPromotions:[]});mt.useEffect(()=>{if(M==="ENCUENTRO")T("0");else if(M==="PUERTA"&&k){const be=t.find(X=>X.name===k);be&&(be.allowDoorDelivery?(j(!1),T(be.basePrice.toString())):j(!0))}},[k,M,t]),mt.useEffect(()=>{const be=parseFloat(f)||0,X=parseFloat(Y)||0,P=e.calculateCartTotal(c,be,X);he(P)},[c,f,Y,e]);const Ae=n.filter(be=>be.name.toLowerCase().includes(s.toLowerCase())||be.baseCode.toLowerCase().includes(s.toLowerCase())),te=(be,X)=>{if((c.find(z=>z.variantId===be.id)?.quantity||0)+1>be.stock){pn.error(`Stock insuficiente! Solo quedan ${be.stock} unidades.`);return}u(z=>z.find(ie=>ie.variantId===be.id)?z.map(ie=>ie.variantId===be.id?{...ie,quantity:ie.quantity+1}:ie):[...z,{variantId:be.id,sku:be.sku,productName:X.name,collection:X.collection,type:X.type,gender:X.gender,color:be.color,size:be.size,quantity:1,unitPrice:be.priceRetail,discount:0,subtotal:be.priceRetail}]),pn.success("Producto agregado al carrito")},pe=be=>{u(X=>X.filter(P=>P.variantId!==be))},ue=(be,X)=>{if(X>0){const P=c.find(ie=>ie.variantId===be),K=n.find(ie=>ie.variants.some(de=>de.id===be))?.variants.find(ie=>ie.id===be);if(P&&K&&P.quantity+X>K.stock){pn.error(`Stock insuficiente! Solo quedan ${K.stock} unidades.`);return}}u(P=>P.map(z=>{if(z.variantId===be){const K=z.quantity+X;return K>0?{...z,quantity:K}:z}return z}))},Ce=async()=>{if(c.length===0)return;if(!ne.trim()){alert("Nombre del Cliente es obligatorio");return}if(!H.trim()){alert("Direccin de Entrega es obligatoria");return}if(!k){alert("Debe seleccionar un Distrito");return}const be={name:ne,address:H,department:fe,district:k},X={id:crypto.randomUUID(),customer:be,items:c,subtotal:L.subtotal,globalDiscount:L.discountTotal,shippingCost:L.shippingCost,total:L.total,status:"ADELANTADO",paymentStatus:"PENDIENTE",promotionsApplied:L.appliedPromotions,createdAt:Date.now(),updatedAt:Date.now()};try{await e.addSale(X),_(X),b(!0),u([]),oe(""),ee(""),d(""),D("")}catch(P){console.error(P)}};return A.jsxs("div",{className:"h-full grid grid-cols-12 gap-6 p-1",children:[A.jsxs("div",{className:"col-span-8 flex flex-col gap-4 h-full",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Xd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),A.jsx(Or,{placeholder:"Buscar producto por nombre o SKU...",className:"pl-10 h-12 text-lg bg-card",value:s,onChange:be=>o(be.target.value)})]}),A.jsx("div",{className:"flex-1 overflow-y-auto pr-2 grid grid-cols-3 gap-4 pb-20",children:Ae.map(be=>A.jsxs("div",{className:"bg-card border border-border rounded-xl p-5 hover:border-primary/50 transition-all cursor-pointer group shadow-sm hover:shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsx("span",{className:"text-[10px] uppercase font-bold px-2 py-0.5 bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400 rounded-md tracking-wide",children:be.collection}),A.jsx("span",{className:"text-[10px] font-mono text-muted-foreground tracking-tight",children:be.baseCode})]}),A.jsx("h4",{className:"font-bold text-lg leading-tight line-clamp-2 mb-4 group-hover:text-primary transition-colors",children:be.name}),A.jsx("div",{className:"grid grid-cols-2 gap-2",children:be.variants.map(X=>{const P=c.find(ie=>ie.variantId===X.id)?.quantity||0,z=X.stock===0,K=X.stock-P;return A.jsxs("button",{disabled:z,className:`
                                                relative flex flex-col justify-center items-center p-2 rounded-lg border transition-all text-center h-16
                                                ${z?"bg-muted/50 border-muted text-muted-foreground cursor-not-allowed opacity-60":"bg-background hover:bg-primary hover:text-primary-foreground border-border hover:border-primary"}
                                            `,onClick:()=>te(X,be),children:[A.jsxs("div",{className:"text-xs font-semibold leading-none mb-1",children:[X.color," ",A.jsx("span",{className:"opacity-70",children:"|"})," ",X.size]}),A.jsxs("div",{className:"text-sm font-bold font-mono",children:["S/ ",X.priceRetail.toFixed(0)]}),!z&&K<=3&&A.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-orange-500 text-[8px] font-bold text-white animate-pulse shadow-sm",children:"!"}),P>0&&A.jsx("span",{className:"absolute -top-1 -left-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[9px] font-bold text-primary-foreground shadow-sm",children:P})]},X.id)})})]},be.id))})]}),A.jsxs("div",{className:"col-span-4 bg-card border border-border rounded-xl h-full flex flex-col shadow-xl overflow-hidden",children:[A.jsx("div",{className:"p-4 border-b border-border bg-muted/30",children:A.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[A.jsx(Mb,{className:"h-5 w-5"})," Carrito de Venta"]})}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:c.length===0?A.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground opacity-50",children:[A.jsx(Mb,{className:"h-16 w-16 mb-4"}),A.jsx("p",{children:"Carrito vaco"})]}):c.map(be=>A.jsxs("div",{className:"flex flex-col p-3 bg-accent/20 rounded-lg border border-border/50",children:[A.jsxs("div",{className:"flex justify-between items-start mb-1",children:[A.jsx("span",{className:"font-medium text-sm line-clamp-1",children:be.productName}),A.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:be.sku})]}),A.jsxs("div",{className:"flex justify-between items-center mt-2",children:[A.jsxs("div",{className:"text-xs text-muted-foreground",children:[be.color," / ",be.size]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-1 bg-background rounded border border-border",children:[A.jsx("button",{onClick:()=>ue(be.variantId,-1),className:"p-1 hover:bg-accent",children:A.jsx(bN,{className:"h-3 w-3"})}),A.jsx("span",{className:"text-xs font-mono w-6 text-center",children:be.quantity}),A.jsx("button",{onClick:()=>ue(be.variantId,1),className:"p-1 hover:bg-accent",children:A.jsx(fg,{className:"h-3 w-3"})})]}),A.jsxs("span",{className:"font-bold text-sm min-w-[3rem] text-right",children:["$",(be.unitPrice*be.quantity).toFixed(2)]}),A.jsx("button",{onClick:()=>pe(be.variantId),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:A.jsx(iy,{className:"h-4 w-4"})})]})]})]},be.variantId))}),A.jsxs("div",{className:"p-4 bg-muted/10 border-t border-border space-y-3 text-sm",children:[A.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-1",children:[A.jsx(ay,{className:"h-3 w-3"})," Datos de Envo (Obligatorios)"]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 p-1 bg-muted rounded-md border border-border",children:[A.jsx("button",{className:`text-xs font-medium py-1.5 rounded-sm transition-all ${M==="PUERTA"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>V("PUERTA"),children:"A Puerta "}),A.jsx("button",{className:`text-xs font-medium py-1.5 rounded-sm transition-all ${M==="ENCUENTRO"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>V("ENCUENTRO"),children:"Punto Encuentro "})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none",value:fe,onChange:be=>{q(be.target.value),D("")},children:[A.jsx("option",{value:"LIMA",children:"LIMA"}),A.jsx("option",{value:"CALLAO",children:"CALLAO"})]}),A.jsxs("select",{className:`flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none ${U?"border-destructive":""}`,value:k,onChange:be=>D(be.target.value),children:[A.jsx("option",{value:"",children:"Distrito..."}),R.map(be=>A.jsxs("option",{value:be.name,children:[be.name," ",!be.allowDoorDelivery&&M==="PUERTA"?"(No Cob.)":""]},be.name))]})]}),M==="PUERTA"&&k&&(()=>{const be=t.find(X=>X.name===k);return be&&!be.allowDoorDelivery?A.jsxs("div",{className:"text-[10px] text-destructive font-bold bg-destructive/10 p-2 rounded flex items-center gap-2",children:[A.jsx(sy,{className:"h-3 w-3"}),"No hay cobertura a puerta en ",k,"."]}):null})(),A.jsx(Or,{placeholder:M==="PUERTA"?"Direccin Exacta *":"Punto de Encuentro (Estacin, CC...) *",value:H,onChange:be=>ee(be.target.value),className:"bg-background h-9"}),A.jsx(Or,{placeholder:"Nombre Completo *",value:ne,onChange:be=>oe(be.target.value),className:"bg-background h-9"})]}),A.jsxs("div",{className:"p-6 bg-card border-t-2 border-primary/20 space-y-3 shadow-inner",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Md,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx(Or,{placeholder:"Desc. Global",className:"bg-background pl-9 h-9",type:"number",value:f,onChange:be=>d(be.target.value)})]}),A.jsxs("div",{className:"relative",children:[A.jsx(l4,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx(Or,{placeholder:"Envo",className:"bg-background pl-9 h-9",type:"number",value:Y,onChange:be=>T(be.target.value)})]})]}),A.jsxs("div",{className:"space-y-1 text-sm pt-2",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),A.jsxs("span",{children:["S/ ",L.subtotal.toFixed(2)]})]}),A.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[A.jsx("span",{children:"Envo"}),A.jsxs("span",{children:["+S/ ",L.shippingCost.toFixed(2)]})]}),L.discountTotal>0&&A.jsxs("div",{className:"flex justify-between text-emerald-600 font-medium",children:[A.jsxs("span",{children:["Descuentos ",L.appliedPromotions.length>0&&`(${L.appliedPromotions.length} reglas)`]}),A.jsxs("span",{children:["-S/ ",L.discountTotal.toFixed(2)]})]}),A.jsxs("div",{className:"flex justify-between text-xl font-black pt-2 border-t border-border mt-2",children:[A.jsx("span",{children:"Total"}),A.jsxs("span",{children:["S/ ",L.total.toFixed(2)]})]})]}),A.jsxs(yr,{size:"lg",className:"w-full shadow-lg shadow-primary/20 text-lg h-12",onClick:Ce,disabled:c.length===0,children:["Cobrar S/ ",L.total.toFixed(2)]})]})]}),A.jsx(Qy,{isOpen:g,onClose:()=>b(!1),onConfirm:()=>{if(E)try{vE(E),pn.success("Boleta generada correctamente")}catch(be){console.error(be),pn.error("Error al generar la boleta")}},title:"Venta Registrada Exitosamente",message:"Desea generar y descargar la boleta de venta ahora?",confirmText:"S, Generar Boleta",cancelText:"No por ahora",variant:"success"})]})}function IM(){const{sales:n,updateSaleStatus:e}=Yd(),[t,r]=mt.useState(""),[s,o]=mt.useState("ALL"),c=mt.useMemo(()=>n.filter(u=>{const f=u.customer.name.toLowerCase().includes(t.toLowerCase()),d=s==="ALL"||u.status===s;return f&&d}).sort((u,f)=>f.createdAt-u.createdAt),[n,t,s]);return A.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[A.jsxs("div",{className:"flex gap-4 items-center bg-card p-4 rounded-xl border border-border",children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx(Xd,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx(Or,{placeholder:"Buscar por cliente...",className:"pl-9 bg-background",value:t,onChange:u=>r(u.target.value)})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(i4,{className:"h-4 w-4 text-muted-foreground"}),A.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:s,onChange:u=>o(u.target.value),children:[A.jsx("option",{value:"ALL",children:"Todos los estados"}),A.jsx("option",{value:"ADELANTADO",children:"Adelantado"}),A.jsx("option",{value:"COMPLETO",children:"Pagado / Completo"}),A.jsx("option",{value:"ENTREGADO",children:"Entregado"}),A.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]})]}),A.jsx("div",{className:"flex-1 overflow-auto border border-border rounded-xl bg-card shadow-sm",children:A.jsxs("table",{className:"w-full text-sm text-left",children:[A.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted/50 sticky top-0 z-10",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"ID / Fecha"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Cliente"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Detalles"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Estado"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Tiempo Restante (SLA)"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Total"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Acciones"})]})}),A.jsx("tbody",{className:"divide-y divide-border bg-card",children:c.length===0?A.jsx("tr",{children:A.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-muted-foreground",children:"No se encontraron ventas"})}):c.map(u=>{const f=u.createdAt+864e5,d=Date.now(),g=u.status==="ENTREGADO",b=f-d,E=Math.floor(b/(1e3*60*60)),_=Math.floor(b%(1e3*60*60)/(1e3*60));let M="text-emerald-600",V=`${E}h ${_}m`;return g?(M="text-muted-foreground",V="Completado"):b<0?(M="text-red-600 font-bold animate-pulse",V=`VENCIDO (${Math.abs(E)}h)`):E<4&&(M="text-orange-500 font-semibold"),A.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"font-mono text-xs font-bold",children:u.id.slice(0,8)}),A.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.createdAt).toLocaleDateString()}),A.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"font-medium text-sm",children:u.customer.name}),A.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",title:u.customer.address,children:u.customer.address})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("div",{className:"flex flex-col gap-1 max-w-[200px]",children:u.items.map(U=>A.jsxs("span",{className:"text-xs",children:[A.jsxs("b",{children:[U.quantity,"x"]})," ",U.productName," ",A.jsxs("span",{className:"text-muted-foreground",children:["(",U.color,"/",U.size,")"]})]},U.variantId))})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"relative group w-fit cursor-pointer",children:[A.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium w-full min-w-[100px] justify-center transition-all group-hover:opacity-80
                                                    ${u.status==="ADELANTADO"?"bg-yellow-100 text-yellow-800":""}
                                                    ${u.status==="COMPLETO"?"bg-blue-100 text-blue-800":""}
                                                    ${u.status==="ENTREGADO"?"bg-green-100 text-green-800":""}
                                                    ${u.status==="CANCELADO"?"bg-red-100 text-red-800":""}
                                                `,children:[u.status==="ADELANTADO"&&A.jsx(X6,{className:"w-3 h-3 mr-1"}),u.status==="ENTREGADO"&&A.jsx(a2,{className:"w-3 h-3 mr-1"}),u.status]}),A.jsxs("select",{className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",value:u.status,onChange:U=>{confirm(`Cambiar estado a ${U.target.value}?`)&&e(u.id,U.target.value)},children:[A.jsx("option",{value:"ADELANTADO",children:"ADELANTADO"}),A.jsx("option",{value:"COMPLETO",children:"COMPLETO"}),A.jsx("option",{value:"ENTREGADO",children:"ENTREGADO"}),A.jsx("option",{value:"CANCELADO",children:"CANCELADO"})]}),A.jsx("div",{className:"absolute -right-2 -top-1",children:A.jsx("span",{className:"flex h-2 w-2 rounded-full bg-primary opacity-0 group-hover:opacity-100 transition-opacity"})})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"bg-muted/40 p-2 rounded-lg border border-border/50",children:[A.jsxs("div",{className:`flex items-center gap-2 text-sm ${M}`,children:[!g&&b<0&&A.jsx(sy,{className:"h-4 w-4"}),g&&A.jsx(a2,{className:"h-4 w-4"}),A.jsx("span",{className:"font-mono font-medium",children:V})]}),!g&&b>0&&A.jsx("div",{className:"w-24 h-1.5 bg-muted rounded-full mt-1 overflow-hidden",children:A.jsx("div",{className:`h-full rounded-full ${E<4?"bg-orange-500":"bg-emerald-500"}`,style:{width:`${Math.max(0,Math.min(100,(1-b/(1440*60*1e3))*100))}%`}})})]})}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-foreground",children:["S/ ",u.total.toFixed(2)]}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A.jsx("button",{onClick:()=>{try{vE(u)}catch(U){console.error("Error generating receipt:",U),alert("Error al generar la boleta. Verifica la consola.")}},className:"text-muted-foreground hover:text-primary transition-colors p-2 hover:bg-accent rounded-full",title:"Imprimir Boleta",children:A.jsx(nN,{className:"h-4 w-4"})})})]},u.id)})})]})})]})}function ny(){const{promotions:n,addPromotion:e,togglePromotion:t,removePromotion:r}=Yd(),{products:s}=uu(),[o,c]=mt.useState(!1),[u,f]=mt.useState(""),[d,g]=mt.useState("PERCENTAGE"),[b,E]=mt.useState(""),[_,M]=mt.useState("COLLECTION"),[V,U]=mt.useState(""),[j,ne]=mt.useState(null),oe=mt.useMemo(()=>{if(_==="GLOBAL")return[];const fe=new Set;return s.forEach(q=>{_==="COLLECTION"&&fe.add(q.collection),_==="TYPE"&&fe.add(q.type),_==="GENDER"&&fe.add(q.gender),_==="PRODUCT"&&fe.add(q.name)}),Array.from(fe).sort()},[s,_]),H=()=>{if(!u||!b||_!=="GLOBAL"&&!V){pn.warning("Por favor complete todos los campos requeridos.");return}const fe={id:crypto.randomUUID(),name:u,type:d,value:parseFloat(b),scope:_,target:V.toUpperCase(),isActive:!0};e(fe),pn.success("Promocin creada exitosamente"),c(!1),ee()},ee=()=>{f(""),E(""),U(""),M("COLLECTION"),g("PERCENTAGE")};return A.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[A.jsx(Md,{className:"h-8 w-8 text-primary"})," Gestor de Promociones"]}),A.jsx("p",{className:"text-muted-foreground mt-1",children:"Configura reglas de descuento automticas para tus ventas."})]}),A.jsxs(yr,{onClick:()=>c(!0),size:"lg",className:o?"hidden":"",children:[A.jsx(fg,{className:"mr-2 h-5 w-5"})," Nueva Regla"]})]}),o&&A.jsxs("div",{className:"bg-muted/30 border border-primary/20 rounded-xl p-6 shadow-sm animate-in fade-in slide-in-from-top-4",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Nueva Regla de Descuento"}),A.jsx(yr,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:A.jsx(dg,{className:"h-4 w-4"})})]}),A.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[A.jsxs("div",{className:"col-span-4 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Nombre de la Promocin"}),A.jsx(Or,{placeholder:"Ej: Liquidacin Verano 2026",value:u,onChange:fe=>f(fe.target.value),autoFocus:!0})]}),A.jsxs("div",{className:"col-span-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Tipo"}),A.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:d,onChange:fe=>g(fe.target.value),children:[A.jsx("option",{value:"PERCENTAGE",children:"Porcentaje (%)"}),A.jsx("option",{value:"FIXED_AMOUNT",children:"Monto Fijo (S/)"})]})]}),A.jsxs("div",{className:"col-span-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Valor"}),A.jsxs("div",{className:"relative",children:[A.jsx(Or,{type:"number",placeholder:"0",className:"pl-8",value:b,onChange:fe=>E(fe.target.value)}),A.jsx("span",{className:"absolute left-3 top-2.5 text-xs font-bold text-muted-foreground",children:d==="PERCENTAGE"?"%":"S/"})]})]}),A.jsxs("div",{className:"col-span-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Alcance (Scope)"}),A.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:_,onChange:fe=>{M(fe.target.value),U("")},children:[A.jsx("option",{value:"GLOBAL",children:"Toda la Tienda"}),A.jsx("option",{value:"COLLECTION",children:"Por Coleccin"}),A.jsx("option",{value:"TYPE",children:"Por Tipo"}),A.jsx("option",{value:"GENDER",children:"Por Gnero"}),A.jsx("option",{value:"PRODUCT",children:"Por Nombre Producto"})]})]}),A.jsxs("div",{className:"col-span-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Objetivo"}),_==="GLOBAL"?A.jsx(Or,{disabled:!0,value:"Todos",className:"opacity-50"}):A.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus-visible:outline-none",value:V,onChange:fe=>U(fe.target.value),children:[A.jsx("option",{value:"",children:"Seleccionar..."}),oe.map(fe=>A.jsx("option",{value:fe,children:fe},fe))]})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[A.jsx(yr,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),A.jsxs(yr,{onClick:H,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[A.jsx(o4,{className:"mr-2 h-4 w-4"})," Guardar Regla"]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 overflow-y-auto pb-10",children:[n.map(fe=>A.jsxs("div",{className:`
                            relative group border rounded-xl p-5 transition-all
                            ${fe.isActive?"bg-card border-l-4 border-l-primary shadow-sm hover:shadow-md":"bg-muted/40 border-l-4 border-l-muted opacity-70 grayscale-[0.5]"}
                        `,children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-lg",children:fe.name}),A.jsx("div",{className:"flex items-center gap-2 mt-1",children:A.jsxs("span",{className:"text-[10px] uppercase font-bold px-2 py-0.5 bg-accent rounded text-muted-foreground tracking-wider",children:[fe.scope," ",fe.scope!=="GLOBAL"&&` ${fe.target}`]})})]}),A.jsx(yr,{variant:fe.isActive?"default":"secondary",size:"icon",className:`h-8 w-8 rounded-full transition-colors ${fe.isActive?"bg-green-500 hover:bg-green-600":""}`,onClick:()=>t(fe.id),children:A.jsx(SN,{className:"h-4 w-4"})})]}),A.jsxs("div",{className:"mt-4 flex items-baseline gap-1",children:[A.jsx("span",{className:"text-3xl font-black text-foreground",children:fe.type==="PERCENTAGE"?`${fe.value}%`:`S/ ${fe.value}`}),A.jsx("span",{className:"text-sm font-medium text-muted-foreground uppercase",children:"DESCUENTO"})]}),A.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 flex justify-between items-center text-xs text-muted-foreground",children:[A.jsxs("span",{children:["Estado: ",A.jsx("b",{className:fe.isActive?"text-green-600":"text-muted-foreground",children:fe.isActive?"ACTIVO":"INACTIVO"})]}),A.jsxs("button",{onClick:()=>ne(fe.id),className:"flex items-center gap-1 hover:text-destructive transition-colors",children:[A.jsx(iy,{className:"h-3 w-3"})," Eliminar"]})]})]},fe.id)),n.length===0&&A.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center p-12 text-muted-foreground opacity-50 border-2 border-dashed border-border rounded-xl",children:[A.jsx(Md,{className:"h-12 w-12 mb-2"}),A.jsx("p",{children:"No hay reglas de promocin activas"})]})]}),A.jsx(Qy,{isOpen:!!j,onClose:()=>ne(null),onConfirm:()=>{j&&(r(j),pn.success("Promocin eliminada"))},title:"Eliminar Promocin",message:"Ests seguro de que deseas eliminar esta regla de descuento de forma permanente?",confirmText:"S, Eliminar",variant:"danger"})]})}function RM(){const[n,e]=mt.useState("POS");return A.jsxs("div",{className:"h-full flex flex-col",children:[A.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:A.jsxs("div",{className:"flex gap-2 bg-muted p-1 rounded-lg",children:[A.jsxs(yr,{variant:n==="POS"?"secondary":"ghost",size:"sm",onClick:()=>e("POS"),className:"gap-2",children:[A.jsx(l2,{className:"h-4 w-4"})," Punto de Venta"]}),A.jsxs(yr,{variant:n==="LIST"?"secondary":"ghost",size:"sm",onClick:()=>e("LIST"),className:"gap-2",children:[A.jsx(s4,{className:"h-4 w-4"})," Historial de Ventas"]}),A.jsxs(yr,{variant:n==="PROMOTIONS"?"secondary":"ghost",size:"sm",onClick:()=>e("PROMOTIONS"),className:"gap-2",children:[A.jsx(Md,{className:"h-4 w-4"})," Gestor Descuentos"]})]})}),A.jsxs("div",{className:"flex-1 overflow-hidden",children:[n==="POS"&&A.jsx(CM,{}),n==="LIST"&&A.jsx(IM,{}),n==="PROMOTIONS"&&A.jsx(ny,{})]})]})}function LM(){const[n,e]=mt.useState("light"),[t,r]=mt.useState("Admin"),{globalShippingBase:s,updateGlobalShipping:o}=Wd(),[c,u]=mt.useState(s.toString());mt.useEffect(()=>{u(s.toString())},[s]),mt.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const f=()=>{const d=parseFloat(c);!isNaN(d)&&d!==s&&o(d),localStorage.setItem("scs_settings_user",t),alert("Preferencias guardadas")};return A.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-10",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Configuracin"}),A.jsx("p",{className:"text-muted-foreground mt-1",children:"Preferencias del sistema y logstica."})]}),A.jsxs(yr,{onClick:f,children:[A.jsx(o4,{className:"mr-2 h-4 w-4"})," Guardar Preferencias"]})]}),A.jsxs("div",{className:"grid gap-6",children:[A.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[A.jsx(ay,{className:"h-5 w-5 text-primary"})," Perfil de Usuario"]}),A.jsx("div",{className:"grid gap-4",children:A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Nombre de Usuario"}),A.jsx(Or,{value:t,onChange:d=>r(d.target.value)})]})})]}),A.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[A.jsx(Ob,{className:"h-5 w-5 text-primary"})," Apariencia"]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("div",{onClick:()=>e("light"),className:`cursor-pointer rounded-lg border-2 p-4 flex flex-col items-center gap-2 flex-1 ${n==="light"?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[A.jsx(kN,{className:"h-6 w-6"}),A.jsx("span",{className:"text-sm font-medium",children:"Claro"})]}),A.jsxs("div",{onClick:()=>e("dark"),className:`cursor-pointer rounded-lg border-2 p-4 flex flex-col items-center gap-2 flex-1 ${n==="dark"?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[A.jsx(Ob,{className:"h-6 w-6"}),A.jsx("span",{className:"text-sm font-medium",children:"Oscuro"})]})]})]})]}),A.jsx("div",{className:"bg-accent/10 border border-accent rounded-xl p-6 text-center",children:A.jsxs("p",{className:"text-muted-foreground",children:["Buscas la configuracin de envos? Ahora tiene su propia seccin en ",A.jsx("strong",{children:"Logstica"}),"."]})})]})]})}const e4=({dist:n,onUpdate:e,onToggle:t})=>{const[r,s]=mt.useState(n.basePrice.toString()),[o,c]=mt.useState(!1);mt.useEffect(()=>{o||s(n.basePrice.toString())},[n.basePrice]);const u=()=>{c(!1);const d=parseFloat(r);!isNaN(d)&&d!==n.basePrice?e(n.name,d):s(n.basePrice.toString())},f=d=>{d.key==="Enter"&&d.currentTarget.blur()};return A.jsxs("div",{className:Ws("group relative flex items-center justify-between p-4 rounded-xl border transition-all duration-200",n.allowDoorDelivery?"bg-card border-border hover:border-emerald-500/30 hover:shadow-md":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:Ws("h-10 w-10 rounded-full flex items-center justify-center transition-colors",n.allowDoorDelivery?"bg-emerald-100 text-emerald-600":"bg-gray-200 text-gray-500"),children:A.jsx(mN,{className:"h-5 w-5"})}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-foreground",children:n.name}),A.jsx("span",{className:"text-xs font-medium text-muted-foreground bg-accent px-2 py-0.5 rounded-full",children:n.department})]})]}),A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsxs("div",{className:"text-right",children:[A.jsx("label",{className:"text-[10px] uppercase font-bold text-muted-foreground block mb-1",children:"Costo Envo"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-2 top-1.5 text-xs text-muted-foreground font-bold",children:"S/"}),A.jsx(Or,{className:"h-8 w-20 pl-6 text-right font-bold bg-background shadow-sm focus:ring-primary/20",value:r,onChange:d=>s(d.target.value),onBlur:u,onFocus:()=>c(!0),onKeyDown:f})]})]}),A.jsxs("div",{className:"text-center w-24",children:[A.jsx("label",{className:"text-[10px] uppercase font-bold text-muted-foreground block mb-1",children:n.allowDoorDelivery?"A Puerta":"Solo Encuentro"}),A.jsx(yr,{variant:n.allowDoorDelivery?"default":"secondary",size:"sm",onClick:()=>t(n.name),className:Ws("w-full h-8 transition-all",n.allowDoorDelivery?"bg-emerald-600 hover:bg-emerald-700":"bg-muted-foreground/20 hover:bg-muted-foreground/30 text-muted-foreground"),children:n.allowDoorDelivery?A.jsxs(A.Fragment,{children:[A.jsx(W6,{className:"w-3 h-3 mr-1"})," Activo"]}):A.jsxs(A.Fragment,{children:[A.jsx(dg,{className:"w-3 h-3 mr-1"})," Restringido"]})})]})]})]})};function kM(){const{globalShippingBase:n,updateGlobalShipping:e,districts:t,updateDistrict:r,toggleDoorDelivery:s}=Wd(),[o,c]=mt.useState(""),[u,f]=mt.useState(n.toString());mt.useEffect(()=>{f(n.toString())},[n]);const d=()=>{const _=parseFloat(u);!isNaN(_)&&_!==n&&e(_)},g=t.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.department.toLowerCase().includes(o.toLowerCase())),b=g.filter(_=>_.department==="LIMA"),E=g.filter(_=>_.department==="CALLAO");return A.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[A.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Logstica y Envos"}),A.jsx("p",{className:"text-muted-foreground mt-1 text-lg",children:"Gestiona la cobertura y tarifas de entrega."})]}),A.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-xl p-4 flex items-center gap-4 shadow-sm",children:[A.jsx("div",{className:"bg-primary/20 p-3 rounded-full text-primary",children:A.jsx(o2,{className:"h-6 w-6"})}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-semibold text-foreground block",children:"Tarifa Base Global"}),A.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Precio por defecto para nuevos destinos"})]}),A.jsxs("div",{className:"relative w-24 ml-2",children:[A.jsx("span",{className:"absolute left-3 top-2 text-sm text-foreground font-bold",children:"S/"}),A.jsx(Or,{className:"pl-8 font-bold text-lg h-10 bg-white border-primary/30 focus:border-primary",value:u,onChange:_=>f(_.target.value),onBlur:d,onKeyDown:_=>_.key==="Enter"&&_.currentTarget.blur()})]})]})]}),A.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-md py-4 border-b border-border mb-6",children:A.jsxs("div",{className:"relative max-w-2xl",children:[A.jsx(Xd,{className:"absolute left-4 top-3.5 h-5 w-5 text-muted-foreground"}),A.jsx(Or,{placeholder:"Buscar distrito (ej. Miraflores)...",className:"pl-12 h-12 text-lg rounded-full shadow-sm border-muted-foreground/20 hover:border-primary/50 transition-colors",value:o,onChange:_=>c(_.target.value)})]})}),A.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"Lima Metropolitana"}),A.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs font-bold",children:b.length})]}),A.jsxs("div",{className:"space-y-3",children:[b.map(_=>A.jsx(e4,{dist:_,onUpdate:(M,V)=>r(M,{basePrice:V}),onToggle:s},_.name)),b.length===0&&A.jsx("p",{className:"text-muted-foreground italic p-4",children:"No se encontraron distritos."})]})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"Callao"}),A.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs font-bold",children:E.length})]}),A.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl p-1 border border-dashed border-slate-300 dark:border-slate-700",children:A.jsx("div",{className:"space-y-3 p-3",children:E.map(_=>A.jsx(e4,{dist:_,onUpdate:(M,V)=>r(M,{basePrice:V}),onToggle:s},_.name))})})]})]})]})}const bE=mt.createContext(null);function DM({children:n}){const[e,t]=mt.useState(null),[r,s]=mt.useState(null),[o,c]=mt.useState(!0);mt.useEffect(()=>{const g=KI(S0,async b=>{if(b)try{const E=Ks(bs,"users",b.uid),_=await J3(E);if(_.exists())s(_.data());else{const M={name:b.email?.split("@")[0]||"Usuario",email:b.email,role:"admin",requiresPasswordChange:!0,createdAt:Date.now()};try{await Wu(E,M),s(M)}catch(V){console.error("Error creating user profile:",V),s({})}}}catch(E){console.error("Error fetching user profile (Permissions?):",E),s(null),pn.error("Error de permisos en Base de Datos. Revisa las reglas de Firestore.")}else s(null);t(b),c(!1)});return()=>g()},[]);const u=async(g,b)=>{const E=g.includes("@")?g:`${g.toLowerCase()}@artemya.com`;try{await qI(S0,E,b),pn.success("Sesin iniciada correctamente")}catch(_){console.error(_);const M=_;throw M.code==="auth/invalid-credential"||M.code==="auth/user-not-found"||M.code==="auth/wrong-password"?pn.error("Usuario o contrasea incorrectos"):pn.error(`Error al iniciar sesin: ${M.message} `),_}},f=async()=>{try{await $I(S0),pn.success("Sesin cerrada")}catch{pn.error("Error al cerrar sesin")}},d=async g=>{if(!e)throw new Error("No hay usuario autenticado");try{await HI(e,g),await Wu(Ks(bs,"users",e.uid),{requiresPasswordChange:!1},{merge:!0}),s(b=>({...b,requiresPasswordChange:!1})),pn.success("Contrasea actualizada correctamente")}catch(b){throw console.error(b),pn.error("Error al actualizar la contrasea"),b}};return A.jsx(bE.Provider,{value:{user:e,userData:r,loading:o,login:u,logout:f,changePassword:d},children:!o&&n})}const ov=()=>{const n=mt.useContext(bE);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};function PM(){const{login:n,loading:e}=ov(),[t,r]=mt.useState(""),[s,o]=mt.useState(""),[c,u]=mt.useState(!1),f=async d=>{d.preventDefault(),u(!0);try{await n(t,s)}catch{}finally{u(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 bg-pattern",children:A.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-2xl border border-gray-100",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"SCS"}),A.jsx("p",{className:"text-gray-500 mt-2",children:"Sistema de Control de Sede"})]}),A.jsxs("form",{onSubmit:f,className:"space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usuario"}),A.jsxs("div",{className:"relative",children:[A.jsx(ay,{className:"absolute left-3 top-3  h-5 w-5 text-gray-400"}),A.jsx("input",{type:"text",placeholder:"ej. sebastian",value:t,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-gray-50 focus:bg-white",required:!0})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contrasea"}),A.jsxs("div",{className:"relative",children:[A.jsx(hN,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),A.jsx("input",{type:"password",placeholder:"",value:s,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-gray-50 focus:bg-white",required:!0})]})]}),A.jsx("button",{type:"submit",disabled:c||e,className:"w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-200 flex items-center justify-center gap-2 transform active:scale-95",children:c?A.jsx(a4,{className:"h-5 w-5 animate-spin"}):"Iniciar Sesin"}),A.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:"Acceso restringido a personal autorizado."})]})]})})}function OM(){const{changePassword:n}=ov(),[e,t]=mt.useState(""),[r,s]=mt.useState(""),[o,c]=mt.useState(!1),u=async f=>{if(f.preventDefault(),e.length<6){pn.error("La contrasea debe tener al menos 6 caracteres");return}if(e!==r){pn.error("Las contraseas no coinciden");return}c(!0);try{await n(e)}catch{}finally{c(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:A.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-xl border border-red-100 relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-400 to-red-500"}),A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-orange-100 text-orange-600 mb-4",children:A.jsx(sN,{size:32})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seguridad Requerida"}),A.jsx("p",{className:"text-gray-500 mt-2 px-4",children:"Por motivos de seguridad, debes actualizar tu contrasea antes de continuar."})]}),A.jsxs("form",{onSubmit:u,className:"space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nueva Contrasea"}),A.jsx("input",{type:"password",placeholder:"Mnimo 6 caracteres",value:e,onChange:f=>t(f.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all outline-none",required:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Confirmar Contrasea"}),A.jsx("input",{type:"password",placeholder:"Repite la contrasea",value:r,onChange:f=>s(f.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all outline-none",required:!0})]}),A.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 px-4 bg-gray-900 hover:bg-black text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2",children:o?A.jsx(a4,{className:"h-5 w-5 animate-spin"}):"Actualizar Contrasea"})]})]})})}function MM(){const[n,e]=mt.useState(null),[t,r]=mt.useState(!1);mt.useEffect(()=>{const c=u=>{u.preventDefault(),e(u),r(!0)};return window.addEventListener("beforeinstallprompt",c),()=>{window.removeEventListener("beforeinstallprompt",c)}},[]);const s=async()=>{if(!n)return;n.prompt();const{outcome:c}=await n.userChoice;console.log(`User response to the install prompt: ${c}`),e(null),r(!1)},o=()=>{r(!1)};return t?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:A.jsxs("div",{className:"bg-card text-card-foreground border border-border rounded-xl shadow-lg max-w-sm w-full p-6 relative animate-in zoom-in-95 duration-300",children:[A.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors",children:A.jsx(dg,{size:20})}),A.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[A.jsx("div",{className:"h-12 w-12 bg-primary/10 text-primary rounded-full flex items-center justify-center",children:A.jsx(J6,{size:24})}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("h3",{className:"font-bold text-lg",children:"Instalar Aplicacin"}),A.jsx("p",{className:"text-muted-foreground text-sm",children:"Instala SCS en tu dispositivo para un acceso ms rpido, uso sin conexin y una mejor experiencia."})]}),A.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[A.jsx(yr,{variant:"outline",className:"flex-1",onClick:o,children:"Ahora no"}),A.jsx(yr,{className:"flex-1",onClick:s,children:"Instalar"})]})]})]})}):null}function jM(){const{user:n,userData:e,logout:t}=ov(),[r,s]=mt.useState(!0),[o,c]=mt.useState("DASHBOARD"),{products:u,initializeSubscription:f}=uu(),{sales:d,initializeSubscription:g}=Yd(),{initializeSubscription:b}=Wd();mt.useEffect(()=>{if(!n){uu.getState().cleanup(),Yd.getState().cleanup(),Wd.getState().cleanup();return}let _=()=>{},M=()=>{},V=()=>{};try{_=f(),M=g(),V=b()}catch(U){console.error("Failed to initialize subscriptions:",U)}return()=>{try{_(),M(),V()}catch(U){console.error("Error cleaning up subscriptions:",U)}}},[n,f,g,b]);const E=mt.useMemo(()=>{const _=u.reduce((H,ee)=>H+ee.variants.reduce((fe,q)=>fe+q.stock,0),0),M=new Date,V=M.getMonth(),U=M.getFullYear(),j=d.filter(H=>{const ee=new Date(H.createdAt);return ee.getMonth()===V&&ee.getFullYear()===U&&H.status!=="CANCELADO"}).reduce((H,ee)=>H+ee.total,0),ne=d.filter(H=>H.status!=="ENTREGADO"&&H.status!=="CANCELADO").length,oe=d.filter(H=>H.status!=="CANCELADO").reduce((H,ee)=>{const fe=ee.subtotal-ee.globalDiscount,q=ee.items.reduce((k,D)=>{const T=u.find(R=>R.variants.some(L=>L.id===D.variantId))?.variants.find(R=>R.id===D.variantId);return k+D.quantity*(T?.priceProduction||0)},0);return H+(fe-q)},0);return{inventoryCount:_,monthlySales:j,pendingOrders:ne,estimatedProfit:oe}},[u,d]);return n?e?.requiresPasswordChange?A.jsx(OM,{}):A.jsxs("div",{className:"min-h-screen bg-background text-foreground flex overflow-hidden",children:[A.jsxs("aside",{className:Ws("bg-card border-r border-border transition-all duration-300 ease-in-out z-20",r?"w-64":"w-20"),children:[A.jsxs("div",{className:"h-16 flex items-center justify-center border-b border-border gap-2",children:[A.jsx(oN,{className:Ws("text-primary transition-all",r?"h-8 w-8":"h-6 w-6")}),A.jsx("h1",{className:Ws("font-bold text-2xl text-primary transition-all overflow-hidden whitespace-nowrap",!r&&"w-0 opacity-0"),children:"SCS"})]}),A.jsxs("nav",{className:"p-4 space-y-2 flex flex-col h-[calc(100vh-4rem)]",children:[A.jsxs("div",{className:"flex-1 space-y-2",children:[A.jsx(_d,{icon:A.jsx(s4,{size:20}),label:"Dashboard",isOpen:r,active:o==="DASHBOARD",onClick:()=>c("DASHBOARD")}),A.jsx(_d,{icon:A.jsx(o2,{size:20}),label:"Inventario",isOpen:r,active:o==="INVENTORY",onClick:()=>c("INVENTORY")}),A.jsx(_d,{icon:A.jsx(l2,{size:20}),label:"Ventas",isOpen:r,active:o==="SALES",onClick:()=>c("SALES")}),A.jsx(_d,{icon:A.jsx(l4,{size:20}),label:"Logstica",isOpen:r,active:o==="LOGISTICS",onClick:()=>c("LOGISTICS")}),A.jsx("div",{className:"pt-4 mt-4 border-t border-border",children:A.jsx(_d,{icon:A.jsx(CN,{size:20}),label:"Configuracin",isOpen:r,active:o==="SETTINGS",onClick:()=>c("SETTINGS")})})]}),A.jsx("div",{className:"border-t border-border pt-2",children:A.jsxs("button",{onClick:t,className:Ws("w-full flex items-center gap-3 px-3 py-2 rounded-md transition-all duration-200 group relative hover:bg-destructive/10 hover:text-destructive text-muted-foreground"),children:[A.jsx("span",{className:"group-hover:text-destructive",children:A.jsx(dN,{size:20})}),A.jsx("span",{className:Ws("whitespace-nowrap transition-all duration-300 origin-left font-medium",!r&&"scale-0 w-0 opacity-0 overflow-hidden"),children:"Cerrar Sesin"})]})})]})]}),A.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[A.jsxs("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-sm flex items-center justify-between px-6 sticky top-0 z-10",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:()=>s(!r),className:"p-2 hover:bg-accent rounded-md transition-colors",children:A.jsx(yN,{size:20})}),A.jsxs("div",{className:"relative hidden md:block",children:[A.jsx(Xd,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),A.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-9 h-9 w-64 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{className:"p-2 hover:bg-accent rounded-full relative",children:[A.jsx(Pb,{size:20}),A.jsx("span",{className:"absolute top-1.5 right-1.5 h-2 w-2 bg-destructive rounded-full"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("div",{className:"text-right hidden sm:block",children:[A.jsx("p",{className:"text-sm font-medium leading-none",children:e?.name||n.email}),A.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]}),A.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-medium",children:e?.name?.charAt(0)||n.email?.charAt(0).toUpperCase()})]})]})]}),A.jsxs("main",{className:"flex-1 p-6 overflow-auto",children:[o==="DASHBOARD"&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Bienvenido al SCS"}),A.jsx("p",{className:"text-muted-foreground",children:"Sistema de Control de Sede - Panel Principal"})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[A.jsx(bm,{title:"Inventario Total (Unidades)",value:E.inventoryCount.toString(),icon:A.jsx(o2,{className:"text-primary"})}),A.jsx(bm,{title:"Ventas del Mes",value:`S/ ${E.monthlySales.toFixed(2)}`,icon:A.jsx(l2,{className:"text-primary"})}),A.jsx(bm,{title:"Ganancia Estimada",value:`S/ ${E.estimatedProfit.toFixed(2)}`,icon:A.jsx(Md,{className:"text-emerald-500"})}),A.jsx(bm,{title:"Pedidos Pendientes",value:E.pendingOrders.toString(),icon:A.jsx(Pb,{className:"text-destructive"})})]}),A.jsxs("div",{className:"rounded-xl border border-border bg-card text-card-foreground shadow p-6",children:[A.jsx("h3",{className:"font-semibold leading-none tracking-tight mb-4",children:"Estado del Sistema"}),A.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema operativo v1.0. Las mtricas se actualizan en tiempo real."})]})]}),o==="INVENTORY"&&A.jsx("div",{className:"h-full",children:A.jsx(QD,{})}),o==="SALES"&&A.jsx(RM,{}),o==="PROMOTIONS"&&A.jsx(ny,{}),o==="PROMOTIONS"&&A.jsx(ny,{}),o==="LOGISTICS"&&A.jsx(kM,{}),o==="SETTINGS"&&A.jsx(LM,{})]})]})]}):A.jsx(A.Fragment,{children:A.jsx(PM,{})})}function VM(){return A.jsxs(DM,{children:[A.jsx(dT,{richColors:!0,position:"top-center"}),A.jsx(MM,{}),A.jsx(jM,{})]})}function _d({icon:n,label:e,isOpen:t,active:r=!1,onClick:s}){return A.jsxs("button",{onClick:s,className:Ws("w-full flex items-center gap-3 px-3 py-2 rounded-md transition-all duration-200 group relative",r?"bg-primary/10 text-primary":"hover:bg-accent hover:text-accent-foreground text-muted-foreground"),children:[A.jsx("span",{className:Ws("transition-colors",r?"text-primary":"group-hover:text-primary"),children:n}),A.jsx("span",{className:Ws("whitespace-nowrap transition-all duration-300 origin-left font-medium",!t&&"scale-0 w-0 opacity-0 overflow-hidden"),children:e}),!t&&A.jsx("div",{className:"absolute left-14 bg-popover text-popover-foreground px-2 py-1 rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none",children:e})]})}function bm({title:n,value:e,icon:t}){return A.jsxs("div",{className:"rounded-xl border border-border bg-card text-card-foreground shadow",children:[A.jsxs("div",{className:"p-6 flex flex-row items-center justify-between space-y-0 pb-2",children:[A.jsx("h3",{className:"tracking-tight text-sm font-medium text-muted-foreground",children:n}),t]}),A.jsx("div",{className:"p-6 pt-0 mt-2",children:A.jsx("div",{className:"text-2xl font-bold",children:e})})]})}class FM extends mt.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?A.jsxs("div",{className:"p-8 max-w-2xl mx-auto mt-10 bg-red-50 text-red-900 rounded-lg border border-red-200",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Ups! Algo sali mal."}),A.jsx("p",{className:"mb-4",children:"Se ha producido un error inesperado al renderizar la aplicacin."}),A.jsx("pre",{className:"bg-white p-4 rounded border border-red-100 overflow-auto text-sm font-mono",children:this.state.error?.toString()})]}):this.props.children}}O6.createRoot(document.getElementById("root")).render(A.jsx(mt.StrictMode,{children:A.jsx(FM,{children:A.jsx(VM,{})})}));export{lr as _,UM as c,t4 as g};
